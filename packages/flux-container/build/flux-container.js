(function(){"use strict";try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode('@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css";:root{--j-color-saturation: 60%;--j-color-subtractor: 0%;--j-color-multiplier: 1;--j-color-lightness-0: calc( (100% - var(--j-color-subtractor)) * var(--j-color-multiplier) );--j-color-lightness-50: calc( (98% - var(--j-color-subtractor)) * var(--j-color-multiplier) );--j-color-lightness-100: calc( (90% - var(--j-color-subtractor)) * var(--j-color-multiplier) );--j-color-lightness-200: calc( (80% - var(--j-color-subtractor)) * var(--j-color-multiplier) );--j-color-lightness-300: calc( (70% - var(--j-color-subtractor)) * var(--j-color-multiplier) );--j-color-lightness-400: calc( (60% - var(--j-color-subtractor)) * var(--j-color-multiplier) );--j-color-lightness-500: calc( (50% - var(--j-color-subtractor)) * var(--j-color-multiplier) );--j-color-lightness-600: calc( (40% - var(--j-color-subtractor)) * var(--j-color-multiplier) );--j-color-lightness-700: calc( (30% - var(--j-color-subtractor)) * var(--j-color-multiplier) );--j-color-lightness-800: calc( (20% - var(--j-color-subtractor)) * var(--j-color-multiplier) );--j-color-lightness-900: calc( (10% - var(--j-color-subtractor)) * var(--j-color-multiplier) );--j-color-lightness-1000: calc( (0% - var(--j-color-subtractor)) * var(--j-color-multiplier) );--j-color-primary-hue: 610;--j-color-primary-50: hsl( var(--j-color-primary-hue), var(--j-color-saturation), var(--j-color-lightness-50) );--j-color-primary-100: hsl( var(--j-color-primary-hue), var(--j-color-saturation), var(--j-color-lightness-100) );--j-color-primary-200: hsl( var(--j-color-primary-hue), var(--j-color-saturation), var(--j-color-lightness-200) );--j-color-primary-300: hsl( var(--j-color-primary-hue), var(--j-color-saturation), var(--j-color-lightness-300) );--j-color-primary-400: hsl( var(--j-color-primary-hue), var(--j-color-saturation), var(--j-color-lightness-400) );--j-color-primary-500: hsl( var(--j-color-primary-hue), var(--j-color-saturation), var(--j-color-lightness-500) );--j-color-primary-600: hsl( var(--j-color-primary-hue), var(--j-color-saturation), var(--j-color-lightness-600) );--j-color-primary-700: hsl( var(--j-color-primary-hue), var(--j-color-saturation), var(--j-color-lightness-700) );--j-color-primary-800: hsl( var(--j-color-primary-hue), var(--j-color-saturation), var(--j-color-lightness-800) );--j-color-primary-900: hsl( var(--j-color-primary-hue), var(--j-color-saturation), var(--j-color-lightness-900) );--j-color-success-hue: 130;--j-color-success-50: hsl( var(--j-color-success-hue), var(--j-color-saturation), var(--j-color-lightness-50) );--j-color-success-100: hsl( var(--j-color-success-hue), var(--j-color-saturation), var(--j-color-lightness-100) );--j-color-success-200: hsl( var(--j-color-success-hue), var(--j-color-saturation), var(--j-color-lightness-200) );--j-color-success-300: hsl( var(--j-color-success-hue), var(--j-color-saturation), var(--j-color-lightness-300) );--j-color-success-400: hsl( var(--j-color-success-hue), var(--j-color-saturation), var(--j-color-lightness-400) );--j-color-success-500: hsl( var(--j-color-success-hue), var(--j-color-saturation), var(--j-color-lightness-500) );--j-color-success-600: hsl( var(--j-color-success-hue), var(--j-color-saturation), var(--j-color-lightness-600) );--j-color-success-700: hsl( var(--j-color-success-hue), var(--j-color-saturation), var(--j-color-lightness-700) );--j-color-success-800: hsl( var(--j-color-success-hue), var(--j-color-saturation), var(--j-color-lightness-800) );--j-color-success-900: hsl( var(--j-color-success-hue), var(--j-color-saturation), var(--j-color-lightness-900) );--j-color-warning-hue: 45;--j-color-warning-50: hsl( var(--j-color-warning-hue), var(--j-color-saturation), var(--j-color-lightness-50) );--j-color-warning-100: hsl( var(--j-color-warning-hue), var(--j-color-saturation), var(--j-color-lightness-100) );--j-color-warning-200: hsl( var(--j-color-warning-hue), var(--j-color-saturation), var(--j-color-lightness-200) );--j-color-warning-300: hsl( var(--j-color-warning-hue), var(--j-color-saturation), var(--j-color-lightness-300) );--j-color-warning-400: hsl( var(--j-color-warning-hue), var(--j-color-saturation), var(--j-color-lightness-400) );--j-color-warning-500: hsl( var(--j-color-warning-hue), var(--j-color-saturation), var(--j-color-lightness-500) );--j-color-warning-600: hsl( var(--j-color-warning-hue), var(--j-color-saturation), var(--j-color-lightness-600) );--j-color-warning-700: hsl( var(--j-color-warning-hue), var(--j-color-saturation), var(--j-color-lightness-700) );--j-color-warning-800: hsl( var(--j-color-warning-hue), var(--j-color-saturation), var(--j-color-lightness-800) );--j-color-warning-900: hsl( var(--j-color-warning-hue), var(--j-color-saturation), var(--j-color-lightness-900) );--j-color-danger-hue: 350;--j-color-danger-50: hsl( var(--j-color-danger-hue), var(--j-color-saturation), var(--j-color-lightness-50) );--j-color-danger-100: hsl( var(--j-color-danger-hue), var(--j-color-saturation), var(--j-color-lightness-100) );--j-color-danger-200: hsl( var(--j-color-danger-hue), var(--j-color-saturation), var(--j-color-lightness-200) );--j-color-danger-300: hsl( var(--j-color-danger-hue), var(--j-color-saturation), var(--j-color-lightness-300) );--j-color-danger-400: hsl( var(--j-color-danger-hue), var(--j-color-saturation), var(--j-color-lightness-400) );--j-color-danger-500: hsl( var(--j-color-danger-hue), var(--j-color-saturation), var(--j-color-lightness-500) );--j-color-danger-600: hsl( var(--j-color-danger-hue), var(--j-color-saturation), var(--j-color-lightness-600) );--j-color-danger-700: hsl( var(--j-color-danger-hue), var(--j-color-saturation), var(--j-color-lightness-700) );--j-color-danger-800: hsl( var(--j-color-danger-hue), var(--j-color-saturation), var(--j-color-lightness-800) );--j-color-danger-900: hsl( var(--j-color-danger-hue), var(--j-color-saturation), var(--j-color-lightness-900) );--j-color-ui-hue: var(--j-color-primary-hue);--j-color-ui-saturation: 10%;--j-color-ui-50: hsl( var(--j-color-ui-hue), var(--j-color-ui-saturation), var(--j-color-lightness-50) );--j-color-ui-100: hsl( var(--j-color-ui-hue), var(--j-color-ui-saturation), var(--j-color-lightness-100) );--j-color-ui-200: hsl( var(--j-color-ui-hue), var(--j-color-ui-saturation), var(--j-color-lightness-200) );--j-color-ui-300: hsl( var(--j-color-ui-hue), var(--j-color-ui-saturation), var(--j-color-lightness-300) );--j-color-ui-400: hsl( var(--j-color-ui-hue), var(--j-color-ui-saturation), var(--j-color-lightness-400) );--j-color-ui-500: hsl( var(--j-color-ui-hue), var(--j-color-ui-saturation), var(--j-color-lightness-500) );--j-color-ui-600: hsl( var(--j-color-ui-hue), var(--j-color-ui-saturation), var(--j-color-lightness-600) );--j-color-ui-700: hsl( var(--j-color-ui-hue), var(--j-color-ui-saturation), var(--j-color-lightness-700) );--j-color-ui-800: hsl( var(--j-color-ui-hue), var(--j-color-ui-saturation), var(--j-color-lightness-800) );--j-color-ui-900: hsl( var(--j-color-ui-hue), var(--j-color-ui-saturation), var(--j-color-lightness-900) );--j-color-white: hsl( var(--j-color-ui-hue), var(--j-color-ui-saturation), var(--j-color-lightness-0) );--j-color-black: hsl( var(--j-color-ui-hue), var(--j-color-ui-saturation), var(--j-color-lightness-1000) );--j-color-focus: var(--j-color-primary-500);--j-focus-outline: 0px 0px 0px 4px var(--j-color-focus);--j-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--j-font-base-size: 16px;--j-font-size-100: .56rem;--j-font-size-200: .63rem;--j-font-size-300: .75rem;--j-font-size-400: .88rem;--j-font-size-500: 1rem;--j-font-size-600: 1.25rem;--j-font-size-700: 1.5rem;--j-font-size-800: 2rem;--j-font-size-900: 2.63rem;--j-font-size-1000: 3.63rem;--j-space-100: .25rem;--j-space-200: .38rem;--j-space-300: .5rem;--j-space-400: 1rem;--j-space-500: 1.5rem;--j-space-600: 2rem;--j-space-700: 2.38rem;--j-space-800: 2.75rem;--j-space-900: 3.25rem;--j-space-1000: 4rem;--j-border-width: 1px;--j-border-radius: 8px;--j-border-radius-sm: 4px;--j-border-radius-md: 8px;--j-border-radius-lg: 16px;--j-border-color: var(--j-color-ui-100);--j-border-color-strong: var(--j-color-ui-200);--j-size-xxs: 1.25rem;--j-size-xs: 1.75rem;--j-size-sm: 2.25rem;--j-size-md: 2.625rem;--j-size-lg: 3.25rem;--j-size-xl: 3.8rem;--j-size-xxl: 5rem;--j-scrollbar-width: 6px;--j-scrollbar-background-image: none;--j-scrollbar-background: transparent;--j-scrollbar-corner-background: #dfdfdf;--j-scrollbar-thumb-box-shadow: none;--j-scrollbar-thumb-border-radius: var(--j-border-radius);--j-scrollbar-thumb-background: hsl( var(--j-color-ui-hue), 5%, var(--j-color-lightness-100) );--j-depth-none: none;--j-depth-100: 0px 1px 1px 0px rgba(9, 30, 66, .06), 0px 2px 4px 0px rgba(9, 30, 66, .15);--j-depth-200: 0px 2px 2px 0px rgba(9, 30, 66, .06), 0px 4px 8px -2px rgba(9, 30, 66, .25);--j-depth-300: 0px 2px 2px 0px rgba(9, 30, 66, .06), 0px 8px 16px -4px rgba(9, 30, 66, .25);--j-depth-400: 0px 4px 4px 0px rgba(9, 30, 66, .06), 0px 12px 24px -6px rgba(9, 30, 66, .25);--j-depth-500: 0px 6px 6px 0px rgba(9, 30, 66, .1), 0px 20px 32px -8px rgba(9, 30, 66, .25);--j-transition-100: 50ms;--j-transition-200: 1.5s;--j-transition-300: .25s;--j-transition-400: .5s;--j-transition-500: 1s}html.dark{--j-color-saturation: 50%;--j-color-subtractor: 108%;--j-color-multiplier: -1;--j-color-ui-saturation: 20%}html.dark j-modal::part(modal){box-shadow:0 0 40px 20px hsla(var(--j-color-primary-hue),var(--j-color-saturation),20%,.05)}html.dark j-tooltip::part(tooltip){background:var(--j-color-ui-50);color:var(--j-color-black)}html.dark j-menu-item::part(base){margin-top:var(--j-space-100);margin-left:var(--j-space-300);margin-right:var(--j-space-300);border-radius:6px}')),document.head.appendChild(r)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();
var jd = (Kr, kr) => () => (kr || Kr((kr = { exports: {} }).exports, kr), kr.exports);
import { ZBarSymbolType, ZBarConfigType, scanRGBABuffer, ZBarScanner } from "https://cdn.jsdelivr.net/npm/@undecaf/zbar-wasm@0.9.12/dist/main.js";
var Md = jd((exports, module) => {
  (function() {
    const kr = document.createElement("link").relList;
    if (kr && kr.supports && kr.supports("modulepreload"))
      return;
    for (const gi of document.querySelectorAll('link[rel="modulepreload"]'))
      ai(gi);
    new MutationObserver((gi) => {
      for (const $i of gi)
        if ($i.type === "childList")
          for (const xi of $i.addedNodes)
            xi.tagName === "LINK" && xi.rel === "modulepreload" && ai(xi);
    }).observe(document, { childList: !0, subtree: !0 });
    function qr(gi) {
      const $i = {};
      return gi.integrity && ($i.integrity = gi.integrity), gi.referrerPolicy && ($i.referrerPolicy = gi.referrerPolicy), gi.crossOrigin === "use-credentials" ? $i.credentials = "include" : gi.crossOrigin === "anonymous" ? $i.credentials = "omit" : $i.credentials = "same-origin", $i;
    }
    function ai(gi) {
      if (gi.ep)
        return;
      gi.ep = !0;
      const $i = qr(gi);
      fetch(gi.href, $i);
    }
  })();
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  const isCEPolyfill = typeof window < "u" && window.customElements != null && window.customElements.polyfillWrapFlushCallback !== void 0, removeNodes = (Kr, kr, qr = null) => {
    for (; kr !== qr; ) {
      const ai = kr.nextSibling;
      Kr.removeChild(kr), kr = ai;
    }
  };
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  const marker = `{{lit-${String(Math.random()).slice(2)}}}`, nodeMarker = `<!--${marker}-->`, markerRegex = new RegExp(`${marker}|${nodeMarker}`), boundAttributeSuffix = "$lit$";
  class Template {
    constructor(kr, qr) {
      this.parts = [], this.element = qr;
      const ai = [], gi = [], $i = document.createTreeWalker(qr.content, 133, null, !1);
      let xi = 0, Ai = -1, Li = 0;
      const { strings: Fi, values: { length: Oa } } = kr;
      for (; Li < Oa; ) {
        const So = $i.nextNode();
        if (So === null) {
          $i.currentNode = gi.pop();
          continue;
        }
        if (Ai++, So.nodeType === 1) {
          if (So.hasAttributes()) {
            const Ns = So.attributes, { length: Uc } = Ns;
            let Kc = 0;
            for (let Bc = 0; Bc < Uc; Bc++)
              endsWith(Ns[Bc].name, boundAttributeSuffix) && Kc++;
            for (; Kc-- > 0; ) {
              const Bc = Fi[Li], Wc = lastAttributeNameRegex.exec(Bc)[2], Vc = Wc.toLowerCase() + boundAttributeSuffix, qc = So.getAttribute(Vc);
              So.removeAttribute(Vc);
              const Qc = qc.split(markerRegex);
              this.parts.push({ type: "attribute", index: Ai, name: Wc, strings: Qc }), Li += Qc.length - 1;
            }
          }
          So.tagName === "TEMPLATE" && (gi.push(So), $i.currentNode = So.content);
        } else if (So.nodeType === 3) {
          const Ns = So.data;
          if (Ns.indexOf(marker) >= 0) {
            const Uc = So.parentNode, Kc = Ns.split(markerRegex), Bc = Kc.length - 1;
            for (let Wc = 0; Wc < Bc; Wc++) {
              let Vc, qc = Kc[Wc];
              if (qc === "")
                Vc = createMarker();
              else {
                const Qc = lastAttributeNameRegex.exec(qc);
                Qc !== null && endsWith(Qc[2], boundAttributeSuffix) && (qc = qc.slice(0, Qc.index) + Qc[1] + Qc[2].slice(0, -boundAttributeSuffix.length) + Qc[3]), Vc = document.createTextNode(qc);
              }
              Uc.insertBefore(Vc, So), this.parts.push({ type: "node", index: ++Ai });
            }
            Kc[Bc] === "" ? (Uc.insertBefore(createMarker(), So), ai.push(So)) : So.data = Kc[Bc], Li += Bc;
          }
        } else if (So.nodeType === 8)
          if (So.data === marker) {
            const Ns = So.parentNode;
            (So.previousSibling === null || Ai === xi) && (Ai++, Ns.insertBefore(createMarker(), So)), xi = Ai, this.parts.push({ type: "node", index: Ai }), So.nextSibling === null ? So.data = "" : (ai.push(So), Ai--), Li++;
          } else {
            let Ns = -1;
            for (; (Ns = So.data.indexOf(marker, Ns + 1)) !== -1; )
              this.parts.push({ type: "node", index: -1 }), Li++;
          }
      }
      for (const So of ai)
        So.parentNode.removeChild(So);
    }
  }
  const endsWith = (Kr, kr) => {
    const qr = Kr.length - kr.length;
    return qr >= 0 && Kr.slice(qr) === kr;
  }, isTemplatePartActive = (Kr) => Kr.index !== -1, createMarker = () => document.createComment(""), lastAttributeNameRegex = (
    // eslint-disable-next-line no-control-regex
    /([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/
  );
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  const walkerNodeFilter = 133;
  function removeNodesFromTemplate(Kr, kr) {
    const { element: { content: qr }, parts: ai } = Kr, gi = document.createTreeWalker(qr, walkerNodeFilter, null, !1);
    let $i = nextActiveIndexInTemplateParts(ai), xi = ai[$i], Ai = -1, Li = 0;
    const Fi = [];
    let Oa = null;
    for (; gi.nextNode(); ) {
      Ai++;
      const So = gi.currentNode;
      for (So.previousSibling === Oa && (Oa = null), kr.has(So) && (Fi.push(So), Oa === null && (Oa = So)), Oa !== null && Li++; xi !== void 0 && xi.index === Ai; )
        xi.index = Oa !== null ? -1 : xi.index - Li, $i = nextActiveIndexInTemplateParts(ai, $i), xi = ai[$i];
    }
    Fi.forEach((So) => So.parentNode.removeChild(So));
  }
  const countNodes = (Kr) => {
    let kr = Kr.nodeType === 11 ? 0 : 1;
    const qr = document.createTreeWalker(Kr, walkerNodeFilter, null, !1);
    for (; qr.nextNode(); )
      kr++;
    return kr;
  }, nextActiveIndexInTemplateParts = (Kr, kr = -1) => {
    for (let qr = kr + 1; qr < Kr.length; qr++) {
      const ai = Kr[qr];
      if (isTemplatePartActive(ai))
        return qr;
    }
    return -1;
  };
  function insertNodeIntoTemplate(Kr, kr, qr = null) {
    const { element: { content: ai }, parts: gi } = Kr;
    if (qr == null) {
      ai.appendChild(kr);
      return;
    }
    const $i = document.createTreeWalker(ai, walkerNodeFilter, null, !1);
    let xi = nextActiveIndexInTemplateParts(gi), Ai = 0, Li = -1;
    for (; $i.nextNode(); )
      for (Li++, $i.currentNode === qr && (Ai = countNodes(kr), qr.parentNode.insertBefore(kr, qr)); xi !== -1 && gi[xi].index === Li; ) {
        if (Ai > 0) {
          for (; xi !== -1; )
            gi[xi].index += Ai, xi = nextActiveIndexInTemplateParts(gi, xi);
          return;
        }
        xi = nextActiveIndexInTemplateParts(gi, xi);
      }
  }
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  const directives = /* @__PURE__ */ new WeakMap(), isDirective = (Kr) => typeof Kr == "function" && directives.has(Kr);
  /**
   * @license
   * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  const noChange = {}, nothing = {};
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  class TemplateInstance {
    constructor(kr, qr, ai) {
      this.__parts = [], this.template = kr, this.processor = qr, this.options = ai;
    }
    update(kr) {
      let qr = 0;
      for (const ai of this.__parts)
        ai !== void 0 && ai.setValue(kr[qr]), qr++;
      for (const ai of this.__parts)
        ai !== void 0 && ai.commit();
    }
    _clone() {
      const kr = isCEPolyfill ? this.template.element.content.cloneNode(!0) : document.importNode(this.template.element.content, !0), qr = [], ai = this.template.parts, gi = document.createTreeWalker(kr, 133, null, !1);
      let $i = 0, xi = 0, Ai, Li = gi.nextNode();
      for (; $i < ai.length; ) {
        if (Ai = ai[$i], !isTemplatePartActive(Ai)) {
          this.__parts.push(void 0), $i++;
          continue;
        }
        for (; xi < Ai.index; )
          xi++, Li.nodeName === "TEMPLATE" && (qr.push(Li), gi.currentNode = Li.content), (Li = gi.nextNode()) === null && (gi.currentNode = qr.pop(), Li = gi.nextNode());
        if (Ai.type === "node") {
          const Fi = this.processor.handleTextExpression(this.options);
          Fi.insertAfterNode(Li.previousSibling), this.__parts.push(Fi);
        } else
          this.__parts.push(...this.processor.handleAttributeExpressions(Li, Ai.name, Ai.strings, this.options));
        $i++;
      }
      return isCEPolyfill && (document.adoptNode(kr), customElements.upgrade(kr)), kr;
    }
  }
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  const policy = window.trustedTypes && trustedTypes.createPolicy("lit-html", { createHTML: (Kr) => Kr }), commentMarker = ` ${marker} `;
  class TemplateResult {
    constructor(kr, qr, ai, gi) {
      this.strings = kr, this.values = qr, this.type = ai, this.processor = gi;
    }
    /**
     * Returns a string of HTML used to create a `<template>` element.
     */
    getHTML() {
      const kr = this.strings.length - 1;
      let qr = "", ai = !1;
      for (let gi = 0; gi < kr; gi++) {
        const $i = this.strings[gi], xi = $i.lastIndexOf("<!--");
        ai = (xi > -1 || ai) && $i.indexOf("-->", xi + 1) === -1;
        const Ai = lastAttributeNameRegex.exec($i);
        Ai === null ? qr += $i + (ai ? commentMarker : nodeMarker) : qr += $i.substr(0, Ai.index) + Ai[1] + Ai[2] + boundAttributeSuffix + Ai[3] + marker;
      }
      return qr += this.strings[kr], qr;
    }
    getTemplateElement() {
      const kr = document.createElement("template");
      let qr = this.getHTML();
      return policy !== void 0 && (qr = policy.createHTML(qr)), kr.innerHTML = qr, kr;
    }
  }
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  const isPrimitive = (Kr) => Kr === null || !(typeof Kr == "object" || typeof Kr == "function"), isIterable = (Kr) => Array.isArray(Kr) || // eslint-disable-next-line @typescript-eslint/no-explicit-any
  !!(Kr && Kr[Symbol.iterator]);
  class AttributeCommitter {
    constructor(kr, qr, ai) {
      this.dirty = !0, this.element = kr, this.name = qr, this.strings = ai, this.parts = [];
      for (let gi = 0; gi < ai.length - 1; gi++)
        this.parts[gi] = this._createPart();
    }
    /**
     * Creates a single part. Override this to create a differnt type of part.
     */
    _createPart() {
      return new AttributePart(this);
    }
    _getValue() {
      const kr = this.strings, qr = kr.length - 1, ai = this.parts;
      if (qr === 1 && kr[0] === "" && kr[1] === "") {
        const $i = ai[0].value;
        if (typeof $i == "symbol")
          return String($i);
        if (typeof $i == "string" || !isIterable($i))
          return $i;
      }
      let gi = "";
      for (let $i = 0; $i < qr; $i++) {
        gi += kr[$i];
        const xi = ai[$i];
        if (xi !== void 0) {
          const Ai = xi.value;
          if (isPrimitive(Ai) || !isIterable(Ai))
            gi += typeof Ai == "string" ? Ai : String(Ai);
          else
            for (const Li of Ai)
              gi += typeof Li == "string" ? Li : String(Li);
        }
      }
      return gi += kr[qr], gi;
    }
    commit() {
      this.dirty && (this.dirty = !1, this.element.setAttribute(this.name, this._getValue()));
    }
  }
  class AttributePart {
    constructor(kr) {
      this.value = void 0, this.committer = kr;
    }
    setValue(kr) {
      kr !== noChange && (!isPrimitive(kr) || kr !== this.value) && (this.value = kr, isDirective(kr) || (this.committer.dirty = !0));
    }
    commit() {
      for (; isDirective(this.value); ) {
        const kr = this.value;
        this.value = noChange, kr(this);
      }
      this.value !== noChange && this.committer.commit();
    }
  }
  class NodePart {
    constructor(kr) {
      this.value = void 0, this.__pendingValue = void 0, this.options = kr;
    }
    /**
     * Appends this part into a container.
     *
     * This part must be empty, as its contents are not automatically moved.
     */
    appendInto(kr) {
      this.startNode = kr.appendChild(createMarker()), this.endNode = kr.appendChild(createMarker());
    }
    /**
     * Inserts this part after the `ref` node (between `ref` and `ref`'s next
     * sibling). Both `ref` and its next sibling must be static, unchanging nodes
     * such as those that appear in a literal section of a template.
     *
     * This part must be empty, as its contents are not automatically moved.
     */
    insertAfterNode(kr) {
      this.startNode = kr, this.endNode = kr.nextSibling;
    }
    /**
     * Appends this part into a parent part.
     *
     * This part must be empty, as its contents are not automatically moved.
     */
    appendIntoPart(kr) {
      kr.__insert(this.startNode = createMarker()), kr.__insert(this.endNode = createMarker());
    }
    /**
     * Inserts this part after the `ref` part.
     *
     * This part must be empty, as its contents are not automatically moved.
     */
    insertAfterPart(kr) {
      kr.__insert(this.startNode = createMarker()), this.endNode = kr.endNode, kr.endNode = this.startNode;
    }
    setValue(kr) {
      this.__pendingValue = kr;
    }
    commit() {
      if (this.startNode.parentNode === null)
        return;
      for (; isDirective(this.__pendingValue); ) {
        const qr = this.__pendingValue;
        this.__pendingValue = noChange, qr(this);
      }
      const kr = this.__pendingValue;
      kr !== noChange && (isPrimitive(kr) ? kr !== this.value && this.__commitText(kr) : kr instanceof TemplateResult ? this.__commitTemplateResult(kr) : kr instanceof Node ? this.__commitNode(kr) : isIterable(kr) ? this.__commitIterable(kr) : kr === nothing ? (this.value = nothing, this.clear()) : this.__commitText(kr));
    }
    __insert(kr) {
      this.endNode.parentNode.insertBefore(kr, this.endNode);
    }
    __commitNode(kr) {
      this.value !== kr && (this.clear(), this.__insert(kr), this.value = kr);
    }
    __commitText(kr) {
      const qr = this.startNode.nextSibling;
      kr = kr ?? "";
      const ai = typeof kr == "string" ? kr : String(kr);
      qr === this.endNode.previousSibling && qr.nodeType === 3 ? qr.data = ai : this.__commitNode(document.createTextNode(ai)), this.value = kr;
    }
    __commitTemplateResult(kr) {
      const qr = this.options.templateFactory(kr);
      if (this.value instanceof TemplateInstance && this.value.template === qr)
        this.value.update(kr.values);
      else {
        const ai = new TemplateInstance(qr, kr.processor, this.options), gi = ai._clone();
        ai.update(kr.values), this.__commitNode(gi), this.value = ai;
      }
    }
    __commitIterable(kr) {
      Array.isArray(this.value) || (this.value = [], this.clear());
      const qr = this.value;
      let ai = 0, gi;
      for (const $i of kr)
        gi = qr[ai], gi === void 0 && (gi = new NodePart(this.options), qr.push(gi), ai === 0 ? gi.appendIntoPart(this) : gi.insertAfterPart(qr[ai - 1])), gi.setValue($i), gi.commit(), ai++;
      ai < qr.length && (qr.length = ai, this.clear(gi && gi.endNode));
    }
    clear(kr = this.startNode) {
      removeNodes(this.startNode.parentNode, kr.nextSibling, this.endNode);
    }
  }
  class BooleanAttributePart {
    constructor(kr, qr, ai) {
      if (this.value = void 0, this.__pendingValue = void 0, ai.length !== 2 || ai[0] !== "" || ai[1] !== "")
        throw new Error("Boolean attributes can only contain a single expression");
      this.element = kr, this.name = qr, this.strings = ai;
    }
    setValue(kr) {
      this.__pendingValue = kr;
    }
    commit() {
      for (; isDirective(this.__pendingValue); ) {
        const qr = this.__pendingValue;
        this.__pendingValue = noChange, qr(this);
      }
      if (this.__pendingValue === noChange)
        return;
      const kr = !!this.__pendingValue;
      this.value !== kr && (kr ? this.element.setAttribute(this.name, "") : this.element.removeAttribute(this.name), this.value = kr), this.__pendingValue = noChange;
    }
  }
  class PropertyCommitter extends AttributeCommitter {
    constructor(kr, qr, ai) {
      super(kr, qr, ai), this.single = ai.length === 2 && ai[0] === "" && ai[1] === "";
    }
    _createPart() {
      return new PropertyPart(this);
    }
    _getValue() {
      return this.single ? this.parts[0].value : super._getValue();
    }
    commit() {
      this.dirty && (this.dirty = !1, this.element[this.name] = this._getValue());
    }
  }
  class PropertyPart extends AttributePart {
  }
  let eventOptionsSupported = !1;
  (() => {
    try {
      const Kr = {
        get capture() {
          return eventOptionsSupported = !0, !1;
        }
      };
      window.addEventListener("test", Kr, Kr), window.removeEventListener("test", Kr, Kr);
    } catch {
    }
  })();
  class EventPart {
    constructor(kr, qr, ai) {
      this.value = void 0, this.__pendingValue = void 0, this.element = kr, this.eventName = qr, this.eventContext = ai, this.__boundHandleEvent = (gi) => this.handleEvent(gi);
    }
    setValue(kr) {
      this.__pendingValue = kr;
    }
    commit() {
      for (; isDirective(this.__pendingValue); ) {
        const $i = this.__pendingValue;
        this.__pendingValue = noChange, $i(this);
      }
      if (this.__pendingValue === noChange)
        return;
      const kr = this.__pendingValue, qr = this.value, ai = kr == null || qr != null && (kr.capture !== qr.capture || kr.once !== qr.once || kr.passive !== qr.passive), gi = kr != null && (qr == null || ai);
      ai && this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options), gi && (this.__options = getOptions(kr), this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options)), this.value = kr, this.__pendingValue = noChange;
    }
    handleEvent(kr) {
      typeof this.value == "function" ? this.value.call(this.eventContext || this.element, kr) : this.value.handleEvent(kr);
    }
  }
  const getOptions = (Kr) => Kr && (eventOptionsSupported ? { capture: Kr.capture, passive: Kr.passive, once: Kr.once } : Kr.capture);
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  function templateFactory(Kr) {
    let kr = templateCaches.get(Kr.type);
    kr === void 0 && (kr = {
      stringsArray: /* @__PURE__ */ new WeakMap(),
      keyString: /* @__PURE__ */ new Map()
    }, templateCaches.set(Kr.type, kr));
    let qr = kr.stringsArray.get(Kr.strings);
    if (qr !== void 0)
      return qr;
    const ai = Kr.strings.join(marker);
    return qr = kr.keyString.get(ai), qr === void 0 && (qr = new Template(Kr, Kr.getTemplateElement()), kr.keyString.set(ai, qr)), kr.stringsArray.set(Kr.strings, qr), qr;
  }
  const templateCaches = /* @__PURE__ */ new Map();
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  const parts = /* @__PURE__ */ new WeakMap(), render$1 = (Kr, kr, qr) => {
    let ai = parts.get(kr);
    ai === void 0 && (removeNodes(kr, kr.firstChild), parts.set(kr, ai = new NodePart(Object.assign({ templateFactory }, qr))), ai.appendInto(kr)), ai.setValue(Kr), ai.commit();
  };
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  class DefaultTemplateProcessor {
    /**
     * Create parts for an attribute-position binding, given the event, attribute
     * name, and string literals.
     *
     * @param element The element containing the binding
     * @param name  The attribute name
     * @param strings The string literals. There are always at least two strings,
     *   event for fully-controlled bindings with a single expression.
     */
    handleAttributeExpressions(kr, qr, ai, gi) {
      const $i = qr[0];
      return $i === "." ? new PropertyCommitter(kr, qr.slice(1), ai).parts : $i === "@" ? [new EventPart(kr, qr.slice(1), gi.eventContext)] : $i === "?" ? [new BooleanAttributePart(kr, qr.slice(1), ai)] : new AttributeCommitter(kr, qr, ai).parts;
    }
    /**
     * Create parts for a text-position binding.
     * @param templateFactory
     */
    handleTextExpression(kr) {
      return new NodePart(kr);
    }
  }
  const defaultTemplateProcessor = new DefaultTemplateProcessor();
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  typeof window < "u" && (window.litHtmlVersions || (window.litHtmlVersions = [])).push("1.4.1");
  const html = (Kr, ...kr) => new TemplateResult(Kr, kr, "html", defaultTemplateProcessor);
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  const getTemplateCacheKey = (Kr, kr) => `${Kr}--${kr}`;
  let compatibleShadyCSSVersion = !0;
  typeof window.ShadyCSS > "u" ? compatibleShadyCSSVersion = !1 : typeof window.ShadyCSS.prepareTemplateDom > "u" && (console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."), compatibleShadyCSSVersion = !1);
  const shadyTemplateFactory = (Kr) => (kr) => {
    const qr = getTemplateCacheKey(kr.type, Kr);
    let ai = templateCaches.get(qr);
    ai === void 0 && (ai = {
      stringsArray: /* @__PURE__ */ new WeakMap(),
      keyString: /* @__PURE__ */ new Map()
    }, templateCaches.set(qr, ai));
    let gi = ai.stringsArray.get(kr.strings);
    if (gi !== void 0)
      return gi;
    const $i = kr.strings.join(marker);
    if (gi = ai.keyString.get($i), gi === void 0) {
      const xi = kr.getTemplateElement();
      compatibleShadyCSSVersion && window.ShadyCSS.prepareTemplateDom(xi, Kr), gi = new Template(kr, xi), ai.keyString.set($i, gi);
    }
    return ai.stringsArray.set(kr.strings, gi), gi;
  }, TEMPLATE_TYPES = ["html", "svg"], removeStylesFromLitTemplates = (Kr) => {
    TEMPLATE_TYPES.forEach((kr) => {
      const qr = templateCaches.get(getTemplateCacheKey(kr, Kr));
      qr !== void 0 && qr.keyString.forEach((ai) => {
        const { element: { content: gi } } = ai, $i = /* @__PURE__ */ new Set();
        Array.from(gi.querySelectorAll("style")).forEach((xi) => {
          $i.add(xi);
        }), removeNodesFromTemplate(ai, $i);
      });
    });
  }, shadyRenderSet = /* @__PURE__ */ new Set(), prepareTemplateStyles = (Kr, kr, qr) => {
    shadyRenderSet.add(Kr);
    const ai = qr ? qr.element : document.createElement("template"), gi = kr.querySelectorAll("style"), { length: $i } = gi;
    if ($i === 0) {
      window.ShadyCSS.prepareTemplateStyles(ai, Kr);
      return;
    }
    const xi = document.createElement("style");
    for (let Fi = 0; Fi < $i; Fi++) {
      const Oa = gi[Fi];
      Oa.parentNode.removeChild(Oa), xi.textContent += Oa.textContent;
    }
    removeStylesFromLitTemplates(Kr);
    const Ai = ai.content;
    qr ? insertNodeIntoTemplate(qr, xi, Ai.firstChild) : Ai.insertBefore(xi, Ai.firstChild), window.ShadyCSS.prepareTemplateStyles(ai, Kr);
    const Li = Ai.querySelector("style");
    if (window.ShadyCSS.nativeShadow && Li !== null)
      kr.insertBefore(Li.cloneNode(!0), kr.firstChild);
    else if (qr) {
      Ai.insertBefore(xi, Ai.firstChild);
      const Fi = /* @__PURE__ */ new Set();
      Fi.add(xi), removeNodesFromTemplate(qr, Fi);
    }
  }, render = (Kr, kr, qr) => {
    if (!qr || typeof qr != "object" || !qr.scopeName)
      throw new Error("The `scopeName` option is required.");
    const ai = qr.scopeName, gi = parts.has(kr), $i = compatibleShadyCSSVersion && kr.nodeType === 11 && !!kr.host, xi = $i && !shadyRenderSet.has(ai), Ai = xi ? document.createDocumentFragment() : kr;
    if (render$1(Kr, Ai, Object.assign({ templateFactory: shadyTemplateFactory(ai) }, qr)), xi) {
      const Li = parts.get(Ai);
      parts.delete(Ai);
      const Fi = Li.value instanceof TemplateInstance ? Li.value.template : void 0;
      prepareTemplateStyles(ai, Ai, Fi), removeNodes(kr, kr.firstChild), kr.appendChild(Ai), parts.set(kr, Li);
    }
    !gi && $i && window.ShadyCSS.styleElement(kr.host);
  };
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  var _a$1;
  window.JSCompiler_renameProperty = (Kr, kr) => Kr;
  const defaultConverter = {
    toAttribute(Kr, kr) {
      switch (kr) {
        case Boolean:
          return Kr ? "" : null;
        case Object:
        case Array:
          return Kr == null ? Kr : JSON.stringify(Kr);
      }
      return Kr;
    },
    fromAttribute(Kr, kr) {
      switch (kr) {
        case Boolean:
          return Kr !== null;
        case Number:
          return Kr === null ? null : Number(Kr);
        case Object:
        case Array:
          return JSON.parse(Kr);
      }
      return Kr;
    }
  }, notEqual = (Kr, kr) => kr !== Kr && (kr === kr || Kr === Kr), defaultPropertyDeclaration = {
    attribute: !0,
    type: String,
    converter: defaultConverter,
    reflect: !1,
    hasChanged: notEqual
  }, STATE_HAS_UPDATED = 1, STATE_UPDATE_REQUESTED = 1 << 2, STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3, STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4, finalized = "finalized";
  class UpdatingElement extends HTMLElement {
    constructor() {
      super(), this.initialize();
    }
    /**
     * Returns a list of attributes corresponding to the registered properties.
     * @nocollapse
     */
    static get observedAttributes() {
      this.finalize();
      const kr = [];
      return this._classProperties.forEach((qr, ai) => {
        const gi = this._attributeNameForProperty(ai, qr);
        gi !== void 0 && (this._attributeToPropertyMap.set(gi, ai), kr.push(gi));
      }), kr;
    }
    /**
     * Ensures the private `_classProperties` property metadata is created.
     * In addition to `finalize` this is also called in `createProperty` to
     * ensure the `@property` decorator can add property metadata.
     */
    /** @nocollapse */
    static _ensureClassProperties() {
      if (!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties", this))) {
        this._classProperties = /* @__PURE__ */ new Map();
        const kr = Object.getPrototypeOf(this)._classProperties;
        kr !== void 0 && kr.forEach((qr, ai) => this._classProperties.set(ai, qr));
      }
    }
    /**
     * Creates a property accessor on the element prototype if one does not exist
     * and stores a PropertyDeclaration for the property with the given options.
     * The property setter calls the property's `hasChanged` property option
     * or uses a strict identity check to determine whether or not to request
     * an update.
     *
     * This method may be overridden to customize properties; however,
     * when doing so, it's important to call `super.createProperty` to ensure
     * the property is setup correctly. This method calls
     * `getPropertyDescriptor` internally to get a descriptor to install.
     * To customize what properties do when they are get or set, override
     * `getPropertyDescriptor`. To customize the options for a property,
     * implement `createProperty` like this:
     *
     * static createProperty(name, options) {
     *   options = Object.assign(options, {myOption: true});
     *   super.createProperty(name, options);
     * }
     *
     * @nocollapse
     */
    static createProperty(kr, qr = defaultPropertyDeclaration) {
      if (this._ensureClassProperties(), this._classProperties.set(kr, qr), qr.noAccessor || this.prototype.hasOwnProperty(kr))
        return;
      const ai = typeof kr == "symbol" ? Symbol() : `__${kr}`, gi = this.getPropertyDescriptor(kr, ai, qr);
      gi !== void 0 && Object.defineProperty(this.prototype, kr, gi);
    }
    /**
     * Returns a property descriptor to be defined on the given named property.
     * If no descriptor is returned, the property will not become an accessor.
     * For example,
     *
     *   class MyElement extends LitElement {
     *     static getPropertyDescriptor(name, key, options) {
     *       const defaultDescriptor =
     *           super.getPropertyDescriptor(name, key, options);
     *       const setter = defaultDescriptor.set;
     *       return {
     *         get: defaultDescriptor.get,
     *         set(value) {
     *           setter.call(this, value);
     *           // custom action.
     *         },
     *         configurable: true,
     *         enumerable: true
     *       }
     *     }
     *   }
     *
     * @nocollapse
     */
    static getPropertyDescriptor(kr, qr, ai) {
      return {
        // tslint:disable-next-line:no-any no symbol in index
        get() {
          return this[qr];
        },
        set(gi) {
          const $i = this[kr];
          this[qr] = gi, this.requestUpdateInternal(kr, $i, ai);
        },
        configurable: !0,
        enumerable: !0
      };
    }
    /**
     * Returns the property options associated with the given property.
     * These options are defined with a PropertyDeclaration via the `properties`
     * object or the `@property` decorator and are registered in
     * `createProperty(...)`.
     *
     * Note, this method should be considered "final" and not overridden. To
     * customize the options for a given property, override `createProperty`.
     *
     * @nocollapse
     * @final
     */
    static getPropertyOptions(kr) {
      return this._classProperties && this._classProperties.get(kr) || defaultPropertyDeclaration;
    }
    /**
     * Creates property accessors for registered properties and ensures
     * any superclasses are also finalized.
     * @nocollapse
     */
    static finalize() {
      const kr = Object.getPrototypeOf(this);
      if (kr.hasOwnProperty(finalized) || kr.finalize(), this[finalized] = !0, this._ensureClassProperties(), this._attributeToPropertyMap = /* @__PURE__ */ new Map(), this.hasOwnProperty(JSCompiler_renameProperty("properties", this))) {
        const qr = this.properties, ai = [
          ...Object.getOwnPropertyNames(qr),
          ...typeof Object.getOwnPropertySymbols == "function" ? Object.getOwnPropertySymbols(qr) : []
        ];
        for (const gi of ai)
          this.createProperty(gi, qr[gi]);
      }
    }
    /**
     * Returns the property name for the given attribute `name`.
     * @nocollapse
     */
    static _attributeNameForProperty(kr, qr) {
      const ai = qr.attribute;
      return ai === !1 ? void 0 : typeof ai == "string" ? ai : typeof kr == "string" ? kr.toLowerCase() : void 0;
    }
    /**
     * Returns true if a property should request an update.
     * Called when a property value is set and uses the `hasChanged`
     * option for the property if present or a strict identity check.
     * @nocollapse
     */
    static _valueHasChanged(kr, qr, ai = notEqual) {
      return ai(kr, qr);
    }
    /**
     * Returns the property value for the given attribute value.
     * Called via the `attributeChangedCallback` and uses the property's
     * `converter` or `converter.fromAttribute` property option.
     * @nocollapse
     */
    static _propertyValueFromAttribute(kr, qr) {
      const ai = qr.type, gi = qr.converter || defaultConverter, $i = typeof gi == "function" ? gi : gi.fromAttribute;
      return $i ? $i(kr, ai) : kr;
    }
    /**
     * Returns the attribute value for the given property value. If this
     * returns undefined, the property will *not* be reflected to an attribute.
     * If this returns null, the attribute will be removed, otherwise the
     * attribute will be set to the value.
     * This uses the property's `reflect` and `type.toAttribute` property options.
     * @nocollapse
     */
    static _propertyValueToAttribute(kr, qr) {
      if (qr.reflect === void 0)
        return;
      const ai = qr.type, gi = qr.converter;
      return (gi && gi.toAttribute || defaultConverter.toAttribute)(kr, ai);
    }
    /**
     * Performs element initialization. By default captures any pre-set values for
     * registered properties.
     */
    initialize() {
      this._updateState = 0, this._updatePromise = new Promise((kr) => this._enableUpdatingResolver = kr), this._changedProperties = /* @__PURE__ */ new Map(), this._saveInstanceProperties(), this.requestUpdateInternal();
    }
    /**
     * Fixes any properties set on the instance before upgrade time.
     * Otherwise these would shadow the accessor and break these properties.
     * The properties are stored in a Map which is played back after the
     * constructor runs. Note, on very old versions of Safari (<=9) or Chrome
     * (<=41), properties created for native platform properties like (`id` or
     * `name`) may not have default values set in the element constructor. On
     * these browsers native properties appear on instances and therefore their
     * default value will overwrite any element default (e.g. if the element sets
     * this.id = 'id' in the constructor, the 'id' will become '' since this is
     * the native platform default).
     */
    _saveInstanceProperties() {
      this.constructor._classProperties.forEach((kr, qr) => {
        if (this.hasOwnProperty(qr)) {
          const ai = this[qr];
          delete this[qr], this._instanceProperties || (this._instanceProperties = /* @__PURE__ */ new Map()), this._instanceProperties.set(qr, ai);
        }
      });
    }
    /**
     * Applies previously saved instance properties.
     */
    _applyInstanceProperties() {
      this._instanceProperties.forEach((kr, qr) => this[qr] = kr), this._instanceProperties = void 0;
    }
    connectedCallback() {
      this.enableUpdating();
    }
    enableUpdating() {
      this._enableUpdatingResolver !== void 0 && (this._enableUpdatingResolver(), this._enableUpdatingResolver = void 0);
    }
    /**
     * Allows for `super.disconnectedCallback()` in extensions while
     * reserving the possibility of making non-breaking feature additions
     * when disconnecting at some point in the future.
     */
    disconnectedCallback() {
    }
    /**
     * Synchronizes property values when attributes change.
     */
    attributeChangedCallback(kr, qr, ai) {
      qr !== ai && this._attributeToProperty(kr, ai);
    }
    _propertyToAttribute(kr, qr, ai = defaultPropertyDeclaration) {
      const gi = this.constructor, $i = gi._attributeNameForProperty(kr, ai);
      if ($i !== void 0) {
        const xi = gi._propertyValueToAttribute(qr, ai);
        if (xi === void 0)
          return;
        this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE, xi == null ? this.removeAttribute($i) : this.setAttribute($i, xi), this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;
      }
    }
    _attributeToProperty(kr, qr) {
      if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE)
        return;
      const ai = this.constructor, gi = ai._attributeToPropertyMap.get(kr);
      if (gi !== void 0) {
        const $i = ai.getPropertyOptions(gi);
        this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY, this[gi] = // tslint:disable-next-line:no-any
        ai._propertyValueFromAttribute(qr, $i), this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;
      }
    }
    /**
     * This protected version of `requestUpdate` does not access or return the
     * `updateComplete` promise. This promise can be overridden and is therefore
     * not free to access.
     */
    requestUpdateInternal(kr, qr, ai) {
      let gi = !0;
      if (kr !== void 0) {
        const $i = this.constructor;
        ai = ai || $i.getPropertyOptions(kr), $i._valueHasChanged(this[kr], qr, ai.hasChanged) ? (this._changedProperties.has(kr) || this._changedProperties.set(kr, qr), ai.reflect === !0 && !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY) && (this._reflectingProperties === void 0 && (this._reflectingProperties = /* @__PURE__ */ new Map()), this._reflectingProperties.set(kr, ai))) : gi = !1;
      }
      !this._hasRequestedUpdate && gi && (this._updatePromise = this._enqueueUpdate());
    }
    /**
     * Requests an update which is processed asynchronously. This should
     * be called when an element should update based on some state not triggered
     * by setting a property. In this case, pass no arguments. It should also be
     * called when manually implementing a property setter. In this case, pass the
     * property `name` and `oldValue` to ensure that any configured property
     * options are honored. Returns the `updateComplete` Promise which is resolved
     * when the update completes.
     *
     * @param name {PropertyKey} (optional) name of requesting property
     * @param oldValue {any} (optional) old value of requesting property
     * @returns {Promise} A Promise that is resolved when the update completes.
     */
    requestUpdate(kr, qr) {
      return this.requestUpdateInternal(kr, qr), this.updateComplete;
    }
    /**
     * Sets up the element to asynchronously update.
     */
    async _enqueueUpdate() {
      this._updateState = this._updateState | STATE_UPDATE_REQUESTED;
      try {
        await this._updatePromise;
      } catch {
      }
      const kr = this.performUpdate();
      return kr != null && await kr, !this._hasRequestedUpdate;
    }
    get _hasRequestedUpdate() {
      return this._updateState & STATE_UPDATE_REQUESTED;
    }
    get hasUpdated() {
      return this._updateState & STATE_HAS_UPDATED;
    }
    /**
     * Performs an element update. Note, if an exception is thrown during the
     * update, `firstUpdated` and `updated` will not be called.
     *
     * You can override this method to change the timing of updates. If this
     * method is overridden, `super.performUpdate()` must be called.
     *
     * For instance, to schedule updates to occur just before the next frame:
     *
     * ```
     * protected async performUpdate(): Promise<unknown> {
     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));
     *   super.performUpdate();
     * }
     * ```
     */
    performUpdate() {
      if (!this._hasRequestedUpdate)
        return;
      this._instanceProperties && this._applyInstanceProperties();
      let kr = !1;
      const qr = this._changedProperties;
      try {
        kr = this.shouldUpdate(qr), kr ? this.update(qr) : this._markUpdated();
      } catch (ai) {
        throw kr = !1, this._markUpdated(), ai;
      }
      kr && (this._updateState & STATE_HAS_UPDATED || (this._updateState = this._updateState | STATE_HAS_UPDATED, this.firstUpdated(qr)), this.updated(qr));
    }
    _markUpdated() {
      this._changedProperties = /* @__PURE__ */ new Map(), this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;
    }
    /**
     * Returns a Promise that resolves when the element has completed updating.
     * The Promise value is a boolean that is `true` if the element completed the
     * update without triggering another update. The Promise result is `false` if
     * a property was set inside `updated()`. If the Promise is rejected, an
     * exception was thrown during the update.
     *
     * To await additional asynchronous work, override the `_getUpdateComplete`
     * method. For example, it is sometimes useful to await a rendered element
     * before fulfilling this Promise. To do this, first await
     * `super._getUpdateComplete()`, then any subsequent state.
     *
     * @returns {Promise} The Promise returns a boolean that indicates if the
     * update resolved without triggering another update.
     */
    get updateComplete() {
      return this._getUpdateComplete();
    }
    /**
     * Override point for the `updateComplete` promise.
     *
     * It is not safe to override the `updateComplete` getter directly due to a
     * limitation in TypeScript which means it is not possible to call a
     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target
     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).
     * This method should be overridden instead. For example:
     *
     *   class MyElement extends LitElement {
     *     async _getUpdateComplete() {
     *       await super._getUpdateComplete();
     *       await this._myChild.updateComplete;
     *     }
     *   }
     * @deprecated Override `getUpdateComplete()` instead for forward
     *     compatibility with `lit-element` 3.0 / `@lit/reactive-element`.
     */
    _getUpdateComplete() {
      return this.getUpdateComplete();
    }
    /**
     * Override point for the `updateComplete` promise.
     *
     * It is not safe to override the `updateComplete` getter directly due to a
     * limitation in TypeScript which means it is not possible to call a
     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target
     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).
     * This method should be overridden instead. For example:
     *
     *   class MyElement extends LitElement {
     *     async getUpdateComplete() {
     *       await super.getUpdateComplete();
     *       await this._myChild.updateComplete;
     *     }
     *   }
     */
    getUpdateComplete() {
      return this._updatePromise;
    }
    /**
     * Controls whether or not `update` should be called when the element requests
     * an update. By default, this method always returns `true`, but this can be
     * customized to control when to update.
     *
     * @param _changedProperties Map of changed properties with old values
     */
    shouldUpdate(kr) {
      return !0;
    }
    /**
     * Updates the element. This method reflects property values to attributes.
     * It can be overridden to render and keep updated element DOM.
     * Setting properties inside this method will *not* trigger
     * another update.
     *
     * @param _changedProperties Map of changed properties with old values
     */
    update(kr) {
      this._reflectingProperties !== void 0 && this._reflectingProperties.size > 0 && (this._reflectingProperties.forEach((qr, ai) => this._propertyToAttribute(ai, this[ai], qr)), this._reflectingProperties = void 0), this._markUpdated();
    }
    /**
     * Invoked whenever the element is updated. Implement to perform
     * post-updating tasks via DOM APIs, for example, focusing an element.
     *
     * Setting properties inside this method will trigger the element to update
     * again after this update cycle completes.
     *
     * @param _changedProperties Map of changed properties with old values
     */
    updated(kr) {
    }
    /**
     * Invoked when the element is first updated. Implement to perform one time
     * work on the element after update.
     *
     * Setting properties inside this method will trigger the element to update
     * again after this update cycle completes.
     *
     * @param _changedProperties Map of changed properties with old values
     */
    firstUpdated(kr) {
    }
  }
  _a$1 = finalized;
  UpdatingElement[_a$1] = !0;
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  const legacyCustomElement = (Kr, kr) => (window.customElements.define(Kr, kr), kr), standardCustomElement = (Kr, kr) => {
    const { kind: qr, elements: ai } = kr;
    return {
      kind: qr,
      elements: ai,
      // This callback is called once the class is otherwise fully defined
      finisher(gi) {
        window.customElements.define(Kr, gi);
      }
    };
  }, customElement = (Kr) => (kr) => typeof kr == "function" ? legacyCustomElement(Kr, kr) : standardCustomElement(Kr, kr), standardProperty = (Kr, kr) => kr.kind === "method" && kr.descriptor && !("value" in kr.descriptor) ? Object.assign(Object.assign({}, kr), { finisher(qr) {
    qr.createProperty(kr.key, Kr);
  } }) : {
    kind: "field",
    key: Symbol(),
    placement: "own",
    descriptor: {},
    // When @babel/plugin-proposal-decorators implements initializers,
    // do this instead of the initializer below. See:
    // https://github.com/babel/babel/issues/9260 extras: [
    //   {
    //     kind: 'initializer',
    //     placement: 'own',
    //     initializer: descriptor.initializer,
    //   }
    // ],
    initializer() {
      typeof kr.initializer == "function" && (this[kr.key] = kr.initializer.call(this));
    },
    finisher(qr) {
      qr.createProperty(kr.key, Kr);
    }
  }, legacyProperty = (Kr, kr, qr) => {
    kr.constructor.createProperty(qr, Kr);
  };
  function property(Kr) {
    return (kr, qr) => qr !== void 0 ? legacyProperty(Kr, kr, qr) : standardProperty(Kr, kr);
  }
  function internalProperty(Kr) {
    return property({ attribute: !1, hasChanged: Kr == null ? void 0 : Kr.hasChanged });
  }
  const state = (Kr) => internalProperty(Kr);
  /**
  @license
  Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at
  http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
  http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
  found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
  part of the polymer project is also subject to an additional IP rights grant
  found at http://polymer.github.io/PATENTS.txt
  */
  const supportsAdoptingStyleSheets = window.ShadowRoot && (window.ShadyCSS === void 0 || window.ShadyCSS.nativeShadow) && "adoptedStyleSheets" in Document.prototype && "replace" in CSSStyleSheet.prototype, constructionToken = Symbol();
  class CSSResult {
    constructor(kr, qr) {
      if (qr !== constructionToken)
        throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");
      this.cssText = kr;
    }
    // Note, this is a getter so that it's lazy. In practice, this means
    // stylesheets are not created until the first element instance is made.
    get styleSheet() {
      return this._styleSheet === void 0 && (supportsAdoptingStyleSheets ? (this._styleSheet = new CSSStyleSheet(), this._styleSheet.replaceSync(this.cssText)) : this._styleSheet = null), this._styleSheet;
    }
    toString() {
      return this.cssText;
    }
  }
  const unsafeCSS = (Kr) => new CSSResult(String(Kr), constructionToken), textFromCSSResult = (Kr) => {
    if (Kr instanceof CSSResult)
      return Kr.cssText;
    if (typeof Kr == "number")
      return Kr;
    throw new Error(`Value passed to 'css' function must be a 'css' function result: ${Kr}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`);
  }, css = (Kr, ...kr) => {
    const qr = kr.reduce((ai, gi, $i) => ai + textFromCSSResult(gi) + Kr[$i + 1], Kr[0]);
    return new CSSResult(qr, constructionToken);
  };
  /**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
  (window.litElementVersions || (window.litElementVersions = [])).push("2.5.1");
  const renderNotImplemented = {};
  class LitElement extends UpdatingElement {
    /**
     * Return the array of styles to apply to the element.
     * Override this method to integrate into a style management system.
     *
     * @nocollapse
     */
    static getStyles() {
      return this.styles;
    }
    /** @nocollapse */
    static _getUniqueStyles() {
      if (this.hasOwnProperty(JSCompiler_renameProperty("_styles", this)))
        return;
      const kr = this.getStyles();
      if (Array.isArray(kr)) {
        const qr = ($i, xi) => $i.reduceRight((Ai, Li) => (
          // Note: On IE set.add() does not return the set
          Array.isArray(Li) ? qr(Li, Ai) : (Ai.add(Li), Ai)
        ), xi), ai = qr(kr, /* @__PURE__ */ new Set()), gi = [];
        ai.forEach(($i) => gi.unshift($i)), this._styles = gi;
      } else
        this._styles = kr === void 0 ? [] : [kr];
      this._styles = this._styles.map((qr) => {
        if (qr instanceof CSSStyleSheet && !supportsAdoptingStyleSheets) {
          const ai = Array.prototype.slice.call(qr.cssRules).reduce((gi, $i) => gi + $i.cssText, "");
          return unsafeCSS(ai);
        }
        return qr;
      });
    }
    /**
     * Performs element initialization. By default this calls
     * [[`createRenderRoot`]] to create the element [[`renderRoot`]] node and
     * captures any pre-set values for registered properties.
     */
    initialize() {
      super.initialize(), this.constructor._getUniqueStyles(), this.renderRoot = this.createRenderRoot(), window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot && this.adoptStyles();
    }
    /**
     * Returns the node into which the element should render and by default
     * creates and returns an open shadowRoot. Implement to customize where the
     * element's DOM is rendered. For example, to render into the element's
     * childNodes, return `this`.
     * @returns {Element|DocumentFragment} Returns a node into which to render.
     */
    createRenderRoot() {
      return this.attachShadow(this.constructor.shadowRootOptions);
    }
    /**
     * Applies styling to the element shadowRoot using the [[`styles`]]
     * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where
     * available and will fallback otherwise. When Shadow DOM is polyfilled,
     * ShadyCSS scopes styles and adds them to the document. When Shadow DOM
     * is available but `adoptedStyleSheets` is not, styles are appended to the
     * end of the `shadowRoot` to [mimic spec
     * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).
     */
    adoptStyles() {
      const kr = this.constructor._styles;
      kr.length !== 0 && (window.ShadyCSS !== void 0 && !window.ShadyCSS.nativeShadow ? window.ShadyCSS.ScopingShim.prepareAdoptedCssText(kr.map((qr) => qr.cssText), this.localName) : supportsAdoptingStyleSheets ? this.renderRoot.adoptedStyleSheets = kr.map((qr) => qr instanceof CSSStyleSheet ? qr : qr.styleSheet) : this._needsShimAdoptedStyleSheets = !0);
    }
    connectedCallback() {
      super.connectedCallback(), this.hasUpdated && window.ShadyCSS !== void 0 && window.ShadyCSS.styleElement(this);
    }
    /**
     * Updates the element. This method reflects property values to attributes
     * and calls `render` to render DOM via lit-html. Setting properties inside
     * this method will *not* trigger another update.
     * @param _changedProperties Map of changed properties with old values
     */
    update(kr) {
      const qr = this.render();
      super.update(kr), qr !== renderNotImplemented && this.constructor.render(qr, this.renderRoot, { scopeName: this.localName, eventContext: this }), this._needsShimAdoptedStyleSheets && (this._needsShimAdoptedStyleSheets = !1, this.constructor._styles.forEach((ai) => {
        const gi = document.createElement("style");
        gi.textContent = ai.cssText, this.renderRoot.appendChild(gi);
      }));
    }
    /**
     * Invoked on each update to perform rendering tasks. This method may return
     * any value renderable by lit-html's `NodePart` - typically a
     * `TemplateResult`. Setting properties inside this method will *not* trigger
     * the element to update.
     */
    render() {
      return renderNotImplemented;
    }
  }
  LitElement.finalized = !0;
  LitElement.render = render;
  LitElement.shadowRootOptions = { mode: "open" };
  /**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
  function* o$1(Kr, kr) {
    if (Kr !== void 0) {
      let qr = 0;
      for (const ai of Kr)
        yield kr(ai, qr++);
    }
  }
  var np = Object.create, io = Object.defineProperty, bc = Object.getOwnPropertyDescriptor, ip = Object.getOwnPropertyNames, ap = Object.getPrototypeOf, op = Object.prototype.hasOwnProperty, sp = (Kr, kr) => () => (kr || Kr((kr = { exports: {} }).exports, kr), kr.exports), cp = (Kr, kr, qr, ai) => {
    if (kr && typeof kr == "object" || typeof kr == "function")
      for (let gi of ip(kr))
        !op.call(Kr, gi) && gi !== qr && io(Kr, gi, { get: () => kr[gi], enumerable: !(ai = bc(kr, gi)) || ai.enumerable });
    return Kr;
  }, up = (Kr, kr, qr) => (qr = Kr != null ? np(ap(Kr)) : {}, cp(kr || !Kr || !Kr.__esModule ? io(qr, "default", { value: Kr, enumerable: !0 }) : qr, Kr)), Ne$1 = (Kr, kr, qr, ai) => {
    for (var gi = ai > 1 ? void 0 : ai ? bc(kr, qr) : kr, $i = Kr.length - 1, xi; $i >= 0; $i--)
      (xi = Kr[$i]) && (gi = (ai ? xi(kr, qr, gi) : xi(gi)) || gi);
    return ai && gi && io(kr, qr, gi), gi;
  }, me$1 = (Kr, kr, qr) => new Promise((ai, gi) => {
    var $i = (Li) => {
      try {
        Ai(qr.next(Li));
      } catch (Fi) {
        gi(Fi);
      }
    }, xi = (Li) => {
      try {
        Ai(qr.throw(Li));
      } catch (Fi) {
        gi(Fi);
      }
    }, Ai = (Li) => Li.done ? ai(Li.value) : Promise.resolve(Li.value).then($i, xi);
    Ai((qr = qr.apply(Kr, kr)).next());
  }), pu = sp((Kr, kr) => {
    var qr, ai, gi, $i, xi, Ai, Li, Fi, Oa, So, Ns, Uc, Kc, Bc, Wc, Vc, qc, Qc, zc, Yc, Xc, Hc, eu, nu, su, yp, Lp, vp, au;
    (function(ou) {
      var rp = typeof global == "object" ? global : typeof self == "object" ? self : typeof this == "object" ? this : {};
      typeof define == "function" && define.amd ? define("tslib", ["exports"], function(Gc) {
        ou(cu(rp, cu(Gc)));
      }) : typeof kr == "object" && typeof kr.exports == "object" ? ou(cu(rp, cu(kr.exports))) : ou(cu(rp));
      function cu(Gc, Zc) {
        return Gc !== rp && (typeof Object.create == "function" ? Object.defineProperty(Gc, "__esModule", { value: !0 }) : Gc.__esModule = !0), function(Jc, tu) {
          return Gc[Jc] = Zc ? Zc(Jc, tu) : tu;
        };
      }
    })(function(ou) {
      var rp = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(Gc, Zc) {
        Gc.__proto__ = Zc;
      } || function(Gc, Zc) {
        for (var Jc in Zc)
          Object.prototype.hasOwnProperty.call(Zc, Jc) && (Gc[Jc] = Zc[Jc]);
      };
      qr = function(Gc, Zc) {
        if (typeof Zc != "function" && Zc !== null)
          throw new TypeError("Class extends value " + String(Zc) + " is not a constructor or null");
        rp(Gc, Zc);
        function Jc() {
          this.constructor = Gc;
        }
        Gc.prototype = Zc === null ? Object.create(Zc) : (Jc.prototype = Zc.prototype, new Jc());
      }, ai = Object.assign || function(Gc) {
        for (var Zc, Jc = 1, tu = arguments.length; Jc < tu; Jc++) {
          Zc = arguments[Jc];
          for (var ru in Zc)
            Object.prototype.hasOwnProperty.call(Zc, ru) && (Gc[ru] = Zc[ru]);
        }
        return Gc;
      }, gi = function(Gc, Zc) {
        var Jc = {};
        for (var tu in Gc)
          Object.prototype.hasOwnProperty.call(Gc, tu) && Zc.indexOf(tu) < 0 && (Jc[tu] = Gc[tu]);
        if (Gc != null && typeof Object.getOwnPropertySymbols == "function")
          for (var ru = 0, tu = Object.getOwnPropertySymbols(Gc); ru < tu.length; ru++)
            Zc.indexOf(tu[ru]) < 0 && Object.prototype.propertyIsEnumerable.call(Gc, tu[ru]) && (Jc[tu[ru]] = Gc[tu[ru]]);
        return Jc;
      }, $i = function(Gc, Zc, Jc, tu) {
        var ru = arguments.length, iu = ru < 3 ? Zc : tu === null ? tu = Object.getOwnPropertyDescriptor(Zc, Jc) : tu, uu;
        if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
          iu = Reflect.decorate(Gc, Zc, Jc, tu);
        else
          for (var lu = Gc.length - 1; lu >= 0; lu--)
            (uu = Gc[lu]) && (iu = (ru < 3 ? uu(iu) : ru > 3 ? uu(Zc, Jc, iu) : uu(Zc, Jc)) || iu);
        return ru > 3 && iu && Object.defineProperty(Zc, Jc, iu), iu;
      }, xi = function(Gc, Zc) {
        return function(Jc, tu) {
          Zc(Jc, tu, Gc);
        };
      }, Ai = function(Gc, Zc, Jc, tu, ru, iu) {
        function uu(id) {
          if (id !== void 0 && typeof id != "function")
            throw new TypeError("Function expected");
          return id;
        }
        for (var lu = tu.kind, $p = lu === "getter" ? "get" : lu === "setter" ? "set" : "value", fu = !Zc && Gc ? tu.static ? Gc : Gc.prototype : null, jp = Zc || (fu ? Object.getOwnPropertyDescriptor(fu, tu.name) : {}), Mp, Fp = !1, Up = Jc.length - 1; Up >= 0; Up--) {
          var Bp = {};
          for (var qp in tu)
            Bp[qp] = qp === "access" ? {} : tu[qp];
          for (var qp in tu.access)
            Bp.access[qp] = tu.access[qp];
          Bp.addInitializer = function(id) {
            if (Fp)
              throw new TypeError("Cannot add initializers after decoration has completed");
            iu.push(uu(id || null));
          };
          var Vp = (0, Jc[Up])(lu === "accessor" ? { get: jp.get, set: jp.set } : jp[$p], Bp);
          if (lu === "accessor") {
            if (Vp === void 0)
              continue;
            if (Vp === null || typeof Vp != "object")
              throw new TypeError("Object expected");
            (Mp = uu(Vp.get)) && (jp.get = Mp), (Mp = uu(Vp.set)) && (jp.set = Mp), (Mp = uu(Vp.init)) && ru.push(Mp);
          } else
            (Mp = uu(Vp)) && (lu === "field" ? ru.push(Mp) : jp[$p] = Mp);
        }
        fu && Object.defineProperty(fu, tu.name, jp), Fp = !0;
      }, Li = function(Gc, Zc, Jc) {
        for (var tu = arguments.length > 2, ru = 0; ru < Zc.length; ru++)
          Jc = tu ? Zc[ru].call(Gc, Jc) : Zc[ru].call(Gc);
        return tu ? Jc : void 0;
      }, Fi = function(Gc) {
        return typeof Gc == "symbol" ? Gc : "".concat(Gc);
      }, Oa = function(Gc, Zc, Jc) {
        return typeof Zc == "symbol" && (Zc = Zc.description ? "[".concat(Zc.description, "]") : ""), Object.defineProperty(Gc, "name", { configurable: !0, value: Jc ? "".concat(Jc, " ", Zc) : Zc });
      }, So = function(Gc, Zc) {
        if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
          return Reflect.metadata(Gc, Zc);
      }, Ns = function(Gc, Zc, Jc, tu) {
        function ru(iu) {
          return iu instanceof Jc ? iu : new Jc(function(uu) {
            uu(iu);
          });
        }
        return new (Jc || (Jc = Promise))(function(iu, uu) {
          function lu(jp) {
            try {
              fu(tu.next(jp));
            } catch (Mp) {
              uu(Mp);
            }
          }
          function $p(jp) {
            try {
              fu(tu.throw(jp));
            } catch (Mp) {
              uu(Mp);
            }
          }
          function fu(jp) {
            jp.done ? iu(jp.value) : ru(jp.value).then(lu, $p);
          }
          fu((tu = tu.apply(Gc, Zc || [])).next());
        });
      }, Uc = function(Gc, Zc) {
        var Jc = { label: 0, sent: function() {
          if (iu[0] & 1)
            throw iu[1];
          return iu[1];
        }, trys: [], ops: [] }, tu, ru, iu, uu;
        return uu = { next: lu(0), throw: lu(1), return: lu(2) }, typeof Symbol == "function" && (uu[Symbol.iterator] = function() {
          return this;
        }), uu;
        function lu(fu) {
          return function(jp) {
            return $p([fu, jp]);
          };
        }
        function $p(fu) {
          if (tu)
            throw new TypeError("Generator is already executing.");
          for (; uu && (uu = 0, fu[0] && (Jc = 0)), Jc; )
            try {
              if (tu = 1, ru && (iu = fu[0] & 2 ? ru.return : fu[0] ? ru.throw || ((iu = ru.return) && iu.call(ru), 0) : ru.next) && !(iu = iu.call(ru, fu[1])).done)
                return iu;
              switch (ru = 0, iu && (fu = [fu[0] & 2, iu.value]), fu[0]) {
                case 0:
                case 1:
                  iu = fu;
                  break;
                case 4:
                  return Jc.label++, { value: fu[1], done: !1 };
                case 5:
                  Jc.label++, ru = fu[1], fu = [0];
                  continue;
                case 7:
                  fu = Jc.ops.pop(), Jc.trys.pop();
                  continue;
                default:
                  if (iu = Jc.trys, !(iu = iu.length > 0 && iu[iu.length - 1]) && (fu[0] === 6 || fu[0] === 2)) {
                    Jc = 0;
                    continue;
                  }
                  if (fu[0] === 3 && (!iu || fu[1] > iu[0] && fu[1] < iu[3])) {
                    Jc.label = fu[1];
                    break;
                  }
                  if (fu[0] === 6 && Jc.label < iu[1]) {
                    Jc.label = iu[1], iu = fu;
                    break;
                  }
                  if (iu && Jc.label < iu[2]) {
                    Jc.label = iu[2], Jc.ops.push(fu);
                    break;
                  }
                  iu[2] && Jc.ops.pop(), Jc.trys.pop();
                  continue;
              }
              fu = Zc.call(Gc, Jc);
            } catch (jp) {
              fu = [6, jp], ru = 0;
            } finally {
              tu = iu = 0;
            }
          if (fu[0] & 5)
            throw fu[1];
          return { value: fu[0] ? fu[1] : void 0, done: !0 };
        }
      }, Kc = function(Gc, Zc) {
        for (var Jc in Gc)
          Jc !== "default" && !Object.prototype.hasOwnProperty.call(Zc, Jc) && au(Zc, Gc, Jc);
      }, au = Object.create ? function(Gc, Zc, Jc, tu) {
        tu === void 0 && (tu = Jc);
        var ru = Object.getOwnPropertyDescriptor(Zc, Jc);
        (!ru || ("get" in ru ? !Zc.__esModule : ru.writable || ru.configurable)) && (ru = { enumerable: !0, get: function() {
          return Zc[Jc];
        } }), Object.defineProperty(Gc, tu, ru);
      } : function(Gc, Zc, Jc, tu) {
        tu === void 0 && (tu = Jc), Gc[tu] = Zc[Jc];
      }, Bc = function(Gc) {
        var Zc = typeof Symbol == "function" && Symbol.iterator, Jc = Zc && Gc[Zc], tu = 0;
        if (Jc)
          return Jc.call(Gc);
        if (Gc && typeof Gc.length == "number")
          return { next: function() {
            return Gc && tu >= Gc.length && (Gc = void 0), { value: Gc && Gc[tu++], done: !Gc };
          } };
        throw new TypeError(Zc ? "Object is not iterable." : "Symbol.iterator is not defined.");
      }, Wc = function(Gc, Zc) {
        var Jc = typeof Symbol == "function" && Gc[Symbol.iterator];
        if (!Jc)
          return Gc;
        var tu = Jc.call(Gc), ru, iu = [], uu;
        try {
          for (; (Zc === void 0 || Zc-- > 0) && !(ru = tu.next()).done; )
            iu.push(ru.value);
        } catch (lu) {
          uu = { error: lu };
        } finally {
          try {
            ru && !ru.done && (Jc = tu.return) && Jc.call(tu);
          } finally {
            if (uu)
              throw uu.error;
          }
        }
        return iu;
      }, Vc = function() {
        for (var Gc = [], Zc = 0; Zc < arguments.length; Zc++)
          Gc = Gc.concat(Wc(arguments[Zc]));
        return Gc;
      }, qc = function() {
        for (var Gc = 0, Zc = 0, Jc = arguments.length; Zc < Jc; Zc++)
          Gc += arguments[Zc].length;
        for (var tu = Array(Gc), ru = 0, Zc = 0; Zc < Jc; Zc++)
          for (var iu = arguments[Zc], uu = 0, lu = iu.length; uu < lu; uu++, ru++)
            tu[ru] = iu[uu];
        return tu;
      }, Qc = function(Gc, Zc, Jc) {
        if (Jc || arguments.length === 2)
          for (var tu = 0, ru = Zc.length, iu; tu < ru; tu++)
            (iu || !(tu in Zc)) && (iu || (iu = Array.prototype.slice.call(Zc, 0, tu)), iu[tu] = Zc[tu]);
        return Gc.concat(iu || Array.prototype.slice.call(Zc));
      }, zc = function(Gc) {
        return this instanceof zc ? (this.v = Gc, this) : new zc(Gc);
      }, Yc = function(Gc, Zc, Jc) {
        if (!Symbol.asyncIterator)
          throw new TypeError("Symbol.asyncIterator is not defined.");
        var tu = Jc.apply(Gc, Zc || []), ru, iu = [];
        return ru = {}, uu("next"), uu("throw"), uu("return"), ru[Symbol.asyncIterator] = function() {
          return this;
        }, ru;
        function uu(Fp) {
          tu[Fp] && (ru[Fp] = function(Up) {
            return new Promise(function(Bp, qp) {
              iu.push([Fp, Up, Bp, qp]) > 1 || lu(Fp, Up);
            });
          });
        }
        function lu(Fp, Up) {
          try {
            $p(tu[Fp](Up));
          } catch (Bp) {
            Mp(iu[0][3], Bp);
          }
        }
        function $p(Fp) {
          Fp.value instanceof zc ? Promise.resolve(Fp.value.v).then(fu, jp) : Mp(iu[0][2], Fp);
        }
        function fu(Fp) {
          lu("next", Fp);
        }
        function jp(Fp) {
          lu("throw", Fp);
        }
        function Mp(Fp, Up) {
          Fp(Up), iu.shift(), iu.length && lu(iu[0][0], iu[0][1]);
        }
      }, Xc = function(Gc) {
        var Zc, Jc;
        return Zc = {}, tu("next"), tu("throw", function(ru) {
          throw ru;
        }), tu("return"), Zc[Symbol.iterator] = function() {
          return this;
        }, Zc;
        function tu(ru, iu) {
          Zc[ru] = Gc[ru] ? function(uu) {
            return (Jc = !Jc) ? { value: zc(Gc[ru](uu)), done: !1 } : iu ? iu(uu) : uu;
          } : iu;
        }
      }, Hc = function(Gc) {
        if (!Symbol.asyncIterator)
          throw new TypeError("Symbol.asyncIterator is not defined.");
        var Zc = Gc[Symbol.asyncIterator], Jc;
        return Zc ? Zc.call(Gc) : (Gc = typeof Bc == "function" ? Bc(Gc) : Gc[Symbol.iterator](), Jc = {}, tu("next"), tu("throw"), tu("return"), Jc[Symbol.asyncIterator] = function() {
          return this;
        }, Jc);
        function tu(iu) {
          Jc[iu] = Gc[iu] && function(uu) {
            return new Promise(function(lu, $p) {
              uu = Gc[iu](uu), ru(lu, $p, uu.done, uu.value);
            });
          };
        }
        function ru(iu, uu, lu, $p) {
          Promise.resolve($p).then(function(fu) {
            iu({ value: fu, done: lu });
          }, uu);
        }
      }, eu = function(Gc, Zc) {
        return Object.defineProperty ? Object.defineProperty(Gc, "raw", { value: Zc }) : Gc.raw = Zc, Gc;
      };
      var cu = Object.create ? function(Gc, Zc) {
        Object.defineProperty(Gc, "default", { enumerable: !0, value: Zc });
      } : function(Gc, Zc) {
        Gc.default = Zc;
      };
      nu = function(Gc) {
        if (Gc && Gc.__esModule)
          return Gc;
        var Zc = {};
        if (Gc != null)
          for (var Jc in Gc)
            Jc !== "default" && Object.prototype.hasOwnProperty.call(Gc, Jc) && au(Zc, Gc, Jc);
        return cu(Zc, Gc), Zc;
      }, su = function(Gc) {
        return Gc && Gc.__esModule ? Gc : { default: Gc };
      }, yp = function(Gc, Zc, Jc, tu) {
        if (Jc === "a" && !tu)
          throw new TypeError("Private accessor was defined without a getter");
        if (typeof Zc == "function" ? Gc !== Zc || !tu : !Zc.has(Gc))
          throw new TypeError("Cannot read private member from an object whose class did not declare it");
        return Jc === "m" ? tu : Jc === "a" ? tu.call(Gc) : tu ? tu.value : Zc.get(Gc);
      }, Lp = function(Gc, Zc, Jc, tu, ru) {
        if (tu === "m")
          throw new TypeError("Private method is not writable");
        if (tu === "a" && !ru)
          throw new TypeError("Private accessor was defined without a setter");
        if (typeof Zc == "function" ? Gc !== Zc || !ru : !Zc.has(Gc))
          throw new TypeError("Cannot write private member to an object whose class did not declare it");
        return tu === "a" ? ru.call(Gc, Jc) : ru ? ru.value = Jc : Zc.set(Gc, Jc), Jc;
      }, vp = function(Gc, Zc) {
        if (Zc === null || typeof Zc != "object" && typeof Zc != "function")
          throw new TypeError("Cannot use 'in' operator on non-object");
        return typeof Gc == "function" ? Zc === Gc : Gc.has(Zc);
      }, ou("__extends", qr), ou("__assign", ai), ou("__rest", gi), ou("__decorate", $i), ou("__param", xi), ou("__esDecorate", Ai), ou("__runInitializers", Li), ou("__propKey", Fi), ou("__setFunctionName", Oa), ou("__metadata", So), ou("__awaiter", Ns), ou("__generator", Uc), ou("__exportStar", Kc), ou("__createBinding", au), ou("__values", Bc), ou("__read", Wc), ou("__spread", Vc), ou("__spreadArrays", qc), ou("__spreadArray", Qc), ou("__await", zc), ou("__asyncGenerator", Yc), ou("__asyncDelegator", Xc), ou("__asyncValues", Hc), ou("__makeTemplateObject", eu), ou("__importStar", nu), ou("__importDefault", su), ou("__classPrivateFieldGet", yp), ou("__classPrivateFieldSet", Lp), ou("__classPrivateFieldIn", vp);
    });
  }), ki = window, Di = ki.ShadowRoot && (ki.ShadyCSS === void 0 || ki.ShadyCSS.nativeShadow) && "adoptedStyleSheets" in Document.prototype && "replace" in CSSStyleSheet.prototype, ao = Symbol(), Cc = /* @__PURE__ */ new WeakMap(), Dn$1 = class {
    constructor(kr, qr, ai) {
      if (this._$cssResult$ = !0, ai !== ao)
        throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");
      this.cssText = kr, this.t = qr;
    }
    get styleSheet() {
      let kr = this.o, qr = this.t;
      if (Di && kr === void 0) {
        let ai = qr !== void 0 && qr.length === 1;
        ai && (kr = Cc.get(qr)), kr === void 0 && ((this.o = kr = new CSSStyleSheet()).replaceSync(this.cssText), ai && Cc.set(qr, kr));
      }
      return kr;
    }
    toString() {
      return this.cssText;
    }
  }, _c = (Kr) => new Dn$1(typeof Kr == "string" ? Kr : Kr + "", void 0, ao), oo = (Kr, ...kr) => {
    let qr = Kr.length === 1 ? Kr[0] : kr.reduce((ai, gi, $i) => ai + ((xi) => {
      if (xi._$cssResult$ === !0)
        return xi.cssText;
      if (typeof xi == "number")
        return xi;
      throw Error("Value passed to 'css' function must be a 'css' function result: " + xi + ". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.");
    })(gi) + Kr[$i + 1], Kr[0]);
    return new Dn$1(qr, Kr, ao);
  }, so = (Kr, kr) => {
    Di ? Kr.adoptedStyleSheets = kr.map((qr) => qr instanceof CSSStyleSheet ? qr : qr.styleSheet) : kr.forEach((qr) => {
      let ai = document.createElement("style"), gi = ki.litNonce;
      gi !== void 0 && ai.setAttribute("nonce", gi), ai.textContent = qr.cssText, Kr.appendChild(ai);
    });
  }, Pi = Di ? (Kr) => Kr : (Kr) => Kr instanceof CSSStyleSheet ? ((kr) => {
    let qr = "";
    for (let ai of kr.cssRules)
      qr += ai.cssText;
    return _c(qr);
  })(Kr) : Kr, co, Ni = window, Sc = Ni.trustedTypes, lp = Sc ? Sc.emptyScript : "", wc = Ni.reactiveElementPolyfillSupport, lo = { toAttribute(Kr, kr) {
    switch (kr) {
      case Boolean:
        Kr = Kr ? lp : null;
        break;
      case Object:
      case Array:
        Kr = Kr == null ? Kr : JSON.stringify(Kr);
    }
    return Kr;
  }, fromAttribute(Kr, kr) {
    let qr = Kr;
    switch (kr) {
      case Boolean:
        qr = Kr !== null;
        break;
      case Number:
        qr = Kr === null ? null : Number(Kr);
        break;
      case Object:
      case Array:
        try {
          qr = JSON.parse(Kr);
        } catch {
          qr = null;
        }
    }
    return qr;
  } }, Ec = (Kr, kr) => kr !== Kr && (kr == kr || Kr == Kr), uo = { attribute: !0, type: String, converter: lo, reflect: !1, hasChanged: Ec }, kt$1 = class extends HTMLElement {
    constructor() {
      super(), this._$Ei = /* @__PURE__ */ new Map(), this.isUpdatePending = !1, this.hasUpdated = !1, this._$El = null, this.u();
    }
    static addInitializer(kr) {
      var qr;
      this.finalize(), ((qr = this.h) !== null && qr !== void 0 ? qr : this.h = []).push(kr);
    }
    static get observedAttributes() {
      this.finalize();
      let kr = [];
      return this.elementProperties.forEach((qr, ai) => {
        let gi = this._$Ep(ai, qr);
        gi !== void 0 && (this._$Ev.set(gi, ai), kr.push(gi));
      }), kr;
    }
    static createProperty(kr, qr = uo) {
      if (qr.state && (qr.attribute = !1), this.finalize(), this.elementProperties.set(kr, qr), !qr.noAccessor && !this.prototype.hasOwnProperty(kr)) {
        let ai = typeof kr == "symbol" ? Symbol() : "__" + kr, gi = this.getPropertyDescriptor(kr, ai, qr);
        gi !== void 0 && Object.defineProperty(this.prototype, kr, gi);
      }
    }
    static getPropertyDescriptor(kr, qr, ai) {
      return { get() {
        return this[qr];
      }, set(gi) {
        let $i = this[kr];
        this[qr] = gi, this.requestUpdate(kr, $i, ai);
      }, configurable: !0, enumerable: !0 };
    }
    static getPropertyOptions(kr) {
      return this.elementProperties.get(kr) || uo;
    }
    static finalize() {
      if (this.hasOwnProperty("finalized"))
        return !1;
      this.finalized = !0;
      let kr = Object.getPrototypeOf(this);
      if (kr.finalize(), kr.h !== void 0 && (this.h = [...kr.h]), this.elementProperties = new Map(kr.elementProperties), this._$Ev = /* @__PURE__ */ new Map(), this.hasOwnProperty("properties")) {
        let qr = this.properties, ai = [...Object.getOwnPropertyNames(qr), ...Object.getOwnPropertySymbols(qr)];
        for (let gi of ai)
          this.createProperty(gi, qr[gi]);
      }
      return this.elementStyles = this.finalizeStyles(this.styles), !0;
    }
    static finalizeStyles(kr) {
      let qr = [];
      if (Array.isArray(kr)) {
        let ai = new Set(kr.flat(1 / 0).reverse());
        for (let gi of ai)
          qr.unshift(Pi(gi));
      } else
        kr !== void 0 && qr.push(Pi(kr));
      return qr;
    }
    static _$Ep(kr, qr) {
      let ai = qr.attribute;
      return ai === !1 ? void 0 : typeof ai == "string" ? ai : typeof kr == "string" ? kr.toLowerCase() : void 0;
    }
    u() {
      var kr;
      this._$E_ = new Promise((qr) => this.enableUpdating = qr), this._$AL = /* @__PURE__ */ new Map(), this._$Eg(), this.requestUpdate(), (kr = this.constructor.h) === null || kr === void 0 || kr.forEach((qr) => qr(this));
    }
    addController(kr) {
      var qr, ai;
      ((qr = this._$ES) !== null && qr !== void 0 ? qr : this._$ES = []).push(kr), this.renderRoot !== void 0 && this.isConnected && ((ai = kr.hostConnected) === null || ai === void 0 || ai.call(kr));
    }
    removeController(kr) {
      var qr;
      (qr = this._$ES) === null || qr === void 0 || qr.splice(this._$ES.indexOf(kr) >>> 0, 1);
    }
    _$Eg() {
      this.constructor.elementProperties.forEach((kr, qr) => {
        this.hasOwnProperty(qr) && (this._$Ei.set(qr, this[qr]), delete this[qr]);
      });
    }
    createRenderRoot() {
      var kr;
      let qr = (kr = this.shadowRoot) !== null && kr !== void 0 ? kr : this.attachShadow(this.constructor.shadowRootOptions);
      return so(qr, this.constructor.elementStyles), qr;
    }
    connectedCallback() {
      var kr;
      this.renderRoot === void 0 && (this.renderRoot = this.createRenderRoot()), this.enableUpdating(!0), (kr = this._$ES) === null || kr === void 0 || kr.forEach((qr) => {
        var ai;
        return (ai = qr.hostConnected) === null || ai === void 0 ? void 0 : ai.call(qr);
      });
    }
    enableUpdating(kr) {
    }
    disconnectedCallback() {
      var kr;
      (kr = this._$ES) === null || kr === void 0 || kr.forEach((qr) => {
        var ai;
        return (ai = qr.hostDisconnected) === null || ai === void 0 ? void 0 : ai.call(qr);
      });
    }
    attributeChangedCallback(kr, qr, ai) {
      this._$AK(kr, ai);
    }
    _$EO(kr, qr, ai = uo) {
      var gi;
      let $i = this.constructor._$Ep(kr, ai);
      if ($i !== void 0 && ai.reflect === !0) {
        let xi = (((gi = ai.converter) === null || gi === void 0 ? void 0 : gi.toAttribute) !== void 0 ? ai.converter : lo).toAttribute(qr, ai.type);
        this._$El = kr, xi == null ? this.removeAttribute($i) : this.setAttribute($i, xi), this._$El = null;
      }
    }
    _$AK(kr, qr) {
      var ai;
      let gi = this.constructor, $i = gi._$Ev.get(kr);
      if ($i !== void 0 && this._$El !== $i) {
        let xi = gi.getPropertyOptions($i), Ai = typeof xi.converter == "function" ? { fromAttribute: xi.converter } : ((ai = xi.converter) === null || ai === void 0 ? void 0 : ai.fromAttribute) !== void 0 ? xi.converter : lo;
        this._$El = $i, this[$i] = Ai.fromAttribute(qr, xi.type), this._$El = null;
      }
    }
    requestUpdate(kr, qr, ai) {
      let gi = !0;
      kr !== void 0 && (((ai = ai || this.constructor.getPropertyOptions(kr)).hasChanged || Ec)(this[kr], qr) ? (this._$AL.has(kr) || this._$AL.set(kr, qr), ai.reflect === !0 && this._$El !== kr && (this._$EC === void 0 && (this._$EC = /* @__PURE__ */ new Map()), this._$EC.set(kr, ai))) : gi = !1), !this.isUpdatePending && gi && (this._$E_ = this._$Ej());
    }
    async _$Ej() {
      this.isUpdatePending = !0;
      try {
        await this._$E_;
      } catch (qr) {
        Promise.reject(qr);
      }
      let kr = this.scheduleUpdate();
      return kr != null && await kr, !this.isUpdatePending;
    }
    scheduleUpdate() {
      return this.performUpdate();
    }
    performUpdate() {
      var kr;
      if (!this.isUpdatePending)
        return;
      this.hasUpdated, this._$Ei && (this._$Ei.forEach((gi, $i) => this[$i] = gi), this._$Ei = void 0);
      let qr = !1, ai = this._$AL;
      try {
        qr = this.shouldUpdate(ai), qr ? (this.willUpdate(ai), (kr = this._$ES) === null || kr === void 0 || kr.forEach((gi) => {
          var $i;
          return ($i = gi.hostUpdate) === null || $i === void 0 ? void 0 : $i.call(gi);
        }), this.update(ai)) : this._$Ek();
      } catch (gi) {
        throw qr = !1, this._$Ek(), gi;
      }
      qr && this._$AE(ai);
    }
    willUpdate(kr) {
    }
    _$AE(kr) {
      var qr;
      (qr = this._$ES) === null || qr === void 0 || qr.forEach((ai) => {
        var gi;
        return (gi = ai.hostUpdated) === null || gi === void 0 ? void 0 : gi.call(ai);
      }), this.hasUpdated || (this.hasUpdated = !0, this.firstUpdated(kr)), this.updated(kr);
    }
    _$Ek() {
      this._$AL = /* @__PURE__ */ new Map(), this.isUpdatePending = !1;
    }
    get updateComplete() {
      return this.getUpdateComplete();
    }
    getUpdateComplete() {
      return this._$E_;
    }
    shouldUpdate(kr) {
      return !0;
    }
    update(kr) {
      this._$EC !== void 0 && (this._$EC.forEach((qr, ai) => this._$EO(ai, this[ai], qr)), this._$EC = void 0), this._$Ek();
    }
    updated(kr) {
    }
    firstUpdated(kr) {
    }
  };
  kt$1.finalized = !0, kt$1.elementProperties = /* @__PURE__ */ new Map(), kt$1.elementStyles = [], kt$1.shadowRootOptions = { mode: "open" }, wc == null || wc({ ReactiveElement: kt$1 }), ((co = Ni.reactiveElementVersions) !== null && co !== void 0 ? co : Ni.reactiveElementVersions = []).push("1.6.1");
  var fo, Ri = window, Vr = Ri.trustedTypes, xc = Vr ? Vr.createPolicy("lit-html", { createHTML: (Kr) => Kr }) : void 0, Ut$1 = `lit$${(Math.random() + "").slice(9)}$`, Pc = "?" + Ut$1, fp = `<${Pc}>`, Qr = document, Nn$1 = (Kr = "") => Qr.createComment(Kr), Rn$1 = (Kr) => Kr === null || typeof Kr != "object" && typeof Kr != "function", Nc = Array.isArray, pp = (Kr) => Nc(Kr) || typeof (Kr == null ? void 0 : Kr[Symbol.iterator]) == "function", Pn$1 = /<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g, Oc = /-->/g, Tc = />/g, ur = RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`, "g"), Ic = /'/g, Ac = /"/g, Rc = /^(?:script|style|textarea|title)$/i, Lc = (Kr) => (kr, ...qr) => ({ _$litType$: Kr, strings: kr, values: qr }), Y$1 = Lc(1), lr = Symbol.for("lit-noChange"), Ie$1 = Symbol.for("lit-nothing"), kc = /* @__PURE__ */ new WeakMap(), Br = Qr.createTreeWalker(Qr, 129, null, !1), dp = (Kr, kr) => {
    let qr = Kr.length - 1, ai = [], gi, $i = kr === 2 ? "<svg>" : "", xi = Pn$1;
    for (let Li = 0; Li < qr; Li++) {
      let Fi = Kr[Li], Oa, So, Ns = -1, Uc = 0;
      for (; Uc < Fi.length && (xi.lastIndex = Uc, So = xi.exec(Fi), So !== null); )
        Uc = xi.lastIndex, xi === Pn$1 ? So[1] === "!--" ? xi = Oc : So[1] !== void 0 ? xi = Tc : So[2] !== void 0 ? (Rc.test(So[2]) && (gi = RegExp("</" + So[2], "g")), xi = ur) : So[3] !== void 0 && (xi = ur) : xi === ur ? So[0] === ">" ? (xi = gi ?? Pn$1, Ns = -1) : So[1] === void 0 ? Ns = -2 : (Ns = xi.lastIndex - So[2].length, Oa = So[1], xi = So[3] === void 0 ? ur : So[3] === '"' ? Ac : Ic) : xi === Ac || xi === Ic ? xi = ur : xi === Oc || xi === Tc ? xi = Pn$1 : (xi = ur, gi = void 0);
      let Kc = xi === ur && Kr[Li + 1].startsWith("/>") ? " " : "";
      $i += xi === Pn$1 ? Fi + fp : Ns >= 0 ? (ai.push(Oa), Fi.slice(0, Ns) + "$lit$" + Fi.slice(Ns) + Ut$1 + Kc) : Fi + Ut$1 + (Ns === -2 ? (ai.push(void 0), Li) : Kc);
    }
    let Ai = $i + (Kr[qr] || "<?>") + (kr === 2 ? "</svg>" : "");
    if (!Array.isArray(Kr) || !Kr.hasOwnProperty("raw"))
      throw Error("invalid template strings array");
    return [xc !== void 0 ? xc.createHTML(Ai) : Ai, ai];
  }, fr = class {
    constructor({ strings: Kr, _$litType$: kr }, qr) {
      let ai;
      this.parts = [];
      let gi = 0, $i = 0, xi = Kr.length - 1, Ai = this.parts, [Li, Fi] = dp(Kr, kr);
      if (this.el = fr.createElement(Li, qr), Br.currentNode = this.el.content, kr === 2) {
        let Oa = this.el.content, So = Oa.firstChild;
        So.remove(), Oa.append(...So.childNodes);
      }
      for (; (ai = Br.nextNode()) !== null && Ai.length < xi; ) {
        if (ai.nodeType === 1) {
          if (ai.hasAttributes()) {
            let Oa = [];
            for (let So of ai.getAttributeNames())
              if (So.endsWith("$lit$") || So.startsWith(Ut$1)) {
                let Ns = Fi[$i++];
                if (Oa.push(So), Ns !== void 0) {
                  let Uc = ai.getAttribute(Ns.toLowerCase() + "$lit$").split(Ut$1), Kc = /([.?@])?(.*)/.exec(Ns);
                  Ai.push({ type: 1, index: gi, name: Kc[2], strings: Uc, ctor: Kc[1] === "." ? ho : Kc[1] === "?" ? mo : Kc[1] === "@" ? yo : Gr });
                } else
                  Ai.push({ type: 6, index: gi });
              }
            for (let So of Oa)
              ai.removeAttribute(So);
          }
          if (Rc.test(ai.tagName)) {
            let Oa = ai.textContent.split(Ut$1), So = Oa.length - 1;
            if (So > 0) {
              ai.textContent = Vr ? Vr.emptyScript : "";
              for (let Ns = 0; Ns < So; Ns++)
                ai.append(Oa[Ns], Nn$1()), Br.nextNode(), Ai.push({ type: 2, index: ++gi });
              ai.append(Oa[So], Nn$1());
            }
          }
        } else if (ai.nodeType === 8)
          if (ai.data === Pc)
            Ai.push({ type: 2, index: gi });
          else {
            let Oa = -1;
            for (; (Oa = ai.data.indexOf(Ut$1, Oa + 1)) !== -1; )
              Ai.push({ type: 7, index: gi }), Oa += Ut$1.length - 1;
          }
        gi++;
      }
    }
    static createElement(Kr, kr) {
      let qr = Qr.createElement("template");
      return qr.innerHTML = Kr, qr;
    }
  };
  function Wr(Kr, kr, qr = Kr, ai) {
    var gi, $i, xi, Ai;
    if (kr === lr)
      return kr;
    let Li = ai !== void 0 ? (gi = qr._$Co) === null || gi === void 0 ? void 0 : gi[ai] : qr._$Cl, Fi = Rn$1(kr) ? void 0 : kr._$litDirective$;
    return (Li == null ? void 0 : Li.constructor) !== Fi && (($i = Li == null ? void 0 : Li._$AO) === null || $i === void 0 || $i.call(Li, !1), Fi === void 0 ? Li = void 0 : (Li = new Fi(Kr), Li._$AT(Kr, qr, ai)), ai !== void 0 ? ((xi = (Ai = qr)._$Co) !== null && xi !== void 0 ? xi : Ai._$Co = [])[ai] = Li : qr._$Cl = Li), Li !== void 0 && (kr = Wr(Kr, Li._$AS(Kr, kr.values), Li, ai)), kr;
  }
  var po = class {
    constructor(Kr, kr) {
      this.u = [], this._$AN = void 0, this._$AD = Kr, this._$AM = kr;
    }
    get parentNode() {
      return this._$AM.parentNode;
    }
    get _$AU() {
      return this._$AM._$AU;
    }
    v(Kr) {
      var kr;
      let { el: { content: qr }, parts: ai } = this._$AD, gi = ((kr = Kr == null ? void 0 : Kr.creationScope) !== null && kr !== void 0 ? kr : Qr).importNode(qr, !0);
      Br.currentNode = gi;
      let $i = Br.nextNode(), xi = 0, Ai = 0, Li = ai[0];
      for (; Li !== void 0; ) {
        if (xi === Li.index) {
          let Fi;
          Li.type === 2 ? Fi = new pr($i, $i.nextSibling, this, Kr) : Li.type === 1 ? Fi = new Li.ctor($i, Li.name, Li.strings, this, Kr) : Li.type === 6 && (Fi = new vo($i, this, Kr)), this.u.push(Fi), Li = ai[++Ai];
        }
        xi !== (Li == null ? void 0 : Li.index) && ($i = Br.nextNode(), xi++);
      }
      return gi;
    }
    p(Kr) {
      let kr = 0;
      for (let qr of this.u)
        qr !== void 0 && (qr.strings !== void 0 ? (qr._$AI(Kr, qr, kr), kr += qr.strings.length - 2) : qr._$AI(Kr[kr])), kr++;
    }
  }, pr = class {
    constructor(Kr, kr, qr, ai) {
      var gi;
      this.type = 2, this._$AH = Ie$1, this._$AN = void 0, this._$AA = Kr, this._$AB = kr, this._$AM = qr, this.options = ai, this._$Cm = (gi = ai == null ? void 0 : ai.isConnected) === null || gi === void 0 || gi;
    }
    get _$AU() {
      var Kr, kr;
      return (kr = (Kr = this._$AM) === null || Kr === void 0 ? void 0 : Kr._$AU) !== null && kr !== void 0 ? kr : this._$Cm;
    }
    get parentNode() {
      let Kr = this._$AA.parentNode, kr = this._$AM;
      return kr !== void 0 && Kr.nodeType === 11 && (Kr = kr.parentNode), Kr;
    }
    get startNode() {
      return this._$AA;
    }
    get endNode() {
      return this._$AB;
    }
    _$AI(Kr, kr = this) {
      Kr = Wr(this, Kr, kr), Rn$1(Kr) ? Kr === Ie$1 || Kr == null || Kr === "" ? (this._$AH !== Ie$1 && this._$AR(), this._$AH = Ie$1) : Kr !== this._$AH && Kr !== lr && this.g(Kr) : Kr._$litType$ !== void 0 ? this.$(Kr) : Kr.nodeType !== void 0 ? this.T(Kr) : pp(Kr) ? this.k(Kr) : this.g(Kr);
    }
    O(Kr, kr = this._$AB) {
      return this._$AA.parentNode.insertBefore(Kr, kr);
    }
    T(Kr) {
      this._$AH !== Kr && (this._$AR(), this._$AH = this.O(Kr));
    }
    g(Kr) {
      this._$AH !== Ie$1 && Rn$1(this._$AH) ? this._$AA.nextSibling.data = Kr : this.T(Qr.createTextNode(Kr)), this._$AH = Kr;
    }
    $(Kr) {
      var kr;
      let { values: qr, _$litType$: ai } = Kr, gi = typeof ai == "number" ? this._$AC(Kr) : (ai.el === void 0 && (ai.el = fr.createElement(ai.h, this.options)), ai);
      if (((kr = this._$AH) === null || kr === void 0 ? void 0 : kr._$AD) === gi)
        this._$AH.p(qr);
      else {
        let $i = new po(gi, this), xi = $i.v(this.options);
        $i.p(qr), this.T(xi), this._$AH = $i;
      }
    }
    _$AC(Kr) {
      let kr = kc.get(Kr.strings);
      return kr === void 0 && kc.set(Kr.strings, kr = new fr(Kr)), kr;
    }
    k(Kr) {
      Nc(this._$AH) || (this._$AH = [], this._$AR());
      let kr = this._$AH, qr, ai = 0;
      for (let gi of Kr)
        ai === kr.length ? kr.push(qr = new pr(this.O(Nn$1()), this.O(Nn$1()), this, this.options)) : qr = kr[ai], qr._$AI(gi), ai++;
      ai < kr.length && (this._$AR(qr && qr._$AB.nextSibling, ai), kr.length = ai);
    }
    _$AR(Kr = this._$AA.nextSibling, kr) {
      var qr;
      for ((qr = this._$AP) === null || qr === void 0 || qr.call(this, !1, !0, kr); Kr && Kr !== this._$AB; ) {
        let ai = Kr.nextSibling;
        Kr.remove(), Kr = ai;
      }
    }
    setConnected(Kr) {
      var kr;
      this._$AM === void 0 && (this._$Cm = Kr, (kr = this._$AP) === null || kr === void 0 || kr.call(this, Kr));
    }
  }, Gr = class {
    constructor(Kr, kr, qr, ai, gi) {
      this.type = 1, this._$AH = Ie$1, this._$AN = void 0, this.element = Kr, this.name = kr, this._$AM = ai, this.options = gi, qr.length > 2 || qr[0] !== "" || qr[1] !== "" ? (this._$AH = Array(qr.length - 1).fill(new String()), this.strings = qr) : this._$AH = Ie$1;
    }
    get tagName() {
      return this.element.tagName;
    }
    get _$AU() {
      return this._$AM._$AU;
    }
    _$AI(Kr, kr = this, qr, ai) {
      let gi = this.strings, $i = !1;
      if (gi === void 0)
        Kr = Wr(this, Kr, kr, 0), $i = !Rn$1(Kr) || Kr !== this._$AH && Kr !== lr, $i && (this._$AH = Kr);
      else {
        let xi = Kr, Ai, Li;
        for (Kr = gi[0], Ai = 0; Ai < gi.length - 1; Ai++)
          Li = Wr(this, xi[qr + Ai], kr, Ai), Li === lr && (Li = this._$AH[Ai]), $i || ($i = !Rn$1(Li) || Li !== this._$AH[Ai]), Li === Ie$1 ? Kr = Ie$1 : Kr !== Ie$1 && (Kr += (Li ?? "") + gi[Ai + 1]), this._$AH[Ai] = Li;
      }
      $i && !ai && this.j(Kr);
    }
    j(Kr) {
      Kr === Ie$1 ? this.element.removeAttribute(this.name) : this.element.setAttribute(this.name, Kr ?? "");
    }
  }, ho = class extends Gr {
    constructor() {
      super(...arguments), this.type = 3;
    }
    j(Kr) {
      this.element[this.name] = Kr === Ie$1 ? void 0 : Kr;
    }
  }, hp = Vr ? Vr.emptyScript : "", mo = class extends Gr {
    constructor() {
      super(...arguments), this.type = 4;
    }
    j(Kr) {
      Kr && Kr !== Ie$1 ? this.element.setAttribute(this.name, hp) : this.element.removeAttribute(this.name);
    }
  }, yo = class extends Gr {
    constructor(Kr, kr, qr, ai, gi) {
      super(Kr, kr, qr, ai, gi), this.type = 5;
    }
    _$AI(Kr, kr = this) {
      var qr;
      if ((Kr = (qr = Wr(this, Kr, kr, 0)) !== null && qr !== void 0 ? qr : Ie$1) === lr)
        return;
      let ai = this._$AH, gi = Kr === Ie$1 && ai !== Ie$1 || Kr.capture !== ai.capture || Kr.once !== ai.once || Kr.passive !== ai.passive, $i = Kr !== Ie$1 && (ai === Ie$1 || gi);
      gi && this.element.removeEventListener(this.name, this, ai), $i && this.element.addEventListener(this.name, this, Kr), this._$AH = Kr;
    }
    handleEvent(Kr) {
      var kr, qr;
      typeof this._$AH == "function" ? this._$AH.call((qr = (kr = this.options) === null || kr === void 0 ? void 0 : kr.host) !== null && qr !== void 0 ? qr : this.element, Kr) : this._$AH.handleEvent(Kr);
    }
  }, vo = class {
    constructor(Kr, kr, qr) {
      this.element = Kr, this.type = 6, this._$AN = void 0, this._$AM = kr, this.options = qr;
    }
    get _$AU() {
      return this._$AM._$AU;
    }
    _$AI(Kr) {
      Wr(this, Kr);
    }
  }, Dc = Ri.litHtmlPolyfillSupport;
  Dc == null || Dc(fr, pr), ((fo = Ri.litHtmlVersions) !== null && fo !== void 0 ? fo : Ri.litHtmlVersions = []).push("2.6.1");
  var Fc = (Kr, kr, qr) => {
    var ai, gi;
    let $i = (ai = qr == null ? void 0 : qr.renderBefore) !== null && ai !== void 0 ? ai : kr, xi = $i._$litPart$;
    if (xi === void 0) {
      let Ai = (gi = qr == null ? void 0 : qr.renderBefore) !== null && gi !== void 0 ? gi : null;
      $i._$litPart$ = xi = new pr(kr.insertBefore(Nn$1(), Ai), Ai, void 0, qr ?? {});
    }
    return xi._$AI(Kr), xi;
  }, go, bo, qt$1 = class extends kt$1 {
    constructor() {
      super(...arguments), this.renderOptions = { host: this }, this._$Do = void 0;
    }
    createRenderRoot() {
      var kr, qr;
      let ai = super.createRenderRoot();
      return (kr = (qr = this.renderOptions).renderBefore) !== null && kr !== void 0 || (qr.renderBefore = ai.firstChild), ai;
    }
    update(kr) {
      let qr = this.render();
      this.hasUpdated || (this.renderOptions.isConnected = this.isConnected), super.update(kr), this._$Do = Fc(qr, this.renderRoot, this.renderOptions);
    }
    connectedCallback() {
      var kr;
      super.connectedCallback(), (kr = this._$Do) === null || kr === void 0 || kr.setConnected(!0);
    }
    disconnectedCallback() {
      var kr;
      super.disconnectedCallback(), (kr = this._$Do) === null || kr === void 0 || kr.setConnected(!1);
    }
    render() {
      return lr;
    }
  };
  qt$1.finalized = !0, qt$1._$litElement$ = !0, (go = globalThis.litElementHydrateSupport) === null || go === void 0 || go.call(globalThis, { LitElement: qt$1 });
  var $c = globalThis.litElementPolyfillSupport;
  $c == null || $c({ LitElement: qt$1 });
  ((bo = globalThis.litElementVersions) !== null && bo !== void 0 ? bo : globalThis.litElementVersions = []).push("3.2.2");
  var Mc = (Kr) => (kr) => typeof kr == "function" ? ((qr, ai) => (customElements.define(qr, ai), ai))(Kr, kr) : ((qr, ai) => {
    let { kind: gi, elements: $i } = ai;
    return { kind: gi, elements: $i, finisher(xi) {
      customElements.define(qr, xi);
    } };
  })(Kr, kr), mp = (Kr, kr) => kr.kind === "method" && kr.descriptor && !("value" in kr.descriptor) ? { ...kr, finisher(qr) {
    qr.createProperty(kr.key, Kr);
  } } : { kind: "field", key: Symbol(), placement: "own", descriptor: {}, originalKey: kr.key, initializer() {
    typeof kr.initializer == "function" && (this[kr.key] = kr.initializer.call(this));
  }, finisher(qr) {
    qr.createProperty(kr.key, Kr);
  } };
  function lt$1(Kr) {
    return (kr, qr) => qr !== void 0 ? ((ai, gi, $i) => {
      gi.constructor.createProperty($i, ai);
    })(Kr, kr, qr) : mp(Kr, kr);
  }
  function Bt$1(Kr) {
    return lt$1({ ...Kr, state: !0 });
  }
  var Co;
  ((Co = window.HTMLSlotElement) === null || Co === void 0 ? void 0 : Co.prototype.assignedElements) != null;
  function gp(Kr, kr, qr, ai) {
    return new (qr || (qr = Promise))(function(gi, $i) {
      function xi(Fi) {
        try {
          Li(ai.next(Fi));
        } catch (Oa) {
          $i(Oa);
        }
      }
      function Ai(Fi) {
        try {
          Li(ai.throw(Fi));
        } catch (Oa) {
          $i(Oa);
        }
      }
      function Li(Fi) {
        var Oa;
        Fi.done ? gi(Fi.value) : (Oa = Fi.value, Oa instanceof qr ? Oa : new qr(function(So) {
          So(Oa);
        })).then(xi, Ai);
      }
      Li((ai = ai.apply(Kr, kr || [])).next());
    });
  }
  var D$1 = class {
    constructor(kr, qr = ZBarConfigType.ZBAR_CFG_ENABLE, ai = 1) {
      this.symbolType = kr, this.configType = qr, this.number = ai, this.configSteps = [this];
    }
    static register(kr, qr, ai = qr.symbolType) {
      return D$1.formatsToConfigs[kr] = qr, D$1.typesToFormats[ai] = D$1.typesToFormats[ai] || kr, qr;
    }
    static formats() {
      return Object.keys(D$1.formatsToConfigs);
    }
    static toFormat(kr) {
      return D$1.typesToFormats[kr];
    }
    static configure(kr, qr) {
      var ai;
      (ai = D$1.formatsToConfigs[qr]) === null || ai === void 0 || ai.configSteps.forEach((gi) => kr.setConfig(gi.symbolType, gi.configType, gi.number));
    }
    add(kr) {
      return this.configSteps.push(kr), this;
    }
  }, jc;
  D$1.formatsToConfigs = {}, D$1.typesToFormats = {}, D$1.register("codabar", new D$1(ZBarSymbolType.ZBAR_CODABAR)), D$1.register("code_39", new D$1(ZBarSymbolType.ZBAR_CODE39)), D$1.register("code_93", new D$1(ZBarSymbolType.ZBAR_CODE93)), D$1.register("code_128", new D$1(ZBarSymbolType.ZBAR_CODE128)), D$1.register("databar", new D$1(ZBarSymbolType.ZBAR_DATABAR)), D$1.register("databar_exp", new D$1(ZBarSymbolType.ZBAR_DATABAR_EXP)), D$1.register("ean_2", new D$1(ZBarSymbolType.ZBAR_EAN2)), D$1.register("ean_5", new D$1(ZBarSymbolType.ZBAR_EAN5)), D$1.register("ean_8", new D$1(ZBarSymbolType.ZBAR_EAN8)), D$1.register("ean_13", new D$1(ZBarSymbolType.ZBAR_EAN13)), D$1.register("ean_13+2", new D$1(ZBarSymbolType.ZBAR_EAN13)).add(new D$1(ZBarSymbolType.ZBAR_EAN2)), D$1.register("ean_13+5", new D$1(ZBarSymbolType.ZBAR_EAN13)).add(new D$1(ZBarSymbolType.ZBAR_EAN5)), D$1.register("isbn_10", new D$1(ZBarSymbolType.ZBAR_ISBN10)).add(new D$1(ZBarSymbolType.ZBAR_EAN13)), D$1.register("isbn_13", new D$1(ZBarSymbolType.ZBAR_ISBN13)).add(new D$1(ZBarSymbolType.ZBAR_EAN13)), D$1.register("isbn_13+2", new D$1(ZBarSymbolType.ZBAR_ISBN13)).add(new D$1(ZBarSymbolType.ZBAR_EAN13)).add(new D$1(ZBarSymbolType.ZBAR_EAN2)), D$1.register("isbn_13+5", new D$1(ZBarSymbolType.ZBAR_ISBN13)).add(new D$1(ZBarSymbolType.ZBAR_EAN13)).add(new D$1(ZBarSymbolType.ZBAR_EAN5)), D$1.register("itf", new D$1(ZBarSymbolType.ZBAR_I25)), D$1.register("qr_code", new D$1(ZBarSymbolType.ZBAR_QRCODE)), D$1.register("sq_code", new D$1(ZBarSymbolType.ZBAR_SQCODE)), D$1.register("upc_a", new D$1(ZBarSymbolType.ZBAR_UPCA)).add(new D$1(ZBarSymbolType.ZBAR_EAN13)), D$1.register("upc_e", new D$1(ZBarSymbolType.ZBAR_UPCE)).add(new D$1(ZBarSymbolType.ZBAR_EAN13)), function(Kr) {
    Kr[Kr.UNKNOWN = -1] = "UNKNOWN", Kr[Kr.UPRIGHT = 0] = "UPRIGHT", Kr[Kr.ROTATED_RIGHT = 1] = "ROTATED_RIGHT", Kr[Kr.UPSIDE_DOWN = 2] = "UPSIDE_DOWN", Kr[Kr.ROTATED_LEFT = 3] = "ROTATED_LEFT";
  }(jc || (jc = {}));
  var _o = class {
  }, bp = (() => {
    try {
      return new OffscreenCanvas(1, 1).getContext("2d") instanceof OffscreenCanvasRenderingContext2D;
    } catch {
      return !1;
    }
  })(), Vt$1 = class {
    constructor(kr = {}) {
      if (kr.formats !== void 0) {
        if (!Array.isArray(kr.formats) || !kr.formats.length)
          throw new TypeError(`Barcode formats should be a non-empty array of strings but are: ${JSON.stringify(kr)}`);
        let qr = kr.formats.filter((ai) => !D$1.formats().includes(ai));
        if (qr.length)
          throw new TypeError(`Unsupported barcode format(s): ${qr.join(", ")}`);
      }
      this.formats = kr.formats || D$1.formats(), this.zbarConfig = kr.zbar || new _o();
    }
    static getSupportedFormats() {
      return Promise.resolve(D$1.formats());
    }
    detect(kr) {
      if (!Vt$1.isImageBitmapSource(kr))
        throw new TypeError("BarcodeDetector.detect() argument is not an ImageBitmapSource");
      let qr = Vt$1.intrinsicDimensions(kr);
      if (qr.width === 0 || qr.height === 0)
        return Promise.resolve([]);
      try {
        return Promise.all([this.toImageData(kr), this.getScanner()]).then((ai) => {
          let gi = ai[0], $i = ai[1];
          return this.zbarConfig.enableCache !== void 0 && $i.enableCache(this.zbarConfig.enableCache), scanRGBABuffer(gi.data, gi.width, gi.height, $i);
        }).then((ai) => ai.map((gi) => this.toBarcodeDetectorResult(gi)));
      } catch (ai) {
        return Promise.reject(ai);
      }
    }
    getScanner() {
      return new Promise((kr, qr) => gp(this, void 0, void 0, function* () {
        if (!this.scanner) {
          let ai = yield ZBarScanner.create();
          this.formats.length > 0 && (ai.setConfig(ZBarSymbolType.ZBAR_NONE, ZBarConfigType.ZBAR_CFG_ENABLE, 0), this.formats.forEach((gi) => D$1.configure(ai, gi))), this.scanner = ai;
        }
        kr(this.scanner);
      }));
    }
    toImageData(kr) {
      let qr = (ai) => {
        let gi = Vt$1.intrinsicDimensions(ai);
        this.canvas && this.canvas.width === gi.width && this.canvas.height === gi.height || (this.canvas = function(Ai, Li) {
          if (bp)
            return new OffscreenCanvas(Ai, Li);
          {
            let Fi = document.createElement("canvas");
            return Fi.width = Ai, Fi.height = Li, Fi;
          }
        }(gi.width, gi.height));
        let $i = this.canvas, xi = $i.getContext("2d");
        return xi.drawImage(ai, 0, 0), xi.getImageData(0, 0, $i.width, $i.height);
      };
      if (kr instanceof ImageData)
        return Promise.resolve(kr);
      if (kr instanceof Blob) {
        let ai = document.createElement("img");
        return ai.src = URL.createObjectURL(kr), ai.decode().then(() => qr(ai)).finally(() => URL.revokeObjectURL(ai.src));
      }
      return kr instanceof CanvasRenderingContext2D ? Promise.resolve(kr.getImageData(0, 0, kr.canvas.width, kr.canvas.height)) : Promise.resolve(qr(kr));
    }
    toBarcodeDetectorResult(kr) {
      let qr = { minX: 1 / 0, maxX: -1 / 0, minY: 1 / 0, maxY: -1 / 0 };
      return kr.points.forEach((ai) => {
        qr.minX = Math.min(qr.minX, ai.x), qr.maxX = Math.max(qr.maxX, ai.x), qr.minY = Math.min(qr.minY, ai.y), qr.maxY = Math.max(qr.maxY, ai.y);
      }), { format: D$1.toFormat(kr.type), rawValue: kr.decode(this.zbarConfig.encoding), orientation: kr.orientation, quality: kr.quality, boundingBox: DOMRectReadOnly.fromRect({ x: qr.minX, y: qr.minY, width: qr.maxX - qr.minX, height: qr.maxY - qr.minY }), cornerPoints: [{ x: qr.minX, y: qr.minY }, { x: qr.maxX, y: qr.minY }, { x: qr.maxX, y: qr.maxY }, { x: qr.minX, y: qr.maxY }] };
    }
    static isImageBitmapSource(kr) {
      return kr instanceof HTMLImageElement || kr instanceof HTMLVideoElement || kr instanceof HTMLCanvasElement || kr instanceof Blob || kr instanceof ImageData || kr instanceof CanvasRenderingContext2D || kr instanceof ImageBitmap || kr && kr.width == 0 || kr && kr.height == 0;
    }
    static intrinsicDimensions(kr) {
      return { width: Number(kr.naturalWidth || kr.videoWidth || kr.width), height: Number(kr.naturalHeight || kr.videoHeight || kr.height) };
    }
  }, du = up(pu(), 1), { __extends: ye$1, __assign: v$2, __rest: wt$1, __decorate: xh, __param: Oh, __esDecorate: Th, __runInitializers: Ih, __propKey: Ah, __setFunctionName: kh, __metadata: Dh, __awaiter: ft$1, __generator: pt$1, __exportStar: Ph, __createBinding: Nh, __values: Rh, __read: Lh, __spread: Fh, __spreadArrays: $h, __spreadArray: Qt$1, __await: Mh, __asyncGenerator: jh, __asyncDelegator: Uh, __asyncValues: qh, __makeTemplateObject: Bh, __importStar: Vh, __importDefault: Qh, __classPrivateFieldGet: Wh, __classPrivateFieldSet: Gh, __classPrivateFieldIn: Kh } = du.default, wo = "Invariant Violation", hu = Object.setPrototypeOf, Cp = hu === void 0 ? function(Kr, kr) {
    return Kr.__proto__ = kr, Kr;
  } : hu, j$1 = function(Kr) {
    ye$1(kr, Kr);
    function kr(qr) {
      qr === void 0 && (qr = wo);
      var ai = Kr.call(this, typeof qr == "number" ? wo + ": " + qr + " (see https://github.com/apollographql/invariant-packages)" : qr) || this;
      return ai.framesToPop = 1, ai.name = wo, Cp(ai, kr.prototype), ai;
    }
    return kr;
  }(Error);
  function T$1(Kr, kr) {
    if (!Kr)
      throw new j$1(kr);
  }
  var ji = ["debug", "log", "warn", "error", "silent"], Eo = ji.indexOf("log");
  function Mi(Kr) {
    return function() {
      if (ji.indexOf(Kr) >= Eo) {
        var kr = console[Kr] || console.log;
        return kr.apply(console, arguments);
      }
    };
  }
  (function(Kr) {
    Kr.debug = Mi("debug"), Kr.log = Mi("log"), Kr.warn = Mi("warn"), Kr.error = Mi("error");
  })(T$1 || (T$1 = {}));
  function mu(Kr) {
    var kr = ji[Eo];
    return Eo = Math.max(0, ji.indexOf(Kr)), kr;
  }
  function Ae$1(Kr) {
    try {
      return Kr();
    } catch {
    }
  }
  var Ui = Ae$1(function() {
    return globalThis;
  }) || Ae$1(function() {
    return window;
  }) || Ae$1(function() {
    return self;
  }) || Ae$1(function() {
    return global;
  }) || Ae$1(function() {
    return Ae$1.constructor("return this")();
  }), yu = "__", vu = [yu, yu].join("DEV");
  function _p() {
    try {
      return !!__DEV__;
    } catch {
      return Object.defineProperty(Ui, vu, { value: Ae$1(function() {
        return "production";
      }) !== "production", enumerable: !1, configurable: !0, writable: !0 }), Ui[vu];
    }
  }
  var dr = _p();
  function Wt$1(Kr) {
    try {
      return Kr();
    } catch {
    }
  }
  var xo = Wt$1(function() {
    return globalThis;
  }) || Wt$1(function() {
    return window;
  }) || Wt$1(function() {
    return self;
  }) || Wt$1(function() {
    return global;
  }) || Wt$1(function() {
    return Wt$1.constructor("return this")();
  }), Oo = !1;
  function Sp() {
    xo && !Wt$1(function() {
      return "production";
    }) && !Wt$1(function() {
      return process;
    }) && (Object.defineProperty(xo, "process", { value: { env: { NODE_ENV: "production" } }, configurable: !0, enumerable: !1, writable: !0 }), Oo = !0);
  }
  Sp();
  function To() {
    Oo && (delete xo.process, Oo = !1);
  }
  var gu = typeof Symbol == "function" && Symbol.toStringTag != null ? Symbol.toStringTag : "@@toStringTag", _e$1 = Object.freeze({ NAME: "Name", DOCUMENT: "Document", OPERATION_DEFINITION: "OperationDefinition", VARIABLE_DEFINITION: "VariableDefinition", SELECTION_SET: "SelectionSet", FIELD: "Field", ARGUMENT: "Argument", FRAGMENT_SPREAD: "FragmentSpread", INLINE_FRAGMENT: "InlineFragment", FRAGMENT_DEFINITION: "FragmentDefinition", VARIABLE: "Variable", INT: "IntValue", FLOAT: "FloatValue", STRING: "StringValue", BOOLEAN: "BooleanValue", NULL: "NullValue", ENUM: "EnumValue", LIST: "ListValue", OBJECT: "ObjectValue", OBJECT_FIELD: "ObjectField", DIRECTIVE: "Directive", NAMED_TYPE: "NamedType", LIST_TYPE: "ListType", NON_NULL_TYPE: "NonNullType", SCHEMA_DEFINITION: "SchemaDefinition", OPERATION_TYPE_DEFINITION: "OperationTypeDefinition", SCALAR_TYPE_DEFINITION: "ScalarTypeDefinition", OBJECT_TYPE_DEFINITION: "ObjectTypeDefinition", FIELD_DEFINITION: "FieldDefinition", INPUT_VALUE_DEFINITION: "InputValueDefinition", INTERFACE_TYPE_DEFINITION: "InterfaceTypeDefinition", UNION_TYPE_DEFINITION: "UnionTypeDefinition", ENUM_TYPE_DEFINITION: "EnumTypeDefinition", ENUM_VALUE_DEFINITION: "EnumValueDefinition", INPUT_OBJECT_TYPE_DEFINITION: "InputObjectTypeDefinition", DIRECTIVE_DEFINITION: "DirectiveDefinition", SCHEMA_EXTENSION: "SchemaExtension", SCALAR_TYPE_EXTENSION: "ScalarTypeExtension", OBJECT_TYPE_EXTENSION: "ObjectTypeExtension", INTERFACE_TYPE_EXTENSION: "InterfaceTypeExtension", UNION_TYPE_EXTENSION: "UnionTypeExtension", ENUM_TYPE_EXTENSION: "EnumTypeExtension", INPUT_OBJECT_TYPE_EXTENSION: "InputObjectTypeExtension" });
  function Io(Kr, kr) {
    var qr = !!Kr;
    if (!qr)
      throw new Error(kr ?? "Unexpected invariant triggered.");
  }
  var wp = typeof Symbol == "function" && typeof Symbol.for == "function" ? Symbol.for("nodejs.util.inspect.custom") : void 0, Fn$1 = wp;
  function qi(Kr) {
    var kr = Kr.prototype.toJSON;
    typeof kr == "function" || Io(0), Kr.prototype.inspect = kr, Fn$1 && (Kr.prototype[Fn$1] = kr);
  }
  var bu = function() {
    function Kr(qr, ai, gi) {
      this.start = qr.start, this.end = ai.end, this.startToken = qr, this.endToken = ai, this.source = gi;
    }
    var kr = Kr.prototype;
    return kr.toJSON = function() {
      return { start: this.start, end: this.end };
    }, Kr;
  }();
  qi(bu);
  var Cu = function() {
    function Kr(qr, ai, gi, $i, xi, Ai, Li) {
      this.kind = qr, this.start = ai, this.end = gi, this.line = $i, this.column = xi, this.value = Li, this.prev = Ai, this.next = null;
    }
    var kr = Kr.prototype;
    return kr.toJSON = function() {
      return { kind: this.kind, value: this.value, line: this.line, column: this.column };
    }, Kr;
  }();
  qi(Cu);
  function Ao(Kr) {
    return Kr != null && typeof Kr.kind == "string";
  }
  function Bi(Kr) {
    return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? Bi = function(kr) {
      return typeof kr;
    } : Bi = function(kr) {
      return kr && typeof Symbol == "function" && kr.constructor === Symbol && kr !== Symbol.prototype ? "symbol" : typeof kr;
    }, Bi(Kr);
  }
  var Ep = 10, _u = 2;
  function $n$1(Kr) {
    return Vi(Kr, []);
  }
  function Vi(Kr, kr) {
    switch (Bi(Kr)) {
      case "string":
        return JSON.stringify(Kr);
      case "function":
        return Kr.name ? "[function ".concat(Kr.name, "]") : "[function]";
      case "object":
        return Kr === null ? "null" : xp(Kr, kr);
      default:
        return String(Kr);
    }
  }
  function xp(Kr, kr) {
    if (kr.indexOf(Kr) !== -1)
      return "[Circular]";
    var qr = [].concat(kr, [Kr]), ai = Ip(Kr);
    if (ai !== void 0) {
      var gi = ai.call(Kr);
      if (gi !== Kr)
        return typeof gi == "string" ? gi : Vi(gi, qr);
    } else if (Array.isArray(Kr))
      return Tp(Kr, qr);
    return Op(Kr, qr);
  }
  function Op(Kr, kr) {
    var qr = Object.keys(Kr);
    if (qr.length === 0)
      return "{}";
    if (kr.length > _u)
      return "[" + Ap(Kr) + "]";
    var ai = qr.map(function(gi) {
      var $i = Vi(Kr[gi], kr);
      return gi + ": " + $i;
    });
    return "{ " + ai.join(", ") + " }";
  }
  function Tp(Kr, kr) {
    if (Kr.length === 0)
      return "[]";
    if (kr.length > _u)
      return "[Array]";
    for (var qr = Math.min(Ep, Kr.length), ai = Kr.length - qr, gi = [], $i = 0; $i < qr; ++$i)
      gi.push(Vi(Kr[$i], kr));
    return ai === 1 ? gi.push("... 1 more item") : ai > 1 && gi.push("... ".concat(ai, " more items")), "[" + gi.join(", ") + "]";
  }
  function Ip(Kr) {
    var kr = Kr[String(Fn$1)];
    if (typeof kr == "function")
      return kr;
    if (typeof Kr.inspect == "function")
      return Kr.inspect;
  }
  function Ap(Kr) {
    var kr = Object.prototype.toString.call(Kr).replace(/^\[object /, "").replace(/]$/, "");
    if (kr === "Object" && typeof Kr.constructor == "function") {
      var qr = Kr.constructor.name;
      if (typeof qr == "string" && qr !== "")
        return qr;
    }
    return kr;
  }
  function Mn$1(Kr, kr) {
    var qr = !!Kr;
    if (!qr)
      throw new Error(kr);
  }
  function Su(Kr, kr) {
    for (var qr = 0; qr < kr.length; qr++) {
      var ai = kr[qr];
      ai.enumerable = ai.enumerable || !1, ai.configurable = !0, "value" in ai && (ai.writable = !0), Object.defineProperty(Kr, ai.key, ai);
    }
  }
  function kp(Kr, kr, qr) {
    return kr && Su(Kr.prototype, kr), qr && Su(Kr, qr), Kr;
  }
  var Qi = function() {
    function Kr(kr) {
      var qr = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "GraphQL request", ai = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : { line: 1, column: 1 };
      typeof kr == "string" || Mn$1(0, "Body must be a string. Received: ".concat($n$1(kr), ".")), this.body = kr, this.name = qr, this.locationOffset = ai, this.locationOffset.line > 0 || Mn$1(0, "line in locationOffset is 1-indexed and must be positive."), this.locationOffset.column > 0 || Mn$1(0, "column in locationOffset is 1-indexed and must be positive.");
    }
    return kp(Kr, [{ key: gu, get: function() {
      return "Source";
    } }]), Kr;
  }();
  function wu(Kr) {
    var kr = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "", qr = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1, ai = Kr.indexOf(`
`) === -1, gi = Kr[0] === " " || Kr[0] === "	", $i = Kr[Kr.length - 1] === '"', xi = Kr[Kr.length - 1] === "\\", Ai = !ai || $i || xi || qr, Li = "";
    return Ai && !(ai && gi) && (Li += `
` + kr), Li += kr ? Kr.replace(/\n/g, `
` + kr) : Kr, Ai && (Li += `
`), '"""' + Li.replace(/"""/g, '\\"""') + '"""';
  }
  var Dp = { Name: [], Document: ["definitions"], OperationDefinition: ["name", "variableDefinitions", "directives", "selectionSet"], VariableDefinition: ["variable", "type", "defaultValue", "directives"], Variable: ["name"], SelectionSet: ["selections"], Field: ["alias", "name", "arguments", "directives", "selectionSet"], Argument: ["name", "value"], FragmentSpread: ["name", "directives"], InlineFragment: ["typeCondition", "directives", "selectionSet"], FragmentDefinition: ["name", "variableDefinitions", "typeCondition", "directives", "selectionSet"], IntValue: [], FloatValue: [], StringValue: [], BooleanValue: [], NullValue: [], EnumValue: [], ListValue: ["values"], ObjectValue: ["fields"], ObjectField: ["name", "value"], Directive: ["name", "arguments"], NamedType: ["name"], ListType: ["type"], NonNullType: ["type"], SchemaDefinition: ["description", "directives", "operationTypes"], OperationTypeDefinition: ["type"], ScalarTypeDefinition: ["description", "name", "directives"], ObjectTypeDefinition: ["description", "name", "interfaces", "directives", "fields"], FieldDefinition: ["description", "name", "arguments", "type", "directives"], InputValueDefinition: ["description", "name", "type", "defaultValue", "directives"], InterfaceTypeDefinition: ["description", "name", "interfaces", "directives", "fields"], UnionTypeDefinition: ["description", "name", "directives", "types"], EnumTypeDefinition: ["description", "name", "directives", "values"], EnumValueDefinition: ["description", "name", "directives"], InputObjectTypeDefinition: ["description", "name", "directives", "fields"], DirectiveDefinition: ["description", "name", "arguments", "locations"], SchemaExtension: ["directives", "operationTypes"], ScalarTypeExtension: ["name", "directives"], ObjectTypeExtension: ["name", "interfaces", "directives", "fields"], InterfaceTypeExtension: ["name", "interfaces", "directives", "fields"], UnionTypeExtension: ["name", "directives", "types"], EnumTypeExtension: ["name", "directives", "values"], InputObjectTypeExtension: ["name", "directives", "fields"] }, hr = Object.freeze({});
  function Fe$1(Kr, kr) {
    var qr = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : Dp, ai = void 0, gi = Array.isArray(Kr), $i = [Kr], xi = -1, Ai = [], Li = void 0, Fi = void 0, Oa = void 0, So = [], Ns = [], Uc = Kr;
    do {
      xi++;
      var Kc = xi === $i.length, Bc = Kc && Ai.length !== 0;
      if (Kc) {
        if (Fi = Ns.length === 0 ? void 0 : So[So.length - 1], Li = Oa, Oa = Ns.pop(), Bc) {
          if (gi)
            Li = Li.slice();
          else {
            for (var Wc = {}, Vc = 0, qc = Object.keys(Li); Vc < qc.length; Vc++) {
              var Qc = qc[Vc];
              Wc[Qc] = Li[Qc];
            }
            Li = Wc;
          }
          for (var zc = 0, Yc = 0; Yc < Ai.length; Yc++) {
            var Xc = Ai[Yc][0], Hc = Ai[Yc][1];
            gi && (Xc -= zc), gi && Hc === null ? (Li.splice(Xc, 1), zc++) : Li[Xc] = Hc;
          }
        }
        xi = ai.index, $i = ai.keys, Ai = ai.edits, gi = ai.inArray, ai = ai.prev;
      } else {
        if (Fi = Oa ? gi ? xi : $i[xi] : void 0, Li = Oa ? Oa[Fi] : Uc, Li == null)
          continue;
        Oa && So.push(Fi);
      }
      var eu = void 0;
      if (!Array.isArray(Li)) {
        if (!Ao(Li))
          throw new Error("Invalid AST Node: ".concat($n$1(Li), "."));
        var nu = ko(kr, Li.kind, Kc);
        if (nu) {
          if (eu = nu.call(kr, Li, Fi, Oa, So, Ns), eu === hr)
            break;
          if (eu === !1) {
            if (!Kc) {
              So.pop();
              continue;
            }
          } else if (eu !== void 0 && (Ai.push([Fi, eu]), !Kc))
            if (Ao(eu))
              Li = eu;
            else {
              So.pop();
              continue;
            }
        }
      }
      if (eu === void 0 && Bc && Ai.push([Fi, Li]), Kc)
        So.pop();
      else {
        var su;
        ai = { inArray: gi, index: xi, keys: $i, edits: Ai, prev: ai }, gi = Array.isArray(Li), $i = gi ? Li : (su = qr[Li.kind]) !== null && su !== void 0 ? su : [], xi = -1, Ai = [], Oa && Ns.push(Oa), Oa = Li;
      }
    } while (ai !== void 0);
    return Ai.length !== 0 && (Uc = Ai[Ai.length - 1][1]), Uc;
  }
  function ko(Kr, kr, qr) {
    var ai = Kr[kr];
    if (ai) {
      if (!qr && typeof ai == "function")
        return ai;
      var gi = qr ? ai.leave : ai.enter;
      if (typeof gi == "function")
        return gi;
    } else {
      var $i = qr ? Kr.leave : Kr.enter;
      if ($i) {
        if (typeof $i == "function")
          return $i;
        var xi = $i[kr];
        if (typeof xi == "function")
          return xi;
      }
    }
  }
  function zr(Kr) {
    return Fe$1(Kr, { leave: Np });
  }
  var Pp = 80, Np = { Name: function(Kr) {
    return Kr.value;
  }, Variable: function(Kr) {
    return "$" + Kr.name;
  }, Document: function(Kr) {
    return N$1(Kr.definitions, `

`) + `
`;
  }, OperationDefinition: function(Kr) {
    var kr = Kr.operation, qr = Kr.name, ai = pe$1("(", N$1(Kr.variableDefinitions, ", "), ")"), gi = N$1(Kr.directives, " "), $i = Kr.selectionSet;
    return !qr && !gi && !ai && kr === "query" ? $i : N$1([kr, N$1([qr, ai]), gi, $i], " ");
  }, VariableDefinition: function(Kr) {
    var kr = Kr.variable, qr = Kr.type, ai = Kr.defaultValue, gi = Kr.directives;
    return kr + ": " + qr + pe$1(" = ", ai) + pe$1(" ", N$1(gi, " "));
  }, SelectionSet: function(Kr) {
    var kr = Kr.selections;
    return ht$1(kr);
  }, Field: function(Kr) {
    var kr = Kr.alias, qr = Kr.name, ai = Kr.arguments, gi = Kr.directives, $i = Kr.selectionSet, xi = pe$1("", kr, ": ") + qr, Ai = xi + pe$1("(", N$1(ai, ", "), ")");
    return Ai.length > Pp && (Ai = xi + pe$1(`(
`, Wi(N$1(ai, `
`)), `
)`)), N$1([Ai, N$1(gi, " "), $i], " ");
  }, Argument: function(Kr) {
    var kr = Kr.name, qr = Kr.value;
    return kr + ": " + qr;
  }, FragmentSpread: function(Kr) {
    var kr = Kr.name, qr = Kr.directives;
    return "..." + kr + pe$1(" ", N$1(qr, " "));
  }, InlineFragment: function(Kr) {
    var kr = Kr.typeCondition, qr = Kr.directives, ai = Kr.selectionSet;
    return N$1(["...", pe$1("on ", kr), N$1(qr, " "), ai], " ");
  }, FragmentDefinition: function(Kr) {
    var kr = Kr.name, qr = Kr.typeCondition, ai = Kr.variableDefinitions, gi = Kr.directives, $i = Kr.selectionSet;
    return "fragment ".concat(kr).concat(pe$1("(", N$1(ai, ", "), ")"), " ") + "on ".concat(qr, " ").concat(pe$1("", N$1(gi, " "), " ")) + $i;
  }, IntValue: function(Kr) {
    var kr = Kr.value;
    return kr;
  }, FloatValue: function(Kr) {
    var kr = Kr.value;
    return kr;
  }, StringValue: function(Kr, kr) {
    var qr = Kr.value, ai = Kr.block;
    return ai ? wu(qr, kr === "description" ? "" : "  ") : JSON.stringify(qr);
  }, BooleanValue: function(Kr) {
    var kr = Kr.value;
    return kr ? "true" : "false";
  }, NullValue: function() {
    return "null";
  }, EnumValue: function(Kr) {
    var kr = Kr.value;
    return kr;
  }, ListValue: function(Kr) {
    var kr = Kr.values;
    return "[" + N$1(kr, ", ") + "]";
  }, ObjectValue: function(Kr) {
    var kr = Kr.fields;
    return "{" + N$1(kr, ", ") + "}";
  }, ObjectField: function(Kr) {
    var kr = Kr.name, qr = Kr.value;
    return kr + ": " + qr;
  }, Directive: function(Kr) {
    var kr = Kr.name, qr = Kr.arguments;
    return "@" + kr + pe$1("(", N$1(qr, ", "), ")");
  }, NamedType: function(Kr) {
    var kr = Kr.name;
    return kr;
  }, ListType: function(Kr) {
    var kr = Kr.type;
    return "[" + kr + "]";
  }, NonNullType: function(Kr) {
    var kr = Kr.type;
    return kr + "!";
  }, SchemaDefinition: dt$1(function(Kr) {
    var kr = Kr.directives, qr = Kr.operationTypes;
    return N$1(["schema", N$1(kr, " "), ht$1(qr)], " ");
  }), OperationTypeDefinition: function(Kr) {
    var kr = Kr.operation, qr = Kr.type;
    return kr + ": " + qr;
  }, ScalarTypeDefinition: dt$1(function(Kr) {
    var kr = Kr.name, qr = Kr.directives;
    return N$1(["scalar", kr, N$1(qr, " ")], " ");
  }), ObjectTypeDefinition: dt$1(function(Kr) {
    var kr = Kr.name, qr = Kr.interfaces, ai = Kr.directives, gi = Kr.fields;
    return N$1(["type", kr, pe$1("implements ", N$1(qr, " & ")), N$1(ai, " "), ht$1(gi)], " ");
  }), FieldDefinition: dt$1(function(Kr) {
    var kr = Kr.name, qr = Kr.arguments, ai = Kr.type, gi = Kr.directives;
    return kr + (Eu(qr) ? pe$1(`(
`, Wi(N$1(qr, `
`)), `
)`) : pe$1("(", N$1(qr, ", "), ")")) + ": " + ai + pe$1(" ", N$1(gi, " "));
  }), InputValueDefinition: dt$1(function(Kr) {
    var kr = Kr.name, qr = Kr.type, ai = Kr.defaultValue, gi = Kr.directives;
    return N$1([kr + ": " + qr, pe$1("= ", ai), N$1(gi, " ")], " ");
  }), InterfaceTypeDefinition: dt$1(function(Kr) {
    var kr = Kr.name, qr = Kr.interfaces, ai = Kr.directives, gi = Kr.fields;
    return N$1(["interface", kr, pe$1("implements ", N$1(qr, " & ")), N$1(ai, " "), ht$1(gi)], " ");
  }), UnionTypeDefinition: dt$1(function(Kr) {
    var kr = Kr.name, qr = Kr.directives, ai = Kr.types;
    return N$1(["union", kr, N$1(qr, " "), ai && ai.length !== 0 ? "= " + N$1(ai, " | ") : ""], " ");
  }), EnumTypeDefinition: dt$1(function(Kr) {
    var kr = Kr.name, qr = Kr.directives, ai = Kr.values;
    return N$1(["enum", kr, N$1(qr, " "), ht$1(ai)], " ");
  }), EnumValueDefinition: dt$1(function(Kr) {
    var kr = Kr.name, qr = Kr.directives;
    return N$1([kr, N$1(qr, " ")], " ");
  }), InputObjectTypeDefinition: dt$1(function(Kr) {
    var kr = Kr.name, qr = Kr.directives, ai = Kr.fields;
    return N$1(["input", kr, N$1(qr, " "), ht$1(ai)], " ");
  }), DirectiveDefinition: dt$1(function(Kr) {
    var kr = Kr.name, qr = Kr.arguments, ai = Kr.repeatable, gi = Kr.locations;
    return "directive @" + kr + (Eu(qr) ? pe$1(`(
`, Wi(N$1(qr, `
`)), `
)`) : pe$1("(", N$1(qr, ", "), ")")) + (ai ? " repeatable" : "") + " on " + N$1(gi, " | ");
  }), SchemaExtension: function(Kr) {
    var kr = Kr.directives, qr = Kr.operationTypes;
    return N$1(["extend schema", N$1(kr, " "), ht$1(qr)], " ");
  }, ScalarTypeExtension: function(Kr) {
    var kr = Kr.name, qr = Kr.directives;
    return N$1(["extend scalar", kr, N$1(qr, " ")], " ");
  }, ObjectTypeExtension: function(Kr) {
    var kr = Kr.name, qr = Kr.interfaces, ai = Kr.directives, gi = Kr.fields;
    return N$1(["extend type", kr, pe$1("implements ", N$1(qr, " & ")), N$1(ai, " "), ht$1(gi)], " ");
  }, InterfaceTypeExtension: function(Kr) {
    var kr = Kr.name, qr = Kr.interfaces, ai = Kr.directives, gi = Kr.fields;
    return N$1(["extend interface", kr, pe$1("implements ", N$1(qr, " & ")), N$1(ai, " "), ht$1(gi)], " ");
  }, UnionTypeExtension: function(Kr) {
    var kr = Kr.name, qr = Kr.directives, ai = Kr.types;
    return N$1(["extend union", kr, N$1(qr, " "), ai && ai.length !== 0 ? "= " + N$1(ai, " | ") : ""], " ");
  }, EnumTypeExtension: function(Kr) {
    var kr = Kr.name, qr = Kr.directives, ai = Kr.values;
    return N$1(["extend enum", kr, N$1(qr, " "), ht$1(ai)], " ");
  }, InputObjectTypeExtension: function(Kr) {
    var kr = Kr.name, qr = Kr.directives, ai = Kr.fields;
    return N$1(["extend input", kr, N$1(qr, " "), ht$1(ai)], " ");
  } };
  function dt$1(Kr) {
    return function(kr) {
      return N$1([kr.description, Kr(kr)], `
`);
    };
  }
  function N$1(Kr) {
    var kr, qr = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "";
    return (kr = Kr == null ? void 0 : Kr.filter(function(ai) {
      return ai;
    }).join(qr)) !== null && kr !== void 0 ? kr : "";
  }
  function ht$1(Kr) {
    return pe$1(`{
`, Wi(N$1(Kr, `
`)), `
}`);
  }
  function pe$1(Kr, kr) {
    var qr = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "";
    return kr != null && kr !== "" ? Kr + kr + qr : "";
  }
  function Wi(Kr) {
    return pe$1("  ", Kr.replace(/\n/g, `
  `));
  }
  function Rp(Kr) {
    return Kr.indexOf(`
`) !== -1;
  }
  function Eu(Kr) {
    return Kr != null && Kr.some(Rp);
  }
  function jn$1(Kr) {
    return Kr.kind === _e$1.FIELD || Kr.kind === _e$1.FRAGMENT_SPREAD || Kr.kind === _e$1.INLINE_FRAGMENT;
  }
  function xu() {
    return To();
  }
  function Qp() {
    __DEV__ ? T$1(typeof dr == "boolean", dr) : T$1(typeof dr == "boolean", 39);
  }
  xu();
  Qp();
  function Dt$1(Kr, kr) {
    var qr = Kr.directives;
    return !qr || !qr.length ? !0 : Ou(qr).every(function(ai) {
      var gi = ai.directive, $i = ai.ifArgument, xi = !1;
      return $i.value.kind === "Variable" ? (xi = kr && kr[$i.value.name.value], __DEV__ ? T$1(xi !== void 0, "Invalid variable referenced in @".concat(gi.name.value, " directive.")) : T$1(xi !== void 0, 40)) : xi = $i.value.value, gi.name.value === "skip" ? !xi : xi;
    });
  }
  function Hr(Kr, kr, qr) {
    var ai = new Set(Kr), gi = ai.size;
    return Fe$1(kr, { Directive: function($i) {
      if (ai.delete($i.name.value) && (!qr || !ai.size))
        return hr;
    } }), qr ? !ai.size : ai.size < gi;
  }
  function Do(Kr) {
    return Kr && Hr(["client", "export"], Kr, !0);
  }
  function Wp(Kr) {
    var kr = Kr.name.value;
    return kr === "skip" || kr === "include";
  }
  function Ou(Kr) {
    var kr = [];
    return Kr && Kr.length && Kr.forEach(function(qr) {
      if (Wp(qr)) {
        var ai = qr.arguments, gi = qr.name.value;
        __DEV__ ? T$1(ai && ai.length === 1, "Incorrect number of arguments for the @".concat(gi, " directive.")) : T$1(ai && ai.length === 1, 41);
        var $i = ai[0];
        __DEV__ ? T$1($i.name && $i.name.value === "if", "Invalid argument for the @".concat(gi, " directive.")) : T$1($i.name && $i.name.value === "if", 42);
        var xi = $i.value;
        __DEV__ ? T$1(xi && (xi.kind === "Variable" || xi.kind === "BooleanValue"), "Argument for the @".concat(gi, " directive must be a variable or a boolean value.")) : T$1(xi && (xi.kind === "Variable" || xi.kind === "BooleanValue"), 43), kr.push({ directive: qr, ifArgument: $i });
      }
    }), kr;
  }
  function Po(Kr, kr) {
    var qr = kr, ai = [];
    Kr.definitions.forEach(function($i) {
      if ($i.kind === "OperationDefinition")
        throw __DEV__ ? new j$1("Found a ".concat($i.operation, " operation").concat($i.name ? " named '".concat($i.name.value, "'") : "", ". ") + "No operations are allowed when using a fragment as a query. Only fragments are allowed.") : new j$1(44);
      $i.kind === "FragmentDefinition" && ai.push($i);
    }), typeof qr > "u" && (__DEV__ ? T$1(ai.length === 1, "Found ".concat(ai.length, " fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")) : T$1(ai.length === 1, 45), qr = ai[0].name.value);
    var gi = v$2(v$2({}, Kr), { definitions: Qt$1([{ kind: "OperationDefinition", operation: "query", selectionSet: { kind: "SelectionSet", selections: [{ kind: "FragmentSpread", name: { kind: "Name", value: qr } }] } }], Kr.definitions, !0) });
    return gi;
  }
  function mr(Kr) {
    Kr === void 0 && (Kr = []);
    var kr = {};
    return Kr.forEach(function(qr) {
      kr[qr.name.value] = qr;
    }), kr;
  }
  function yr(Kr, kr) {
    switch (Kr.kind) {
      case "InlineFragment":
        return Kr;
      case "FragmentSpread": {
        var qr = Kr.name.value;
        if (typeof kr == "function")
          return kr(qr);
        var ai = kr && kr[qr];
        return __DEV__ ? T$1(ai, "No fragment named ".concat(qr)) : T$1(ai, 46), ai || null;
      }
      default:
        return null;
    }
  }
  function z$1(Kr) {
    return Kr !== null && typeof Kr == "object";
  }
  function Et$1(Kr) {
    return { __ref: String(Kr) };
  }
  function W$1(Kr) {
    return !!(Kr && typeof Kr == "object" && typeof Kr.__ref == "string");
  }
  function No(Kr) {
    return z$1(Kr) && Kr.kind === "Document" && Array.isArray(Kr.definitions);
  }
  function Gp(Kr) {
    return Kr.kind === "StringValue";
  }
  function Kp(Kr) {
    return Kr.kind === "BooleanValue";
  }
  function zp(Kr) {
    return Kr.kind === "IntValue";
  }
  function Hp(Kr) {
    return Kr.kind === "FloatValue";
  }
  function Jp(Kr) {
    return Kr.kind === "Variable";
  }
  function Yp(Kr) {
    return Kr.kind === "ObjectValue";
  }
  function Xp(Kr) {
    return Kr.kind === "ListValue";
  }
  function Zp(Kr) {
    return Kr.kind === "EnumValue";
  }
  function ed(Kr) {
    return Kr.kind === "NullValue";
  }
  function Gt$1(Kr, kr, qr, ai) {
    if (zp(qr) || Hp(qr))
      Kr[kr.value] = Number(qr.value);
    else if (Kp(qr) || Gp(qr))
      Kr[kr.value] = qr.value;
    else if (Yp(qr)) {
      var gi = {};
      qr.fields.map(function(xi) {
        return Gt$1(gi, xi.name, xi.value, ai);
      }), Kr[kr.value] = gi;
    } else if (Jp(qr)) {
      var $i = (ai || {})[qr.name.value];
      Kr[kr.value] = $i;
    } else if (Xp(qr))
      Kr[kr.value] = qr.values.map(function(xi) {
        var Ai = {};
        return Gt$1(Ai, kr, xi, ai), Ai[kr.value];
      });
    else if (Zp(qr))
      Kr[kr.value] = qr.value;
    else if (ed(qr))
      Kr[kr.value] = null;
    else
      throw __DEV__ ? new j$1('The inline argument "'.concat(kr.value, '" of kind "').concat(qr.kind, '"') + "is not supported. Use variables instead of inline arguments to overcome this limitation.") : new j$1(55);
  }
  function Ro(Kr, kr) {
    var qr = null;
    Kr.directives && (qr = {}, Kr.directives.forEach(function(gi) {
      qr[gi.name.value] = {}, gi.arguments && gi.arguments.forEach(function($i) {
        var xi = $i.name, Ai = $i.value;
        return Gt$1(qr[gi.name.value], xi, Ai, kr);
      });
    }));
    var ai = null;
    return Kr.arguments && Kr.arguments.length && (ai = {}, Kr.arguments.forEach(function(gi) {
      var $i = gi.name, xi = gi.value;
      return Gt$1(ai, $i, xi, kr);
    })), qn$1(Kr.name.value, ai, qr);
  }
  var td = ["connection", "include", "skip", "client", "rest", "export"], qn$1 = Object.assign(function(Kr, kr, qr) {
    if (kr && qr && qr.connection && qr.connection.key)
      if (qr.connection.filter && qr.connection.filter.length > 0) {
        var ai = qr.connection.filter ? qr.connection.filter : [];
        ai.sort();
        var gi = {};
        return ai.forEach(function(Ai) {
          gi[Ai] = kr[Ai];
        }), "".concat(qr.connection.key, "(").concat(Un$1(gi), ")");
      } else
        return qr.connection.key;
    var $i = Kr;
    if (kr) {
      var xi = Un$1(kr);
      $i += "(".concat(xi, ")");
    }
    return qr && Object.keys(qr).forEach(function(Ai) {
      td.indexOf(Ai) === -1 && (qr[Ai] && Object.keys(qr[Ai]).length ? $i += "@".concat(Ai, "(").concat(Un$1(qr[Ai]), ")") : $i += "@".concat(Ai));
    }), $i;
  }, { setStringify: function(Kr) {
    var kr = Un$1;
    return Un$1 = Kr, kr;
  } }), Un$1 = function(Kr) {
    return JSON.stringify(Kr, rd);
  };
  function rd(Kr, kr) {
    return z$1(kr) && !Array.isArray(kr) && (kr = Object.keys(kr).sort().reduce(function(qr, ai) {
      return qr[ai] = kr[ai], qr;
    }, {})), kr;
  }
  function Pt$1(Kr, kr) {
    if (Kr.arguments && Kr.arguments.length) {
      var qr = {};
      return Kr.arguments.forEach(function(ai) {
        var gi = ai.name, $i = ai.value;
        return Gt$1(qr, gi, $i, kr);
      }), qr;
    }
    return null;
  }
  function it$1(Kr) {
    return Kr.alias ? Kr.alias.value : Kr.name.value;
  }
  function Bn$1(Kr, kr, qr) {
    if (typeof Kr.__typename == "string")
      return Kr.__typename;
    for (var ai = 0, gi = kr.selections; ai < gi.length; ai++) {
      var $i = gi[ai];
      if (Xe$1($i)) {
        if ($i.name.value === "__typename")
          return Kr[it$1($i)];
      } else {
        var xi = Bn$1(Kr, yr($i, qr).selectionSet, qr);
        if (typeof xi == "string")
          return xi;
      }
    }
  }
  function Xe$1(Kr) {
    return Kr.kind === "Field";
  }
  function Lo(Kr) {
    return Kr.kind === "InlineFragment";
  }
  function Jr(Kr) {
    __DEV__ ? T$1(Kr && Kr.kind === "Document", 'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql') : T$1(Kr && Kr.kind === "Document", 47);
    var kr = Kr.definitions.filter(function(qr) {
      return qr.kind !== "FragmentDefinition";
    }).map(function(qr) {
      if (qr.kind !== "OperationDefinition")
        throw __DEV__ ? new j$1('Schema type definitions not allowed in queries. Found: "'.concat(qr.kind, '"')) : new j$1(48);
      return qr;
    });
    return __DEV__ ? T$1(kr.length <= 1, "Ambiguous GraphQL document: contains ".concat(kr.length, " operations")) : T$1(kr.length <= 1, 49), Kr;
  }
  function xt$1(Kr) {
    return Jr(Kr), Kr.definitions.filter(function(kr) {
      return kr.kind === "OperationDefinition";
    })[0];
  }
  function Yr(Kr) {
    return Kr.definitions.filter(function(kr) {
      return kr.kind === "OperationDefinition" && !!kr.name;
    }).map(function(kr) {
      return kr.name.value;
    })[0] || null;
  }
  function vr(Kr) {
    return Kr.definitions.filter(function(kr) {
      return kr.kind === "FragmentDefinition";
    });
  }
  function Vn$1(Kr) {
    var kr = xt$1(Kr);
    return __DEV__ ? T$1(kr && kr.operation === "query", "Must contain a query definition.") : T$1(kr && kr.operation === "query", 50), kr;
  }
  function Fo(Kr) {
    __DEV__ ? T$1(Kr.kind === "Document", 'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql') : T$1(Kr.kind === "Document", 51), __DEV__ ? T$1(Kr.definitions.length <= 1, "Fragment must have exactly one definition.") : T$1(Kr.definitions.length <= 1, 52);
    var kr = Kr.definitions[0];
    return __DEV__ ? T$1(kr.kind === "FragmentDefinition", "Must be a fragment definition.") : T$1(kr.kind === "FragmentDefinition", 53), kr;
  }
  function gr(Kr) {
    Jr(Kr);
    for (var kr, qr = 0, ai = Kr.definitions; qr < ai.length; qr++) {
      var gi = ai[qr];
      if (gi.kind === "OperationDefinition") {
        var $i = gi.operation;
        if ($i === "query" || $i === "mutation" || $i === "subscription")
          return gi;
      }
      gi.kind === "FragmentDefinition" && !kr && (kr = gi);
    }
    if (kr)
      return kr;
    throw __DEV__ ? new j$1("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.") : new j$1(54);
  }
  function br(Kr) {
    var kr = /* @__PURE__ */ Object.create(null), qr = Kr && Kr.variableDefinitions;
    return qr && qr.length && qr.forEach(function(ai) {
      ai.defaultValue && Gt$1(kr, ai.variable.name, ai.defaultValue);
    }), kr;
  }
  var ne$1 = Array.isArray;
  function we$1(Kr) {
    return Array.isArray(Kr) && Kr.length > 0;
  }
  var Tu = { kind: _e$1.FIELD, name: { kind: _e$1.NAME, value: "__typename" } };
  function Au(Kr, kr) {
    return !Kr || Kr.selectionSet.selections.every(function(qr) {
      return qr.kind === _e$1.FRAGMENT_SPREAD && Au(kr[qr.name.value], kr);
    });
  }
  function nd(Kr) {
    return Au(xt$1(Kr) || Fo(Kr), mr(vr(Kr))) ? null : Kr;
  }
  function ad(Kr) {
    var kr = /* @__PURE__ */ new Set(), qr = [];
    return Kr.forEach(function(ai) {
      ai.name ? kr.add(ai.name) : ai.test && qr.push(ai.test);
    }), function(ai) {
      return kr.has(ai.name.value) || qr.some(function(gi) {
        return gi(ai);
      });
    };
  }
  function Iu(Kr) {
    var kr = /* @__PURE__ */ new Map();
    return function(qr) {
      qr === void 0 && (qr = Kr);
      var ai = kr.get(qr);
      return ai || kr.set(qr, ai = { variables: /* @__PURE__ */ new Set(), fragmentSpreads: /* @__PURE__ */ new Set() }), ai;
    };
  }
  function $o(Kr, kr) {
    for (var qr = Iu(""), ai = Iu(""), gi = function(qc) {
      for (var Qc = 0, zc = void 0; Qc < qc.length && (zc = qc[Qc]); ++Qc)
        if (!ne$1(zc)) {
          if (zc.kind === _e$1.OPERATION_DEFINITION)
            return qr(zc.name && zc.name.value);
          if (zc.kind === _e$1.FRAGMENT_DEFINITION)
            return ai(zc.name.value);
        }
      return __DEV__ && T$1.error("Could not find operation or fragment"), null;
    }, $i = 0, xi = kr.definitions.length - 1; xi >= 0; --xi)
      kr.definitions[xi].kind === _e$1.OPERATION_DEFINITION && ++$i;
    var Ai = ad(Kr), Li = Kr.some(function(qc) {
      return qc.remove;
    }), Fi = function(qc) {
      return Li && qc && qc.some(Ai);
    }, Oa = /* @__PURE__ */ new Map(), So = !1, Ns = { enter: function(qc) {
      if (Fi(qc.directives))
        return So = !0, null;
    } }, Uc = Fe$1(kr, { Field: Ns, InlineFragment: Ns, VariableDefinition: { enter: function() {
      return !1;
    } }, Variable: { enter: function(qc, Qc, zc, Yc, Xc) {
      var Hc = gi(Xc);
      Hc && Hc.variables.add(qc.name.value);
    } }, FragmentSpread: { enter: function(qc, Qc, zc, Yc, Xc) {
      if (Fi(qc.directives))
        return So = !0, null;
      var Hc = gi(Xc);
      Hc && Hc.fragmentSpreads.add(qc.name.value);
    } }, FragmentDefinition: { enter: function(qc, Qc, zc, Yc) {
      Oa.set(JSON.stringify(Yc), qc);
    }, leave: function(qc, Qc, zc, Yc) {
      var Xc = Oa.get(JSON.stringify(Yc));
      if (qc === Xc)
        return qc;
      if ($i > 0 && qc.selectionSet.selections.every(function(Hc) {
        return Hc.kind === _e$1.FIELD && Hc.name.value === "__typename";
      }))
        return ai(qc.name.value).removed = !0, So = !0, null;
    } }, Directive: { leave: function(qc) {
      if (Ai(qc))
        return So = !0, null;
    } } });
    if (!So)
      return kr;
    var Kc = function(qc) {
      return qc.transitiveVars || (qc.transitiveVars = new Set(qc.variables), qc.removed || qc.fragmentSpreads.forEach(function(Qc) {
        Kc(ai(Qc)).transitiveVars.forEach(function(zc) {
          qc.transitiveVars.add(zc);
        });
      })), qc;
    }, Bc = /* @__PURE__ */ new Set();
    Uc.definitions.forEach(function(qc) {
      qc.kind === _e$1.OPERATION_DEFINITION ? Kc(qr(qc.name && qc.name.value)).fragmentSpreads.forEach(function(Qc) {
        Bc.add(Qc);
      }) : qc.kind === _e$1.FRAGMENT_DEFINITION && $i === 0 && !ai(qc.name.value).removed && Bc.add(qc.name.value);
    }), Bc.forEach(function(qc) {
      Kc(ai(qc)).fragmentSpreads.forEach(function(Qc) {
        Bc.add(Qc);
      });
    });
    var Wc = function(qc) {
      return !!(!Bc.has(qc) || ai(qc).removed);
    }, Vc = { enter: function(qc) {
      if (Wc(qc.name.value))
        return null;
    } };
    return nd(Fe$1(Uc, { FragmentSpread: Vc, FragmentDefinition: Vc, OperationDefinition: { leave: function(qc) {
      if (qc.variableDefinitions) {
        var Qc = Kc(qr(qc.name && qc.name.value)).transitiveVars;
        if (Qc.size < qc.variableDefinitions.length)
          return v$2(v$2({}, qc), { variableDefinitions: qc.variableDefinitions.filter(function(zc) {
            return Qc.has(zc.variable.name.value);
          }) });
      }
    } } }));
  }
  var Cr = Object.assign(function(Kr) {
    return Fe$1(Kr, { SelectionSet: { enter: function(kr, qr, ai) {
      if (!(ai && ai.kind === _e$1.OPERATION_DEFINITION)) {
        var gi = kr.selections;
        if (gi) {
          var $i = gi.some(function(Ai) {
            return Xe$1(Ai) && (Ai.name.value === "__typename" || Ai.name.value.lastIndexOf("__", 0) === 0);
          });
          if (!$i) {
            var xi = ai;
            if (!(Xe$1(xi) && xi.directives && xi.directives.some(function(Ai) {
              return Ai.name.value === "export";
            })))
              return v$2(v$2({}, kr), { selections: Qt$1(Qt$1([], gi, !0), [Tu], !1) });
          }
        }
      }
    } } });
  }, { added: function(Kr) {
    return Kr === Tu;
  } }), od = { test: function(Kr) {
    var kr = Kr.name.value === "connection";
    return kr && (!Kr.arguments || !Kr.arguments.some(function(qr) {
      return qr.name.value === "key";
    })) && __DEV__ && T$1.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."), kr;
  } };
  function Mo(Kr) {
    return $o([od], Jr(Kr));
  }
  function jo(Kr) {
    var kr = gr(Kr), qr = kr.operation;
    if (qr === "query")
      return Kr;
    var ai = Fe$1(Kr, { OperationDefinition: { enter: function(gi) {
      return v$2(v$2({}, gi), { operation: "query" });
    } } });
    return ai;
  }
  function Uo(Kr) {
    Jr(Kr);
    var kr = $o([{ test: function(qr) {
      return qr.name.value === "client";
    }, remove: !0 }], Kr);
    return kr;
  }
  var sd = Object.prototype.hasOwnProperty;
  function qo() {
    for (var Kr = [], kr = 0; kr < arguments.length; kr++)
      Kr[kr] = arguments[kr];
    return Qn(Kr);
  }
  function Qn(Kr) {
    var kr = Kr[0] || {}, qr = Kr.length;
    if (qr > 1)
      for (var ai = new We$1(), gi = 1; gi < qr; ++gi)
        kr = ai.merge(kr, Kr[gi]);
    return kr;
  }
  var cd = function(Kr, kr, qr) {
    return this.merge(Kr[qr], kr[qr]);
  }, We$1 = function() {
    function Kr(kr) {
      kr === void 0 && (kr = cd), this.reconciler = kr, this.isObject = z$1, this.pastCopies = /* @__PURE__ */ new Set();
    }
    return Kr.prototype.merge = function(kr, qr) {
      for (var ai = this, gi = [], $i = 2; $i < arguments.length; $i++)
        gi[$i - 2] = arguments[$i];
      return z$1(qr) && z$1(kr) ? (Object.keys(qr).forEach(function(xi) {
        if (sd.call(kr, xi)) {
          var Ai = kr[xi];
          if (qr[xi] !== Ai) {
            var Li = ai.reconciler.apply(ai, Qt$1([kr, qr, xi], gi, !1));
            Li !== Ai && (kr = ai.shallowCopyForMerge(kr), kr[xi] = Li);
          }
        } else
          kr = ai.shallowCopyForMerge(kr), kr[xi] = qr[xi];
      }), kr) : qr;
    }, Kr.prototype.shallowCopyForMerge = function(kr) {
      return z$1(kr) && (this.pastCopies.has(kr) || (Array.isArray(kr) ? kr = kr.slice(0) : kr = v$2({ __proto__: Object.getPrototypeOf(kr) }, kr), this.pastCopies.add(kr))), kr;
    }, Kr;
  }();
  function ud(Kr, kr) {
    var qr = typeof Symbol < "u" && Kr[Symbol.iterator] || Kr["@@iterator"];
    if (qr)
      return (qr = qr.call(Kr)).next.bind(qr);
    if (Array.isArray(Kr) || (qr = ld(Kr)) || kr && Kr && typeof Kr.length == "number") {
      qr && (Kr = qr);
      var ai = 0;
      return function() {
        return ai >= Kr.length ? { done: !0 } : { done: !1, value: Kr[ai++] };
      };
    }
    throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
  }
  function ld(Kr, kr) {
    if (Kr) {
      if (typeof Kr == "string")
        return ku(Kr, kr);
      var qr = Object.prototype.toString.call(Kr).slice(8, -1);
      if (qr === "Object" && Kr.constructor && (qr = Kr.constructor.name), qr === "Map" || qr === "Set")
        return Array.from(Kr);
      if (qr === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qr))
        return ku(Kr, kr);
    }
  }
  function ku(Kr, kr) {
    (kr == null || kr > Kr.length) && (kr = Kr.length);
    for (var qr = 0, ai = new Array(kr); qr < kr; qr++)
      ai[qr] = Kr[qr];
    return ai;
  }
  function Du(Kr, kr) {
    for (var qr = 0; qr < kr.length; qr++) {
      var ai = kr[qr];
      ai.enumerable = ai.enumerable || !1, ai.configurable = !0, "value" in ai && (ai.writable = !0), Object.defineProperty(Kr, ai.key, ai);
    }
  }
  function Wo(Kr, kr, qr) {
    return kr && Du(Kr.prototype, kr), qr && Du(Kr, qr), Object.defineProperty(Kr, "prototype", { writable: !1 }), Kr;
  }
  var Go = function() {
    return typeof Symbol == "function";
  }, Ko = function(Kr) {
    return Go() && !!Symbol[Kr];
  }, zo = function(Kr) {
    return Ko(Kr) ? Symbol[Kr] : "@@" + Kr;
  };
  Go() && !Ko("observable") && (Symbol.observable = Symbol("observable"));
  var fd = zo("iterator"), Vo = zo("observable"), Pu = zo("species");
  function Ki(Kr, kr) {
    var qr = Kr[kr];
    if (qr != null) {
      if (typeof qr != "function")
        throw new TypeError(qr + " is not a function");
      return qr;
    }
  }
  function Wn$1(Kr) {
    var kr = Kr.constructor;
    return kr !== void 0 && (kr = kr[Pu], kr === null && (kr = void 0)), kr !== void 0 ? kr : Q$1;
  }
  function pd(Kr) {
    return Kr instanceof Q$1;
  }
  function Xr(Kr) {
    Xr.log ? Xr.log(Kr) : setTimeout(function() {
      throw Kr;
    });
  }
  function Gi(Kr) {
    Promise.resolve().then(function() {
      try {
        Kr();
      } catch (kr) {
        Xr(kr);
      }
    });
  }
  function Nu(Kr) {
    var kr = Kr._cleanup;
    if (kr !== void 0 && (Kr._cleanup = void 0, !!kr))
      try {
        if (typeof kr == "function")
          kr();
        else {
          var qr = Ki(kr, "unsubscribe");
          qr && qr.call(kr);
        }
      } catch (ai) {
        Xr(ai);
      }
  }
  function Qo(Kr) {
    Kr._observer = void 0, Kr._queue = void 0, Kr._state = "closed";
  }
  function dd(Kr) {
    var kr = Kr._queue;
    if (kr) {
      Kr._queue = void 0, Kr._state = "ready";
      for (var qr = 0; qr < kr.length && (Ru(Kr, kr[qr].type, kr[qr].value), Kr._state !== "closed"); ++qr)
        ;
    }
  }
  function Ru(Kr, kr, qr) {
    Kr._state = "running";
    var ai = Kr._observer;
    try {
      var gi = Ki(ai, kr);
      switch (kr) {
        case "next":
          gi && gi.call(ai, qr);
          break;
        case "error":
          if (Qo(Kr), gi)
            gi.call(ai, qr);
          else
            throw qr;
          break;
        case "complete":
          Qo(Kr), gi && gi.call(ai);
          break;
      }
    } catch ($i) {
      Xr($i);
    }
    Kr._state === "closed" ? Nu(Kr) : Kr._state === "running" && (Kr._state = "ready");
  }
  function Bo(Kr, kr, qr) {
    if (Kr._state !== "closed") {
      if (Kr._state === "buffering") {
        Kr._queue.push({ type: kr, value: qr });
        return;
      }
      if (Kr._state !== "ready") {
        Kr._state = "buffering", Kr._queue = [{ type: kr, value: qr }], Gi(function() {
          return dd(Kr);
        });
        return;
      }
      Ru(Kr, kr, qr);
    }
  }
  var hd = function() {
    function Kr(qr, ai) {
      this._cleanup = void 0, this._observer = qr, this._queue = void 0, this._state = "initializing";
      var gi = new md(this);
      try {
        this._cleanup = ai.call(void 0, gi);
      } catch ($i) {
        gi.error($i);
      }
      this._state === "initializing" && (this._state = "ready");
    }
    var kr = Kr.prototype;
    return kr.unsubscribe = function() {
      this._state !== "closed" && (Qo(this), Nu(this));
    }, Wo(Kr, [{ key: "closed", get: function() {
      return this._state === "closed";
    } }]), Kr;
  }(), md = function() {
    function Kr(qr) {
      this._subscription = qr;
    }
    var kr = Kr.prototype;
    return kr.next = function(qr) {
      Bo(this._subscription, "next", qr);
    }, kr.error = function(qr) {
      Bo(this._subscription, "error", qr);
    }, kr.complete = function() {
      Bo(this._subscription, "complete");
    }, Wo(Kr, [{ key: "closed", get: function() {
      return this._subscription._state === "closed";
    } }]), Kr;
  }(), Q$1 = function() {
    function Kr(qr) {
      if (!(this instanceof Kr))
        throw new TypeError("Observable cannot be called as a function");
      if (typeof qr != "function")
        throw new TypeError("Observable initializer must be a function");
      this._subscriber = qr;
    }
    var kr = Kr.prototype;
    return kr.subscribe = function(qr) {
      return (typeof qr != "object" || qr === null) && (qr = { next: qr, error: arguments[1], complete: arguments[2] }), new hd(qr, this._subscriber);
    }, kr.forEach = function(qr) {
      var ai = this;
      return new Promise(function(gi, $i) {
        if (typeof qr != "function") {
          $i(new TypeError(qr + " is not a function"));
          return;
        }
        function xi() {
          Ai.unsubscribe(), gi();
        }
        var Ai = ai.subscribe({ next: function(Li) {
          try {
            qr(Li, xi);
          } catch (Fi) {
            $i(Fi), Ai.unsubscribe();
          }
        }, error: $i, complete: gi });
      });
    }, kr.map = function(qr) {
      var ai = this;
      if (typeof qr != "function")
        throw new TypeError(qr + " is not a function");
      var gi = Wn$1(this);
      return new gi(function($i) {
        return ai.subscribe({ next: function(xi) {
          try {
            xi = qr(xi);
          } catch (Ai) {
            return $i.error(Ai);
          }
          $i.next(xi);
        }, error: function(xi) {
          $i.error(xi);
        }, complete: function() {
          $i.complete();
        } });
      });
    }, kr.filter = function(qr) {
      var ai = this;
      if (typeof qr != "function")
        throw new TypeError(qr + " is not a function");
      var gi = Wn$1(this);
      return new gi(function($i) {
        return ai.subscribe({ next: function(xi) {
          try {
            if (!qr(xi))
              return;
          } catch (Ai) {
            return $i.error(Ai);
          }
          $i.next(xi);
        }, error: function(xi) {
          $i.error(xi);
        }, complete: function() {
          $i.complete();
        } });
      });
    }, kr.reduce = function(qr) {
      var ai = this;
      if (typeof qr != "function")
        throw new TypeError(qr + " is not a function");
      var gi = Wn$1(this), $i = arguments.length > 1, xi = !1, Ai = arguments[1], Li = Ai;
      return new gi(function(Fi) {
        return ai.subscribe({ next: function(Oa) {
          var So = !xi;
          if (xi = !0, !So || $i)
            try {
              Li = qr(Li, Oa);
            } catch (Ns) {
              return Fi.error(Ns);
            }
          else
            Li = Oa;
        }, error: function(Oa) {
          Fi.error(Oa);
        }, complete: function() {
          if (!xi && !$i)
            return Fi.error(new TypeError("Cannot reduce an empty sequence"));
          Fi.next(Li), Fi.complete();
        } });
      });
    }, kr.concat = function() {
      for (var qr = this, ai = arguments.length, gi = new Array(ai), $i = 0; $i < ai; $i++)
        gi[$i] = arguments[$i];
      var xi = Wn$1(this);
      return new xi(function(Ai) {
        var Li, Fi = 0;
        function Oa(So) {
          Li = So.subscribe({ next: function(Ns) {
            Ai.next(Ns);
          }, error: function(Ns) {
            Ai.error(Ns);
          }, complete: function() {
            Fi === gi.length ? (Li = void 0, Ai.complete()) : Oa(xi.from(gi[Fi++]));
          } });
        }
        return Oa(qr), function() {
          Li && (Li.unsubscribe(), Li = void 0);
        };
      });
    }, kr.flatMap = function(qr) {
      var ai = this;
      if (typeof qr != "function")
        throw new TypeError(qr + " is not a function");
      var gi = Wn$1(this);
      return new gi(function($i) {
        var xi = [], Ai = ai.subscribe({ next: function(Fi) {
          if (qr)
            try {
              Fi = qr(Fi);
            } catch (So) {
              return $i.error(So);
            }
          var Oa = gi.from(Fi).subscribe({ next: function(So) {
            $i.next(So);
          }, error: function(So) {
            $i.error(So);
          }, complete: function() {
            var So = xi.indexOf(Oa);
            So >= 0 && xi.splice(So, 1), Li();
          } });
          xi.push(Oa);
        }, error: function(Fi) {
          $i.error(Fi);
        }, complete: function() {
          Li();
        } });
        function Li() {
          Ai.closed && xi.length === 0 && $i.complete();
        }
        return function() {
          xi.forEach(function(Fi) {
            return Fi.unsubscribe();
          }), Ai.unsubscribe();
        };
      });
    }, kr[Vo] = function() {
      return this;
    }, Kr.from = function(qr) {
      var ai = typeof this == "function" ? this : Kr;
      if (qr == null)
        throw new TypeError(qr + " is not an object");
      var gi = Ki(qr, Vo);
      if (gi) {
        var $i = gi.call(qr);
        if (Object($i) !== $i)
          throw new TypeError($i + " is not an object");
        return pd($i) && $i.constructor === ai ? $i : new ai(function(xi) {
          return $i.subscribe(xi);
        });
      }
      if (Ko("iterator") && (gi = Ki(qr, fd), gi))
        return new ai(function(xi) {
          Gi(function() {
            if (!xi.closed) {
              for (var Ai = ud(gi.call(qr)), Li; !(Li = Ai()).done; ) {
                var Fi = Li.value;
                if (xi.next(Fi), xi.closed)
                  return;
              }
              xi.complete();
            }
          });
        });
      if (Array.isArray(qr))
        return new ai(function(xi) {
          Gi(function() {
            if (!xi.closed) {
              for (var Ai = 0; Ai < qr.length; ++Ai)
                if (xi.next(qr[Ai]), xi.closed)
                  return;
              xi.complete();
            }
          });
        });
      throw new TypeError(qr + " is not observable");
    }, Kr.of = function() {
      for (var qr = arguments.length, ai = new Array(qr), gi = 0; gi < qr; gi++)
        ai[gi] = arguments[gi];
      var $i = typeof this == "function" ? this : Kr;
      return new $i(function(xi) {
        Gi(function() {
          if (!xi.closed) {
            for (var Ai = 0; Ai < ai.length; ++Ai)
              if (xi.next(ai[Ai]), xi.closed)
                return;
            xi.complete();
          }
        });
      });
    }, Wo(Kr, null, [{ key: Pu, get: function() {
      return this;
    } }]), Kr;
  }();
  Go() && Object.defineProperty(Q$1, Symbol("extensions"), { value: { symbol: Vo, hostReportError: Xr }, configurable: !0 });
  function Ho(Kr) {
    var kr, qr = Kr.Symbol;
    if (typeof qr == "function")
      if (qr.observable)
        kr = qr.observable;
      else {
        typeof qr.for == "function" ? kr = qr.for("https://github.com/benlesh/symbol-observable") : kr = qr("https://github.com/benlesh/symbol-observable");
        try {
          qr.observable = kr;
        } catch {
        }
      }
    else
      kr = "@@observable";
    return kr;
  }
  var Zr;
  typeof self < "u" ? Zr = self : typeof window < "u" ? Zr = window : typeof global < "u" ? Zr = global : typeof module < "u" ? Zr = module : Zr = Function("return this")();
  Ho(Zr);
  var Lu = Q$1.prototype, Fu = "@@observable";
  Lu[Fu] || (Lu[Fu] = function() {
    return this;
  });
  var yd = Object.prototype.toString;
  function zi(Kr) {
    return Jo(Kr);
  }
  function Jo(Kr, kr) {
    switch (yd.call(Kr)) {
      case "[object Array]": {
        if (kr = kr || /* @__PURE__ */ new Map(), kr.has(Kr))
          return kr.get(Kr);
        var qr = Kr.slice(0);
        return kr.set(Kr, qr), qr.forEach(function(gi, $i) {
          qr[$i] = Jo(gi, kr);
        }), qr;
      }
      case "[object Object]": {
        if (kr = kr || /* @__PURE__ */ new Map(), kr.has(Kr))
          return kr.get(Kr);
        var ai = Object.create(Object.getPrototypeOf(Kr));
        return kr.set(Kr, ai), Object.keys(Kr).forEach(function(gi) {
          ai[gi] = Jo(Kr[gi], kr);
        }), ai;
      }
      default:
        return Kr;
    }
  }
  function vd(Kr) {
    var kr = /* @__PURE__ */ new Set([Kr]);
    return kr.forEach(function(qr) {
      z$1(qr) && gd(qr) === qr && Object.getOwnPropertyNames(qr).forEach(function(ai) {
        z$1(qr[ai]) && kr.add(qr[ai]);
      });
    }), Kr;
  }
  function gd(Kr) {
    if (__DEV__ && !Object.isFrozen(Kr))
      try {
        Object.freeze(Kr);
      } catch (kr) {
        if (kr instanceof TypeError)
          return null;
        throw kr;
      }
    return Kr;
  }
  function Gn$1(Kr) {
    return __DEV__ && vd(Kr), Kr;
  }
  function _r(Kr, kr, qr) {
    var ai = [];
    Kr.forEach(function(gi) {
      return gi[kr] && ai.push(gi);
    }), ai.forEach(function(gi) {
      return gi[kr](qr);
    });
  }
  function Hi(Kr, kr, qr) {
    return new Q$1(function(ai) {
      var gi = ai.next, $i = ai.error, xi = ai.complete, Ai = 0, Li = !1, Fi = { then: function(Uc) {
        return new Promise(function(Kc) {
          return Kc(Uc());
        });
      } };
      function Oa(Uc, Kc) {
        return Uc ? function(Bc) {
          ++Ai;
          var Wc = function() {
            return Uc(Bc);
          };
          Fi = Fi.then(Wc, Wc).then(function(Vc) {
            --Ai, gi && gi.call(ai, Vc), Li && So.complete();
          }, function(Vc) {
            throw --Ai, Vc;
          }).catch(function(Vc) {
            $i && $i.call(ai, Vc);
          });
        } : function(Bc) {
          return Kc && Kc.call(ai, Bc);
        };
      }
      var So = { next: Oa(kr, gi), error: Oa(qr, $i), complete: function() {
        Li = !0, Ai || xi && xi.call(ai);
      } }, Ns = Kr.subscribe(So);
      return function() {
        return Ns.unsubscribe();
      };
    });
  }
  var at$1 = typeof WeakMap == "function" && Ae$1(function() {
    return navigator.product;
  }) !== "ReactNative", $u = typeof WeakSet == "function", Yo = typeof Symbol == "function" && typeof Symbol.for == "function", Kt$1 = Yo && Symbol.asyncIterator;
  Ae$1(function() {
    return window.document.createElement;
  });
  Ae$1(function() {
    return navigator.userAgent.indexOf("jsdom") >= 0;
  });
  function Ji(Kr) {
    function kr(qr) {
      Object.defineProperty(Kr, qr, { value: Q$1 });
    }
    return Yo && Symbol.species && kr(Symbol.species), kr("@@species"), Kr;
  }
  function Mu(Kr) {
    return Kr && typeof Kr.then == "function";
  }
  var en$1 = function(Kr) {
    ye$1(kr, Kr);
    function kr(qr) {
      var ai = Kr.call(this, function(gi) {
        return ai.addObserver(gi), function() {
          return ai.removeObserver(gi);
        };
      }) || this;
      return ai.observers = /* @__PURE__ */ new Set(), ai.promise = new Promise(function(gi, $i) {
        ai.resolve = gi, ai.reject = $i;
      }), ai.handlers = { next: function(gi) {
        ai.sub !== null && (ai.latest = ["next", gi], ai.notify("next", gi), _r(ai.observers, "next", gi));
      }, error: function(gi) {
        var $i = ai.sub;
        $i !== null && ($i && setTimeout(function() {
          return $i.unsubscribe();
        }), ai.sub = null, ai.latest = ["error", gi], ai.reject(gi), ai.notify("error", gi), _r(ai.observers, "error", gi));
      }, complete: function() {
        var gi = ai, $i = gi.sub, xi = gi.sources, Ai = xi === void 0 ? [] : xi;
        if ($i !== null) {
          var Li = Ai.shift();
          Li ? Mu(Li) ? Li.then(function(Fi) {
            return ai.sub = Fi.subscribe(ai.handlers);
          }) : ai.sub = Li.subscribe(ai.handlers) : ($i && setTimeout(function() {
            return $i.unsubscribe();
          }), ai.sub = null, ai.latest && ai.latest[0] === "next" ? ai.resolve(ai.latest[1]) : ai.resolve(), ai.notify("complete"), _r(ai.observers, "complete"));
        }
      } }, ai.nextResultListeners = /* @__PURE__ */ new Set(), ai.cancel = function(gi) {
        ai.reject(gi), ai.sources = [], ai.handlers.complete();
      }, ai.promise.catch(function(gi) {
      }), typeof qr == "function" && (qr = [new Q$1(qr)]), Mu(qr) ? qr.then(function(gi) {
        return ai.start(gi);
      }, ai.handlers.error) : ai.start(qr), ai;
    }
    return kr.prototype.start = function(qr) {
      this.sub === void 0 && (this.sources = Array.from(qr), this.handlers.complete());
    }, kr.prototype.deliverLastMessage = function(qr) {
      if (this.latest) {
        var ai = this.latest[0], gi = qr[ai];
        gi && gi.call(qr, this.latest[1]), this.sub === null && ai === "next" && qr.complete && qr.complete();
      }
    }, kr.prototype.addObserver = function(qr) {
      this.observers.has(qr) || (this.deliverLastMessage(qr), this.observers.add(qr));
    }, kr.prototype.removeObserver = function(qr) {
      this.observers.delete(qr) && this.observers.size < 1 && this.handlers.complete();
    }, kr.prototype.notify = function(qr, ai) {
      var gi = this.nextResultListeners;
      gi.size && (this.nextResultListeners = /* @__PURE__ */ new Set(), gi.forEach(function($i) {
        return $i(qr, ai);
      }));
    }, kr.prototype.beforeNext = function(qr) {
      var ai = !1;
      this.nextResultListeners.add(function(gi, $i) {
        ai || (ai = !0, qr(gi, $i));
      });
    }, kr;
  }(Q$1);
  Ji(en$1);
  function zt$1(Kr) {
    return "incremental" in Kr;
  }
  function bd(Kr) {
    return "hasNext" in Kr && "data" in Kr;
  }
  function ju(Kr) {
    return zt$1(Kr) || bd(Kr);
  }
  function Yi(Kr, kr) {
    var qr = Kr, ai = new We$1();
    return zt$1(kr) && we$1(kr.incremental) && kr.incremental.forEach(function(gi) {
      for (var $i = gi.data, xi = gi.path, Ai = xi.length - 1; Ai >= 0; --Ai) {
        var Li = xi[Ai], Fi = !isNaN(+Li), Oa = Fi ? [] : {};
        Oa[Li] = $i, $i = Oa;
      }
      qr = ai.merge(qr, $i);
    }), qr;
  }
  function tn$1(Kr) {
    var kr = Xi(Kr);
    return we$1(kr);
  }
  function Xi(Kr) {
    var kr = we$1(Kr.errors) ? Kr.errors.slice(0) : [];
    return zt$1(Kr) && we$1(Kr.incremental) && Kr.incremental.forEach(function(qr) {
      qr.errors && kr.push.apply(kr, qr.errors);
    }), kr;
  }
  function Ht$1() {
    for (var Kr = [], kr = 0; kr < arguments.length; kr++)
      Kr[kr] = arguments[kr];
    var qr = /* @__PURE__ */ Object.create(null);
    return Kr.forEach(function(ai) {
      !ai || Object.keys(ai).forEach(function(gi) {
        var $i = ai[gi];
        $i !== void 0 && (qr[gi] = $i);
      });
    }), qr;
  }
  var Uu = /* @__PURE__ */ new Map();
  function Kn$1(Kr) {
    var kr = Uu.get(Kr) || 1;
    return Uu.set(Kr, kr + 1), "".concat(Kr, ":").concat(kr, ":").concat(Math.random().toString(36).slice(2));
  }
  function qu(Kr) {
    var kr = Kn$1("stringifyForDisplay");
    return JSON.stringify(Kr, function(qr, ai) {
      return ai === void 0 ? kr : ai;
    }).split(JSON.stringify(kr)).join("<undefined>");
  }
  function zn$1(Kr, kr) {
    return Ht$1(Kr, kr, kr.variables && { variables: v$2(v$2({}, Kr && Kr.variables), kr.variables) });
  }
  function Zi(Kr) {
    return new Q$1(function(kr) {
      kr.error(Kr);
    });
  }
  var Hn$1 = function(Kr, kr, qr) {
    var ai = new Error(qr);
    throw ai.name = "ServerError", ai.response = Kr, ai.statusCode = Kr.status, ai.result = kr, ai;
  };
  function Xo(Kr) {
    for (var kr = ["query", "operationName", "variables", "extensions", "context"], qr = 0, ai = Object.keys(Kr); qr < ai.length; qr++) {
      var gi = ai[qr];
      if (kr.indexOf(gi) < 0)
        throw __DEV__ ? new j$1("illegal argument: ".concat(gi)) : new j$1(27);
    }
    return Kr;
  }
  function Zo(Kr, kr) {
    var qr = v$2({}, Kr), ai = function($i) {
      typeof $i == "function" ? qr = v$2(v$2({}, qr), $i(qr)) : qr = v$2(v$2({}, qr), $i);
    }, gi = function() {
      return v$2({}, qr);
    };
    return Object.defineProperty(kr, "setContext", { enumerable: !1, value: ai }), Object.defineProperty(kr, "getContext", { enumerable: !1, value: gi }), kr;
  }
  function es(Kr) {
    var kr = { variables: Kr.variables || {}, extensions: Kr.extensions || {}, operationName: Kr.operationName, query: Kr.query };
    return kr.operationName || (kr.operationName = typeof kr.query != "string" ? Yr(kr.query) || void 0 : ""), kr;
  }
  function Bu(Kr, kr) {
    return kr ? kr(Kr) : Q$1.of();
  }
  function Jn(Kr) {
    return typeof Kr == "function" ? new ot$1(Kr) : Kr;
  }
  function ea(Kr) {
    return Kr.request.length <= 1;
  }
  var Cd = function(Kr) {
    ye$1(kr, Kr);
    function kr(qr, ai) {
      var gi = Kr.call(this, qr) || this;
      return gi.link = ai, gi;
    }
    return kr;
  }(Error), ot$1 = function() {
    function Kr(kr) {
      kr && (this.request = kr);
    }
    return Kr.empty = function() {
      return new Kr(function() {
        return Q$1.of();
      });
    }, Kr.from = function(kr) {
      return kr.length === 0 ? Kr.empty() : kr.map(Jn).reduce(function(qr, ai) {
        return qr.concat(ai);
      });
    }, Kr.split = function(kr, qr, ai) {
      var gi = Jn(qr), $i = Jn(ai || new Kr(Bu));
      return ea(gi) && ea($i) ? new Kr(function(xi) {
        return kr(xi) ? gi.request(xi) || Q$1.of() : $i.request(xi) || Q$1.of();
      }) : new Kr(function(xi, Ai) {
        return kr(xi) ? gi.request(xi, Ai) || Q$1.of() : $i.request(xi, Ai) || Q$1.of();
      });
    }, Kr.execute = function(kr, qr) {
      return kr.request(Zo(qr.context, es(Xo(qr)))) || Q$1.of();
    }, Kr.concat = function(kr, qr) {
      var ai = Jn(kr);
      if (ea(ai))
        return __DEV__ && T$1.warn(new Cd("You are calling concat on a terminating link, which will have no effect", ai)), ai;
      var gi = Jn(qr);
      return ea(gi) ? new Kr(function($i) {
        return ai.request($i, function(xi) {
          return gi.request(xi) || Q$1.of();
        }) || Q$1.of();
      }) : new Kr(function($i, xi) {
        return ai.request($i, function(Ai) {
          return gi.request(Ai, xi) || Q$1.of();
        }) || Q$1.of();
      });
    }, Kr.prototype.split = function(kr, qr, ai) {
      return this.concat(Kr.split(kr, qr, ai || new Kr(Bu)));
    }, Kr.prototype.concat = function(kr) {
      return Kr.concat(this, kr);
    }, Kr.prototype.request = function(kr, qr) {
      throw __DEV__ ? new j$1("request is not implemented") : new j$1(22);
    }, Kr.prototype.onError = function(kr, qr) {
      if (qr && qr.error)
        return qr.error(kr), !1;
      throw kr;
    }, Kr.prototype.setOnError = function(kr) {
      return this.onError = kr, this;
    }, Kr;
  }(), rn$1 = ot$1.execute, Vu = "3.7.10";
  function Qu(Kr) {
    return !!Kr.body;
  }
  function Wu(Kr) {
    return !!Kr.getReader;
  }
  function Gu(Kr) {
    return !!(Kt$1 && Kr[Symbol.asyncIterator]);
  }
  function Ku(Kr) {
    return !!Kr.stream;
  }
  function zu(Kr) {
    return !!Kr.arrayBuffer;
  }
  function Hu(Kr) {
    return !!Kr.pipe;
  }
  function ts(Kr) {
    var kr, qr = Kr[Symbol.asyncIterator]();
    return kr = { next: function() {
      return qr.next();
    } }, kr[Symbol.asyncIterator] = function() {
      return this;
    }, kr;
  }
  function rs(Kr) {
    var kr = null, qr = null, ai = !1, gi = [], $i = [];
    function xi(So) {
      if (!qr) {
        if ($i.length) {
          var Ns = $i.shift();
          if (Array.isArray(Ns) && Ns[0])
            return Ns[0]({ value: So, done: !1 });
        }
        gi.push(So);
      }
    }
    function Ai(So) {
      qr = So;
      var Ns = $i.slice();
      Ns.forEach(function(Uc) {
        Uc[1](So);
      }), !kr || kr();
    }
    function Li() {
      ai = !0;
      var So = $i.slice();
      So.forEach(function(Ns) {
        Ns[0]({ value: void 0, done: !0 });
      }), !kr || kr();
    }
    kr = function() {
      kr = null, Kr.removeListener("data", xi), Kr.removeListener("error", Ai), Kr.removeListener("end", Li), Kr.removeListener("finish", Li), Kr.removeListener("close", Li);
    }, Kr.on("data", xi), Kr.on("error", Ai), Kr.on("end", Li), Kr.on("finish", Li), Kr.on("close", Li);
    function Fi() {
      return new Promise(function(So, Ns) {
        if (qr)
          return Ns(qr);
        if (gi.length)
          return So({ value: gi.shift(), done: !1 });
        if (ai)
          return So({ value: void 0, done: !0 });
        $i.push([So, Ns]);
      });
    }
    var Oa = { next: function() {
      return Fi();
    } };
    return Kt$1 && (Oa[Symbol.asyncIterator] = function() {
      return this;
    }), Oa;
  }
  function ns(Kr) {
    var kr = !1, qr = { next: function() {
      return kr ? Promise.resolve({ value: void 0, done: !0 }) : (kr = !0, new Promise(function(ai, gi) {
        Kr.then(function($i) {
          ai({ value: $i, done: !1 });
        }).catch(gi);
      }));
    } };
    return Kt$1 && (qr[Symbol.asyncIterator] = function() {
      return this;
    }), qr;
  }
  function ta(Kr) {
    var kr = { next: function() {
      return Kr.read();
    } };
    return Kt$1 && (kr[Symbol.asyncIterator] = function() {
      return this;
    }), kr;
  }
  function Ju(Kr) {
    var kr = Kr;
    if (Qu(Kr) && (kr = Kr.body), Gu(kr))
      return ts(kr);
    if (Wu(kr))
      return ta(kr.getReader());
    if (Ku(kr))
      return ta(kr.stream().getReader());
    if (zu(kr))
      return ns(kr.arrayBuffer());
    if (Hu(kr))
      return rs(kr);
    throw new Error("Unknown body type for responseIterator. Please pass a streamable response.");
  }
  var Yu = Object.prototype.hasOwnProperty;
  function Xu(Kr, kr) {
    var qr, ai, gi;
    return ft$1(this, void 0, void 0, function() {
      var $i, xi, Ai, Li, Fi, Oa, So, Ns, Uc, Kc, Bc, Wc, Vc, qc, Qc, zc, Yc, Xc, Hc, eu;
      return pt$1(this, function(nu) {
        switch (nu.label) {
          case 0:
            if (TextDecoder === void 0)
              throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");
            $i = new TextDecoder("utf-8"), xi = (qr = Kr.headers) === null || qr === void 0 ? void 0 : qr.get("content-type"), Ai = "boundary=", Li = xi != null && xi.includes(Ai) ? xi == null ? void 0 : xi.substring((xi == null ? void 0 : xi.indexOf(Ai)) + Ai.length).replace(/['"]/g, "").replace(/\;(.*)/gm, "").trim() : "-", Fi = "--".concat(Li), Oa = "", So = Ju(Kr), Ns = !0, nu.label = 1;
          case 1:
            return Ns ? [4, So.next()] : [3, 3];
          case 2:
            for (Uc = nu.sent(), Kc = Uc.value, Bc = Uc.done, Wc = typeof Kc == "string" ? Kc : $i.decode(Kc), Ns = !Bc, Oa += Wc, Vc = Oa.indexOf(Fi); Vc > -1; ) {
              if (qc = void 0, eu = [Oa.slice(0, Vc), Oa.slice(Vc + Fi.length)], qc = eu[0], Oa = eu[1], qc.trim()) {
                if (Qc = qc.indexOf(`\r
\r
`), zc = _d(qc.slice(0, Qc)), Yc = zc["content-type"], Yc && Yc.toLowerCase().indexOf("application/json") === -1)
                  throw new Error("Unsupported patch content type: application/json is required.");
                Xc = qc.slice(Qc);
                try {
                  Hc = Zu(Kr, Xc.replace(`\r
`, "")), (Object.keys(Hc).length > 1 || "data" in Hc || "incremental" in Hc || "errors" in Hc) && ((ai = kr.next) === null || ai === void 0 || ai.call(kr, Hc));
                } catch (su) {
                  ra(su, kr);
                }
              }
              Vc = Oa.indexOf(Fi);
            }
            return [3, 1];
          case 3:
            return (gi = kr.complete) === null || gi === void 0 || gi.call(kr), [2];
        }
      });
    });
  }
  function _d(Kr) {
    var kr = {};
    return Kr.split(`
`).forEach(function(qr) {
      var ai = qr.indexOf(":");
      if (ai > -1) {
        var gi = qr.slice(0, ai).trim().toLowerCase(), $i = qr.slice(ai + 1).trim();
        kr[gi] = $i;
      }
    }), kr;
  }
  function Zu(Kr, kr) {
    if (Kr.status >= 300) {
      var qr = function() {
        try {
          return JSON.parse(kr);
        } catch {
          return kr;
        }
      };
      Hn$1(Kr, qr(), "Response not successful: Received status code ".concat(Kr.status));
    }
    try {
      return JSON.parse(kr);
    } catch (gi) {
      var ai = gi;
      throw ai.name = "ServerParseError", ai.response = Kr, ai.statusCode = Kr.status, ai.bodyText = kr, ai;
    }
  }
  function ra(Kr, kr) {
    var qr, ai;
    Kr.name !== "AbortError" && (Kr.result && Kr.result.errors && Kr.result.data && ((qr = kr.next) === null || qr === void 0 || qr.call(kr, Kr.result)), (ai = kr.error) === null || ai === void 0 || ai.call(kr, Kr));
  }
  function el(Kr, kr, qr) {
    Sd(kr)(Kr).then(function(ai) {
      var gi, $i;
      (gi = qr.next) === null || gi === void 0 || gi.call(qr, ai), ($i = qr.complete) === null || $i === void 0 || $i.call(qr);
    }).catch(function(ai) {
      return ra(ai, qr);
    });
  }
  function Sd(Kr) {
    return function(kr) {
      return kr.text().then(function(qr) {
        return Zu(kr, qr);
      }).then(function(qr) {
        return kr.status >= 300 && Hn$1(kr, qr, "Response not successful: Received status code ".concat(kr.status)), !Array.isArray(qr) && !Yu.call(qr, "data") && !Yu.call(qr, "errors") && Hn$1(kr, qr, "Server response was missing for query '".concat(Array.isArray(Kr) ? Kr.map(function(ai) {
          return ai.operationName;
        }) : Kr.operationName, "'.")), qr;
      });
    };
  }
  var Yn$1 = function(Kr, kr) {
    var qr;
    try {
      qr = JSON.stringify(Kr);
    } catch (gi) {
      var ai = __DEV__ ? new j$1("Network request failed. ".concat(kr, " is not serializable: ").concat(gi.message)) : new j$1(24);
      throw ai.parseError = gi, ai;
    }
    return qr;
  }, wd = { includeQuery: !0, includeExtensions: !1, preserveHeaderCase: !1 }, Ed = { accept: "*/*", "content-type": "application/json" }, xd = { method: "POST" }, tl = { http: wd, headers: Ed, options: xd }, rl = function(Kr, kr) {
    return kr(Kr);
  };
  function nl(Kr, kr) {
    for (var qr = [], ai = 2; ai < arguments.length; ai++)
      qr[ai - 2] = arguments[ai];
    var gi = {}, $i = {};
    qr.forEach(function(So) {
      gi = v$2(v$2(v$2({}, gi), So.options), { headers: v$2(v$2({}, gi.headers), So.headers) }), So.credentials && (gi.credentials = So.credentials), $i = v$2(v$2({}, $i), So.http);
    }), gi.headers && (gi.headers = Od(gi.headers, $i.preserveHeaderCase));
    var xi = Kr.operationName, Ai = Kr.extensions, Li = Kr.variables, Fi = Kr.query, Oa = { operationName: xi, variables: Li };
    return $i.includeExtensions && (Oa.extensions = Ai), $i.includeQuery && (Oa.query = kr(Fi, zr)), { options: gi, body: Oa };
  }
  function Od(Kr, kr) {
    if (!kr) {
      var qr = /* @__PURE__ */ Object.create(null);
      return Object.keys(Object(Kr)).forEach(function($i) {
        qr[$i.toLowerCase()] = Kr[$i];
      }), qr;
    }
    var ai = /* @__PURE__ */ Object.create(null);
    Object.keys(Object(Kr)).forEach(function($i) {
      ai[$i.toLowerCase()] = { originalName: $i, value: Kr[$i] };
    });
    var gi = /* @__PURE__ */ Object.create(null);
    return Object.keys(ai).forEach(function($i) {
      gi[ai[$i].originalName] = ai[$i].value;
    }), gi;
  }
  var il = function(Kr) {
    if (!Kr && typeof fetch > "u")
      throw __DEV__ ? new j$1(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `) : new j$1(23);
  }, al = function() {
    if (typeof AbortController > "u")
      return { controller: !1, signal: !1 };
    var Kr = new AbortController(), kr = Kr.signal;
    return { controller: Kr, signal: kr };
  }, ol = function(Kr, kr) {
    var qr = Kr.getContext(), ai = qr.uri;
    return ai || (typeof kr == "function" ? kr(Kr) : kr || "/graphql");
  };
  function sl(Kr, kr) {
    var qr = [], ai = function(So, Ns) {
      qr.push("".concat(So, "=").concat(encodeURIComponent(Ns)));
    };
    if ("query" in kr && ai("query", kr.query), kr.operationName && ai("operationName", kr.operationName), kr.variables) {
      var gi = void 0;
      try {
        gi = Yn$1(kr.variables, "Variables map");
      } catch (So) {
        return { parseError: So };
      }
      ai("variables", gi);
    }
    if (kr.extensions) {
      var $i = void 0;
      try {
        $i = Yn$1(kr.extensions, "Extensions map");
      } catch (So) {
        return { parseError: So };
      }
      ai("extensions", $i);
    }
    var xi = "", Ai = Kr, Li = Kr.indexOf("#");
    Li !== -1 && (xi = Kr.substr(Li), Ai = Kr.substr(0, Li));
    var Fi = Ai.indexOf("?") === -1 ? "?" : "&", Oa = Ai + Fi + qr.join("&") + xi;
    return { newURI: Oa };
  }
  var cl = Ae$1(function() {
    return fetch;
  }), ul = function(Kr) {
    Kr === void 0 && (Kr = {});
    var kr = Kr.uri, qr = kr === void 0 ? "/graphql" : kr, ai = Kr.fetch, gi = Kr.print, $i = gi === void 0 ? rl : gi, xi = Kr.includeExtensions, Ai = Kr.preserveHeaderCase, Li = Kr.useGETForQueries, Fi = Kr.includeUnusedVariables, Oa = Fi === void 0 ? !1 : Fi, So = wt$1(Kr, ["uri", "fetch", "print", "includeExtensions", "preserveHeaderCase", "useGETForQueries", "includeUnusedVariables"]);
    __DEV__ && il(ai || cl);
    var Ns = { http: { includeExtensions: xi, preserveHeaderCase: Ai }, options: So.fetchOptions, credentials: So.credentials, headers: So.headers };
    return new ot$1(function(Uc) {
      var Kc = ol(Uc, qr), Bc = Uc.getContext(), Wc = {};
      if (Bc.clientAwareness) {
        var Vc = Bc.clientAwareness, qc = Vc.name, Qc = Vc.version;
        qc && (Wc["apollographql-client-name"] = qc), Qc && (Wc["apollographql-client-version"] = Qc);
      }
      var zc = v$2(v$2({}, Wc), Bc.headers), Yc = { http: Bc.http, options: Bc.fetchOptions, credentials: Bc.credentials, headers: zc }, Xc = nl(Uc, $i, tl, Ns, Yc), Hc = Xc.options, eu = Xc.body;
      if (eu.variables && !Oa) {
        var nu = new Set(Object.keys(eu.variables));
        Fe$1(Uc.query, { Variable: function(Gc, Zc, Jc) {
          Jc && Jc.kind !== "VariableDefinition" && nu.delete(Gc.name.value);
        } }), nu.size && (eu.variables = v$2({}, eu.variables), nu.forEach(function(Gc) {
          delete eu.variables[Gc];
        }));
      }
      var su;
      if (!Hc.signal) {
        var yp = al(), Lp = yp.controller, vp = yp.signal;
        su = Lp, su && (Hc.signal = vp);
      }
      var au = function(Gc) {
        return Gc.kind === "OperationDefinition" && Gc.operation === "mutation";
      };
      if (Li && !Uc.query.definitions.some(au) && (Hc.method = "GET"), Hr(["defer"], Uc.query) && (Hc.headers = Hc.headers || {}, Hc.headers.accept = "multipart/mixed; deferSpec=20220824, application/json"), Hc.method === "GET") {
        var ou = sl(Kc, eu), rp = ou.newURI, cu = ou.parseError;
        if (cu)
          return Zi(cu);
        Kc = rp;
      } else
        try {
          Hc.body = Yn$1(eu, "Payload");
        } catch (Gc) {
          return Zi(Gc);
        }
      return new Q$1(function(Gc) {
        var Zc = ai || Ae$1(function() {
          return fetch;
        }) || cl;
        return Zc(Kc, Hc).then(function(Jc) {
          var tu;
          Uc.setContext({ response: Jc });
          var ru = (tu = Jc.headers) === null || tu === void 0 ? void 0 : tu.get("content-type");
          return ru !== null && /^multipart\/mixed/i.test(ru) ? Xu(Jc, Gc) : el(Jc, Uc, Gc);
        }).catch(function(Jc) {
          return ra(Jc, Gc);
        }), function() {
          su && su.abort();
        };
      });
    });
  }, is = function(Kr) {
    ye$1(kr, Kr);
    function kr(qr) {
      qr === void 0 && (qr = {});
      var ai = Kr.call(this, ul(qr).request) || this;
      return ai.options = qr, ai;
    }
    return kr;
  }(ot$1), hl = Object.prototype, ll = hl.toString, Td = hl.hasOwnProperty, fl = Function.prototype.toString, as = /* @__PURE__ */ new Map();
  function ce$1(Kr, kr) {
    try {
      return os(Kr, kr);
    } finally {
      as.clear();
    }
  }
  function os(Kr, kr) {
    if (Kr === kr)
      return !0;
    var qr = ll.call(Kr), ai = ll.call(kr);
    if (qr !== ai)
      return !1;
    switch (qr) {
      case "[object Array]":
        if (Kr.length !== kr.length)
          return !1;
      case "[object Object]": {
        if (dl(Kr, kr))
          return !0;
        var gi = pl(Kr), $i = pl(kr), xi = gi.length;
        if (xi !== $i.length)
          return !1;
        for (var Ai = 0; Ai < xi; ++Ai)
          if (!Td.call(kr, gi[Ai]))
            return !1;
        for (var Ai = 0; Ai < xi; ++Ai) {
          var Li = gi[Ai];
          if (!os(Kr[Li], kr[Li]))
            return !1;
        }
        return !0;
      }
      case "[object Error]":
        return Kr.name === kr.name && Kr.message === kr.message;
      case "[object Number]":
        if (Kr !== Kr)
          return kr !== kr;
      case "[object Boolean]":
      case "[object Date]":
        return +Kr == +kr;
      case "[object RegExp]":
      case "[object String]":
        return Kr == "".concat(kr);
      case "[object Map]":
      case "[object Set]": {
        if (Kr.size !== kr.size)
          return !1;
        if (dl(Kr, kr))
          return !0;
        for (var Fi = Kr.entries(), Oa = qr === "[object Map]"; ; ) {
          var So = Fi.next();
          if (So.done)
            break;
          var Ns = So.value, Uc = Ns[0], Kc = Ns[1];
          if (!kr.has(Uc) || Oa && !os(Kc, kr.get(Uc)))
            return !1;
        }
        return !0;
      }
      case "[object Uint16Array]":
      case "[object Uint8Array]":
      case "[object Uint32Array]":
      case "[object Int32Array]":
      case "[object Int8Array]":
      case "[object Int16Array]":
      case "[object ArrayBuffer]":
        Kr = new Uint8Array(Kr), kr = new Uint8Array(kr);
      case "[object DataView]": {
        var Bc = Kr.byteLength;
        if (Bc === kr.byteLength)
          for (; Bc-- && Kr[Bc] === kr[Bc]; )
            ;
        return Bc === -1;
      }
      case "[object AsyncFunction]":
      case "[object GeneratorFunction]":
      case "[object AsyncGeneratorFunction]":
      case "[object Function]": {
        var Wc = fl.call(Kr);
        return Wc !== fl.call(kr) ? !1 : !kd(Wc, Ad);
      }
    }
    return !1;
  }
  function pl(Kr) {
    return Object.keys(Kr).filter(Id, Kr);
  }
  function Id(Kr) {
    return this[Kr] !== void 0;
  }
  var Ad = "{ [native code] }";
  function kd(Kr, kr) {
    var qr = Kr.length - kr.length;
    return qr >= 0 && Kr.indexOf(kr, qr) === qr;
  }
  function dl(Kr, kr) {
    var qr = as.get(Kr);
    if (qr) {
      if (qr.has(kr))
        return !0;
    } else
      as.set(Kr, qr = /* @__PURE__ */ new Set());
    return qr.add(kr), !1;
  }
  var Dd = function() {
    return /* @__PURE__ */ Object.create(null);
  }, ml = Array.prototype, Pd = ml.forEach, Nd = ml.slice, Ot$1 = function() {
    function Kr(kr, qr) {
      kr === void 0 && (kr = !0), qr === void 0 && (qr = Dd), this.weakness = kr, this.makeData = qr;
    }
    return Kr.prototype.lookup = function() {
      for (var kr = [], qr = 0; qr < arguments.length; qr++)
        kr[qr] = arguments[qr];
      return this.lookupArray(kr);
    }, Kr.prototype.lookupArray = function(kr) {
      var qr = this;
      return Pd.call(kr, function(ai) {
        return qr = qr.getChildTrie(ai);
      }), qr.data || (qr.data = this.makeData(Nd.call(kr)));
    }, Kr.prototype.getChildTrie = function(kr) {
      var qr = this.weakness && Rd(kr) ? this.weak || (this.weak = /* @__PURE__ */ new WeakMap()) : this.strong || (this.strong = /* @__PURE__ */ new Map()), ai = qr.get(kr);
      return ai || qr.set(kr, ai = new Kr(this.weakness, this.makeData)), ai;
    }, Kr;
  }();
  function Rd(Kr) {
    switch (typeof Kr) {
      case "object":
        if (Kr === null)
          break;
      case "function":
        return !0;
    }
    return !1;
  }
  var Re$1 = null, yl = {}, Ld = 1, Fd = function() {
    return function() {
      function Kr() {
        this.id = ["slot", Ld++, Date.now(), Math.random().toString(36).slice(2)].join(":");
      }
      return Kr.prototype.hasValue = function() {
        for (var kr = Re$1; kr; kr = kr.parent)
          if (this.id in kr.slots) {
            var qr = kr.slots[this.id];
            if (qr === yl)
              break;
            return kr !== Re$1 && (Re$1.slots[this.id] = qr), !0;
          }
        return Re$1 && (Re$1.slots[this.id] = yl), !1;
      }, Kr.prototype.getValue = function() {
        if (this.hasValue())
          return Re$1.slots[this.id];
      }, Kr.prototype.withValue = function(kr, qr, ai, gi) {
        var $i, xi = ($i = { __proto__: null }, $i[this.id] = kr, $i), Ai = Re$1;
        Re$1 = { parent: Ai, slots: xi };
        try {
          return qr.apply(gi, ai);
        } finally {
          Re$1 = Ai;
        }
      }, Kr.bind = function(kr) {
        var qr = Re$1;
        return function() {
          var ai = Re$1;
          try {
            return Re$1 = qr, kr.apply(this, arguments);
          } finally {
            Re$1 = ai;
          }
        };
      }, Kr.noContext = function(kr, qr, ai) {
        if (Re$1) {
          var gi = Re$1;
          try {
            return Re$1 = null, kr.apply(ai, qr);
          } finally {
            Re$1 = gi;
          }
        } else
          return kr.apply(ai, qr);
      }, Kr;
    }();
  };
  function vl(Kr) {
    try {
      return Kr();
    } catch {
    }
  }
  var ss = "@wry/context:Slot", $d = vl(function() {
    return globalThis;
  }) || vl(function() {
    return global;
  }) || /* @__PURE__ */ Object.create(null), gl = $d, nn$1 = gl[ss] || Array[ss] || function(Kr) {
    try {
      Object.defineProperty(gl, ss, { value: Kr, enumerable: !1, writable: !1, configurable: !0 });
    } finally {
      return Kr;
    }
  }(Fd());
  nn$1.bind;
  nn$1.noContext;
  function Ud() {
  }
  var qd = function() {
    function Kr(kr, qr) {
      kr === void 0 && (kr = 1 / 0), qr === void 0 && (qr = Ud), this.max = kr, this.dispose = qr, this.map = /* @__PURE__ */ new Map(), this.newest = null, this.oldest = null;
    }
    return Kr.prototype.has = function(kr) {
      return this.map.has(kr);
    }, Kr.prototype.get = function(kr) {
      var qr = this.getNode(kr);
      return qr && qr.value;
    }, Kr.prototype.getNode = function(kr) {
      var qr = this.map.get(kr);
      if (qr && qr !== this.newest) {
        var ai = qr.older, gi = qr.newer;
        gi && (gi.older = ai), ai && (ai.newer = gi), qr.older = this.newest, qr.older.newer = qr, qr.newer = null, this.newest = qr, qr === this.oldest && (this.oldest = gi);
      }
      return qr;
    }, Kr.prototype.set = function(kr, qr) {
      var ai = this.getNode(kr);
      return ai ? ai.value = qr : (ai = { key: kr, value: qr, newer: null, older: this.newest }, this.newest && (this.newest.newer = ai), this.newest = ai, this.oldest = this.oldest || ai, this.map.set(kr, ai), ai.value);
    }, Kr.prototype.clean = function() {
      for (; this.oldest && this.map.size > this.max; )
        this.delete(this.oldest.key);
    }, Kr.prototype.delete = function(kr) {
      var qr = this.map.get(kr);
      return qr ? (qr === this.newest && (this.newest = qr.older), qr === this.oldest && (this.oldest = qr.newer), qr.newer && (qr.newer.older = qr.older), qr.older && (qr.older.newer = qr.newer), this.map.delete(kr), this.dispose(qr.value, kr), !0) : !1;
    }, Kr;
  }(), ia = new nn$1(), cs, Bd = Object.prototype.hasOwnProperty, ls = (cs = Array.from, cs === void 0 ? function(Kr) {
    var kr = [];
    return Kr.forEach(function(qr) {
      return kr.push(qr);
    }), kr;
  } : cs);
  function na(Kr) {
    var kr = Kr.unsubscribe;
    typeof kr == "function" && (Kr.unsubscribe = void 0, kr());
  }
  var Xn = [], Vd = 100;
  function an$1(Kr, kr) {
    if (!Kr)
      throw new Error(kr || "assertion failure");
  }
  function Qd(Kr, kr) {
    var qr = Kr.length;
    return qr > 0 && qr === kr.length && Kr[qr - 1] === kr[qr - 1];
  }
  function Cl(Kr) {
    switch (Kr.length) {
      case 0:
        throw new Error("unknown value");
      case 1:
        return Kr[0];
      case 2:
        throw Kr[1];
    }
  }
  function Wd(Kr) {
    return Kr.slice(0);
  }
  var Gd = function() {
    function Kr(kr) {
      this.fn = kr, this.parents = /* @__PURE__ */ new Set(), this.childValues = /* @__PURE__ */ new Map(), this.dirtyChildren = null, this.dirty = !0, this.recomputing = !1, this.value = [], this.deps = null, ++Kr.count;
    }
    return Kr.prototype.peek = function() {
      if (this.value.length === 1 && !Jt$1(this))
        return bl(this), this.value[0];
    }, Kr.prototype.recompute = function(kr) {
      return an$1(!this.recomputing, "already recomputing"), bl(this), Jt$1(this) ? Kd(this, kr) : Cl(this.value);
    }, Kr.prototype.setDirty = function() {
      this.dirty || (this.dirty = !0, this.value.length = 0, _l(this), na(this));
    }, Kr.prototype.dispose = function() {
      var kr = this;
      this.setDirty(), Ol(this), fs(this, function(qr, ai) {
        qr.setDirty(), Tl(qr, kr);
      });
    }, Kr.prototype.forget = function() {
      this.dispose();
    }, Kr.prototype.dependOn = function(kr) {
      kr.add(this), this.deps || (this.deps = Xn.pop() || /* @__PURE__ */ new Set()), this.deps.add(kr);
    }, Kr.prototype.forgetDeps = function() {
      var kr = this;
      this.deps && (ls(this.deps).forEach(function(qr) {
        return qr.delete(kr);
      }), this.deps.clear(), Xn.push(this.deps), this.deps = null);
    }, Kr.count = 0, Kr;
  }();
  function bl(Kr) {
    var kr = ia.getValue();
    if (kr)
      return Kr.parents.add(kr), kr.childValues.has(Kr) || kr.childValues.set(Kr, []), Jt$1(Kr) ? wl(kr, Kr) : El(kr, Kr), kr;
  }
  function Kd(Kr, kr) {
    return Ol(Kr), ia.withValue(Kr, zd, [Kr, kr]), Jd(Kr, kr) && Hd(Kr), Cl(Kr.value);
  }
  function zd(Kr, kr) {
    Kr.recomputing = !0, Kr.value.length = 0;
    try {
      Kr.value[0] = Kr.fn.apply(null, kr);
    } catch (qr) {
      Kr.value[1] = qr;
    }
    Kr.recomputing = !1;
  }
  function Jt$1(Kr) {
    return Kr.dirty || !!(Kr.dirtyChildren && Kr.dirtyChildren.size);
  }
  function Hd(Kr) {
    Kr.dirty = !1, !Jt$1(Kr) && Sl(Kr);
  }
  function _l(Kr) {
    fs(Kr, wl);
  }
  function Sl(Kr) {
    fs(Kr, El);
  }
  function fs(Kr, kr) {
    var qr = Kr.parents.size;
    if (qr)
      for (var ai = ls(Kr.parents), gi = 0; gi < qr; ++gi)
        kr(ai[gi], Kr);
  }
  function wl(Kr, kr) {
    an$1(Kr.childValues.has(kr)), an$1(Jt$1(kr));
    var qr = !Jt$1(Kr);
    if (!Kr.dirtyChildren)
      Kr.dirtyChildren = Xn.pop() || /* @__PURE__ */ new Set();
    else if (Kr.dirtyChildren.has(kr))
      return;
    Kr.dirtyChildren.add(kr), qr && _l(Kr);
  }
  function El(Kr, kr) {
    an$1(Kr.childValues.has(kr)), an$1(!Jt$1(kr));
    var qr = Kr.childValues.get(kr);
    qr.length === 0 ? Kr.childValues.set(kr, Wd(kr.value)) : Qd(qr, kr.value) || Kr.setDirty(), xl(Kr, kr), !Jt$1(Kr) && Sl(Kr);
  }
  function xl(Kr, kr) {
    var qr = Kr.dirtyChildren;
    qr && (qr.delete(kr), qr.size === 0 && (Xn.length < Vd && Xn.push(qr), Kr.dirtyChildren = null));
  }
  function Ol(Kr) {
    Kr.childValues.size > 0 && Kr.childValues.forEach(function(kr, qr) {
      Tl(Kr, qr);
    }), Kr.forgetDeps(), an$1(Kr.dirtyChildren === null);
  }
  function Tl(Kr, kr) {
    kr.parents.delete(Kr), Kr.childValues.delete(kr), xl(Kr, kr);
  }
  function Jd(Kr, kr) {
    if (typeof Kr.subscribe == "function")
      try {
        na(Kr), Kr.unsubscribe = Kr.subscribe.apply(null, kr);
      } catch {
        return Kr.setDirty(), !1;
      }
    return !0;
  }
  var Yd = { setDirty: !0, dispose: !0, forget: !0 };
  function aa(Kr) {
    var kr = /* @__PURE__ */ new Map(), qr = Kr && Kr.subscribe;
    function ai(gi) {
      var $i = ia.getValue();
      if ($i) {
        var xi = kr.get(gi);
        xi || kr.set(gi, xi = /* @__PURE__ */ new Set()), $i.dependOn(xi), typeof qr == "function" && (na(xi), xi.unsubscribe = qr(gi));
      }
    }
    return ai.dirty = function(gi, $i) {
      var xi = kr.get(gi);
      if (xi) {
        var Ai = $i && Bd.call(Yd, $i) ? $i : "setDirty";
        ls(xi).forEach(function(Li) {
          return Li[Ai]();
        }), kr.delete(gi), na(xi);
      }
    }, ai;
  }
  function Il() {
    var Kr = new Ot$1(typeof WeakMap == "function");
    return function() {
      return Kr.lookupArray(arguments);
    };
  }
  Il();
  var us = /* @__PURE__ */ new Set();
  function Sr(Kr, kr) {
    kr === void 0 && (kr = /* @__PURE__ */ Object.create(null));
    var qr = new qd(kr.max || Math.pow(2, 16), function(Fi) {
      return Fi.dispose();
    }), ai = kr.keyArgs, gi = kr.makeCacheKey || Il(), $i = function() {
      var Fi = gi.apply(null, ai ? ai.apply(null, arguments) : arguments);
      if (Fi === void 0)
        return Kr.apply(null, arguments);
      var Oa = qr.get(Fi);
      Oa || (qr.set(Fi, Oa = new Gd(Kr)), Oa.subscribe = kr.subscribe, Oa.forget = function() {
        return qr.delete(Fi);
      });
      var So = Oa.recompute(Array.prototype.slice.call(arguments));
      return qr.set(Fi, Oa), us.add(qr), ia.hasValue() || (us.forEach(function(Ns) {
        return Ns.clean();
      }), us.clear()), So;
    };
    Object.defineProperty($i, "size", { get: function() {
      return qr.map.size;
    }, configurable: !1, enumerable: !1 });
    function xi(Fi) {
      var Oa = qr.get(Fi);
      Oa && Oa.setDirty();
    }
    $i.dirtyKey = xi, $i.dirty = function() {
      xi(gi.apply(null, arguments));
    };
    function Ai(Fi) {
      var Oa = qr.get(Fi);
      if (Oa)
        return Oa.peek();
    }
    $i.peekKey = Ai, $i.peek = function() {
      return Ai(gi.apply(null, arguments));
    };
    function Li(Fi) {
      return qr.delete(Fi);
    }
    return $i.forgetKey = Li, $i.forget = function() {
      return Li(gi.apply(null, arguments));
    }, $i.makeCacheKey = gi, $i.getKey = ai ? function() {
      return gi.apply(null, ai.apply(null, arguments));
    } : gi, Object.freeze($i);
  }
  var ps = function() {
    function Kr() {
      this.getFragmentDoc = Sr(Po);
    }
    return Kr.prototype.batch = function(kr) {
      var qr = this, ai = typeof kr.optimistic == "string" ? kr.optimistic : kr.optimistic === !1 ? null : void 0, gi;
      return this.performTransaction(function() {
        return gi = kr.update(qr);
      }, ai), gi;
    }, Kr.prototype.recordOptimisticTransaction = function(kr, qr) {
      this.performTransaction(kr, qr);
    }, Kr.prototype.transformDocument = function(kr) {
      return kr;
    }, Kr.prototype.transformForLink = function(kr) {
      return kr;
    }, Kr.prototype.identify = function(kr) {
    }, Kr.prototype.gc = function() {
      return [];
    }, Kr.prototype.modify = function(kr) {
      return !1;
    }, Kr.prototype.readQuery = function(kr, qr) {
      return qr === void 0 && (qr = !!kr.optimistic), this.read(v$2(v$2({}, kr), { rootId: kr.id || "ROOT_QUERY", optimistic: qr }));
    }, Kr.prototype.readFragment = function(kr, qr) {
      return qr === void 0 && (qr = !!kr.optimistic), this.read(v$2(v$2({}, kr), { query: this.getFragmentDoc(kr.fragment, kr.fragmentName), rootId: kr.id, optimistic: qr }));
    }, Kr.prototype.writeQuery = function(kr) {
      var qr = kr.id, ai = kr.data, gi = wt$1(kr, ["id", "data"]);
      return this.write(Object.assign(gi, { dataId: qr || "ROOT_QUERY", result: ai }));
    }, Kr.prototype.writeFragment = function(kr) {
      var qr = kr.id, ai = kr.data, gi = kr.fragment, $i = kr.fragmentName, xi = wt$1(kr, ["id", "data", "fragment", "fragmentName"]);
      return this.write(Object.assign(xi, { query: this.getFragmentDoc(gi, $i), dataId: qr, result: ai }));
    }, Kr.prototype.updateQuery = function(kr, qr) {
      return this.batch({ update: function(ai) {
        var gi = ai.readQuery(kr), $i = qr(gi);
        return $i == null ? gi : (ai.writeQuery(v$2(v$2({}, kr), { data: $i })), $i);
      } });
    }, Kr.prototype.updateFragment = function(kr, qr) {
      return this.batch({ update: function(ai) {
        var gi = ai.readFragment(kr), $i = qr(gi);
        return $i == null ? gi : (ai.writeFragment(v$2(v$2({}, kr), { data: $i })), $i);
      } });
    }, Kr;
  }(), Zn = function(Kr) {
    ye$1(kr, Kr);
    function kr(qr, ai, gi, $i) {
      var xi, Ai = Kr.call(this, qr) || this;
      if (Ai.message = qr, Ai.path = ai, Ai.query = gi, Ai.variables = $i, Array.isArray(Ai.path)) {
        Ai.missing = Ai.message;
        for (var Li = Ai.path.length - 1; Li >= 0; --Li)
          Ai.missing = (xi = {}, xi[Ai.path[Li]] = Ai.missing, xi);
      } else
        Ai.missing = Ai.path;
      return Ai.__proto__ = kr.prototype, Ai;
    }
    return kr;
  }(Error), ve$1 = Object.prototype.hasOwnProperty;
  function ei(Kr) {
    return Kr == null;
  }
  function sa(Kr, kr) {
    var qr = Kr.__typename, ai = Kr.id, gi = Kr._id;
    if (typeof qr == "string" && (kr && (kr.keyObject = ei(ai) ? ei(gi) ? void 0 : { _id: gi } : { id: ai }), ei(ai) && !ei(gi) && (ai = gi), !ei(ai)))
      return "".concat(qr, ":").concat(typeof ai == "number" || typeof ai == "string" ? ai : JSON.stringify(ai));
  }
  var Al = { dataIdFromObject: sa, addTypename: !0, resultCaching: !0, canonizeResults: !1 };
  function kl(Kr) {
    return Ht$1(Al, Kr);
  }
  function ca(Kr) {
    var kr = Kr.canonizeResults;
    return kr === void 0 ? Al.canonizeResults : kr;
  }
  function Dl(Kr, kr) {
    return W$1(kr) ? Kr.get(kr.__ref, "__typename") : kr && kr.__typename;
  }
  var ds = /^[_a-z][_0-9a-z]*/i;
  function mt$1(Kr) {
    var kr = Kr.match(ds);
    return kr ? kr[0] : Kr;
  }
  function oa(Kr, kr, qr) {
    return z$1(kr) ? ne$1(kr) ? kr.every(function(ai) {
      return oa(Kr, ai, qr);
    }) : Kr.selections.every(function(ai) {
      if (Xe$1(ai) && Dt$1(ai, qr)) {
        var gi = it$1(ai);
        return ve$1.call(kr, gi) && (!ai.selectionSet || oa(ai.selectionSet, kr[gi], qr));
      }
      return !0;
    }) : !1;
  }
  function Yt$1(Kr) {
    return z$1(Kr) && !W$1(Kr) && !ne$1(Kr);
  }
  function Pl() {
    return new We$1();
  }
  function ua(Kr, kr) {
    var qr = mr(vr(Kr));
    return { fragmentMap: qr, lookupFragment: function(ai) {
      var gi = qr[ai];
      return !gi && kr && (gi = kr.lookup(ai)), gi || null;
    } };
  }
  var la = /* @__PURE__ */ Object.create(null), hs = function() {
    return la;
  }, Nl = /* @__PURE__ */ Object.create(null), on$1 = function() {
    function Kr(kr, qr) {
      var ai = this;
      this.policies = kr, this.group = qr, this.data = /* @__PURE__ */ Object.create(null), this.rootIds = /* @__PURE__ */ Object.create(null), this.refs = /* @__PURE__ */ Object.create(null), this.getFieldValue = function(gi, $i) {
        return Gn$1(W$1(gi) ? ai.get(gi.__ref, $i) : gi && gi[$i]);
      }, this.canRead = function(gi) {
        return W$1(gi) ? ai.has(gi.__ref) : typeof gi == "object";
      }, this.toReference = function(gi, $i) {
        if (typeof gi == "string")
          return Et$1(gi);
        if (W$1(gi))
          return gi;
        var xi = ai.policies.identify(gi)[0];
        if (xi) {
          var Ai = Et$1(xi);
          return $i && ai.merge(xi, gi), Ai;
        }
      };
    }
    return Kr.prototype.toObject = function() {
      return v$2({}, this.data);
    }, Kr.prototype.has = function(kr) {
      return this.lookup(kr, !0) !== void 0;
    }, Kr.prototype.get = function(kr, qr) {
      if (this.group.depend(kr, qr), ve$1.call(this.data, kr)) {
        var ai = this.data[kr];
        if (ai && ve$1.call(ai, qr))
          return ai[qr];
      }
      if (qr === "__typename" && ve$1.call(this.policies.rootTypenamesById, kr))
        return this.policies.rootTypenamesById[kr];
      if (this instanceof Xt$1)
        return this.parent.get(kr, qr);
    }, Kr.prototype.lookup = function(kr, qr) {
      if (qr && this.group.depend(kr, "__exists"), ve$1.call(this.data, kr))
        return this.data[kr];
      if (this instanceof Xt$1)
        return this.parent.lookup(kr, qr);
      if (this.policies.rootTypenamesById[kr])
        return /* @__PURE__ */ Object.create(null);
    }, Kr.prototype.merge = function(kr, qr) {
      var ai = this, gi;
      W$1(kr) && (kr = kr.__ref), W$1(qr) && (qr = qr.__ref);
      var $i = typeof kr == "string" ? this.lookup(gi = kr) : kr, xi = typeof qr == "string" ? this.lookup(gi = qr) : qr;
      if (xi) {
        __DEV__ ? T$1(typeof gi == "string", "store.merge expects a string ID") : T$1(typeof gi == "string", 1);
        var Ai = new We$1(Zd).merge($i, xi);
        if (this.data[gi] = Ai, Ai !== $i && (delete this.refs[gi], this.group.caching)) {
          var Li = /* @__PURE__ */ Object.create(null);
          $i || (Li.__exists = 1), Object.keys(xi).forEach(function(Fi) {
            if (!$i || $i[Fi] !== Ai[Fi]) {
              Li[Fi] = 1;
              var Oa = mt$1(Fi);
              Oa !== Fi && !ai.policies.hasKeyArgs(Ai.__typename, Oa) && (Li[Oa] = 1), Ai[Fi] === void 0 && !(ai instanceof Xt$1) && delete Ai[Fi];
            }
          }), Li.__typename && !($i && $i.__typename) && this.policies.rootTypenamesById[gi] === Ai.__typename && delete Li.__typename, Object.keys(Li).forEach(function(Fi) {
            return ai.group.dirty(gi, Fi);
          });
        }
      }
    }, Kr.prototype.modify = function(kr, qr) {
      var ai = this, gi = this.lookup(kr);
      if (gi) {
        var $i = /* @__PURE__ */ Object.create(null), xi = !1, Ai = !0, Li = { DELETE: la, INVALIDATE: Nl, isReference: W$1, toReference: this.toReference, canRead: this.canRead, readField: function(Fi, Oa) {
          return ai.policies.readField(typeof Fi == "string" ? { fieldName: Fi, from: Oa || Et$1(kr) } : Fi, { store: ai });
        } };
        if (Object.keys(gi).forEach(function(Fi) {
          var Oa = mt$1(Fi), So = gi[Fi];
          if (So !== void 0) {
            var Ns = typeof qr == "function" ? qr : qr[Fi] || qr[Oa];
            if (Ns) {
              var Uc = Ns === hs ? la : Ns(Gn$1(So), v$2(v$2({}, Li), { fieldName: Oa, storeFieldName: Fi, storage: ai.getStorage(kr, Fi) }));
              Uc === Nl ? ai.group.dirty(kr, Fi) : (Uc === la && (Uc = void 0), Uc !== So && ($i[Fi] = Uc, xi = !0, So = Uc));
            }
            So !== void 0 && (Ai = !1);
          }
        }), xi)
          return this.merge(kr, $i), Ai && (this instanceof Xt$1 ? this.data[kr] = void 0 : delete this.data[kr], this.group.dirty(kr, "__exists")), !0;
      }
      return !1;
    }, Kr.prototype.delete = function(kr, qr, ai) {
      var gi, $i = this.lookup(kr);
      if ($i) {
        var xi = this.getFieldValue($i, "__typename"), Ai = qr && ai ? this.policies.getStoreFieldName({ typename: xi, fieldName: qr, args: ai }) : qr;
        return this.modify(kr, Ai ? (gi = {}, gi[Ai] = hs, gi) : hs);
      }
      return !1;
    }, Kr.prototype.evict = function(kr, qr) {
      var ai = !1;
      return kr.id && (ve$1.call(this.data, kr.id) && (ai = this.delete(kr.id, kr.fieldName, kr.args)), this instanceof Xt$1 && this !== qr && (ai = this.parent.evict(kr, qr) || ai), (kr.fieldName || ai) && this.group.dirty(kr.id, kr.fieldName || "__exists")), ai;
    }, Kr.prototype.clear = function() {
      this.replace(null);
    }, Kr.prototype.extract = function() {
      var kr = this, qr = this.toObject(), ai = [];
      return this.getRootIdSet().forEach(function(gi) {
        ve$1.call(kr.policies.rootTypenamesById, gi) || ai.push(gi);
      }), ai.length && (qr.__META = { extraRootIds: ai.sort() }), qr;
    }, Kr.prototype.replace = function(kr) {
      var qr = this;
      if (Object.keys(this.data).forEach(function($i) {
        kr && ve$1.call(kr, $i) || qr.delete($i);
      }), kr) {
        var ai = kr.__META, gi = wt$1(kr, ["__META"]);
        Object.keys(gi).forEach(function($i) {
          qr.merge($i, gi[$i]);
        }), ai && ai.extraRootIds.forEach(this.retain, this);
      }
    }, Kr.prototype.retain = function(kr) {
      return this.rootIds[kr] = (this.rootIds[kr] || 0) + 1;
    }, Kr.prototype.release = function(kr) {
      if (this.rootIds[kr] > 0) {
        var qr = --this.rootIds[kr];
        return qr || delete this.rootIds[kr], qr;
      }
      return 0;
    }, Kr.prototype.getRootIdSet = function(kr) {
      return kr === void 0 && (kr = /* @__PURE__ */ new Set()), Object.keys(this.rootIds).forEach(kr.add, kr), this instanceof Xt$1 ? this.parent.getRootIdSet(kr) : Object.keys(this.policies.rootTypenamesById).forEach(kr.add, kr), kr;
    }, Kr.prototype.gc = function() {
      var kr = this, qr = this.getRootIdSet(), ai = this.toObject();
      qr.forEach(function(xi) {
        ve$1.call(ai, xi) && (Object.keys(kr.findChildRefIds(xi)).forEach(qr.add, qr), delete ai[xi]);
      });
      var gi = Object.keys(ai);
      if (gi.length) {
        for (var $i = this; $i instanceof Xt$1; )
          $i = $i.parent;
        gi.forEach(function(xi) {
          return $i.delete(xi);
        });
      }
      return gi;
    }, Kr.prototype.findChildRefIds = function(kr) {
      if (!ve$1.call(this.refs, kr)) {
        var qr = this.refs[kr] = /* @__PURE__ */ Object.create(null), ai = this.data[kr];
        if (!ai)
          return qr;
        var gi = /* @__PURE__ */ new Set([ai]);
        gi.forEach(function($i) {
          W$1($i) && (qr[$i.__ref] = !0), z$1($i) && Object.keys($i).forEach(function(xi) {
            var Ai = $i[xi];
            z$1(Ai) && gi.add(Ai);
          });
        });
      }
      return this.refs[kr];
    }, Kr.prototype.makeCacheKey = function() {
      return this.group.keyMaker.lookupArray(arguments);
    }, Kr;
  }(), Rl = function() {
    function Kr(kr, qr) {
      qr === void 0 && (qr = null), this.caching = kr, this.parent = qr, this.d = null, this.resetCaching();
    }
    return Kr.prototype.resetCaching = function() {
      this.d = this.caching ? aa() : null, this.keyMaker = new Ot$1(at$1);
    }, Kr.prototype.depend = function(kr, qr) {
      if (this.d) {
        this.d(ms(kr, qr));
        var ai = mt$1(qr);
        ai !== qr && this.d(ms(kr, ai)), this.parent && this.parent.depend(kr, qr);
      }
    }, Kr.prototype.dirty = function(kr, qr) {
      this.d && this.d.dirty(ms(kr, qr), qr === "__exists" ? "forget" : "setDirty");
    }, Kr;
  }();
  function ms(Kr, kr) {
    return kr + "#" + Kr;
  }
  function ys(Kr, kr) {
    wr(Kr) && Kr.group.depend(kr, "__exists");
  }
  (function(Kr) {
    var kr = function(qr) {
      ye$1(ai, qr);
      function ai(gi) {
        var $i = gi.policies, xi = gi.resultCaching, Ai = xi === void 0 ? !0 : xi, Li = gi.seed, Fi = qr.call(this, $i, new Rl(Ai)) || this;
        return Fi.stump = new Xd(Fi), Fi.storageTrie = new Ot$1(at$1), Li && Fi.replace(Li), Fi;
      }
      return ai.prototype.addLayer = function(gi, $i) {
        return this.stump.addLayer(gi, $i);
      }, ai.prototype.removeLayer = function() {
        return this;
      }, ai.prototype.getStorage = function() {
        return this.storageTrie.lookupArray(arguments);
      }, ai;
    }(Kr);
    Kr.Root = kr;
  })(on$1 || (on$1 = {}));
  var Xt$1 = function(Kr) {
    ye$1(kr, Kr);
    function kr(qr, ai, gi, $i) {
      var xi = Kr.call(this, ai.policies, $i) || this;
      return xi.id = qr, xi.parent = ai, xi.replay = gi, xi.group = $i, gi(xi), xi;
    }
    return kr.prototype.addLayer = function(qr, ai) {
      return new kr(qr, this, ai, this.group);
    }, kr.prototype.removeLayer = function(qr) {
      var ai = this, gi = this.parent.removeLayer(qr);
      return qr === this.id ? (this.group.caching && Object.keys(this.data).forEach(function($i) {
        var xi = ai.data[$i], Ai = gi.lookup($i);
        Ai ? xi ? xi !== Ai && Object.keys(xi).forEach(function(Li) {
          ce$1(xi[Li], Ai[Li]) || ai.group.dirty($i, Li);
        }) : (ai.group.dirty($i, "__exists"), Object.keys(Ai).forEach(function(Li) {
          ai.group.dirty($i, Li);
        })) : ai.delete($i);
      }), gi) : gi === this.parent ? this : gi.addLayer(this.id, this.replay);
    }, kr.prototype.toObject = function() {
      return v$2(v$2({}, this.parent.toObject()), this.data);
    }, kr.prototype.findChildRefIds = function(qr) {
      var ai = this.parent.findChildRefIds(qr);
      return ve$1.call(this.data, qr) ? v$2(v$2({}, ai), Kr.prototype.findChildRefIds.call(this, qr)) : ai;
    }, kr.prototype.getStorage = function() {
      for (var qr = this.parent; qr.parent; )
        qr = qr.parent;
      return qr.getStorage.apply(qr, arguments);
    }, kr;
  }(on$1), Xd = function(Kr) {
    ye$1(kr, Kr);
    function kr(qr) {
      return Kr.call(this, "EntityStore.Stump", qr, function() {
      }, new Rl(qr.group.caching, qr.group)) || this;
    }
    return kr.prototype.removeLayer = function() {
      return this;
    }, kr.prototype.merge = function() {
      return this.parent.merge.apply(this.parent, arguments);
    }, kr;
  }(Xt$1);
  function Zd(Kr, kr, qr) {
    var ai = Kr[qr], gi = kr[qr];
    return ce$1(ai, gi) ? ai : gi;
  }
  function wr(Kr) {
    return !!(Kr instanceof on$1 && Kr.group.caching);
  }
  function e1(Kr) {
    return z$1(Kr) ? ne$1(Kr) ? Kr.slice(0) : v$2({ __proto__: Object.getPrototypeOf(Kr) }, Kr) : Kr;
  }
  var fa = function() {
    function Kr() {
      this.known = new ($u ? WeakSet : Set)(), this.pool = new Ot$1(at$1), this.passes = /* @__PURE__ */ new WeakMap(), this.keysByJSON = /* @__PURE__ */ new Map(), this.empty = this.admit({});
    }
    return Kr.prototype.isKnown = function(kr) {
      return z$1(kr) && this.known.has(kr);
    }, Kr.prototype.pass = function(kr) {
      if (z$1(kr)) {
        var qr = e1(kr);
        return this.passes.set(qr, kr), qr;
      }
      return kr;
    }, Kr.prototype.admit = function(kr) {
      var qr = this;
      if (z$1(kr)) {
        var ai = this.passes.get(kr);
        if (ai)
          return ai;
        var gi = Object.getPrototypeOf(kr);
        switch (gi) {
          case Array.prototype: {
            if (this.known.has(kr))
              return kr;
            var $i = kr.map(this.admit, this), xi = this.pool.lookupArray($i);
            return xi.array || (this.known.add(xi.array = $i), __DEV__ && Object.freeze($i)), xi.array;
          }
          case null:
          case Object.prototype: {
            if (this.known.has(kr))
              return kr;
            var Ai = Object.getPrototypeOf(kr), Li = [Ai], Fi = this.sortedKeys(kr);
            Li.push(Fi.json);
            var Oa = Li.length;
            Fi.sorted.forEach(function(Uc) {
              Li.push(qr.admit(kr[Uc]));
            });
            var xi = this.pool.lookupArray(Li);
            if (!xi.object) {
              var So = xi.object = Object.create(Ai);
              this.known.add(So), Fi.sorted.forEach(function(Uc, Kc) {
                So[Uc] = Li[Oa + Kc];
              }), __DEV__ && Object.freeze(So);
            }
            return xi.object;
          }
        }
      }
      return kr;
    }, Kr.prototype.sortedKeys = function(kr) {
      var qr = Object.keys(kr), ai = this.pool.lookupArray(qr);
      if (!ai.keys) {
        qr.sort();
        var gi = JSON.stringify(qr);
        (ai.keys = this.keysByJSON.get(gi)) || this.keysByJSON.set(gi, ai.keys = { sorted: qr, json: gi });
      }
      return ai.keys;
    }, Kr;
  }(), Ze$1 = Object.assign(function(Kr) {
    if (z$1(Kr)) {
      vs === void 0 && Ll();
      var kr = vs.admit(Kr), qr = gs.get(kr);
      return qr === void 0 && gs.set(kr, qr = JSON.stringify(kr)), qr;
    }
    return JSON.stringify(Kr);
  }, { reset: Ll }), vs, gs;
  function Ll() {
    vs = new fa(), gs = new (at$1 ? WeakMap : Map)();
  }
  function Fl(Kr) {
    return [Kr.selectionSet, Kr.objectOrReference, Kr.context, Kr.context.canonizeResults];
  }
  var $l = function() {
    function Kr(kr) {
      var qr = this;
      this.knownResults = new (at$1 ? WeakMap : Map)(), this.config = Ht$1(kr, { addTypename: kr.addTypename !== !1, canonizeResults: ca(kr) }), this.canon = kr.canon || new fa(), this.executeSelectionSet = Sr(function(ai) {
        var gi, $i = ai.context.canonizeResults, xi = Fl(ai);
        xi[3] = !$i;
        var Ai = (gi = qr.executeSelectionSet).peek.apply(gi, xi);
        return Ai ? $i ? v$2(v$2({}, Ai), { result: qr.canon.admit(Ai.result) }) : Ai : (ys(ai.context.store, ai.enclosingRef.__ref), qr.execSelectionSetImpl(ai));
      }, { max: this.config.resultCacheMaxSize, keyArgs: Fl, makeCacheKey: function(ai, gi, $i, xi) {
        if (wr($i.store))
          return $i.store.makeCacheKey(ai, W$1(gi) ? gi.__ref : gi, $i.varString, xi);
      } }), this.executeSubSelectedArray = Sr(function(ai) {
        return ys(ai.context.store, ai.enclosingRef.__ref), qr.execSubSelectedArrayImpl(ai);
      }, { max: this.config.resultCacheMaxSize, makeCacheKey: function(ai) {
        var gi = ai.field, $i = ai.array, xi = ai.context;
        if (wr(xi.store))
          return xi.store.makeCacheKey(gi, $i, xi.varString);
      } });
    }
    return Kr.prototype.resetCanon = function() {
      this.canon = new fa();
    }, Kr.prototype.diffQueryAgainstStore = function(kr) {
      var qr = kr.store, ai = kr.query, gi = kr.rootId, $i = gi === void 0 ? "ROOT_QUERY" : gi, xi = kr.variables, Ai = kr.returnPartialData, Li = Ai === void 0 ? !0 : Ai, Fi = kr.canonizeResults, Oa = Fi === void 0 ? this.config.canonizeResults : Fi, So = this.config.cache.policies;
      xi = v$2(v$2({}, br(Vn$1(ai))), xi);
      var Ns = Et$1($i), Uc = this.executeSelectionSet({ selectionSet: gr(ai).selectionSet, objectOrReference: Ns, enclosingRef: Ns, context: v$2({ store: qr, query: ai, policies: So, variables: xi, varString: Ze$1(xi), canonizeResults: Oa }, ua(ai, this.config.fragments)) }), Kc;
      if (Uc.missing && (Kc = [new Zn(t1(Uc.missing), Uc.missing, ai, xi)], !Li))
        throw Kc[0];
      return { result: Uc.result, complete: !Kc, missing: Kc };
    }, Kr.prototype.isFresh = function(kr, qr, ai, gi) {
      if (wr(gi.store) && this.knownResults.get(kr) === ai) {
        var $i = this.executeSelectionSet.peek(ai, qr, gi, this.canon.isKnown(kr));
        if ($i && kr === $i.result)
          return !0;
      }
      return !1;
    }, Kr.prototype.execSelectionSetImpl = function(kr) {
      var qr = this, ai = kr.selectionSet, gi = kr.objectOrReference, $i = kr.enclosingRef, xi = kr.context;
      if (W$1(gi) && !xi.policies.rootTypenamesById[gi.__ref] && !xi.store.has(gi.__ref))
        return { result: this.canon.empty, missing: "Dangling reference to missing ".concat(gi.__ref, " object") };
      var Ai = xi.variables, Li = xi.policies, Fi = xi.store, Oa = Fi.getFieldValue(gi, "__typename"), So = [], Ns, Uc = new We$1();
      this.config.addTypename && typeof Oa == "string" && !Li.rootIdsByTypename[Oa] && So.push({ __typename: Oa });
      function Kc(Qc, zc) {
        var Yc;
        return Qc.missing && (Ns = Uc.merge(Ns, (Yc = {}, Yc[zc] = Qc.missing, Yc))), Qc.result;
      }
      var Bc = new Set(ai.selections);
      Bc.forEach(function(Qc) {
        var zc, Yc;
        if (Dt$1(Qc, Ai))
          if (Xe$1(Qc)) {
            var Xc = Li.readField({ fieldName: Qc.name.value, field: Qc, variables: xi.variables, from: gi }, xi), Hc = it$1(Qc);
            Xc === void 0 ? Cr.added(Qc) || (Ns = Uc.merge(Ns, (zc = {}, zc[Hc] = "Can't find field '".concat(Qc.name.value, "' on ").concat(W$1(gi) ? gi.__ref + " object" : "object " + JSON.stringify(gi, null, 2)), zc))) : ne$1(Xc) ? Xc = Kc(qr.executeSubSelectedArray({ field: Qc, array: Xc, enclosingRef: $i, context: xi }), Hc) : Qc.selectionSet ? Xc != null && (Xc = Kc(qr.executeSelectionSet({ selectionSet: Qc.selectionSet, objectOrReference: Xc, enclosingRef: W$1(Xc) ? Xc : $i, context: xi }), Hc)) : xi.canonizeResults && (Xc = qr.canon.pass(Xc)), Xc !== void 0 && So.push((Yc = {}, Yc[Hc] = Xc, Yc));
          } else {
            var eu = yr(Qc, xi.lookupFragment);
            if (!eu && Qc.kind === _e$1.FRAGMENT_SPREAD)
              throw __DEV__ ? new j$1("No fragment named ".concat(Qc.name.value)) : new j$1(5);
            eu && Li.fragmentMatches(eu, Oa) && eu.selectionSet.selections.forEach(Bc.add, Bc);
          }
      });
      var Wc = Qn(So), Vc = { result: Wc, missing: Ns }, qc = xi.canonizeResults ? this.canon.admit(Vc) : Gn$1(Vc);
      return qc.result && this.knownResults.set(qc.result, ai), qc;
    }, Kr.prototype.execSubSelectedArrayImpl = function(kr) {
      var qr = this, ai = kr.field, gi = kr.array, $i = kr.enclosingRef, xi = kr.context, Ai, Li = new We$1();
      function Fi(Oa, So) {
        var Ns;
        return Oa.missing && (Ai = Li.merge(Ai, (Ns = {}, Ns[So] = Oa.missing, Ns))), Oa.result;
      }
      return ai.selectionSet && (gi = gi.filter(xi.store.canRead)), gi = gi.map(function(Oa, So) {
        return Oa === null ? null : ne$1(Oa) ? Fi(qr.executeSubSelectedArray({ field: ai, array: Oa, enclosingRef: $i, context: xi }), So) : ai.selectionSet ? Fi(qr.executeSelectionSet({ selectionSet: ai.selectionSet, objectOrReference: Oa, enclosingRef: W$1(Oa) ? Oa : $i, context: xi }), So) : (__DEV__ && r1(xi.store, ai, Oa), Oa);
      }), { result: xi.canonizeResults ? this.canon.admit(gi) : gi, missing: Ai };
    }, Kr;
  }();
  function t1(Kr) {
    try {
      JSON.stringify(Kr, function(kr, qr) {
        if (typeof qr == "string")
          throw qr;
        return qr;
      });
    } catch (kr) {
      return kr;
    }
  }
  function r1(Kr, kr, qr) {
    if (!kr.selectionSet) {
      var ai = /* @__PURE__ */ new Set([qr]);
      ai.forEach(function(gi) {
        z$1(gi) && (__DEV__ ? T$1(!W$1(gi), "Missing selection set for object of type ".concat(Dl(Kr, gi), " returned for query field ").concat(kr.name.value)) : T$1(!W$1(gi), 6), Object.values(gi).forEach(ai.add, ai));
      });
    }
  }
  var sn$1 = new nn$1(), Ml = /* @__PURE__ */ new WeakMap();
  function ti(Kr) {
    var kr = Ml.get(Kr);
    return kr || Ml.set(Kr, kr = { vars: /* @__PURE__ */ new Set(), dep: aa() }), kr;
  }
  function bs(Kr) {
    ti(Kr).vars.forEach(function(kr) {
      return kr.forgetCache(Kr);
    });
  }
  function jl(Kr) {
    ti(Kr).vars.forEach(function(kr) {
      return kr.attachCache(Kr);
    });
  }
  function pa(Kr) {
    var kr = /* @__PURE__ */ new Set(), qr = /* @__PURE__ */ new Set(), ai = function($i) {
      if (arguments.length > 0) {
        if (Kr !== $i) {
          Kr = $i, kr.forEach(function(Li) {
            ti(Li).dep.dirty(ai), n1(Li);
          });
          var xi = Array.from(qr);
          qr.clear(), xi.forEach(function(Li) {
            return Li(Kr);
          });
        }
      } else {
        var Ai = sn$1.getValue();
        Ai && (gi(Ai), ti(Ai).dep(ai));
      }
      return Kr;
    };
    ai.onNextChange = function($i) {
      return qr.add($i), function() {
        qr.delete($i);
      };
    };
    var gi = ai.attachCache = function($i) {
      return kr.add($i), ti($i).vars.add(ai), ai;
    };
    return ai.forgetCache = function($i) {
      return kr.delete($i);
    }, ai;
  }
  function n1(Kr) {
    Kr.broadcastWatches && Kr.broadcastWatches();
  }
  var Ul = /* @__PURE__ */ Object.create(null);
  function Cs(Kr) {
    var kr = JSON.stringify(Kr);
    return Ul[kr] || (Ul[kr] = /* @__PURE__ */ Object.create(null));
  }
  function _s(Kr) {
    var kr = Cs(Kr);
    return kr.keyFieldsFn || (kr.keyFieldsFn = function(qr, ai) {
      var gi = function(xi, Ai) {
        return ai.readField(Ai, xi);
      }, $i = ai.keyObject = ws(Kr, function(xi) {
        var Ai = cn$1(ai.storeObject, xi, gi);
        return Ai === void 0 && qr !== ai.storeObject && ve$1.call(qr, xi[0]) && (Ai = cn$1(qr, xi, Bl)), __DEV__ ? T$1(Ai !== void 0, "Missing field '".concat(xi.join("."), "' while extracting keyFields from ").concat(JSON.stringify(qr))) : T$1(Ai !== void 0, 2), Ai;
      });
      return "".concat(ai.typename, ":").concat(JSON.stringify($i));
    });
  }
  function Ss(Kr) {
    var kr = Cs(Kr);
    return kr.keyArgsFn || (kr.keyArgsFn = function(qr, ai) {
      var gi = ai.field, $i = ai.variables, xi = ai.fieldName, Ai = ws(Kr, function(Fi) {
        var Oa = Fi[0], So = Oa.charAt(0);
        if (So === "@") {
          if (gi && we$1(gi.directives)) {
            var Ns = Oa.slice(1), Uc = gi.directives.find(function(Vc) {
              return Vc.name.value === Ns;
            }), Kc = Uc && Pt$1(Uc, $i);
            return Kc && cn$1(Kc, Fi.slice(1));
          }
          return;
        }
        if (So === "$") {
          var Bc = Oa.slice(1);
          if ($i && ve$1.call($i, Bc)) {
            var Wc = Fi.slice(0);
            return Wc[0] = Bc, cn$1($i, Wc);
          }
          return;
        }
        if (qr)
          return cn$1(qr, Fi);
      }), Li = JSON.stringify(Ai);
      return (qr || Li !== "{}") && (xi += ":" + Li), xi;
    });
  }
  function ws(Kr, kr) {
    var qr = new We$1();
    return ql(Kr).reduce(function(ai, gi) {
      var $i, xi = kr(gi);
      if (xi !== void 0) {
        for (var Ai = gi.length - 1; Ai >= 0; --Ai)
          xi = ($i = {}, $i[gi[Ai]] = xi, $i);
        ai = qr.merge(ai, xi);
      }
      return ai;
    }, /* @__PURE__ */ Object.create(null));
  }
  function ql(Kr) {
    var kr = Cs(Kr);
    if (!kr.paths) {
      var qr = kr.paths = [], ai = [];
      Kr.forEach(function(gi, $i) {
        ne$1(gi) ? (ql(gi).forEach(function(xi) {
          return qr.push(ai.concat(xi));
        }), ai.length = 0) : (ai.push(gi), ne$1(Kr[$i + 1]) || (qr.push(ai.slice(0)), ai.length = 0));
      });
    }
    return kr.paths;
  }
  function Bl(Kr, kr) {
    return Kr[kr];
  }
  function cn$1(Kr, kr, qr) {
    return qr = qr || Bl, Vl(kr.reduce(function ai(gi, $i) {
      return ne$1(gi) ? gi.map(function(xi) {
        return ai(xi, $i);
      }) : gi && qr(gi, $i);
    }, Kr));
  }
  function Vl(Kr) {
    return z$1(Kr) ? ne$1(Kr) ? Kr.map(Vl) : ws(Object.keys(Kr).sort(), function(kr) {
      return cn$1(Kr, kr);
    }) : Kr;
  }
  qn$1.setStringify(Ze$1);
  function Es(Kr) {
    return Kr.args !== void 0 ? Kr.args : Kr.field ? Pt$1(Kr.field, Kr.variables) : null;
  }
  var i1 = function() {
  }, Ql = function(Kr, kr) {
    return kr.fieldName;
  }, Wl = function(Kr, kr, qr) {
    var ai = qr.mergeObjects;
    return ai(Kr, kr);
  }, Gl = function(Kr, kr) {
    return kr;
  }, zl = function() {
    function Kr(kr) {
      this.config = kr, this.typePolicies = /* @__PURE__ */ Object.create(null), this.toBeAdded = /* @__PURE__ */ Object.create(null), this.supertypeMap = /* @__PURE__ */ new Map(), this.fuzzySubtypes = /* @__PURE__ */ new Map(), this.rootIdsByTypename = /* @__PURE__ */ Object.create(null), this.rootTypenamesById = /* @__PURE__ */ Object.create(null), this.usingPossibleTypes = !1, this.config = v$2({ dataIdFromObject: sa }, kr), this.cache = this.config.cache, this.setRootTypename("Query"), this.setRootTypename("Mutation"), this.setRootTypename("Subscription"), kr.possibleTypes && this.addPossibleTypes(kr.possibleTypes), kr.typePolicies && this.addTypePolicies(kr.typePolicies);
    }
    return Kr.prototype.identify = function(kr, qr) {
      var ai, gi = this, $i = qr && (qr.typename || ((ai = qr.storeObject) === null || ai === void 0 ? void 0 : ai.__typename)) || kr.__typename;
      if ($i === this.rootTypenamesById.ROOT_QUERY)
        return ["ROOT_QUERY"];
      for (var xi = qr && qr.storeObject || kr, Ai = v$2(v$2({}, qr), { typename: $i, storeObject: xi, readField: qr && qr.readField || function() {
        var Ns = da(arguments, xi);
        return gi.readField(Ns, { store: gi.cache.data, variables: Ns.variables });
      } }), Li, Fi = $i && this.getTypePolicy($i), Oa = Fi && Fi.keyFn || this.config.dataIdFromObject; Oa; ) {
        var So = Oa(kr, Ai);
        if (ne$1(So))
          Oa = _s(So);
        else {
          Li = So;
          break;
        }
      }
      return Li = Li ? String(Li) : void 0, Ai.keyObject ? [Li, Ai.keyObject] : [Li];
    }, Kr.prototype.addTypePolicies = function(kr) {
      var qr = this;
      Object.keys(kr).forEach(function(ai) {
        var gi = kr[ai], $i = gi.queryType, xi = gi.mutationType, Ai = gi.subscriptionType, Li = wt$1(gi, ["queryType", "mutationType", "subscriptionType"]);
        $i && qr.setRootTypename("Query", ai), xi && qr.setRootTypename("Mutation", ai), Ai && qr.setRootTypename("Subscription", ai), ve$1.call(qr.toBeAdded, ai) ? qr.toBeAdded[ai].push(Li) : qr.toBeAdded[ai] = [Li];
      });
    }, Kr.prototype.updateTypePolicy = function(kr, qr) {
      var ai = this, gi = this.getTypePolicy(kr), $i = qr.keyFields, xi = qr.fields;
      function Ai(Li, Fi) {
        Li.merge = typeof Fi == "function" ? Fi : Fi === !0 ? Wl : Fi === !1 ? Gl : Li.merge;
      }
      Ai(gi, qr.merge), gi.keyFn = $i === !1 ? i1 : ne$1($i) ? _s($i) : typeof $i == "function" ? $i : gi.keyFn, xi && Object.keys(xi).forEach(function(Li) {
        var Fi = ai.getFieldPolicy(kr, Li, !0), Oa = xi[Li];
        if (typeof Oa == "function")
          Fi.read = Oa;
        else {
          var So = Oa.keyArgs, Ns = Oa.read, Uc = Oa.merge;
          Fi.keyFn = So === !1 ? Ql : ne$1(So) ? Ss(So) : typeof So == "function" ? So : Fi.keyFn, typeof Ns == "function" && (Fi.read = Ns), Ai(Fi, Uc);
        }
        Fi.read && Fi.merge && (Fi.keyFn = Fi.keyFn || Ql);
      });
    }, Kr.prototype.setRootTypename = function(kr, qr) {
      qr === void 0 && (qr = kr);
      var ai = "ROOT_" + kr.toUpperCase(), gi = this.rootTypenamesById[ai];
      qr !== gi && (__DEV__ ? T$1(!gi || gi === kr, "Cannot change root ".concat(kr, " __typename more than once")) : T$1(!gi || gi === kr, 3), gi && delete this.rootIdsByTypename[gi], this.rootIdsByTypename[qr] = ai, this.rootTypenamesById[ai] = qr);
    }, Kr.prototype.addPossibleTypes = function(kr) {
      var qr = this;
      this.usingPossibleTypes = !0, Object.keys(kr).forEach(function(ai) {
        qr.getSupertypeSet(ai, !0), kr[ai].forEach(function(gi) {
          qr.getSupertypeSet(gi, !0).add(ai);
          var $i = gi.match(ds);
          (!$i || $i[0] !== gi) && qr.fuzzySubtypes.set(gi, new RegExp(gi));
        });
      });
    }, Kr.prototype.getTypePolicy = function(kr) {
      var qr = this;
      if (!ve$1.call(this.typePolicies, kr)) {
        var ai = this.typePolicies[kr] = /* @__PURE__ */ Object.create(null);
        ai.fields = /* @__PURE__ */ Object.create(null);
        var gi = this.supertypeMap.get(kr);
        gi && gi.size && gi.forEach(function(xi) {
          var Ai = qr.getTypePolicy(xi), Li = Ai.fields, Fi = wt$1(Ai, ["fields"]);
          Object.assign(ai, Fi), Object.assign(ai.fields, Li);
        });
      }
      var $i = this.toBeAdded[kr];
      return $i && $i.length && $i.splice(0).forEach(function(xi) {
        qr.updateTypePolicy(kr, xi);
      }), this.typePolicies[kr];
    }, Kr.prototype.getFieldPolicy = function(kr, qr, ai) {
      if (kr) {
        var gi = this.getTypePolicy(kr).fields;
        return gi[qr] || ai && (gi[qr] = /* @__PURE__ */ Object.create(null));
      }
    }, Kr.prototype.getSupertypeSet = function(kr, qr) {
      var ai = this.supertypeMap.get(kr);
      return !ai && qr && this.supertypeMap.set(kr, ai = /* @__PURE__ */ new Set()), ai;
    }, Kr.prototype.fragmentMatches = function(kr, qr, ai, gi) {
      var $i = this;
      if (!kr.typeCondition)
        return !0;
      if (!qr)
        return !1;
      var xi = kr.typeCondition.name.value;
      if (qr === xi)
        return !0;
      if (this.usingPossibleTypes && this.supertypeMap.has(xi))
        for (var Ai = this.getSupertypeSet(qr, !0), Li = [Ai], Fi = function(Kc) {
          var Bc = $i.getSupertypeSet(Kc, !1);
          Bc && Bc.size && Li.indexOf(Bc) < 0 && Li.push(Bc);
        }, Oa = !!(ai && this.fuzzySubtypes.size), So = !1, Ns = 0; Ns < Li.length; ++Ns) {
          var Uc = Li[Ns];
          if (Uc.has(xi))
            return Ai.has(xi) || (So && __DEV__ && T$1.warn("Inferring subtype ".concat(qr, " of supertype ").concat(xi)), Ai.add(xi)), !0;
          Uc.forEach(Fi), Oa && Ns === Li.length - 1 && oa(kr.selectionSet, ai, gi) && (Oa = !1, So = !0, this.fuzzySubtypes.forEach(function(Kc, Bc) {
            var Wc = qr.match(Kc);
            Wc && Wc[0] === qr && Fi(Bc);
          }));
        }
      return !1;
    }, Kr.prototype.hasKeyArgs = function(kr, qr) {
      var ai = this.getFieldPolicy(kr, qr, !1);
      return !!(ai && ai.keyFn);
    }, Kr.prototype.getStoreFieldName = function(kr) {
      var qr = kr.typename, ai = kr.fieldName, gi = this.getFieldPolicy(qr, ai, !1), $i, xi = gi && gi.keyFn;
      if (xi && qr)
        for (var Ai = { typename: qr, fieldName: ai, field: kr.field || null, variables: kr.variables }, Li = Es(kr); xi; ) {
          var Fi = xi(Li, Ai);
          if (ne$1(Fi))
            xi = Ss(Fi);
          else {
            $i = Fi || ai;
            break;
          }
        }
      return $i === void 0 && ($i = kr.field ? Ro(kr.field, kr.variables) : qn$1(ai, Es(kr))), $i === !1 ? ai : ai === mt$1($i) ? $i : ai + ":" + $i;
    }, Kr.prototype.readField = function(kr, qr) {
      var ai = kr.from;
      if (ai) {
        var gi = kr.field || kr.fieldName;
        if (gi) {
          if (kr.typename === void 0) {
            var $i = qr.store.getFieldValue(ai, "__typename");
            $i && (kr.typename = $i);
          }
          var xi = this.getStoreFieldName(kr), Ai = mt$1(xi), Li = qr.store.getFieldValue(ai, xi), Fi = this.getFieldPolicy(kr.typename, Ai, !1), Oa = Fi && Fi.read;
          if (Oa) {
            var So = Kl(this, ai, kr, qr, qr.store.getStorage(W$1(ai) ? ai.__ref : ai, xi));
            return sn$1.withValue(this.cache, Oa, [Li, So]);
          }
          return Li;
        }
      }
    }, Kr.prototype.getReadFunction = function(kr, qr) {
      var ai = this.getFieldPolicy(kr, qr, !1);
      return ai && ai.read;
    }, Kr.prototype.getMergeFunction = function(kr, qr, ai) {
      var gi = this.getFieldPolicy(kr, qr, !1), $i = gi && gi.merge;
      return !$i && ai && (gi = this.getTypePolicy(ai), $i = gi && gi.merge), $i;
    }, Kr.prototype.runMergeFunction = function(kr, qr, ai, gi, $i) {
      var xi = ai.field, Ai = ai.typename, Li = ai.merge;
      return Li === Wl ? Hl(gi.store)(kr, qr) : Li === Gl ? qr : (gi.overwrite && (kr = void 0), Li(kr, qr, Kl(this, void 0, { typename: Ai, fieldName: xi.name.value, field: xi, variables: gi.variables }, gi, $i || /* @__PURE__ */ Object.create(null))));
    }, Kr;
  }();
  function Kl(Kr, kr, qr, ai, gi) {
    var $i = Kr.getStoreFieldName(qr), xi = mt$1($i), Ai = qr.variables || ai.variables, Li = ai.store, Fi = Li.toReference, Oa = Li.canRead;
    return { args: Es(qr), field: qr.field || null, fieldName: xi, storeFieldName: $i, variables: Ai, isReference: W$1, toReference: Fi, storage: gi, cache: Kr.cache, canRead: Oa, readField: function() {
      return Kr.readField(da(arguments, kr, Ai), ai);
    }, mergeObjects: Hl(ai.store) };
  }
  function da(Kr, kr, qr) {
    var ai = Kr[0], gi = Kr[1], $i = Kr.length, xi;
    return typeof ai == "string" ? xi = { fieldName: ai, from: $i > 1 ? gi : kr } : (xi = v$2({}, ai), ve$1.call(xi, "from") || (xi.from = kr)), __DEV__ && xi.from === void 0 && __DEV__ && T$1.warn("Undefined 'from' passed to readField with arguments ".concat(qu(Array.from(Kr)))), xi.variables === void 0 && (xi.variables = qr), xi;
  }
  function Hl(Kr) {
    return function(kr, qr) {
      if (ne$1(kr) || ne$1(qr))
        throw __DEV__ ? new j$1("Cannot automatically merge arrays") : new j$1(4);
      if (z$1(kr) && z$1(qr)) {
        var ai = Kr.getFieldValue(kr, "__typename"), gi = Kr.getFieldValue(qr, "__typename"), $i = ai && gi && ai !== gi;
        if ($i)
          return qr;
        if (W$1(kr) && Yt$1(qr))
          return Kr.merge(kr.__ref, qr), kr;
        if (Yt$1(kr) && W$1(qr))
          return Kr.merge(kr, qr.__ref), qr;
        if (Yt$1(kr) && Yt$1(qr))
          return v$2(v$2({}, kr), qr);
      }
      return qr;
    };
  }
  function xs(Kr, kr, qr) {
    var ai = "".concat(kr).concat(qr), gi = Kr.flavors.get(ai);
    return gi || Kr.flavors.set(ai, gi = Kr.clientOnly === kr && Kr.deferred === qr ? Kr : v$2(v$2({}, Kr), { clientOnly: kr, deferred: qr })), gi;
  }
  var Zl = function() {
    function Kr(kr, qr, ai) {
      this.cache = kr, this.reader = qr, this.fragments = ai;
    }
    return Kr.prototype.writeToStore = function(kr, qr) {
      var ai = this, gi = qr.query, $i = qr.result, xi = qr.dataId, Ai = qr.variables, Li = qr.overwrite, Fi = xt$1(gi), Oa = Pl();
      Ai = v$2(v$2({}, br(Fi)), Ai);
      var So = v$2(v$2({ store: kr, written: /* @__PURE__ */ Object.create(null), merge: function(Uc, Kc) {
        return Oa.merge(Uc, Kc);
      }, variables: Ai, varString: Ze$1(Ai) }, ua(gi, this.fragments)), { overwrite: !!Li, incomingById: /* @__PURE__ */ new Map(), clientOnly: !1, deferred: !1, flavors: /* @__PURE__ */ new Map() }), Ns = this.processSelectionSet({ result: $i || /* @__PURE__ */ Object.create(null), dataId: xi, selectionSet: Fi.selectionSet, mergeTree: { map: /* @__PURE__ */ new Map() }, context: So });
      if (!W$1(Ns))
        throw __DEV__ ? new j$1("Could not identify object ".concat(JSON.stringify($i))) : new j$1(7);
      return So.incomingById.forEach(function(Uc, Kc) {
        var Bc = Uc.storeObject, Wc = Uc.mergeTree, Vc = Uc.fieldNodeSet, qc = Et$1(Kc);
        if (Wc && Wc.map.size) {
          var Qc = ai.applyMerges(Wc, qc, Bc, So);
          if (W$1(Qc))
            return;
          Bc = Qc;
        }
        if (__DEV__ && !So.overwrite) {
          var zc = /* @__PURE__ */ Object.create(null);
          Vc.forEach(function(Hc) {
            Hc.selectionSet && (zc[Hc.name.value] = !0);
          });
          var Yc = function(Hc) {
            return zc[mt$1(Hc)] === !0;
          }, Xc = function(Hc) {
            var eu = Wc && Wc.map.get(Hc);
            return !!(eu && eu.info && eu.info.merge);
          };
          Object.keys(Bc).forEach(function(Hc) {
            Yc(Hc) && !Xc(Hc) && a1(qc, Bc, Hc, So.store);
          });
        }
        kr.merge(Kc, Bc);
      }), kr.retain(Ns.__ref), Ns;
    }, Kr.prototype.processSelectionSet = function(kr) {
      var qr = this, ai = kr.dataId, gi = kr.result, $i = kr.selectionSet, xi = kr.context, Ai = kr.mergeTree, Li = this.cache.policies, Fi = /* @__PURE__ */ Object.create(null), Oa = ai && Li.rootTypenamesById[ai] || Bn$1(gi, $i, xi.fragmentMap) || ai && xi.store.get(ai, "__typename");
      typeof Oa == "string" && (Fi.__typename = Oa);
      var So = function() {
        var Qc = da(arguments, Fi, xi.variables);
        if (W$1(Qc.from)) {
          var zc = xi.incomingById.get(Qc.from.__ref);
          if (zc) {
            var Yc = Li.readField(v$2(v$2({}, Qc), { from: zc.storeObject }), xi);
            if (Yc !== void 0)
              return Yc;
          }
        }
        return Li.readField(Qc, xi);
      }, Ns = /* @__PURE__ */ new Set();
      this.flattenFields($i, gi, xi, Oa).forEach(function(Qc, zc) {
        var Yc, Xc = it$1(zc), Hc = gi[Xc];
        if (Ns.add(zc), Hc !== void 0) {
          var eu = Li.getStoreFieldName({ typename: Oa, fieldName: zc.name.value, field: zc, variables: Qc.variables }), nu = Jl(Ai, eu), su = qr.processFieldValue(Hc, zc, zc.selectionSet ? xs(Qc, !1, !1) : Qc, nu), yp = void 0;
          zc.selectionSet && (W$1(su) || Yt$1(su)) && (yp = So("__typename", su));
          var Lp = Li.getMergeFunction(Oa, zc.name.value, yp);
          Lp ? nu.info = { field: zc, typename: Oa, merge: Lp } : Yl(Ai, eu), Fi = Qc.merge(Fi, (Yc = {}, Yc[eu] = su, Yc));
        } else
          __DEV__ && !Qc.clientOnly && !Qc.deferred && !Cr.added(zc) && !Li.getReadFunction(Oa, zc.name.value) && __DEV__ && T$1.error("Missing field '".concat(it$1(zc), "' while writing result ").concat(JSON.stringify(gi, null, 2)).substring(0, 1e3));
      });
      try {
        var Uc = Li.identify(gi, { typename: Oa, selectionSet: $i, fragmentMap: xi.fragmentMap, storeObject: Fi, readField: So }), Kc = Uc[0], Bc = Uc[1];
        ai = ai || Kc, Bc && (Fi = xi.merge(Fi, Bc));
      } catch (Qc) {
        if (!ai)
          throw Qc;
      }
      if (typeof ai == "string") {
        var Wc = Et$1(ai), Vc = xi.written[ai] || (xi.written[ai] = []);
        if (Vc.indexOf($i) >= 0 || (Vc.push($i), this.reader && this.reader.isFresh(gi, Wc, $i, xi)))
          return Wc;
        var qc = xi.incomingById.get(ai);
        return qc ? (qc.storeObject = xi.merge(qc.storeObject, Fi), qc.mergeTree = Os(qc.mergeTree, Ai), Ns.forEach(function(Qc) {
          return qc.fieldNodeSet.add(Qc);
        })) : xi.incomingById.set(ai, { storeObject: Fi, mergeTree: ha(Ai) ? void 0 : Ai, fieldNodeSet: Ns }), Wc;
      }
      return Fi;
    }, Kr.prototype.processFieldValue = function(kr, qr, ai, gi) {
      var $i = this;
      return !qr.selectionSet || kr === null ? __DEV__ ? zi(kr) : kr : ne$1(kr) ? kr.map(function(xi, Ai) {
        var Li = $i.processFieldValue(xi, qr, ai, Jl(gi, Ai));
        return Yl(gi, Ai), Li;
      }) : this.processSelectionSet({ result: kr, selectionSet: qr.selectionSet, context: ai, mergeTree: gi });
    }, Kr.prototype.flattenFields = function(kr, qr, ai, gi) {
      gi === void 0 && (gi = Bn$1(qr, kr, ai.fragmentMap));
      var $i = /* @__PURE__ */ new Map(), xi = this.cache.policies, Ai = new Ot$1(!1);
      return function Li(Fi, Oa) {
        var So = Ai.lookup(Fi, Oa.clientOnly, Oa.deferred);
        So.visited || (So.visited = !0, Fi.selections.forEach(function(Ns) {
          if (Dt$1(Ns, ai.variables)) {
            var Uc = Oa.clientOnly, Kc = Oa.deferred;
            if (!(Uc && Kc) && we$1(Ns.directives) && Ns.directives.forEach(function(Vc) {
              var qc = Vc.name.value;
              if (qc === "client" && (Uc = !0), qc === "defer") {
                var Qc = Pt$1(Vc, ai.variables);
                (!Qc || Qc.if !== !1) && (Kc = !0);
              }
            }), Xe$1(Ns)) {
              var Bc = $i.get(Ns);
              Bc && (Uc = Uc && Bc.clientOnly, Kc = Kc && Bc.deferred), $i.set(Ns, xs(ai, Uc, Kc));
            } else {
              var Wc = yr(Ns, ai.lookupFragment);
              if (!Wc && Ns.kind === _e$1.FRAGMENT_SPREAD)
                throw __DEV__ ? new j$1("No fragment named ".concat(Ns.name.value)) : new j$1(8);
              Wc && xi.fragmentMatches(Wc, gi, qr, ai.variables) && Li(Wc.selectionSet, xs(ai, Uc, Kc));
            }
          }
        }));
      }(kr, ai), $i;
    }, Kr.prototype.applyMerges = function(kr, qr, ai, gi, $i) {
      var xi, Ai = this;
      if (kr.map.size && !W$1(ai)) {
        var Li = !ne$1(ai) && (W$1(qr) || Yt$1(qr)) ? qr : void 0, Fi = ai;
        Li && !$i && ($i = [W$1(Li) ? Li.__ref : Li]);
        var Oa, So = function(Ns, Uc) {
          return ne$1(Ns) ? typeof Uc == "number" ? Ns[Uc] : void 0 : gi.store.getFieldValue(Ns, String(Uc));
        };
        kr.map.forEach(function(Ns, Uc) {
          var Kc = So(Li, Uc), Bc = So(Fi, Uc);
          if (Bc !== void 0) {
            $i && $i.push(Uc);
            var Wc = Ai.applyMerges(Ns, Kc, Bc, gi, $i);
            Wc !== Bc && (Oa = Oa || /* @__PURE__ */ new Map(), Oa.set(Uc, Wc)), $i && T$1($i.pop() === Uc);
          }
        }), Oa && (ai = ne$1(Fi) ? Fi.slice(0) : v$2({}, Fi), Oa.forEach(function(Ns, Uc) {
          ai[Uc] = Ns;
        }));
      }
      return kr.info ? this.cache.policies.runMergeFunction(qr, ai, kr.info, gi, $i && (xi = gi.store).getStorage.apply(xi, $i)) : ai;
    }, Kr;
  }(), ef = [];
  function Jl(Kr, kr) {
    var qr = Kr.map;
    return qr.has(kr) || qr.set(kr, ef.pop() || { map: /* @__PURE__ */ new Map() }), qr.get(kr);
  }
  function Os(Kr, kr) {
    if (Kr === kr || !kr || ha(kr))
      return Kr;
    if (!Kr || ha(Kr))
      return kr;
    var qr = Kr.info && kr.info ? v$2(v$2({}, Kr.info), kr.info) : Kr.info || kr.info, ai = Kr.map.size && kr.map.size, gi = ai ? /* @__PURE__ */ new Map() : Kr.map.size ? Kr.map : kr.map, $i = { info: qr, map: gi };
    if (ai) {
      var xi = new Set(kr.map.keys());
      Kr.map.forEach(function(Ai, Li) {
        $i.map.set(Li, Os(Ai, kr.map.get(Li))), xi.delete(Li);
      }), xi.forEach(function(Ai) {
        $i.map.set(Ai, Os(kr.map.get(Ai), Kr.map.get(Ai)));
      });
    }
    return $i;
  }
  function ha(Kr) {
    return !Kr || !(Kr.info || Kr.map.size);
  }
  function Yl(Kr, kr) {
    var qr = Kr.map, ai = qr.get(kr);
    ai && ha(ai) && (ef.push(ai), qr.delete(kr));
  }
  var Xl = /* @__PURE__ */ new Set();
  function a1(Kr, kr, qr, ai) {
    var gi = function(So) {
      var Ns = ai.getFieldValue(So, qr);
      return typeof Ns == "object" && Ns;
    }, $i = gi(Kr);
    if ($i) {
      var xi = gi(kr);
      if (xi && !W$1($i) && !ce$1($i, xi) && !Object.keys($i).every(function(So) {
        return ai.getFieldValue(xi, So) !== void 0;
      })) {
        var Ai = ai.getFieldValue(Kr, "__typename") || ai.getFieldValue(kr, "__typename"), Li = mt$1(qr), Fi = "".concat(Ai, ".").concat(Li);
        if (!Xl.has(Fi)) {
          Xl.add(Fi);
          var Oa = [];
          !ne$1($i) && !ne$1(xi) && [$i, xi].forEach(function(So) {
            var Ns = ai.getFieldValue(So, "__typename");
            typeof Ns == "string" && !Oa.includes(Ns) && Oa.push(Ns);
          }), __DEV__ && T$1.warn("Cache data may be lost when replacing the ".concat(Li, " field of a ").concat(Ai, ` object.

To address this problem (which is not a bug in Apollo Client), `).concat(Oa.length ? "either ensure all objects of type " + Oa.join(" and ") + " have an ID or a custom merge function, or " : "", "define a custom merge function for the ").concat(Fi, ` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify($i).slice(0, 1e3), `
  incoming: `).concat(JSON.stringify(xi).slice(0, 1e3), `

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`));
        }
      }
    }
  }
  var ma = function(Kr) {
    ye$1(kr, Kr);
    function kr(qr) {
      qr === void 0 && (qr = {});
      var ai = Kr.call(this) || this;
      return ai.watches = /* @__PURE__ */ new Set(), ai.typenameDocumentCache = /* @__PURE__ */ new Map(), ai.makeVar = pa, ai.txCount = 0, ai.config = kl(qr), ai.addTypename = !!ai.config.addTypename, ai.policies = new zl({ cache: ai, dataIdFromObject: ai.config.dataIdFromObject, possibleTypes: ai.config.possibleTypes, typePolicies: ai.config.typePolicies }), ai.init(), ai;
    }
    return kr.prototype.init = function() {
      var qr = this.data = new on$1.Root({ policies: this.policies, resultCaching: this.config.resultCaching });
      this.optimisticData = qr.stump, this.resetResultCache();
    }, kr.prototype.resetResultCache = function(qr) {
      var ai = this, gi = this.storeReader, $i = this.config.fragments;
      this.storeWriter = new Zl(this, this.storeReader = new $l({ cache: this, addTypename: this.addTypename, resultCacheMaxSize: this.config.resultCacheMaxSize, canonizeResults: ca(this.config), canon: qr ? void 0 : gi && gi.canon, fragments: $i }), $i), this.maybeBroadcastWatch = Sr(function(xi, Ai) {
        return ai.broadcastWatch(xi, Ai);
      }, { max: this.config.resultCacheMaxSize, makeCacheKey: function(xi) {
        var Ai = xi.optimistic ? ai.optimisticData : ai.data;
        if (wr(Ai)) {
          var Li = xi.optimistic, Fi = xi.id, Oa = xi.variables;
          return Ai.makeCacheKey(xi.query, xi.callback, Ze$1({ optimistic: Li, id: Fi, variables: Oa }));
        }
      } }), (/* @__PURE__ */ new Set([this.data.group, this.optimisticData.group])).forEach(function(xi) {
        return xi.resetCaching();
      });
    }, kr.prototype.restore = function(qr) {
      return this.init(), qr && this.data.replace(qr), this;
    }, kr.prototype.extract = function(qr) {
      return qr === void 0 && (qr = !1), (qr ? this.optimisticData : this.data).extract();
    }, kr.prototype.read = function(qr) {
      var ai = qr.returnPartialData, gi = ai === void 0 ? !1 : ai;
      try {
        return this.storeReader.diffQueryAgainstStore(v$2(v$2({}, qr), { store: qr.optimistic ? this.optimisticData : this.data, config: this.config, returnPartialData: gi })).result || null;
      } catch ($i) {
        if ($i instanceof Zn)
          return null;
        throw $i;
      }
    }, kr.prototype.write = function(qr) {
      try {
        return ++this.txCount, this.storeWriter.writeToStore(this.data, qr);
      } finally {
        !--this.txCount && qr.broadcast !== !1 && this.broadcastWatches();
      }
    }, kr.prototype.modify = function(qr) {
      if (ve$1.call(qr, "id") && !qr.id)
        return !1;
      var ai = qr.optimistic ? this.optimisticData : this.data;
      try {
        return ++this.txCount, ai.modify(qr.id || "ROOT_QUERY", qr.fields);
      } finally {
        !--this.txCount && qr.broadcast !== !1 && this.broadcastWatches();
      }
    }, kr.prototype.diff = function(qr) {
      return this.storeReader.diffQueryAgainstStore(v$2(v$2({}, qr), { store: qr.optimistic ? this.optimisticData : this.data, rootId: qr.id || "ROOT_QUERY", config: this.config }));
    }, kr.prototype.watch = function(qr) {
      var ai = this;
      return this.watches.size || jl(this), this.watches.add(qr), qr.immediate && this.maybeBroadcastWatch(qr), function() {
        ai.watches.delete(qr) && !ai.watches.size && bs(ai), ai.maybeBroadcastWatch.forget(qr);
      };
    }, kr.prototype.gc = function(qr) {
      Ze$1.reset();
      var ai = this.optimisticData.gc();
      return qr && !this.txCount && (qr.resetResultCache ? this.resetResultCache(qr.resetResultIdentities) : qr.resetResultIdentities && this.storeReader.resetCanon()), ai;
    }, kr.prototype.retain = function(qr, ai) {
      return (ai ? this.optimisticData : this.data).retain(qr);
    }, kr.prototype.release = function(qr, ai) {
      return (ai ? this.optimisticData : this.data).release(qr);
    }, kr.prototype.identify = function(qr) {
      if (W$1(qr))
        return qr.__ref;
      try {
        return this.policies.identify(qr)[0];
      } catch (ai) {
        __DEV__ && T$1.warn(ai);
      }
    }, kr.prototype.evict = function(qr) {
      if (!qr.id) {
        if (ve$1.call(qr, "id"))
          return !1;
        qr = v$2(v$2({}, qr), { id: "ROOT_QUERY" });
      }
      try {
        return ++this.txCount, this.optimisticData.evict(qr, this.data);
      } finally {
        !--this.txCount && qr.broadcast !== !1 && this.broadcastWatches();
      }
    }, kr.prototype.reset = function(qr) {
      var ai = this;
      return this.init(), Ze$1.reset(), qr && qr.discardWatches ? (this.watches.forEach(function(gi) {
        return ai.maybeBroadcastWatch.forget(gi);
      }), this.watches.clear(), bs(this)) : this.broadcastWatches(), Promise.resolve();
    }, kr.prototype.removeOptimistic = function(qr) {
      var ai = this.optimisticData.removeLayer(qr);
      ai !== this.optimisticData && (this.optimisticData = ai, this.broadcastWatches());
    }, kr.prototype.batch = function(qr) {
      var ai = this, gi = qr.update, $i = qr.optimistic, xi = $i === void 0 ? !0 : $i, Ai = qr.removeOptimistic, Li = qr.onWatchUpdated, Fi, Oa = function(Ns) {
        var Uc = ai, Kc = Uc.data, Bc = Uc.optimisticData;
        ++ai.txCount, Ns && (ai.data = ai.optimisticData = Ns);
        try {
          return Fi = gi(ai);
        } finally {
          --ai.txCount, ai.data = Kc, ai.optimisticData = Bc;
        }
      }, So = /* @__PURE__ */ new Set();
      return Li && !this.txCount && this.broadcastWatches(v$2(v$2({}, qr), { onWatchUpdated: function(Ns) {
        return So.add(Ns), !1;
      } })), typeof xi == "string" ? this.optimisticData = this.optimisticData.addLayer(xi, Oa) : xi === !1 ? Oa(this.data) : Oa(), typeof Ai == "string" && (this.optimisticData = this.optimisticData.removeLayer(Ai)), Li && So.size ? (this.broadcastWatches(v$2(v$2({}, qr), { onWatchUpdated: function(Ns, Uc) {
        var Kc = Li.call(this, Ns, Uc);
        return Kc !== !1 && So.delete(Ns), Kc;
      } })), So.size && So.forEach(function(Ns) {
        return ai.maybeBroadcastWatch.dirty(Ns);
      })) : this.broadcastWatches(qr), Fi;
    }, kr.prototype.performTransaction = function(qr, ai) {
      return this.batch({ update: qr, optimistic: ai || ai !== null });
    }, kr.prototype.transformDocument = function(qr) {
      if (this.addTypename) {
        var ai = this.typenameDocumentCache.get(qr);
        return ai || (ai = Cr(qr), this.typenameDocumentCache.set(qr, ai), this.typenameDocumentCache.set(ai, ai)), ai;
      }
      return qr;
    }, kr.prototype.transformForLink = function(qr) {
      var ai = this.config.fragments;
      return ai ? ai.transform(qr) : qr;
    }, kr.prototype.broadcastWatches = function(qr) {
      var ai = this;
      this.txCount || this.watches.forEach(function(gi) {
        return ai.maybeBroadcastWatch(gi, qr);
      });
    }, kr.prototype.broadcastWatch = function(qr, ai) {
      var gi = qr.lastDiff, $i = this.diff(qr);
      ai && (qr.optimistic && typeof ai.optimistic == "string" && ($i.fromOptimisticTransaction = !0), ai.onWatchUpdated && ai.onWatchUpdated.call(this, qr, $i, gi) === !1) || (!gi || !ce$1(gi.result, $i.result)) && qr.callback(qr.lastDiff = $i, gi);
    }, kr;
  }(ps);
  function tf(Kr) {
    return Kr.hasOwnProperty("graphQLErrors");
  }
  var o1 = function(Kr) {
    var kr = "";
    if (we$1(Kr.graphQLErrors) || we$1(Kr.clientErrors)) {
      var qr = (Kr.graphQLErrors || []).concat(Kr.clientErrors || []);
      qr.forEach(function(ai) {
        var gi = ai ? ai.message : "Error message not found.";
        kr += "".concat(gi, `
`);
      });
    }
    return Kr.networkError && (kr += "".concat(Kr.networkError.message, `
`)), kr = kr.replace(/\n$/, ""), kr;
  }, Nt$1 = function(Kr) {
    ye$1(kr, Kr);
    function kr(qr) {
      var ai = qr.graphQLErrors, gi = qr.clientErrors, $i = qr.networkError, xi = qr.errorMessage, Ai = qr.extraInfo, Li = Kr.call(this, xi) || this;
      return Li.name = "ApolloError", Li.graphQLErrors = ai || [], Li.clientErrors = gi || [], Li.networkError = $i || null, Li.message = xi || o1(Li), Li.extraInfo = Ai, Li.__proto__ = kr.prototype, Li;
    }
    return kr;
  }(Error), ee$1;
  (function(Kr) {
    Kr[Kr.loading = 1] = "loading", Kr[Kr.setVariables = 2] = "setVariables", Kr[Kr.fetchMore = 3] = "fetchMore", Kr[Kr.refetch = 4] = "refetch", Kr[Kr.poll = 6] = "poll", Kr[Kr.ready = 7] = "ready", Kr[Kr.error = 8] = "error";
  })(ee$1 || (ee$1 = {}));
  function Zt$1(Kr) {
    return Kr ? Kr < 7 : !1;
  }
  var s1 = Object.assign, c1 = Object.hasOwnProperty, ya = function(Kr) {
    ye$1(kr, Kr);
    function kr(qr) {
      var ai = qr.queryManager, gi = qr.queryInfo, $i = qr.options, xi = Kr.call(this, function(Wc) {
        try {
          var Vc = Wc._subscription._observer;
          Vc && !Vc.error && (Vc.error = u1);
        } catch {
        }
        var qc = !xi.observers.size;
        xi.observers.add(Wc);
        var Qc = xi.last;
        return Qc && Qc.error ? Wc.error && Wc.error(Qc.error) : Qc && Qc.result && Wc.next && Wc.next(Qc.result), qc && xi.reobserve().catch(function() {
        }), function() {
          xi.observers.delete(Wc) && !xi.observers.size && xi.tearDownQuery();
        };
      }) || this;
      xi.observers = /* @__PURE__ */ new Set(), xi.subscriptions = /* @__PURE__ */ new Set(), xi.queryInfo = gi, xi.queryManager = ai, xi.isTornDown = !1;
      var Ai = ai.defaultOptions.watchQuery, Li = Ai === void 0 ? {} : Ai, Fi = Li.fetchPolicy, Oa = Fi === void 0 ? "cache-first" : Fi, So = $i.fetchPolicy, Ns = So === void 0 ? Oa : So, Uc = $i.initialFetchPolicy, Kc = Uc === void 0 ? Ns === "standby" ? Oa : Ns : Uc;
      xi.options = v$2(v$2({}, $i), { initialFetchPolicy: Kc, fetchPolicy: Ns }), xi.queryId = gi.queryId || ai.generateQueryId();
      var Bc = xt$1(xi.query);
      return xi.queryName = Bc && Bc.name && Bc.name.value, xi;
    }
    return Object.defineProperty(kr.prototype, "query", { get: function() {
      return this.queryManager.transform(this.options.query).document;
    }, enumerable: !1, configurable: !0 }), Object.defineProperty(kr.prototype, "variables", { get: function() {
      return this.options.variables;
    }, enumerable: !1, configurable: !0 }), kr.prototype.result = function() {
      var qr = this;
      return new Promise(function(ai, gi) {
        var $i = { next: function(Ai) {
          ai(Ai), qr.observers.delete($i), qr.observers.size || qr.queryManager.removeQuery(qr.queryId), setTimeout(function() {
            xi.unsubscribe();
          }, 0);
        }, error: gi }, xi = qr.subscribe($i);
      });
    }, kr.prototype.getCurrentResult = function(qr) {
      qr === void 0 && (qr = !0);
      var ai = this.getLastResult(!0), gi = this.queryInfo.networkStatus || ai && ai.networkStatus || ee$1.ready, $i = v$2(v$2({}, ai), { loading: Zt$1(gi), networkStatus: gi }), xi = this.options.fetchPolicy, Ai = xi === void 0 ? "cache-first" : xi;
      if (!(Ai === "network-only" || Ai === "no-cache" || Ai === "standby" || this.queryManager.transform(this.options.query).hasForcedResolvers)) {
        var Li = this.queryInfo.getDiff();
        (Li.complete || this.options.returnPartialData) && ($i.data = Li.result), ce$1($i.data, {}) && ($i.data = void 0), Li.complete ? (delete $i.partial, Li.complete && $i.networkStatus === ee$1.loading && (Ai === "cache-first" || Ai === "cache-only") && ($i.networkStatus = ee$1.ready, $i.loading = !1)) : $i.partial = !0, __DEV__ && !Li.complete && !this.options.partialRefetch && !$i.loading && !$i.data && !$i.error && Is(Li.missing);
      }
      return qr && this.updateLastResult($i), $i;
    }, kr.prototype.isDifferentFromLastResult = function(qr, ai) {
      return !this.last || !ce$1(this.last.result, qr) || ai && !ce$1(this.last.variables, ai);
    }, kr.prototype.getLast = function(qr, ai) {
      var gi = this.last;
      if (gi && gi[qr] && (!ai || ce$1(gi.variables, this.variables)))
        return gi[qr];
    }, kr.prototype.getLastResult = function(qr) {
      return this.getLast("result", qr);
    }, kr.prototype.getLastError = function(qr) {
      return this.getLast("error", qr);
    }, kr.prototype.resetLastResults = function() {
      delete this.last, this.isTornDown = !1;
    }, kr.prototype.resetQueryStoreErrors = function() {
      this.queryManager.resetErrors(this.queryId);
    }, kr.prototype.refetch = function(qr) {
      var ai, gi = { pollInterval: 0 }, $i = this.options.fetchPolicy;
      if ($i === "cache-and-network" ? gi.fetchPolicy = $i : $i === "no-cache" ? gi.fetchPolicy = "no-cache" : gi.fetchPolicy = "network-only", __DEV__ && qr && c1.call(qr, "variables")) {
        var xi = Vn$1(this.query), Ai = xi.variableDefinitions;
        (!Ai || !Ai.some(function(Li) {
          return Li.variable.name.value === "variables";
        })) && __DEV__ && T$1.warn("Called refetch(".concat(JSON.stringify(qr), ") for query ").concat(((ai = xi.name) === null || ai === void 0 ? void 0 : ai.value) || JSON.stringify(xi), `, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`));
      }
      return qr && !ce$1(this.options.variables, qr) && (gi.variables = this.options.variables = v$2(v$2({}, this.options.variables), qr)), this.queryInfo.resetLastWrite(), this.reobserve(gi, ee$1.refetch);
    }, kr.prototype.fetchMore = function(qr) {
      var ai = this, gi = v$2(v$2({}, qr.query ? qr : v$2(v$2(v$2(v$2({}, this.options), { query: this.query }), qr), { variables: v$2(v$2({}, this.options.variables), qr.variables) })), { fetchPolicy: "no-cache" }), $i = this.queryManager.generateQueryId(), xi = this.queryInfo, Ai = xi.networkStatus;
      xi.networkStatus = ee$1.fetchMore, gi.notifyOnNetworkStatusChange && this.observe();
      var Li = /* @__PURE__ */ new Set();
      return this.queryManager.fetchQuery($i, gi, ee$1.fetchMore).then(function(Fi) {
        return ai.queryManager.removeQuery($i), xi.networkStatus === ee$1.fetchMore && (xi.networkStatus = Ai), ai.queryManager.cache.batch({ update: function(Oa) {
          var So = qr.updateQuery;
          So ? Oa.updateQuery({ query: ai.query, variables: ai.variables, returnPartialData: !0, optimistic: !1 }, function(Ns) {
            return So(Ns, { fetchMoreResult: Fi.data, variables: gi.variables });
          }) : Oa.writeQuery({ query: gi.query, variables: gi.variables, data: Fi.data });
        }, onWatchUpdated: function(Oa) {
          Li.add(Oa.query);
        } }), Fi;
      }).finally(function() {
        Li.has(ai.query) || Ts(ai);
      });
    }, kr.prototype.subscribeToMore = function(qr) {
      var ai = this, gi = this.queryManager.startGraphQLSubscription({ query: qr.document, variables: qr.variables, context: qr.context }).subscribe({ next: function($i) {
        var xi = qr.updateQuery;
        xi && ai.updateQuery(function(Ai, Li) {
          var Fi = Li.variables;
          return xi(Ai, { subscriptionData: $i, variables: Fi });
        });
      }, error: function($i) {
        if (qr.onError) {
          qr.onError($i);
          return;
        }
        __DEV__ && T$1.error("Unhandled GraphQL subscription error", $i);
      } });
      return this.subscriptions.add(gi), function() {
        ai.subscriptions.delete(gi) && gi.unsubscribe();
      };
    }, kr.prototype.setOptions = function(qr) {
      return this.reobserve(qr);
    }, kr.prototype.setVariables = function(qr) {
      return ce$1(this.variables, qr) ? this.observers.size ? this.result() : Promise.resolve() : (this.options.variables = qr, this.observers.size ? this.reobserve({ fetchPolicy: this.options.initialFetchPolicy, variables: qr }, ee$1.setVariables) : Promise.resolve());
    }, kr.prototype.updateQuery = function(qr) {
      var ai = this.queryManager, gi = ai.cache.diff({ query: this.options.query, variables: this.variables, returnPartialData: !0, optimistic: !1 }).result, $i = qr(gi, { variables: this.variables });
      $i && (ai.cache.writeQuery({ query: this.options.query, data: $i, variables: this.variables }), ai.broadcastQueries());
    }, kr.prototype.startPolling = function(qr) {
      this.options.pollInterval = qr, this.updatePolling();
    }, kr.prototype.stopPolling = function() {
      this.options.pollInterval = 0, this.updatePolling();
    }, kr.prototype.applyNextFetchPolicy = function(qr, ai) {
      if (ai.nextFetchPolicy) {
        var gi = ai.fetchPolicy, $i = gi === void 0 ? "cache-first" : gi, xi = ai.initialFetchPolicy, Ai = xi === void 0 ? $i : xi;
        $i === "standby" || (typeof ai.nextFetchPolicy == "function" ? ai.fetchPolicy = ai.nextFetchPolicy($i, { reason: qr, options: ai, observable: this, initialFetchPolicy: Ai }) : qr === "variables-changed" ? ai.fetchPolicy = Ai : ai.fetchPolicy = ai.nextFetchPolicy);
      }
      return ai.fetchPolicy;
    }, kr.prototype.fetch = function(qr, ai) {
      return this.queryManager.setObservableQuery(this), this.queryManager.fetchQueryObservable(this.queryId, qr, ai);
    }, kr.prototype.updatePolling = function() {
      var qr = this;
      if (!this.queryManager.ssrMode) {
        var ai = this, gi = ai.pollingInfo, $i = ai.options.pollInterval;
        if (!$i) {
          gi && (clearTimeout(gi.timeout), delete this.pollingInfo);
          return;
        }
        if (!(gi && gi.interval === $i)) {
          __DEV__ ? T$1($i, "Attempted to start a polling query without a polling interval.") : T$1($i, 13);
          var xi = gi || (this.pollingInfo = {});
          xi.interval = $i;
          var Ai = function() {
            qr.pollingInfo && (Zt$1(qr.queryInfo.networkStatus) ? Li() : qr.reobserve({ fetchPolicy: qr.options.initialFetchPolicy === "no-cache" ? "no-cache" : "network-only" }, ee$1.poll).then(Li, Li));
          }, Li = function() {
            var Fi = qr.pollingInfo;
            Fi && (clearTimeout(Fi.timeout), Fi.timeout = setTimeout(Ai, Fi.interval));
          };
          Li();
        }
      }
    }, kr.prototype.updateLastResult = function(qr, ai) {
      return ai === void 0 && (ai = this.variables), this.last = v$2(v$2({}, this.last), { result: this.queryManager.assumeImmutableResults ? qr : zi(qr), variables: ai }), we$1(qr.errors) || delete this.last.error, this.last;
    }, kr.prototype.reobserve = function(qr, ai) {
      var gi = this;
      this.isTornDown = !1;
      var $i = ai === ee$1.refetch || ai === ee$1.fetchMore || ai === ee$1.poll, xi = this.options.variables, Ai = this.options.fetchPolicy, Li = Ht$1(this.options, qr || {}), Fi = $i ? Li : s1(this.options, Li);
      $i || (this.updatePolling(), qr && qr.variables && !ce$1(qr.variables, xi) && Fi.fetchPolicy !== "standby" && Fi.fetchPolicy === Ai && (this.applyNextFetchPolicy("variables-changed", Fi), ai === void 0 && (ai = ee$1.setVariables)));
      var Oa = Fi.variables && v$2({}, Fi.variables), So = this.fetch(Fi, ai), Ns = { next: function(Uc) {
        gi.reportResult(Uc, Oa);
      }, error: function(Uc) {
        gi.reportError(Uc, Oa);
      } };
      return $i || (this.concast && this.observer && this.concast.removeObserver(this.observer), this.concast = So, this.observer = Ns), So.addObserver(Ns), So.promise;
    }, kr.prototype.observe = function() {
      this.reportResult(this.getCurrentResult(!1), this.variables);
    }, kr.prototype.reportResult = function(qr, ai) {
      var gi = this.getLastError();
      (gi || this.isDifferentFromLastResult(qr, ai)) && ((gi || !qr.partial || this.options.returnPartialData) && this.updateLastResult(qr, ai), _r(this.observers, "next", qr));
    }, kr.prototype.reportError = function(qr, ai) {
      var gi = v$2(v$2({}, this.getLastResult()), { error: qr, errors: qr.graphQLErrors, networkStatus: ee$1.error, loading: !1 });
      this.updateLastResult(gi, ai), _r(this.observers, "error", this.last.error = qr);
    }, kr.prototype.hasObservers = function() {
      return this.observers.size > 0;
    }, kr.prototype.tearDownQuery = function() {
      this.isTornDown || (this.concast && this.observer && (this.concast.removeObserver(this.observer), delete this.concast, delete this.observer), this.stopPolling(), this.subscriptions.forEach(function(qr) {
        return qr.unsubscribe();
      }), this.subscriptions.clear(), this.queryManager.stopQuery(this.queryId), this.observers.clear(), this.isTornDown = !0);
    }, kr;
  }(Q$1);
  Ji(ya);
  function Ts(Kr) {
    var kr = Kr.options, qr = kr.fetchPolicy, ai = kr.nextFetchPolicy;
    return qr === "cache-and-network" || qr === "network-only" ? Kr.reobserve({ fetchPolicy: "cache-first", nextFetchPolicy: function() {
      return this.nextFetchPolicy = ai, typeof ai == "function" ? ai.apply(this, arguments) : qr;
    } }) : Kr.reobserve();
  }
  function u1(Kr) {
    __DEV__ && T$1.error("Unhandled error", Kr.message, Kr.stack);
  }
  function Is(Kr) {
    __DEV__ && Kr && __DEV__ && T$1.debug("Missing cache result fields: ".concat(JSON.stringify(Kr)), Kr);
  }
  var va = function() {
    function Kr(kr) {
      var qr = kr.cache, ai = kr.client, gi = kr.resolvers, $i = kr.fragmentMatcher;
      this.selectionsToResolveCache = /* @__PURE__ */ new WeakMap(), this.cache = qr, ai && (this.client = ai), gi && this.addResolvers(gi), $i && this.setFragmentMatcher($i);
    }
    return Kr.prototype.addResolvers = function(kr) {
      var qr = this;
      this.resolvers = this.resolvers || {}, Array.isArray(kr) ? kr.forEach(function(ai) {
        qr.resolvers = qo(qr.resolvers, ai);
      }) : this.resolvers = qo(this.resolvers, kr);
    }, Kr.prototype.setResolvers = function(kr) {
      this.resolvers = {}, this.addResolvers(kr);
    }, Kr.prototype.getResolvers = function() {
      return this.resolvers || {};
    }, Kr.prototype.runResolvers = function(kr) {
      var qr = kr.document, ai = kr.remoteResult, gi = kr.context, $i = kr.variables, xi = kr.onlyRunForcedResolvers, Ai = xi === void 0 ? !1 : xi;
      return ft$1(this, void 0, void 0, function() {
        return pt$1(this, function(Li) {
          return qr ? [2, this.resolveDocument(qr, ai.data, gi, $i, this.fragmentMatcher, Ai).then(function(Fi) {
            return v$2(v$2({}, ai), { data: Fi.result });
          })] : [2, ai];
        });
      });
    }, Kr.prototype.setFragmentMatcher = function(kr) {
      this.fragmentMatcher = kr;
    }, Kr.prototype.getFragmentMatcher = function() {
      return this.fragmentMatcher;
    }, Kr.prototype.clientQuery = function(kr) {
      return Hr(["client"], kr) && this.resolvers ? kr : null;
    }, Kr.prototype.serverQuery = function(kr) {
      return Uo(kr);
    }, Kr.prototype.prepareContext = function(kr) {
      var qr = this.cache;
      return v$2(v$2({}, kr), { cache: qr, getCacheKey: function(ai) {
        return qr.identify(ai);
      } });
    }, Kr.prototype.addExportedVariables = function(kr, qr, ai) {
      return qr === void 0 && (qr = {}), ai === void 0 && (ai = {}), ft$1(this, void 0, void 0, function() {
        return pt$1(this, function(gi) {
          return kr ? [2, this.resolveDocument(kr, this.buildRootValueFromCache(kr, qr) || {}, this.prepareContext(ai), qr).then(function($i) {
            return v$2(v$2({}, qr), $i.exportedVariables);
          })] : [2, v$2({}, qr)];
        });
      });
    }, Kr.prototype.shouldForceResolvers = function(kr) {
      var qr = !1;
      return Fe$1(kr, { Directive: { enter: function(ai) {
        if (ai.name.value === "client" && ai.arguments && (qr = ai.arguments.some(function(gi) {
          return gi.name.value === "always" && gi.value.kind === "BooleanValue" && gi.value.value === !0;
        }), qr))
          return hr;
      } } }), qr;
    }, Kr.prototype.buildRootValueFromCache = function(kr, qr) {
      return this.cache.diff({ query: jo(kr), variables: qr, returnPartialData: !0, optimistic: !1 }).result;
    }, Kr.prototype.resolveDocument = function(kr, qr, ai, gi, $i, xi) {
      return ai === void 0 && (ai = {}), gi === void 0 && (gi = {}), $i === void 0 && ($i = function() {
        return !0;
      }), xi === void 0 && (xi = !1), ft$1(this, void 0, void 0, function() {
        var Ai, Li, Fi, Oa, So, Ns, Uc, Kc, Bc, Wc, Vc;
        return pt$1(this, function(qc) {
          return Ai = gr(kr), Li = vr(kr), Fi = mr(Li), Oa = this.collectSelectionsToResolve(Ai, Fi), So = Ai.operation, Ns = So ? So.charAt(0).toUpperCase() + So.slice(1) : "Query", Uc = this, Kc = Uc.cache, Bc = Uc.client, Wc = { fragmentMap: Fi, context: v$2(v$2({}, ai), { cache: Kc, client: Bc }), variables: gi, fragmentMatcher: $i, defaultOperationType: Ns, exportedVariables: {}, selectionsToResolve: Oa, onlyRunForcedResolvers: xi }, Vc = !1, [2, this.resolveSelectionSet(Ai.selectionSet, Vc, qr, Wc).then(function(Qc) {
            return { result: Qc, exportedVariables: Wc.exportedVariables };
          })];
        });
      });
    }, Kr.prototype.resolveSelectionSet = function(kr, qr, ai, gi) {
      return ft$1(this, void 0, void 0, function() {
        var $i, xi, Ai, Li, Fi, Oa = this;
        return pt$1(this, function(So) {
          return $i = gi.fragmentMap, xi = gi.context, Ai = gi.variables, Li = [ai], Fi = function(Ns) {
            return ft$1(Oa, void 0, void 0, function() {
              var Uc, Kc;
              return pt$1(this, function(Bc) {
                return !qr && !gi.selectionsToResolve.has(Ns) ? [2] : Dt$1(Ns, Ai) ? Xe$1(Ns) ? [2, this.resolveField(Ns, qr, ai, gi).then(function(Wc) {
                  var Vc;
                  typeof Wc < "u" && Li.push((Vc = {}, Vc[it$1(Ns)] = Wc, Vc));
                })] : (Lo(Ns) ? Uc = Ns : (Uc = $i[Ns.name.value], __DEV__ ? T$1(Uc, "No fragment named ".concat(Ns.name.value)) : T$1(Uc, 11)), Uc && Uc.typeCondition && (Kc = Uc.typeCondition.name.value, gi.fragmentMatcher(ai, Kc, xi)) ? [2, this.resolveSelectionSet(Uc.selectionSet, qr, ai, gi).then(function(Wc) {
                  Li.push(Wc);
                })] : [2]) : [2];
              });
            });
          }, [2, Promise.all(kr.selections.map(Fi)).then(function() {
            return Qn(Li);
          })];
        });
      });
    }, Kr.prototype.resolveField = function(kr, qr, ai, gi) {
      return ft$1(this, void 0, void 0, function() {
        var $i, xi, Ai, Li, Fi, Oa, So, Ns, Uc, Kc = this;
        return pt$1(this, function(Bc) {
          return ai ? ($i = gi.variables, xi = kr.name.value, Ai = it$1(kr), Li = xi !== Ai, Fi = ai[Ai] || ai[xi], Oa = Promise.resolve(Fi), (!gi.onlyRunForcedResolvers || this.shouldForceResolvers(kr)) && (So = ai.__typename || gi.defaultOperationType, Ns = this.resolvers && this.resolvers[So], Ns && (Uc = Ns[Li ? xi : Ai], Uc && (Oa = Promise.resolve(sn$1.withValue(this.cache, Uc, [ai, Pt$1(kr, $i), gi.context, { field: kr, fragmentMap: gi.fragmentMap }]))))), [2, Oa.then(function(Wc) {
            var Vc, qc;
            if (Wc === void 0 && (Wc = Fi), kr.directives && kr.directives.forEach(function(zc) {
              zc.name.value === "export" && zc.arguments && zc.arguments.forEach(function(Yc) {
                Yc.name.value === "as" && Yc.value.kind === "StringValue" && (gi.exportedVariables[Yc.value.value] = Wc);
              });
            }), !kr.selectionSet || Wc == null)
              return Wc;
            var Qc = (qc = (Vc = kr.directives) === null || Vc === void 0 ? void 0 : Vc.some(function(zc) {
              return zc.name.value === "client";
            })) !== null && qc !== void 0 ? qc : !1;
            if (Array.isArray(Wc))
              return Kc.resolveSubSelectedArray(kr, qr || Qc, Wc, gi);
            if (kr.selectionSet)
              return Kc.resolveSelectionSet(kr.selectionSet, qr || Qc, Wc, gi);
          })]) : [2, null];
        });
      });
    }, Kr.prototype.resolveSubSelectedArray = function(kr, qr, ai, gi) {
      var $i = this;
      return Promise.all(ai.map(function(xi) {
        if (xi === null)
          return null;
        if (Array.isArray(xi))
          return $i.resolveSubSelectedArray(kr, qr, xi, gi);
        if (kr.selectionSet)
          return $i.resolveSelectionSet(kr.selectionSet, qr, xi, gi);
      }));
    }, Kr.prototype.collectSelectionsToResolve = function(kr, qr) {
      var ai = function(xi) {
        return !Array.isArray(xi);
      }, gi = this.selectionsToResolveCache;
      function $i(xi) {
        if (!gi.has(xi)) {
          var Ai = /* @__PURE__ */ new Set();
          gi.set(xi, Ai), Fe$1(xi, { Directive: function(Li, Fi, Oa, So, Ns) {
            Li.name.value === "client" && Ns.forEach(function(Uc) {
              ai(Uc) && jn$1(Uc) && Ai.add(Uc);
            });
          }, FragmentSpread: function(Li, Fi, Oa, So, Ns) {
            var Uc = qr[Li.name.value];
            __DEV__ ? T$1(Uc, "No fragment named ".concat(Li.name.value)) : T$1(Uc, 12);
            var Kc = $i(Uc);
            Kc.size > 0 && (Ns.forEach(function(Bc) {
              ai(Bc) && jn$1(Bc) && Ai.add(Bc);
            }), Ai.add(Li), Kc.forEach(function(Bc) {
              Ai.add(Bc);
            }));
          } });
        }
        return gi.get(xi);
      }
      return $i(kr);
    }, Kr;
  }(), un$1 = new (at$1 ? WeakMap : Map)();
  function As(Kr, kr) {
    var qr = Kr[kr];
    typeof qr == "function" && (Kr[kr] = function() {
      return un$1.set(Kr, (un$1.get(Kr) + 1) % 1e15), qr.apply(this, arguments);
    });
  }
  function rf(Kr) {
    Kr.notifyTimeout && (clearTimeout(Kr.notifyTimeout), Kr.notifyTimeout = void 0);
  }
  var ga = function() {
    function Kr(kr, qr) {
      qr === void 0 && (qr = kr.generateQueryId()), this.queryId = qr, this.listeners = /* @__PURE__ */ new Set(), this.document = null, this.lastRequestId = 1, this.subscriptions = /* @__PURE__ */ new Set(), this.stopped = !1, this.dirty = !1, this.observableQuery = null;
      var ai = this.cache = kr.cache;
      un$1.has(ai) || (un$1.set(ai, 0), As(ai, "evict"), As(ai, "modify"), As(ai, "reset"));
    }
    return Kr.prototype.init = function(kr) {
      var qr = kr.networkStatus || ee$1.loading;
      return this.variables && this.networkStatus !== ee$1.loading && !ce$1(this.variables, kr.variables) && (qr = ee$1.setVariables), ce$1(kr.variables, this.variables) || (this.lastDiff = void 0), Object.assign(this, { document: kr.document, variables: kr.variables, networkError: null, graphQLErrors: this.graphQLErrors || [], networkStatus: qr }), kr.observableQuery && this.setObservableQuery(kr.observableQuery), kr.lastRequestId && (this.lastRequestId = kr.lastRequestId), this;
    }, Kr.prototype.reset = function() {
      rf(this), this.dirty = !1;
    }, Kr.prototype.getDiff = function(kr) {
      kr === void 0 && (kr = this.variables);
      var qr = this.getDiffOptions(kr);
      if (this.lastDiff && ce$1(qr, this.lastDiff.options))
        return this.lastDiff.diff;
      this.updateWatch(this.variables = kr);
      var ai = this.observableQuery;
      if (ai && ai.options.fetchPolicy === "no-cache")
        return { complete: !1 };
      var gi = this.cache.diff(qr);
      return this.updateLastDiff(gi, qr), gi;
    }, Kr.prototype.updateLastDiff = function(kr, qr) {
      this.lastDiff = kr ? { diff: kr, options: qr || this.getDiffOptions() } : void 0;
    }, Kr.prototype.getDiffOptions = function(kr) {
      var qr;
      return kr === void 0 && (kr = this.variables), { query: this.document, variables: kr, returnPartialData: !0, optimistic: !0, canonizeResults: (qr = this.observableQuery) === null || qr === void 0 ? void 0 : qr.options.canonizeResults };
    }, Kr.prototype.setDiff = function(kr) {
      var qr = this, ai = this.lastDiff && this.lastDiff.diff;
      this.updateLastDiff(kr), !this.dirty && !ce$1(ai && ai.result, kr && kr.result) && (this.dirty = !0, this.notifyTimeout || (this.notifyTimeout = setTimeout(function() {
        return qr.notify();
      }, 0)));
    }, Kr.prototype.setObservableQuery = function(kr) {
      var qr = this;
      kr !== this.observableQuery && (this.oqListener && this.listeners.delete(this.oqListener), this.observableQuery = kr, kr ? (kr.queryInfo = this, this.listeners.add(this.oqListener = function() {
        var ai = qr.getDiff();
        ai.fromOptimisticTransaction ? kr.observe() : Ts(kr);
      })) : delete this.oqListener);
    }, Kr.prototype.notify = function() {
      var kr = this;
      rf(this), this.shouldNotify() && this.listeners.forEach(function(qr) {
        return qr(kr);
      }), this.dirty = !1;
    }, Kr.prototype.shouldNotify = function() {
      if (!this.dirty || !this.listeners.size)
        return !1;
      if (Zt$1(this.networkStatus) && this.observableQuery) {
        var kr = this.observableQuery.options.fetchPolicy;
        if (kr !== "cache-only" && kr !== "cache-and-network")
          return !1;
      }
      return !0;
    }, Kr.prototype.stop = function() {
      if (!this.stopped) {
        this.stopped = !0, this.reset(), this.cancel(), this.cancel = Kr.prototype.cancel, this.subscriptions.forEach(function(qr) {
          return qr.unsubscribe();
        });
        var kr = this.observableQuery;
        kr && kr.stopPolling();
      }
    }, Kr.prototype.cancel = function() {
    }, Kr.prototype.updateWatch = function(kr) {
      var qr = this;
      kr === void 0 && (kr = this.variables);
      var ai = this.observableQuery;
      if (!(ai && ai.options.fetchPolicy === "no-cache")) {
        var gi = v$2(v$2({}, this.getDiffOptions(kr)), { watcher: this, callback: function($i) {
          return qr.setDiff($i);
        } });
        (!this.lastWatch || !ce$1(gi, this.lastWatch)) && (this.cancel(), this.cancel = this.cache.watch(this.lastWatch = gi));
      }
    }, Kr.prototype.resetLastWrite = function() {
      this.lastWrite = void 0;
    }, Kr.prototype.shouldWrite = function(kr, qr) {
      var ai = this.lastWrite;
      return !(ai && ai.dmCount === un$1.get(this.cache) && ce$1(qr, ai.variables) && ce$1(kr.data, ai.result.data));
    }, Kr.prototype.markResult = function(kr, qr, ai, gi) {
      var $i = this, xi = new We$1(), Ai = we$1(kr.errors) ? kr.errors.slice(0) : [];
      if (this.reset(), "incremental" in kr && we$1(kr.incremental)) {
        var Li = Yi(this.getDiff().result, kr);
        kr.data = Li;
      } else if ("hasNext" in kr && kr.hasNext) {
        var Fi = this.getDiff();
        kr.data = xi.merge(Fi.result, kr.data);
      }
      this.graphQLErrors = Ai, ai.fetchPolicy === "no-cache" ? this.updateLastDiff({ result: kr.data, complete: !0 }, this.getDiffOptions(ai.variables)) : gi !== 0 && (ba(kr, ai.errorPolicy) ? this.cache.performTransaction(function(Oa) {
        if ($i.shouldWrite(kr, ai.variables))
          Oa.writeQuery({ query: qr, data: kr.data, variables: ai.variables, overwrite: gi === 1 }), $i.lastWrite = { result: kr, variables: ai.variables, dmCount: un$1.get($i.cache) };
        else if ($i.lastDiff && $i.lastDiff.diff.complete) {
          kr.data = $i.lastDiff.diff.result;
          return;
        }
        var So = $i.getDiffOptions(ai.variables), Ns = Oa.diff(So);
        $i.stopped || $i.updateWatch(ai.variables), $i.updateLastDiff(Ns, So), Ns.complete && (kr.data = Ns.result);
      }) : this.lastWrite = void 0);
    }, Kr.prototype.markReady = function() {
      return this.networkError = null, this.networkStatus = ee$1.ready;
    }, Kr.prototype.markError = function(kr) {
      return this.networkStatus = ee$1.error, this.lastWrite = void 0, this.reset(), kr.graphQLErrors && (this.graphQLErrors = kr.graphQLErrors), kr.networkError && (this.networkError = kr.networkError), kr;
    }, Kr;
  }();
  function ba(Kr, kr) {
    kr === void 0 && (kr = "none");
    var qr = kr === "ignore" || kr === "all", ai = !tn$1(Kr);
    return !ai && qr && Kr.data && (ai = !0), ai;
  }
  var l1 = Object.prototype.hasOwnProperty, nf = function() {
    function Kr(kr) {
      var qr = kr.cache, ai = kr.link, gi = kr.defaultOptions, $i = kr.queryDeduplication, xi = $i === void 0 ? !1 : $i, Ai = kr.onBroadcast, Li = kr.ssrMode, Fi = Li === void 0 ? !1 : Li, Oa = kr.clientAwareness, So = Oa === void 0 ? {} : Oa, Ns = kr.localState, Uc = kr.assumeImmutableResults;
      this.clientAwareness = {}, this.queries = /* @__PURE__ */ new Map(), this.fetchCancelFns = /* @__PURE__ */ new Map(), this.transformCache = new (at$1 ? WeakMap : Map)(), this.queryIdCounter = 1, this.requestIdCounter = 1, this.mutationIdCounter = 1, this.inFlightLinkObservables = /* @__PURE__ */ new Map(), this.cache = qr, this.link = ai, this.defaultOptions = gi || /* @__PURE__ */ Object.create(null), this.queryDeduplication = xi, this.clientAwareness = So, this.localState = Ns || new va({ cache: qr }), this.ssrMode = Fi, this.assumeImmutableResults = !!Uc, (this.onBroadcast = Ai) && (this.mutationStore = /* @__PURE__ */ Object.create(null));
    }
    return Kr.prototype.stop = function() {
      var kr = this;
      this.queries.forEach(function(qr, ai) {
        kr.stopQueryNoBroadcast(ai);
      }), this.cancelPendingFetches(__DEV__ ? new j$1("QueryManager stopped while query was in flight") : new j$1(14));
    }, Kr.prototype.cancelPendingFetches = function(kr) {
      this.fetchCancelFns.forEach(function(qr) {
        return qr(kr);
      }), this.fetchCancelFns.clear();
    }, Kr.prototype.mutate = function(kr) {
      var qr, ai, gi = kr.mutation, $i = kr.variables, xi = kr.optimisticResponse, Ai = kr.updateQueries, Li = kr.refetchQueries, Fi = Li === void 0 ? [] : Li, Oa = kr.awaitRefetchQueries, So = Oa === void 0 ? !1 : Oa, Ns = kr.update, Uc = kr.onQueryUpdated, Kc = kr.fetchPolicy, Bc = Kc === void 0 ? ((qr = this.defaultOptions.mutate) === null || qr === void 0 ? void 0 : qr.fetchPolicy) || "network-only" : Kc, Wc = kr.errorPolicy, Vc = Wc === void 0 ? ((ai = this.defaultOptions.mutate) === null || ai === void 0 ? void 0 : ai.errorPolicy) || "none" : Wc, qc = kr.keepRootFields, Qc = kr.context;
      return ft$1(this, void 0, void 0, function() {
        var zc, Yc, Xc, Hc, eu, nu;
        return pt$1(this, function(su) {
          switch (su.label) {
            case 0:
              return __DEV__ ? T$1(gi, "mutation option is required. You must specify your GraphQL document in the mutation option.") : T$1(gi, 15), __DEV__ ? T$1(Bc === "network-only" || Bc === "no-cache", "Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write.") : T$1(Bc === "network-only" || Bc === "no-cache", 16), zc = this.generateMutationId(), Yc = this.transform(gi), Xc = Yc.document, Hc = Yc.hasClientExports, gi = this.cache.transformForLink(Xc), $i = this.getVariables(gi, $i), Hc ? [4, this.localState.addExportedVariables(gi, $i, Qc)] : [3, 2];
            case 1:
              $i = su.sent(), su.label = 2;
            case 2:
              return eu = this.mutationStore && (this.mutationStore[zc] = { mutation: gi, variables: $i, loading: !0, error: null }), xi && this.markMutationOptimistic(xi, { mutationId: zc, document: gi, variables: $i, fetchPolicy: Bc, errorPolicy: Vc, context: Qc, updateQueries: Ai, update: Ns, keepRootFields: qc }), this.broadcastQueries(), nu = this, [2, new Promise(function(yp, Lp) {
                return Hi(nu.getObservableFromLink(gi, v$2(v$2({}, Qc), { optimisticResponse: xi }), $i, !1), function(vp) {
                  if (tn$1(vp) && Vc === "none")
                    throw new Nt$1({ graphQLErrors: Xi(vp) });
                  eu && (eu.loading = !1, eu.error = null);
                  var au = v$2({}, vp);
                  return typeof Fi == "function" && (Fi = Fi(au)), Vc === "ignore" && tn$1(au) && delete au.errors, nu.markMutationResult({ mutationId: zc, result: au, document: gi, variables: $i, fetchPolicy: Bc, errorPolicy: Vc, context: Qc, update: Ns, updateQueries: Ai, awaitRefetchQueries: So, refetchQueries: Fi, removeOptimistic: xi ? zc : void 0, onQueryUpdated: Uc, keepRootFields: qc });
                }).subscribe({ next: function(vp) {
                  nu.broadcastQueries(), (!("hasNext" in vp) || vp.hasNext === !1) && yp(vp);
                }, error: function(vp) {
                  eu && (eu.loading = !1, eu.error = vp), xi && nu.cache.removeOptimistic(zc), nu.broadcastQueries(), Lp(vp instanceof Nt$1 ? vp : new Nt$1({ networkError: vp }));
                } });
              })];
          }
        });
      });
    }, Kr.prototype.markMutationResult = function(kr, qr) {
      var ai = this;
      qr === void 0 && (qr = this.cache);
      var gi = kr.result, $i = [], xi = kr.fetchPolicy === "no-cache";
      if (!xi && ba(gi, kr.errorPolicy)) {
        if (zt$1(gi) || $i.push({ result: gi.data, dataId: "ROOT_MUTATION", query: kr.document, variables: kr.variables }), zt$1(gi) && we$1(gi.incremental)) {
          var Ai = qr.diff({ id: "ROOT_MUTATION", query: this.transform(kr.document).asQuery, variables: kr.variables, optimistic: !1, returnPartialData: !0 }), Li = void 0;
          Ai.result && (Li = Yi(Ai.result, gi)), typeof Li < "u" && (gi.data = Li, $i.push({ result: Li, dataId: "ROOT_MUTATION", query: kr.document, variables: kr.variables }));
        }
        var Fi = kr.updateQueries;
        Fi && this.queries.forEach(function(So, Ns) {
          var Uc = So.observableQuery, Kc = Uc && Uc.queryName;
          if (!(!Kc || !l1.call(Fi, Kc))) {
            var Bc = Fi[Kc], Wc = ai.queries.get(Ns), Vc = Wc.document, qc = Wc.variables, Qc = qr.diff({ query: Vc, variables: qc, returnPartialData: !0, optimistic: !1 }), zc = Qc.result, Yc = Qc.complete;
            if (Yc && zc) {
              var Xc = Bc(zc, { mutationResult: gi, queryName: Vc && Yr(Vc) || void 0, queryVariables: qc });
              Xc && $i.push({ result: Xc, dataId: "ROOT_QUERY", query: Vc, variables: qc });
            }
          }
        });
      }
      if ($i.length > 0 || kr.refetchQueries || kr.update || kr.onQueryUpdated || kr.removeOptimistic) {
        var Oa = [];
        if (this.refetchQueries({ updateCache: function(So) {
          xi || $i.forEach(function(Bc) {
            return So.write(Bc);
          });
          var Ns = kr.update, Uc = !ju(gi) || zt$1(gi) && !gi.hasNext;
          if (Ns) {
            if (!xi) {
              var Kc = So.diff({ id: "ROOT_MUTATION", query: ai.transform(kr.document).asQuery, variables: kr.variables, optimistic: !1, returnPartialData: !0 });
              Kc.complete && (gi = v$2(v$2({}, gi), { data: Kc.result }), "incremental" in gi && delete gi.incremental, "hasNext" in gi && delete gi.hasNext);
            }
            Uc && Ns(So, gi, { context: kr.context, variables: kr.variables });
          }
          !xi && !kr.keepRootFields && Uc && So.modify({ id: "ROOT_MUTATION", fields: function(Bc, Wc) {
            var Vc = Wc.fieldName, qc = Wc.DELETE;
            return Vc === "__typename" ? Bc : qc;
          } });
        }, include: kr.refetchQueries, optimistic: !1, removeOptimistic: kr.removeOptimistic, onQueryUpdated: kr.onQueryUpdated || null }).forEach(function(So) {
          return Oa.push(So);
        }), kr.awaitRefetchQueries || kr.onQueryUpdated)
          return Promise.all(Oa).then(function() {
            return gi;
          });
      }
      return Promise.resolve(gi);
    }, Kr.prototype.markMutationOptimistic = function(kr, qr) {
      var ai = this, gi = typeof kr == "function" ? kr(qr.variables) : kr;
      return this.cache.recordOptimisticTransaction(function($i) {
        try {
          ai.markMutationResult(v$2(v$2({}, qr), { result: { data: gi } }), $i);
        } catch (xi) {
          __DEV__ && T$1.error(xi);
        }
      }, qr.mutationId);
    }, Kr.prototype.fetchQuery = function(kr, qr, ai) {
      return this.fetchQueryObservable(kr, qr, ai).promise;
    }, Kr.prototype.getQueryStore = function() {
      var kr = /* @__PURE__ */ Object.create(null);
      return this.queries.forEach(function(qr, ai) {
        kr[ai] = { variables: qr.variables, networkStatus: qr.networkStatus, networkError: qr.networkError, graphQLErrors: qr.graphQLErrors };
      }), kr;
    }, Kr.prototype.resetErrors = function(kr) {
      var qr = this.queries.get(kr);
      qr && (qr.networkError = void 0, qr.graphQLErrors = []);
    }, Kr.prototype.transform = function(kr) {
      var qr = this.transformCache;
      if (!qr.has(kr)) {
        var ai = this.cache.transformDocument(kr), gi = Mo(ai), $i = this.localState.clientQuery(ai), xi = gi && this.localState.serverQuery(gi), Ai = { document: ai, hasClientExports: Do(ai), hasForcedResolvers: this.localState.shouldForceResolvers(ai), clientQuery: $i, serverQuery: xi, defaultVars: br(xt$1(ai)), asQuery: v$2(v$2({}, ai), { definitions: ai.definitions.map(function(Fi) {
          return Fi.kind === "OperationDefinition" && Fi.operation !== "query" ? v$2(v$2({}, Fi), { operation: "query" }) : Fi;
        }) }) }, Li = function(Fi) {
          Fi && !qr.has(Fi) && qr.set(Fi, Ai);
        };
        Li(kr), Li(ai), Li($i), Li(xi);
      }
      return qr.get(kr);
    }, Kr.prototype.getVariables = function(kr, qr) {
      return v$2(v$2({}, this.transform(kr).defaultVars), qr);
    }, Kr.prototype.watchQuery = function(kr) {
      kr = v$2(v$2({}, kr), { variables: this.getVariables(kr.query, kr.variables) }), typeof kr.notifyOnNetworkStatusChange > "u" && (kr.notifyOnNetworkStatusChange = !1);
      var qr = new ga(this), ai = new ya({ queryManager: this, queryInfo: qr, options: kr });
      return this.queries.set(ai.queryId, qr), qr.init({ document: ai.query, observableQuery: ai, variables: ai.variables }), ai;
    }, Kr.prototype.query = function(kr, qr) {
      var ai = this;
      return qr === void 0 && (qr = this.generateQueryId()), __DEV__ ? T$1(kr.query, "query option is required. You must specify your GraphQL document in the query option.") : T$1(kr.query, 17), __DEV__ ? T$1(kr.query.kind === "Document", 'You must wrap the query string in a "gql" tag.') : T$1(kr.query.kind === "Document", 18), __DEV__ ? T$1(!kr.returnPartialData, "returnPartialData option only supported on watchQuery.") : T$1(!kr.returnPartialData, 19), __DEV__ ? T$1(!kr.pollInterval, "pollInterval option only supported on watchQuery.") : T$1(!kr.pollInterval, 20), this.fetchQuery(qr, kr).finally(function() {
        return ai.stopQuery(qr);
      });
    }, Kr.prototype.generateQueryId = function() {
      return String(this.queryIdCounter++);
    }, Kr.prototype.generateRequestId = function() {
      return this.requestIdCounter++;
    }, Kr.prototype.generateMutationId = function() {
      return String(this.mutationIdCounter++);
    }, Kr.prototype.stopQueryInStore = function(kr) {
      this.stopQueryInStoreNoBroadcast(kr), this.broadcastQueries();
    }, Kr.prototype.stopQueryInStoreNoBroadcast = function(kr) {
      var qr = this.queries.get(kr);
      qr && qr.stop();
    }, Kr.prototype.clearStore = function(kr) {
      return kr === void 0 && (kr = { discardWatches: !0 }), this.cancelPendingFetches(__DEV__ ? new j$1("Store reset while query was in flight (not completed in link chain)") : new j$1(21)), this.queries.forEach(function(qr) {
        qr.observableQuery ? qr.networkStatus = ee$1.loading : qr.stop();
      }), this.mutationStore && (this.mutationStore = /* @__PURE__ */ Object.create(null)), this.cache.reset(kr);
    }, Kr.prototype.getObservableQueries = function(kr) {
      var qr = this;
      kr === void 0 && (kr = "active");
      var ai = /* @__PURE__ */ new Map(), gi = /* @__PURE__ */ new Map(), $i = /* @__PURE__ */ new Set();
      return Array.isArray(kr) && kr.forEach(function(xi) {
        typeof xi == "string" ? gi.set(xi, !1) : No(xi) ? gi.set(qr.transform(xi).document, !1) : z$1(xi) && xi.query && $i.add(xi);
      }), this.queries.forEach(function(xi, Ai) {
        var Li = xi.observableQuery, Fi = xi.document;
        if (Li) {
          if (kr === "all") {
            ai.set(Ai, Li);
            return;
          }
          var Oa = Li.queryName, So = Li.options.fetchPolicy;
          if (So === "standby" || kr === "active" && !Li.hasObservers())
            return;
          (kr === "active" || Oa && gi.has(Oa) || Fi && gi.has(Fi)) && (ai.set(Ai, Li), Oa && gi.set(Oa, !0), Fi && gi.set(Fi, !0));
        }
      }), $i.size && $i.forEach(function(xi) {
        var Ai = Kn$1("legacyOneTimeQuery"), Li = qr.getQuery(Ai).init({ document: xi.query, variables: xi.variables }), Fi = new ya({ queryManager: qr, queryInfo: Li, options: v$2(v$2({}, xi), { fetchPolicy: "network-only" }) });
        T$1(Fi.queryId === Ai), Li.setObservableQuery(Fi), ai.set(Ai, Fi);
      }), __DEV__ && gi.size && gi.forEach(function(xi, Ai) {
        xi || __DEV__ && T$1.warn("Unknown query ".concat(typeof Ai == "string" ? "named " : "").concat(JSON.stringify(Ai, null, 2), " requested in refetchQueries options.include array"));
      }), ai;
    }, Kr.prototype.reFetchObservableQueries = function(kr) {
      var qr = this;
      kr === void 0 && (kr = !1);
      var ai = [];
      return this.getObservableQueries(kr ? "all" : "active").forEach(function(gi, $i) {
        var xi = gi.options.fetchPolicy;
        gi.resetLastResults(), (kr || xi !== "standby" && xi !== "cache-only") && ai.push(gi.refetch()), qr.getQuery($i).setDiff(null);
      }), this.broadcastQueries(), Promise.all(ai);
    }, Kr.prototype.setObservableQuery = function(kr) {
      this.getQuery(kr.queryId).setObservableQuery(kr);
    }, Kr.prototype.startGraphQLSubscription = function(kr) {
      var qr = this, ai = kr.query, gi = kr.fetchPolicy, $i = kr.errorPolicy, xi = kr.variables, Ai = kr.context, Li = Ai === void 0 ? {} : Ai;
      ai = this.transform(ai).document, xi = this.getVariables(ai, xi);
      var Fi = function(So) {
        return qr.getObservableFromLink(ai, Li, So).map(function(Ns) {
          if (gi !== "no-cache" && (ba(Ns, $i) && qr.cache.write({ query: ai, result: Ns.data, dataId: "ROOT_SUBSCRIPTION", variables: So }), qr.broadcastQueries()), tn$1(Ns))
            throw new Nt$1({ graphQLErrors: Ns.errors });
          return Ns;
        });
      };
      if (this.transform(ai).hasClientExports) {
        var Oa = this.localState.addExportedVariables(ai, xi, Li).then(Fi);
        return new Q$1(function(So) {
          var Ns = null;
          return Oa.then(function(Uc) {
            return Ns = Uc.subscribe(So);
          }, So.error), function() {
            return Ns && Ns.unsubscribe();
          };
        });
      }
      return Fi(xi);
    }, Kr.prototype.stopQuery = function(kr) {
      this.stopQueryNoBroadcast(kr), this.broadcastQueries();
    }, Kr.prototype.stopQueryNoBroadcast = function(kr) {
      this.stopQueryInStoreNoBroadcast(kr), this.removeQuery(kr);
    }, Kr.prototype.removeQuery = function(kr) {
      this.fetchCancelFns.delete(kr), this.queries.has(kr) && (this.getQuery(kr).stop(), this.queries.delete(kr));
    }, Kr.prototype.broadcastQueries = function() {
      this.onBroadcast && this.onBroadcast(), this.queries.forEach(function(kr) {
        return kr.notify();
      });
    }, Kr.prototype.getLocalState = function() {
      return this.localState;
    }, Kr.prototype.getObservableFromLink = function(kr, qr, ai, gi) {
      var $i = this, xi;
      gi === void 0 && (gi = (xi = qr == null ? void 0 : qr.queryDeduplication) !== null && xi !== void 0 ? xi : this.queryDeduplication);
      var Ai, Li = this.transform(kr).serverQuery;
      if (Li) {
        var Fi = this, Oa = Fi.inFlightLinkObservables, So = Fi.link, Ns = { query: Li, variables: ai, operationName: Yr(Li) || void 0, context: this.prepareContext(v$2(v$2({}, qr), { forceFetch: !gi })) };
        if (qr = Ns.context, gi) {
          var Uc = Oa.get(Li) || /* @__PURE__ */ new Map();
          Oa.set(Li, Uc);
          var Kc = Ze$1(ai);
          if (Ai = Uc.get(Kc), !Ai) {
            var Bc = new en$1([rn$1(So, Ns)]);
            Uc.set(Kc, Ai = Bc), Bc.beforeNext(function() {
              Uc.delete(Kc) && Uc.size < 1 && Oa.delete(Li);
            });
          }
        } else
          Ai = new en$1([rn$1(So, Ns)]);
      } else
        Ai = new en$1([Q$1.of({ data: {} })]), qr = this.prepareContext(qr);
      var Wc = this.transform(kr).clientQuery;
      return Wc && (Ai = Hi(Ai, function(Vc) {
        return $i.localState.runResolvers({ document: Wc, remoteResult: Vc, context: qr, variables: ai });
      })), Ai;
    }, Kr.prototype.getResultsFromLink = function(kr, qr, ai) {
      var gi = kr.lastRequestId = this.generateRequestId(), $i = this.cache.transformForLink(this.transform(kr.document).document);
      return Hi(this.getObservableFromLink($i, ai.context, ai.variables), function(xi) {
        var Ai = Xi(xi), Li = Ai.length > 0;
        if (gi >= kr.lastRequestId) {
          if (Li && ai.errorPolicy === "none")
            throw kr.markError(new Nt$1({ graphQLErrors: Ai }));
          kr.markResult(xi, $i, ai, qr), kr.markReady();
        }
        var Fi = { data: xi.data, loading: !1, networkStatus: ee$1.ready };
        return Li && ai.errorPolicy !== "ignore" && (Fi.errors = Ai, Fi.networkStatus = ee$1.error), Fi;
      }, function(xi) {
        var Ai = tf(xi) ? xi : new Nt$1({ networkError: xi });
        throw gi >= kr.lastRequestId && kr.markError(Ai), Ai;
      });
    }, Kr.prototype.fetchQueryObservable = function(kr, qr, ai) {
      var gi = this;
      ai === void 0 && (ai = ee$1.loading);
      var $i = this.transform(qr.query).document, xi = this.getVariables($i, qr.variables), Ai = this.getQuery(kr), Li = this.defaultOptions.watchQuery, Fi = qr.fetchPolicy, Oa = Fi === void 0 ? Li && Li.fetchPolicy || "cache-first" : Fi, So = qr.errorPolicy, Ns = So === void 0 ? Li && Li.errorPolicy || "none" : So, Uc = qr.returnPartialData, Kc = Uc === void 0 ? !1 : Uc, Bc = qr.notifyOnNetworkStatusChange, Wc = Bc === void 0 ? !1 : Bc, Vc = qr.context, qc = Vc === void 0 ? {} : Vc, Qc = Object.assign({}, qr, { query: $i, variables: xi, fetchPolicy: Oa, errorPolicy: Ns, returnPartialData: Kc, notifyOnNetworkStatusChange: Wc, context: qc }), zc = function(Hc) {
        Qc.variables = Hc;
        var eu = gi.fetchQueryByPolicy(Ai, Qc, ai);
        return Qc.fetchPolicy !== "standby" && eu.length > 0 && Ai.observableQuery && Ai.observableQuery.applyNextFetchPolicy("after-fetch", qr), eu;
      }, Yc = function() {
        return gi.fetchCancelFns.delete(kr);
      };
      this.fetchCancelFns.set(kr, function(Hc) {
        Yc(), setTimeout(function() {
          return Xc.cancel(Hc);
        });
      });
      var Xc = new en$1(this.transform(Qc.query).hasClientExports ? this.localState.addExportedVariables(Qc.query, Qc.variables, Qc.context).then(zc) : zc(Qc.variables));
      return Xc.promise.then(Yc, Yc), Xc;
    }, Kr.prototype.refetchQueries = function(kr) {
      var qr = this, ai = kr.updateCache, gi = kr.include, $i = kr.optimistic, xi = $i === void 0 ? !1 : $i, Ai = kr.removeOptimistic, Li = Ai === void 0 ? xi ? Kn$1("refetchQueries") : void 0 : Ai, Fi = kr.onQueryUpdated, Oa = /* @__PURE__ */ new Map();
      gi && this.getObservableQueries(gi).forEach(function(Ns, Uc) {
        Oa.set(Uc, { oq: Ns, lastDiff: qr.getQuery(Uc).getDiff() });
      });
      var So = /* @__PURE__ */ new Map();
      return ai && this.cache.batch({ update: ai, optimistic: xi && Li || !1, removeOptimistic: Li, onWatchUpdated: function(Ns, Uc, Kc) {
        var Bc = Ns.watcher instanceof ga && Ns.watcher.observableQuery;
        if (Bc) {
          if (Fi) {
            Oa.delete(Bc.queryId);
            var Wc = Fi(Bc, Uc, Kc);
            return Wc === !0 && (Wc = Bc.refetch()), Wc !== !1 && So.set(Bc, Wc), Wc;
          }
          Fi !== null && Oa.set(Bc.queryId, { oq: Bc, lastDiff: Kc, diff: Uc });
        }
      } }), Oa.size && Oa.forEach(function(Ns, Uc) {
        var Kc = Ns.oq, Bc = Ns.lastDiff, Wc = Ns.diff, Vc;
        if (Fi) {
          if (!Wc) {
            var qc = Kc.queryInfo;
            qc.reset(), Wc = qc.getDiff();
          }
          Vc = Fi(Kc, Wc, Bc);
        }
        (!Fi || Vc === !0) && (Vc = Kc.refetch()), Vc !== !1 && So.set(Kc, Vc), Uc.indexOf("legacyOneTimeQuery") >= 0 && qr.stopQueryNoBroadcast(Uc);
      }), Li && this.cache.removeOptimistic(Li), So;
    }, Kr.prototype.fetchQueryByPolicy = function(kr, qr, ai) {
      var gi = this, $i = qr.query, xi = qr.variables, Ai = qr.fetchPolicy, Li = qr.refetchWritePolicy, Fi = qr.errorPolicy, Oa = qr.returnPartialData, So = qr.context, Ns = qr.notifyOnNetworkStatusChange, Uc = kr.networkStatus;
      kr.init({ document: this.transform($i).document, variables: xi, networkStatus: ai });
      var Kc = function() {
        return kr.getDiff(xi);
      }, Bc = function(zc, Yc) {
        Yc === void 0 && (Yc = kr.networkStatus || ee$1.loading);
        var Xc = zc.result;
        __DEV__ && !Oa && !ce$1(Xc, {}) && Is(zc.missing);
        var Hc = function(eu) {
          return Q$1.of(v$2({ data: eu, loading: Zt$1(Yc), networkStatus: Yc }, zc.complete ? null : { partial: !0 }));
        };
        return Xc && gi.transform($i).hasForcedResolvers ? gi.localState.runResolvers({ document: $i, remoteResult: { data: Xc }, context: So, variables: xi, onlyRunForcedResolvers: !0 }).then(function(eu) {
          return Hc(eu.data || void 0);
        }) : Fi === "none" && Yc === ee$1.refetch && Array.isArray(zc.missing) ? Hc(void 0) : Hc(Xc);
      }, Wc = Ai === "no-cache" ? 0 : ai === ee$1.refetch && Li !== "merge" ? 1 : 2, Vc = function() {
        return gi.getResultsFromLink(kr, Wc, { variables: xi, context: So, fetchPolicy: Ai, errorPolicy: Fi });
      }, qc = Ns && typeof Uc == "number" && Uc !== ai && Zt$1(ai);
      switch (Ai) {
        default:
        case "cache-first": {
          var Qc = Kc();
          return Qc.complete ? [Bc(Qc, kr.markReady())] : Oa || qc ? [Bc(Qc), Vc()] : [Vc()];
        }
        case "cache-and-network": {
          var Qc = Kc();
          return Qc.complete || Oa || qc ? [Bc(Qc), Vc()] : [Vc()];
        }
        case "cache-only":
          return [Bc(Kc(), kr.markReady())];
        case "network-only":
          return qc ? [Bc(Kc()), Vc()] : [Vc()];
        case "no-cache":
          return qc ? [Bc(kr.getDiff()), Vc()] : [Vc()];
        case "standby":
          return [];
      }
    }, Kr.prototype.getQuery = function(kr) {
      return kr && !this.queries.has(kr) && this.queries.set(kr, new ga(this, kr)), this.queries.get(kr);
    }, Kr.prototype.prepareContext = function(kr) {
      kr === void 0 && (kr = {});
      var qr = this.localState.prepareContext(kr);
      return v$2(v$2({}, qr), { clientAwareness: this.clientAwareness });
    }, Kr;
  }(), af = !1, ks = function() {
    function Kr(kr) {
      var qr = this;
      this.resetStoreCallbacks = [], this.clearStoreCallbacks = [];
      var ai = kr.uri, gi = kr.credentials, $i = kr.headers, xi = kr.cache, Ai = kr.ssrMode, Li = Ai === void 0 ? !1 : Ai, Fi = kr.ssrForceFetchDelay, Oa = Fi === void 0 ? 0 : Fi, So = kr.connectToDevTools, Ns = So === void 0 ? typeof window == "object" && !window.__APOLLO_CLIENT__ && __DEV__ : So, Uc = kr.queryDeduplication, Kc = Uc === void 0 ? !0 : Uc, Bc = kr.defaultOptions, Wc = kr.assumeImmutableResults, Vc = Wc === void 0 ? !1 : Wc, qc = kr.resolvers, Qc = kr.typeDefs, zc = kr.fragmentMatcher, Yc = kr.name, Xc = kr.version, Hc = kr.link;
      if (Hc || (Hc = ai ? new is({ uri: ai, credentials: gi, headers: $i }) : ot$1.empty()), !xi)
        throw __DEV__ ? new j$1(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`) : new j$1(9);
      if (this.link = Hc, this.cache = xi, this.disableNetworkFetches = Li || Oa > 0, this.queryDeduplication = Kc, this.defaultOptions = Bc || /* @__PURE__ */ Object.create(null), this.typeDefs = Qc, Oa && setTimeout(function() {
        return qr.disableNetworkFetches = !1;
      }, Oa), this.watchQuery = this.watchQuery.bind(this), this.query = this.query.bind(this), this.mutate = this.mutate.bind(this), this.resetStore = this.resetStore.bind(this), this.reFetchObservableQueries = this.reFetchObservableQueries.bind(this), Ns && typeof window == "object" && (window.__APOLLO_CLIENT__ = this), !af && Ns && __DEV__ && (af = !0, typeof window < "u" && window.document && window.top === window.self && !window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)) {
        var eu = window.navigator, nu = eu && eu.userAgent, su = void 0;
        typeof nu == "string" && (nu.indexOf("Chrome/") > -1 ? su = "https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm" : nu.indexOf("Firefox/") > -1 && (su = "https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")), su && __DEV__ && T$1.log("Download the Apollo DevTools for a better development experience: " + su);
      }
      this.version = Vu, this.localState = new va({ cache: xi, client: this, resolvers: qc, fragmentMatcher: zc }), this.queryManager = new nf({ cache: this.cache, link: this.link, defaultOptions: this.defaultOptions, queryDeduplication: Kc, ssrMode: Li, clientAwareness: { name: Yc, version: Xc }, localState: this.localState, assumeImmutableResults: Vc, onBroadcast: Ns ? function() {
        qr.devToolsHookCb && qr.devToolsHookCb({ action: {}, state: { queries: qr.queryManager.getQueryStore(), mutations: qr.queryManager.mutationStore || {} }, dataWithOptimisticResults: qr.cache.extract(!0) });
      } : void 0 });
    }
    return Kr.prototype.stop = function() {
      this.queryManager.stop();
    }, Kr.prototype.watchQuery = function(kr) {
      return this.defaultOptions.watchQuery && (kr = zn$1(this.defaultOptions.watchQuery, kr)), this.disableNetworkFetches && (kr.fetchPolicy === "network-only" || kr.fetchPolicy === "cache-and-network") && (kr = v$2(v$2({}, kr), { fetchPolicy: "cache-first" })), this.queryManager.watchQuery(kr);
    }, Kr.prototype.query = function(kr) {
      return this.defaultOptions.query && (kr = zn$1(this.defaultOptions.query, kr)), __DEV__ ? T$1(kr.fetchPolicy !== "cache-and-network", "The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only.") : T$1(kr.fetchPolicy !== "cache-and-network", 10), this.disableNetworkFetches && kr.fetchPolicy === "network-only" && (kr = v$2(v$2({}, kr), { fetchPolicy: "cache-first" })), this.queryManager.query(kr);
    }, Kr.prototype.mutate = function(kr) {
      return this.defaultOptions.mutate && (kr = zn$1(this.defaultOptions.mutate, kr)), this.queryManager.mutate(kr);
    }, Kr.prototype.subscribe = function(kr) {
      return this.queryManager.startGraphQLSubscription(kr);
    }, Kr.prototype.readQuery = function(kr, qr) {
      return qr === void 0 && (qr = !1), this.cache.readQuery(kr, qr);
    }, Kr.prototype.readFragment = function(kr, qr) {
      return qr === void 0 && (qr = !1), this.cache.readFragment(kr, qr);
    }, Kr.prototype.writeQuery = function(kr) {
      var qr = this.cache.writeQuery(kr);
      return kr.broadcast !== !1 && this.queryManager.broadcastQueries(), qr;
    }, Kr.prototype.writeFragment = function(kr) {
      var qr = this.cache.writeFragment(kr);
      return kr.broadcast !== !1 && this.queryManager.broadcastQueries(), qr;
    }, Kr.prototype.__actionHookForDevTools = function(kr) {
      this.devToolsHookCb = kr;
    }, Kr.prototype.__requestRaw = function(kr) {
      return rn$1(this.link, kr);
    }, Kr.prototype.resetStore = function() {
      var kr = this;
      return Promise.resolve().then(function() {
        return kr.queryManager.clearStore({ discardWatches: !1 });
      }).then(function() {
        return Promise.all(kr.resetStoreCallbacks.map(function(qr) {
          return qr();
        }));
      }).then(function() {
        return kr.reFetchObservableQueries();
      });
    }, Kr.prototype.clearStore = function() {
      var kr = this;
      return Promise.resolve().then(function() {
        return kr.queryManager.clearStore({ discardWatches: !0 });
      }).then(function() {
        return Promise.all(kr.clearStoreCallbacks.map(function(qr) {
          return qr();
        }));
      });
    }, Kr.prototype.onResetStore = function(kr) {
      var qr = this;
      return this.resetStoreCallbacks.push(kr), function() {
        qr.resetStoreCallbacks = qr.resetStoreCallbacks.filter(function(ai) {
          return ai !== kr;
        });
      };
    }, Kr.prototype.onClearStore = function(kr) {
      var qr = this;
      return this.clearStoreCallbacks.push(kr), function() {
        qr.clearStoreCallbacks = qr.clearStoreCallbacks.filter(function(ai) {
          return ai !== kr;
        });
      };
    }, Kr.prototype.reFetchObservableQueries = function(kr) {
      return this.queryManager.reFetchObservableQueries(kr);
    }, Kr.prototype.refetchQueries = function(kr) {
      var qr = this.queryManager.refetchQueries(kr), ai = [], gi = [];
      qr.forEach(function(xi, Ai) {
        ai.push(Ai), gi.push(xi);
      });
      var $i = Promise.all(gi);
      return $i.queries = ai, $i.results = gi, $i.catch(function(xi) {
        __DEV__ && T$1.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(xi));
      }), $i;
    }, Kr.prototype.getObservableQueries = function(kr) {
      return kr === void 0 && (kr = "active"), this.queryManager.getObservableQueries(kr);
    }, Kr.prototype.extract = function(kr) {
      return this.cache.extract(kr);
    }, Kr.prototype.restore = function(kr) {
      return this.cache.restore(kr);
    }, Kr.prototype.addResolvers = function(kr) {
      this.localState.addResolvers(kr);
    }, Kr.prototype.setResolvers = function(kr) {
      this.localState.setResolvers(kr);
    }, Kr.prototype.getResolvers = function() {
      return this.localState.getResolvers();
    }, Kr.prototype.setLocalStateFragmentMatcher = function(kr) {
      this.localState.setFragmentMatcher(kr);
    }, Kr.prototype.setLink = function(kr) {
      this.link = this.queryManager.link = kr;
    }, Kr;
  }();
  mu(dr ? "log" : "silent");
  function je$1(Kr) {
    return Kr === null ? "null" : Array.isArray(Kr) ? "array" : typeof Kr;
  }
  function Rt$1(Kr) {
    return je$1(Kr) === "object";
  }
  function of(Kr) {
    return Array.isArray(Kr) && Kr.length > 0 && Kr.every((kr) => "message" in kr);
  }
  function Ds(Kr, kr) {
    return Kr.length < 124 ? Kr : kr;
  }
  var sf = "graphql-transport-ws", Ge$1;
  (function(Kr) {
    Kr[Kr.InternalServerError = 4500] = "InternalServerError", Kr[Kr.InternalClientError = 4005] = "InternalClientError", Kr[Kr.BadRequest = 4400] = "BadRequest", Kr[Kr.BadResponse = 4004] = "BadResponse", Kr[Kr.Unauthorized = 4401] = "Unauthorized", Kr[Kr.Forbidden = 4403] = "Forbidden", Kr[Kr.SubprotocolNotAcceptable = 4406] = "SubprotocolNotAcceptable", Kr[Kr.ConnectionInitialisationTimeout = 4408] = "ConnectionInitialisationTimeout", Kr[Kr.ConnectionAcknowledgementTimeout = 4504] = "ConnectionAcknowledgementTimeout", Kr[Kr.SubscriberAlreadyExists = 4409] = "SubscriberAlreadyExists", Kr[Kr.TooManyInitialisationRequests = 4429] = "TooManyInitialisationRequests";
  })(Ge$1 || (Ge$1 = {}));
  var ge$1;
  (function(Kr) {
    Kr.ConnectionInit = "connection_init", Kr.ConnectionAck = "connection_ack", Kr.Ping = "ping", Kr.Pong = "pong", Kr.Subscribe = "subscribe", Kr.Next = "next", Kr.Error = "error", Kr.Complete = "complete";
  })(ge$1 || (ge$1 = {}));
  function cf(Kr) {
    if (!Rt$1(Kr))
      throw new Error(`Message is expected to be an object, but got ${je$1(Kr)}`);
    if (!Kr.type)
      throw new Error("Message is missing the 'type' property");
    if (typeof Kr.type != "string")
      throw new Error(`Message is expects the 'type' property to be a string, but got ${je$1(Kr.type)}`);
    switch (Kr.type) {
      case ge$1.ConnectionInit:
      case ge$1.ConnectionAck:
      case ge$1.Ping:
      case ge$1.Pong: {
        if (Kr.payload != null && !Rt$1(Kr.payload))
          throw new Error(`"${Kr.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${Kr.payload}"`);
        break;
      }
      case ge$1.Subscribe: {
        if (typeof Kr.id != "string")
          throw new Error(`"${Kr.type}" message expects the 'id' property to be a string, but got ${je$1(Kr.id)}`);
        if (!Kr.id)
          throw new Error(`"${Kr.type}" message requires a non-empty 'id' property`);
        if (!Rt$1(Kr.payload))
          throw new Error(`"${Kr.type}" message expects the 'payload' property to be an object, but got ${je$1(Kr.payload)}`);
        if (typeof Kr.payload.query != "string")
          throw new Error(`"${Kr.type}" message payload expects the 'query' property to be a string, but got ${je$1(Kr.payload.query)}`);
        if (Kr.payload.variables != null && !Rt$1(Kr.payload.variables))
          throw new Error(`"${Kr.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${je$1(Kr.payload.variables)}`);
        if (Kr.payload.operationName != null && je$1(Kr.payload.operationName) !== "string")
          throw new Error(`"${Kr.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${je$1(Kr.payload.operationName)}`);
        if (Kr.payload.extensions != null && !Rt$1(Kr.payload.extensions))
          throw new Error(`"${Kr.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${je$1(Kr.payload.extensions)}`);
        break;
      }
      case ge$1.Next: {
        if (typeof Kr.id != "string")
          throw new Error(`"${Kr.type}" message expects the 'id' property to be a string, but got ${je$1(Kr.id)}`);
        if (!Kr.id)
          throw new Error(`"${Kr.type}" message requires a non-empty 'id' property`);
        if (!Rt$1(Kr.payload))
          throw new Error(`"${Kr.type}" message expects the 'payload' property to be an object, but got ${je$1(Kr.payload)}`);
        break;
      }
      case ge$1.Error: {
        if (typeof Kr.id != "string")
          throw new Error(`"${Kr.type}" message expects the 'id' property to be a string, but got ${je$1(Kr.id)}`);
        if (!Kr.id)
          throw new Error(`"${Kr.type}" message requires a non-empty 'id' property`);
        if (!of(Kr.payload))
          throw new Error(`"${Kr.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(Kr.payload)}`);
        break;
      }
      case ge$1.Complete: {
        if (typeof Kr.id != "string")
          throw new Error(`"${Kr.type}" message expects the 'id' property to be a string, but got ${je$1(Kr.id)}`);
        if (!Kr.id)
          throw new Error(`"${Kr.type}" message requires a non-empty 'id' property`);
        break;
      }
      default:
        throw new Error(`Invalid message 'type' property "${Kr.type}"`);
    }
    return Kr;
  }
  function uf(Kr, kr) {
    return cf(typeof Kr == "string" ? JSON.parse(Kr, kr) : Kr);
  }
  function ln$1(Kr, kr) {
    return cf(Kr), JSON.stringify(Kr, kr);
  }
  function lf(Kr) {
    let { url: kr, connectionParams: qr, lazy: ai = !0, onNonLazyError: gi = console.error, lazyCloseTimeout: $i = 0, keepAlive: xi = 0, disablePong: Ai, connectionAckWaitTimeout: Li = 0, retryAttempts: Fi = 5, retryWait: Oa = async function(au) {
      let ou = 1e3;
      for (let rp = 0; rp < au; rp++)
        ou *= 2;
      await new Promise((rp) => setTimeout(rp, ou + Math.floor(Math.random() * (3e3 - 300) + 300)));
    }, shouldRetry: So = Ca, isFatalConnectionProblem: Ns, on: Uc, webSocketImpl: Kc, generateID: Bc = function() {
      return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (au) => {
        let ou = Math.random() * 16 | 0;
        return (au == "x" ? ou : ou & 3 | 8).toString(16);
      });
    }, jsonMessageReplacer: Wc, jsonMessageReviver: Vc } = Kr, qc;
    if (Kc) {
      if (!p1(Kc))
        throw new Error("Invalid WebSocket implementation provided");
      qc = Kc;
    } else
      typeof WebSocket < "u" ? qc = WebSocket : typeof global < "u" ? qc = global.WebSocket || global.MozWebSocket : typeof window < "u" && (qc = window.WebSocket || window.MozWebSocket);
    if (!qc)
      throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");
    let Qc = qc, zc = (() => {
      let au = (() => {
        let rp = {};
        return { on(cu, Gc) {
          return rp[cu] = Gc, () => {
            delete rp[cu];
          };
        }, emit(cu) {
          var Gc;
          "id" in cu && ((Gc = rp[cu.id]) === null || Gc === void 0 || Gc.call(rp, cu));
        } };
      })(), ou = { connecting: Uc != null && Uc.connecting ? [Uc.connecting] : [], opened: Uc != null && Uc.opened ? [Uc.opened] : [], connected: Uc != null && Uc.connected ? [Uc.connected] : [], ping: Uc != null && Uc.ping ? [Uc.ping] : [], pong: Uc != null && Uc.pong ? [Uc.pong] : [], message: Uc != null && Uc.message ? [au.emit, Uc.message] : [au.emit], closed: Uc != null && Uc.closed ? [Uc.closed] : [], error: Uc != null && Uc.error ? [Uc.error] : [] };
      return { onMessage: au.on, on(rp, cu) {
        let Gc = ou[rp];
        return Gc.push(cu), () => {
          Gc.splice(Gc.indexOf(cu), 1);
        };
      }, emit(rp, ...cu) {
        for (let Gc of [...ou[rp]])
          Gc(...cu);
      } };
    })();
    function Yc(au) {
      let ou = [zc.on("error", (rp) => {
        ou.forEach((cu) => cu()), au(rp);
      }), zc.on("closed", (rp) => {
        ou.forEach((cu) => cu()), au(rp);
      })];
    }
    let Xc, Hc = 0, eu, nu = !1, su = 0, yp = !1;
    async function Lp() {
      clearTimeout(eu);
      let [au, ou] = await (Xc ?? (Xc = new Promise((Gc, Zc) => (async () => {
        if (nu) {
          if (await Oa(su), !Hc)
            return Xc = void 0, Zc({ code: 1e3, reason: "All Subscriptions Gone" });
          su++;
        }
        zc.emit("connecting");
        let Jc = new Qc(typeof kr == "function" ? await kr() : kr, sf), tu, ru;
        function iu() {
          isFinite(xi) && xi > 0 && (clearTimeout(ru), ru = setTimeout(() => {
            Jc.readyState === Qc.OPEN && (Jc.send(ln$1({ type: ge$1.Ping })), zc.emit("ping", !1, void 0));
          }, xi));
        }
        Yc((lu) => {
          Xc = void 0, clearTimeout(tu), clearTimeout(ru), Zc(lu), Ca(lu) && lu.code === 4499 && (Jc.close(4499, "Terminated"), Jc.onerror = null, Jc.onclose = null);
        }), Jc.onerror = (lu) => zc.emit("error", lu), Jc.onclose = (lu) => zc.emit("closed", lu), Jc.onopen = async () => {
          try {
            zc.emit("opened", Jc);
            let lu = typeof qr == "function" ? await qr() : qr;
            if (Jc.readyState !== Qc.OPEN)
              return;
            Jc.send(ln$1(lu ? { type: ge$1.ConnectionInit, payload: lu } : { type: ge$1.ConnectionInit }, Wc)), isFinite(Li) && Li > 0 && (tu = setTimeout(() => {
              Jc.close(Ge$1.ConnectionAcknowledgementTimeout, "Connection acknowledgement timeout");
            }, Li)), iu();
          } catch (lu) {
            zc.emit("error", lu), Jc.close(Ge$1.InternalClientError, Ds(lu instanceof Error ? lu.message : new Error(lu).message, "Internal client error"));
          }
        };
        let uu = !1;
        Jc.onmessage = ({ data: lu }) => {
          try {
            let $p = uf(lu, Vc);
            if (zc.emit("message", $p), $p.type === "ping" || $p.type === "pong") {
              zc.emit($p.type, !0, $p.payload), $p.type === "pong" ? iu() : Ai || (Jc.send(ln$1($p.payload ? { type: ge$1.Pong, payload: $p.payload } : { type: ge$1.Pong })), zc.emit("pong", !1, $p.payload));
              return;
            }
            if (uu)
              return;
            if ($p.type !== ge$1.ConnectionAck)
              throw new Error(`First message cannot be of type ${$p.type}`);
            clearTimeout(tu), uu = !0, zc.emit("connected", Jc, $p.payload), nu = !1, su = 0, Gc([Jc, new Promise((fu, jp) => Yc(jp))]);
          } catch ($p) {
            Jc.onmessage = null, zc.emit("error", $p), Jc.close(Ge$1.BadResponse, Ds($p instanceof Error ? $p.message : new Error($p).message, "Bad response"));
          }
        };
      })())));
      au.readyState === Qc.CLOSING && await ou;
      let rp = () => {
      }, cu = new Promise((Gc) => rp = Gc);
      return [au, rp, Promise.race([cu.then(() => {
        if (!Hc) {
          let Gc = () => au.close(1e3, "Normal Closure");
          isFinite($i) && $i > 0 ? eu = setTimeout(() => {
            au.readyState === Qc.OPEN && Gc();
          }, $i) : Gc();
        }
      }), ou])];
    }
    function vp(au) {
      if (Ca(au) && (f1(au.code) || [Ge$1.InternalServerError, Ge$1.InternalClientError, Ge$1.BadRequest, Ge$1.BadResponse, Ge$1.Unauthorized, Ge$1.SubprotocolNotAcceptable, Ge$1.SubscriberAlreadyExists, Ge$1.TooManyInitialisationRequests].includes(au.code)))
        throw au;
      if (yp)
        return !1;
      if (Ca(au) && au.code === 1e3)
        return Hc > 0;
      if (!Fi || su >= Fi || !So(au) || Ns != null && Ns(au))
        throw au;
      return nu = !0;
    }
    return ai || (async () => {
      for (Hc++; ; )
        try {
          let [, , au] = await Lp();
          await au;
        } catch (au) {
          try {
            if (!vp(au))
              return;
          } catch (ou) {
            return gi == null ? void 0 : gi(ou);
          }
        }
    })(), { on: zc.on, subscribe(au, ou) {
      let rp = Bc(au), cu = !1, Gc = !1, Zc = () => {
        Hc--, cu = !0;
      };
      return (async () => {
        for (Hc++; ; )
          try {
            let [Jc, tu, ru] = await Lp();
            if (cu)
              return tu();
            let iu = zc.onMessage(rp, (uu) => {
              switch (uu.type) {
                case ge$1.Next: {
                  ou.next(uu.payload);
                  return;
                }
                case ge$1.Error: {
                  Gc = !0, cu = !0, ou.error(uu.payload), Zc();
                  return;
                }
                case ge$1.Complete: {
                  cu = !0, Zc();
                  return;
                }
              }
            });
            Jc.send(ln$1({ id: rp, type: ge$1.Subscribe, payload: au }, Wc)), Zc = () => {
              !cu && Jc.readyState === Qc.OPEN && Jc.send(ln$1({ id: rp, type: ge$1.Complete }, Wc)), Hc--, cu = !0, tu();
            }, await ru.finally(iu);
            return;
          } catch (Jc) {
            if (!vp(Jc))
              return;
          }
      })().then(() => {
        Gc || ou.complete();
      }).catch((Jc) => {
        ou.error(Jc);
      }), () => {
        cu || Zc();
      };
    }, async dispose() {
      if (yp = !0, Xc) {
        let [au] = await Xc;
        au.close(1e3, "Normal Closure");
      }
    }, terminate() {
      Xc && zc.emit("closed", { code: 4499, reason: "Terminated", wasClean: !1 });
    } };
  }
  function Ca(Kr) {
    return Rt$1(Kr) && "code" in Kr && "reason" in Kr;
  }
  function f1(Kr) {
    return [1e3, 1001, 1006, 1005, 1012, 1013, 1013].includes(Kr) ? !1 : Kr >= 1e3 && Kr <= 1999;
  }
  function p1(Kr) {
    return typeof Kr == "function" && "constructor" in Kr && "CLOSED" in Kr && "CLOSING" in Kr && "CONNECTING" in Kr && "OPEN" in Kr;
  }
  function d1(Kr) {
    return z$1(Kr) && "code" in Kr && "reason" in Kr;
  }
  var ff = function(Kr) {
    ye$1(kr, Kr);
    function kr(qr) {
      var ai = Kr.call(this) || this;
      return ai.client = qr, ai;
    }
    return kr.prototype.request = function(qr) {
      var ai = this;
      return new Q$1(function(gi) {
        return ai.client.subscribe(v$2(v$2({}, qr), { query: zr(qr.query) }), { next: gi.next.bind(gi), complete: gi.complete.bind(gi), error: function($i) {
          return $i instanceof Error ? gi.error($i) : d1($i) ? gi.error(new Error("Socket closed with event ".concat($i.code, " ").concat($i.reason || ""))) : gi.error(new Nt$1({ graphQLErrors: Array.isArray($i) ? $i : [$i] }));
        } });
      });
    }, kr;
  }(ot$1), Ma = function() {
    return Ma = Object.assign || function(Kr) {
      for (var kr, qr = 1, ai = arguments.length; qr < ai; qr++) {
        kr = arguments[qr];
        for (var gi in kr)
          Object.prototype.hasOwnProperty.call(kr, gi) && (Kr[gi] = kr[gi]);
      }
      return Kr;
    }, Ma.apply(this, arguments);
  };
  function Ta(Kr) {
    return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? Ta = function(kr) {
      return typeof kr;
    } : Ta = function(kr) {
      return kr && typeof Symbol == "function" && kr.constructor === Symbol && kr !== Symbol.prototype ? "symbol" : typeof kr;
    }, Ta(Kr);
  }
  function h1(Kr) {
    return Ta(Kr) == "object" && Kr !== null;
  }
  var Ff = typeof Symbol == "function" && Symbol.toStringTag != null ? Symbol.toStringTag : "@@toStringTag";
  function js(Kr, kr) {
    for (var qr = /\r\n|[\n\r]/g, ai = 1, gi = kr + 1, $i; ($i = qr.exec(Kr.body)) && $i.index < kr; )
      ai += 1, gi = kr + 1 - ($i.index + $i[0].length);
    return { line: ai, column: gi };
  }
  function m1(Kr) {
    return $f(Kr.source, js(Kr.source, Kr.start));
  }
  function $f(Kr, kr) {
    var qr = Kr.locationOffset.column - 1, ai = Ia(qr) + Kr.body, gi = kr.line - 1, $i = Kr.locationOffset.line - 1, xi = kr.line + $i, Ai = kr.line === 1 ? qr : 0, Li = kr.column + Ai, Fi = "".concat(Kr.name, ":").concat(xi, ":").concat(Li, `
`), Oa = ai.split(/\r\n|[\n\r]/g), So = Oa[gi];
    if (So.length > 120) {
      for (var Ns = Math.floor(Li / 80), Uc = Li % 80, Kc = [], Bc = 0; Bc < So.length; Bc += 80)
        Kc.push(So.slice(Bc, Bc + 80));
      return Fi + pf([["".concat(xi), Kc[0]]].concat(Kc.slice(1, Ns + 1).map(function(Wc) {
        return ["", Wc];
      }), [[" ", Ia(Uc - 1) + "^"], ["", Kc[Ns + 1]]]));
    }
    return Fi + pf([["".concat(xi - 1), Oa[gi - 1]], ["".concat(xi), So], ["", Ia(Li - 1) + "^"], ["".concat(xi + 1), Oa[gi + 1]]]);
  }
  function pf(Kr) {
    var kr = Kr.filter(function(ai) {
      ai[0];
      var gi = ai[1];
      return gi !== void 0;
    }), qr = Math.max.apply(Math, kr.map(function(ai) {
      var gi = ai[0];
      return gi.length;
    }));
    return kr.map(function(ai) {
      var gi = ai[0], $i = ai[1];
      return y1(qr, gi) + ($i ? " | " + $i : " |");
    }).join(`
`);
  }
  function Ia(Kr) {
    return Array(Kr + 1).join(" ");
  }
  function y1(Kr, kr) {
    return Ia(Kr - kr.length) + kr;
  }
  function Aa(Kr) {
    return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? Aa = function(kr) {
      return typeof kr;
    } : Aa = function(kr) {
      return kr && typeof Symbol == "function" && kr.constructor === Symbol && kr !== Symbol.prototype ? "symbol" : typeof kr;
    }, Aa(Kr);
  }
  function df(Kr, kr) {
    var qr = Object.keys(Kr);
    if (Object.getOwnPropertySymbols) {
      var ai = Object.getOwnPropertySymbols(Kr);
      kr && (ai = ai.filter(function(gi) {
        return Object.getOwnPropertyDescriptor(Kr, gi).enumerable;
      })), qr.push.apply(qr, ai);
    }
    return qr;
  }
  function v1(Kr) {
    for (var kr = 1; kr < arguments.length; kr++) {
      var qr = arguments[kr] != null ? arguments[kr] : {};
      kr % 2 ? df(Object(qr), !0).forEach(function(ai) {
        g1(Kr, ai, qr[ai]);
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(Kr, Object.getOwnPropertyDescriptors(qr)) : df(Object(qr)).forEach(function(ai) {
        Object.defineProperty(Kr, ai, Object.getOwnPropertyDescriptor(qr, ai));
      });
    }
    return Kr;
  }
  function g1(Kr, kr, qr) {
    return kr in Kr ? Object.defineProperty(Kr, kr, { value: qr, enumerable: !0, configurable: !0, writable: !0 }) : Kr[kr] = qr, Kr;
  }
  function b1(Kr, kr) {
    if (!(Kr instanceof kr))
      throw new TypeError("Cannot call a class as a function");
  }
  function hf(Kr, kr) {
    for (var qr = 0; qr < kr.length; qr++) {
      var ai = kr[qr];
      ai.enumerable = ai.enumerable || !1, ai.configurable = !0, "value" in ai && (ai.writable = !0), Object.defineProperty(Kr, ai.key, ai);
    }
  }
  function C1(Kr, kr, qr) {
    return kr && hf(Kr.prototype, kr), qr && hf(Kr, qr), Kr;
  }
  function _1(Kr, kr) {
    if (typeof kr != "function" && kr !== null)
      throw new TypeError("Super expression must either be null or a function");
    Kr.prototype = Object.create(kr && kr.prototype, { constructor: { value: Kr, writable: !0, configurable: !0 } }), kr && bi(Kr, kr);
  }
  function S1(Kr) {
    var kr = jf();
    return function() {
      var qr = Ci(Kr), ai;
      if (kr) {
        var gi = Ci(this).constructor;
        ai = Reflect.construct(qr, arguments, gi);
      } else
        ai = qr.apply(this, arguments);
      return Mf(this, ai);
    };
  }
  function Mf(Kr, kr) {
    return kr && (Aa(kr) === "object" || typeof kr == "function") ? kr : ii(Kr);
  }
  function ii(Kr) {
    if (Kr === void 0)
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return Kr;
  }
  function Us(Kr) {
    var kr = typeof Map == "function" ? /* @__PURE__ */ new Map() : void 0;
    return Us = function(qr) {
      if (qr === null || !w1(qr))
        return qr;
      if (typeof qr != "function")
        throw new TypeError("Super expression must either be null or a function");
      if (typeof kr < "u") {
        if (kr.has(qr))
          return kr.get(qr);
        kr.set(qr, ai);
      }
      function ai() {
        return ka(qr, arguments, Ci(this).constructor);
      }
      return ai.prototype = Object.create(qr.prototype, { constructor: { value: ai, enumerable: !1, writable: !0, configurable: !0 } }), bi(ai, qr);
    }, Us(Kr);
  }
  function ka(Kr, kr, qr) {
    return jf() ? ka = Reflect.construct : ka = function(ai, gi, $i) {
      var xi = [null];
      xi.push.apply(xi, gi);
      var Ai = Function.bind.apply(ai, xi), Li = new Ai();
      return $i && bi(Li, $i.prototype), Li;
    }, ka.apply(null, arguments);
  }
  function jf() {
    if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
      return !1;
    if (typeof Proxy == "function")
      return !0;
    try {
      return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
      })), !0;
    } catch {
      return !1;
    }
  }
  function w1(Kr) {
    return Function.toString.call(Kr).indexOf("[native code]") !== -1;
  }
  function bi(Kr, kr) {
    return bi = Object.setPrototypeOf || function(qr, ai) {
      return qr.__proto__ = ai, qr;
    }, bi(Kr, kr);
  }
  function Ci(Kr) {
    return Ci = Object.setPrototypeOf ? Object.getPrototypeOf : function(kr) {
      return kr.__proto__ || Object.getPrototypeOf(kr);
    }, Ci(Kr);
  }
  var E1 = function(Kr) {
    _1(qr, Kr);
    var kr = S1(qr);
    function qr(ai, gi, $i, xi, Ai, Li, Fi) {
      var Oa, So, Ns, Uc;
      b1(this, qr), Uc = kr.call(this, ai), Uc.name = "GraphQLError", Uc.originalError = Li ?? void 0, Uc.nodes = mf(Array.isArray(gi) ? gi : gi ? [gi] : void 0);
      for (var Kc = [], Bc = 0, Wc = (Vc = Uc.nodes) !== null && Vc !== void 0 ? Vc : []; Bc < Wc.length; Bc++) {
        var Vc, qc = Wc[Bc], Qc = qc.loc;
        Qc != null && Kc.push(Qc);
      }
      Kc = mf(Kc), Uc.source = $i ?? ((Oa = Kc) === null || Oa === void 0 ? void 0 : Oa[0].source), Uc.positions = xi ?? ((So = Kc) === null || So === void 0 ? void 0 : So.map(function(Yc) {
        return Yc.start;
      })), Uc.locations = xi && $i ? xi.map(function(Yc) {
        return js($i, Yc);
      }) : (Ns = Kc) === null || Ns === void 0 ? void 0 : Ns.map(function(Yc) {
        return js(Yc.source, Yc.start);
      }), Uc.path = Ai ?? void 0;
      var zc = Li == null ? void 0 : Li.extensions;
      return Fi == null && h1(zc) ? Uc.extensions = v1({}, zc) : Uc.extensions = Fi ?? {}, Object.defineProperties(ii(Uc), { message: { enumerable: !0 }, locations: { enumerable: Uc.locations != null }, path: { enumerable: Uc.path != null }, extensions: { enumerable: Uc.extensions != null && Object.keys(Uc.extensions).length > 0 }, name: { enumerable: !1 }, nodes: { enumerable: !1 }, source: { enumerable: !1 }, positions: { enumerable: !1 }, originalError: { enumerable: !1 } }), Li != null && Li.stack ? (Object.defineProperty(ii(Uc), "stack", { value: Li.stack, writable: !0, configurable: !0 }), Mf(Uc)) : (Error.captureStackTrace ? Error.captureStackTrace(ii(Uc), qr) : Object.defineProperty(ii(Uc), "stack", { value: Error().stack, writable: !0, configurable: !0 }), Uc);
    }
    return C1(qr, [{ key: "toString", value: function() {
      return x1(this);
    } }, { key: Ff, get: function() {
      return "Object";
    } }]), qr;
  }(Us(Error));
  function mf(Kr) {
    return Kr === void 0 || Kr.length === 0 ? void 0 : Kr;
  }
  function x1(Kr) {
    var kr = Kr.message;
    if (Kr.nodes)
      for (var qr = 0, ai = Kr.nodes; qr < ai.length; qr++) {
        var gi = ai[qr];
        gi.loc && (kr += `

` + m1(gi.loc));
      }
    else if (Kr.source && Kr.locations)
      for (var $i = 0, xi = Kr.locations; $i < xi.length; $i++) {
        var Ai = xi[$i];
        kr += `

` + $f(Kr.source, Ai);
      }
    return kr;
  }
  function rt$1(Kr, kr, qr) {
    return new E1("Syntax Error: ".concat(qr), void 0, Kr, [kr]);
  }
  var M$1 = Object.freeze({ NAME: "Name", DOCUMENT: "Document", OPERATION_DEFINITION: "OperationDefinition", VARIABLE_DEFINITION: "VariableDefinition", SELECTION_SET: "SelectionSet", FIELD: "Field", ARGUMENT: "Argument", FRAGMENT_SPREAD: "FragmentSpread", INLINE_FRAGMENT: "InlineFragment", FRAGMENT_DEFINITION: "FragmentDefinition", VARIABLE: "Variable", INT: "IntValue", FLOAT: "FloatValue", STRING: "StringValue", BOOLEAN: "BooleanValue", NULL: "NullValue", ENUM: "EnumValue", LIST: "ListValue", OBJECT: "ObjectValue", OBJECT_FIELD: "ObjectField", DIRECTIVE: "Directive", NAMED_TYPE: "NamedType", LIST_TYPE: "ListType", NON_NULL_TYPE: "NonNullType", SCHEMA_DEFINITION: "SchemaDefinition", OPERATION_TYPE_DEFINITION: "OperationTypeDefinition", SCALAR_TYPE_DEFINITION: "ScalarTypeDefinition", OBJECT_TYPE_DEFINITION: "ObjectTypeDefinition", FIELD_DEFINITION: "FieldDefinition", INPUT_VALUE_DEFINITION: "InputValueDefinition", INTERFACE_TYPE_DEFINITION: "InterfaceTypeDefinition", UNION_TYPE_DEFINITION: "UnionTypeDefinition", ENUM_TYPE_DEFINITION: "EnumTypeDefinition", ENUM_VALUE_DEFINITION: "EnumValueDefinition", INPUT_OBJECT_TYPE_DEFINITION: "InputObjectTypeDefinition", DIRECTIVE_DEFINITION: "DirectiveDefinition", SCHEMA_EXTENSION: "SchemaExtension", SCALAR_TYPE_EXTENSION: "ScalarTypeExtension", OBJECT_TYPE_EXTENSION: "ObjectTypeExtension", INTERFACE_TYPE_EXTENSION: "InterfaceTypeExtension", UNION_TYPE_EXTENSION: "UnionTypeExtension", ENUM_TYPE_EXTENSION: "EnumTypeExtension", INPUT_OBJECT_TYPE_EXTENSION: "InputObjectTypeExtension" });
  function O1(Kr, kr) {
    var qr = !!Kr;
    if (!qr)
      throw new Error(kr ?? "Unexpected invariant triggered.");
  }
  var T1 = typeof Symbol == "function" && typeof Symbol.for == "function" ? Symbol.for("nodejs.util.inspect.custom") : void 0, qs = T1;
  function Uf(Kr) {
    var kr = Kr.prototype.toJSON;
    typeof kr == "function" || O1(0), Kr.prototype.inspect = kr, qs && (Kr.prototype[qs] = kr);
  }
  var qf = function() {
    function Kr(qr, ai, gi) {
      this.start = qr.start, this.end = ai.end, this.startToken = qr, this.endToken = ai, this.source = gi;
    }
    var kr = Kr.prototype;
    return kr.toJSON = function() {
      return { start: this.start, end: this.end };
    }, Kr;
  }();
  Uf(qf);
  var Ce$1 = function() {
    function Kr(qr, ai, gi, $i, xi, Ai, Li) {
      this.kind = qr, this.start = ai, this.end = gi, this.line = $i, this.column = xi, this.value = Li, this.prev = Ai, this.next = null;
    }
    var kr = Kr.prototype;
    return kr.toJSON = function() {
      return { kind: this.kind, value: this.value, line: this.line, column: this.column };
    }, Kr;
  }();
  Uf(Ce$1);
  var S$1 = Object.freeze({ SOF: "<SOF>", EOF: "<EOF>", BANG: "!", DOLLAR: "$", AMP: "&", PAREN_L: "(", PAREN_R: ")", SPREAD: "...", COLON: ":", EQUALS: "=", AT: "@", BRACKET_L: "[", BRACKET_R: "]", BRACE_L: "{", PIPE: "|", BRACE_R: "}", NAME: "Name", INT: "Int", FLOAT: "Float", STRING: "String", BLOCK_STRING: "BlockString", COMMENT: "Comment" });
  function Da(Kr) {
    return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? Da = function(kr) {
      return typeof kr;
    } : Da = function(kr) {
      return kr && typeof Symbol == "function" && kr.constructor === Symbol && kr !== Symbol.prototype ? "symbol" : typeof kr;
    }, Da(Kr);
  }
  var I1 = 10, Bf = 2;
  function A1(Kr) {
    return eo(Kr, []);
  }
  function eo(Kr, kr) {
    switch (Da(Kr)) {
      case "string":
        return JSON.stringify(Kr);
      case "function":
        return Kr.name ? "[function ".concat(Kr.name, "]") : "[function]";
      case "object":
        return Kr === null ? "null" : k1(Kr, kr);
      default:
        return String(Kr);
    }
  }
  function k1(Kr, kr) {
    if (kr.indexOf(Kr) !== -1)
      return "[Circular]";
    var qr = [].concat(kr, [Kr]), ai = N1(Kr);
    if (ai !== void 0) {
      var gi = ai.call(Kr);
      if (gi !== Kr)
        return typeof gi == "string" ? gi : eo(gi, qr);
    } else if (Array.isArray(Kr))
      return P1(Kr, qr);
    return D1(Kr, qr);
  }
  function D1(Kr, kr) {
    var qr = Object.keys(Kr);
    if (qr.length === 0)
      return "{}";
    if (kr.length > Bf)
      return "[" + R1(Kr) + "]";
    var ai = qr.map(function(gi) {
      var $i = eo(Kr[gi], kr);
      return gi + ": " + $i;
    });
    return "{ " + ai.join(", ") + " }";
  }
  function P1(Kr, kr) {
    if (Kr.length === 0)
      return "[]";
    if (kr.length > Bf)
      return "[Array]";
    for (var qr = Math.min(I1, Kr.length), ai = Kr.length - qr, gi = [], $i = 0; $i < qr; ++$i)
      gi.push(eo(Kr[$i], kr));
    return ai === 1 ? gi.push("... 1 more item") : ai > 1 && gi.push("... ".concat(ai, " more items")), "[" + gi.join(", ") + "]";
  }
  function N1(Kr) {
    var kr = Kr[String(qs)];
    if (typeof kr == "function")
      return kr;
    if (typeof Kr.inspect == "function")
      return Kr.inspect;
  }
  function R1(Kr) {
    var kr = Object.prototype.toString.call(Kr).replace(/^\[object /, "").replace(/]$/, "");
    if (kr === "Object" && typeof Kr.constructor == "function") {
      var qr = Kr.constructor.name;
      if (typeof qr == "string" && qr !== "")
        return qr;
    }
    return kr;
  }
  function Ps(Kr, kr) {
    var qr = !!Kr;
    if (!qr)
      throw new Error(kr);
  }
  var L1 = function(Kr, kr) {
    return Kr instanceof kr;
  };
  function yf(Kr, kr) {
    for (var qr = 0; qr < kr.length; qr++) {
      var ai = kr[qr];
      ai.enumerable = ai.enumerable || !1, ai.configurable = !0, "value" in ai && (ai.writable = !0), Object.defineProperty(Kr, ai.key, ai);
    }
  }
  function F1(Kr, kr, qr) {
    return kr && yf(Kr.prototype, kr), qr && yf(Kr, qr), Kr;
  }
  var Vf = function() {
    function Kr(kr) {
      var qr = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "GraphQL request", ai = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : { line: 1, column: 1 };
      typeof kr == "string" || Ps(0, "Body must be a string. Received: ".concat(A1(kr), ".")), this.body = kr, this.name = qr, this.locationOffset = ai, this.locationOffset.line > 0 || Ps(0, "line in locationOffset is 1-indexed and must be positive."), this.locationOffset.column > 0 || Ps(0, "column in locationOffset is 1-indexed and must be positive.");
    }
    return F1(Kr, [{ key: Ff, get: function() {
      return "Source";
    } }]), Kr;
  }();
  function $1(Kr) {
    return L1(Kr, Vf);
  }
  var M1 = Object.freeze({ QUERY: "QUERY", MUTATION: "MUTATION", SUBSCRIPTION: "SUBSCRIPTION", FIELD: "FIELD", FRAGMENT_DEFINITION: "FRAGMENT_DEFINITION", FRAGMENT_SPREAD: "FRAGMENT_SPREAD", INLINE_FRAGMENT: "INLINE_FRAGMENT", VARIABLE_DEFINITION: "VARIABLE_DEFINITION", SCHEMA: "SCHEMA", SCALAR: "SCALAR", OBJECT: "OBJECT", FIELD_DEFINITION: "FIELD_DEFINITION", ARGUMENT_DEFINITION: "ARGUMENT_DEFINITION", INTERFACE: "INTERFACE", UNION: "UNION", ENUM: "ENUM", ENUM_VALUE: "ENUM_VALUE", INPUT_OBJECT: "INPUT_OBJECT", INPUT_FIELD_DEFINITION: "INPUT_FIELD_DEFINITION" });
  function j1(Kr) {
    var kr = Kr.split(/\r\n|[\n\r]/g), qr = U1(Kr);
    if (qr !== 0)
      for (var ai = 1; ai < kr.length; ai++)
        kr[ai] = kr[ai].slice(qr);
    for (var gi = 0; gi < kr.length && vf(kr[gi]); )
      ++gi;
    for (var $i = kr.length; $i > gi && vf(kr[$i - 1]); )
      --$i;
    return kr.slice(gi, $i).join(`
`);
  }
  function vf(Kr) {
    for (var kr = 0; kr < Kr.length; ++kr)
      if (Kr[kr] !== " " && Kr[kr] !== "	")
        return !1;
    return !0;
  }
  function U1(Kr) {
    for (var kr, qr = !0, ai = !0, gi = 0, $i = null, xi = 0; xi < Kr.length; ++xi)
      switch (Kr.charCodeAt(xi)) {
        case 13:
          Kr.charCodeAt(xi + 1) === 10 && ++xi;
        case 10:
          qr = !1, ai = !0, gi = 0;
          break;
        case 9:
        case 32:
          ++gi;
          break;
        default:
          ai && !qr && ($i === null || gi < $i) && ($i = gi), ai = !1;
      }
    return (kr = $i) !== null && kr !== void 0 ? kr : 0;
  }
  var q1 = function() {
    function Kr(qr) {
      var ai = new Ce$1(S$1.SOF, 0, 0, 0, 0, null);
      this.source = qr, this.lastToken = ai, this.token = ai, this.line = 1, this.lineStart = 0;
    }
    var kr = Kr.prototype;
    return kr.advance = function() {
      this.lastToken = this.token;
      var qr = this.token = this.lookahead();
      return qr;
    }, kr.lookahead = function() {
      var qr = this.token;
      if (qr.kind !== S$1.EOF)
        do {
          var ai;
          qr = (ai = qr.next) !== null && ai !== void 0 ? ai : qr.next = V1(this, qr);
        } while (qr.kind === S$1.COMMENT);
      return qr;
    }, Kr;
  }();
  function B1(Kr) {
    return Kr === S$1.BANG || Kr === S$1.DOLLAR || Kr === S$1.AMP || Kr === S$1.PAREN_L || Kr === S$1.PAREN_R || Kr === S$1.SPREAD || Kr === S$1.COLON || Kr === S$1.EQUALS || Kr === S$1.AT || Kr === S$1.BRACKET_L || Kr === S$1.BRACKET_R || Kr === S$1.BRACE_L || Kr === S$1.PIPE || Kr === S$1.BRACE_R;
  }
  function Pr(Kr) {
    return isNaN(Kr) ? S$1.EOF : Kr < 127 ? JSON.stringify(String.fromCharCode(Kr)) : '"\\u'.concat(("00" + Kr.toString(16).toUpperCase()).slice(-4), '"');
  }
  function V1(Kr, kr) {
    for (var qr = Kr.source, ai = qr.body, gi = ai.length, $i = kr.end; $i < gi; ) {
      var xi = ai.charCodeAt($i), Ai = Kr.line, Li = 1 + $i - Kr.lineStart;
      switch (xi) {
        case 65279:
        case 9:
        case 32:
        case 44:
          ++$i;
          continue;
        case 10:
          ++$i, ++Kr.line, Kr.lineStart = $i;
          continue;
        case 13:
          ai.charCodeAt($i + 1) === 10 ? $i += 2 : ++$i, ++Kr.line, Kr.lineStart = $i;
          continue;
        case 33:
          return new Ce$1(S$1.BANG, $i, $i + 1, Ai, Li, kr);
        case 35:
          return W1(qr, $i, Ai, Li, kr);
        case 36:
          return new Ce$1(S$1.DOLLAR, $i, $i + 1, Ai, Li, kr);
        case 38:
          return new Ce$1(S$1.AMP, $i, $i + 1, Ai, Li, kr);
        case 40:
          return new Ce$1(S$1.PAREN_L, $i, $i + 1, Ai, Li, kr);
        case 41:
          return new Ce$1(S$1.PAREN_R, $i, $i + 1, Ai, Li, kr);
        case 46:
          if (ai.charCodeAt($i + 1) === 46 && ai.charCodeAt($i + 2) === 46)
            return new Ce$1(S$1.SPREAD, $i, $i + 3, Ai, Li, kr);
          break;
        case 58:
          return new Ce$1(S$1.COLON, $i, $i + 1, Ai, Li, kr);
        case 61:
          return new Ce$1(S$1.EQUALS, $i, $i + 1, Ai, Li, kr);
        case 64:
          return new Ce$1(S$1.AT, $i, $i + 1, Ai, Li, kr);
        case 91:
          return new Ce$1(S$1.BRACKET_L, $i, $i + 1, Ai, Li, kr);
        case 93:
          return new Ce$1(S$1.BRACKET_R, $i, $i + 1, Ai, Li, kr);
        case 123:
          return new Ce$1(S$1.BRACE_L, $i, $i + 1, Ai, Li, kr);
        case 124:
          return new Ce$1(S$1.PIPE, $i, $i + 1, Ai, Li, kr);
        case 125:
          return new Ce$1(S$1.BRACE_R, $i, $i + 1, Ai, Li, kr);
        case 34:
          return ai.charCodeAt($i + 1) === 34 && ai.charCodeAt($i + 2) === 34 ? z1(qr, $i, Ai, Li, kr, Kr) : K1(qr, $i, Ai, Li, kr);
        case 45:
        case 48:
        case 49:
        case 50:
        case 51:
        case 52:
        case 53:
        case 54:
        case 55:
        case 56:
        case 57:
          return G1(qr, $i, xi, Ai, Li, kr);
        case 65:
        case 66:
        case 67:
        case 68:
        case 69:
        case 70:
        case 71:
        case 72:
        case 73:
        case 74:
        case 75:
        case 76:
        case 77:
        case 78:
        case 79:
        case 80:
        case 81:
        case 82:
        case 83:
        case 84:
        case 85:
        case 86:
        case 87:
        case 88:
        case 89:
        case 90:
        case 95:
        case 97:
        case 98:
        case 99:
        case 100:
        case 101:
        case 102:
        case 103:
        case 104:
        case 105:
        case 106:
        case 107:
        case 108:
        case 109:
        case 110:
        case 111:
        case 112:
        case 113:
        case 114:
        case 115:
        case 116:
        case 117:
        case 118:
        case 119:
        case 120:
        case 121:
        case 122:
          return J1(qr, $i, Ai, Li, kr);
      }
      throw rt$1(qr, $i, Q1(xi));
    }
    var Fi = Kr.line, Oa = 1 + $i - Kr.lineStart;
    return new Ce$1(S$1.EOF, gi, gi, Fi, Oa, kr);
  }
  function Q1(Kr) {
    return Kr < 32 && Kr !== 9 && Kr !== 10 && Kr !== 13 ? "Cannot contain the invalid character ".concat(Pr(Kr), ".") : Kr === 39 ? `Unexpected single quote character ('), did you mean to use a double quote (")?` : "Cannot parse the unexpected character ".concat(Pr(Kr), ".");
  }
  function W1(Kr, kr, qr, ai, gi) {
    var $i = Kr.body, xi, Ai = kr;
    do
      xi = $i.charCodeAt(++Ai);
    while (!isNaN(xi) && (xi > 31 || xi === 9));
    return new Ce$1(S$1.COMMENT, kr, Ai, qr, ai, gi, $i.slice(kr + 1, Ai));
  }
  function G1(Kr, kr, qr, ai, gi, $i) {
    var xi = Kr.body, Ai = qr, Li = kr, Fi = !1;
    if (Ai === 45 && (Ai = xi.charCodeAt(++Li)), Ai === 48) {
      if (Ai = xi.charCodeAt(++Li), Ai >= 48 && Ai <= 57)
        throw rt$1(Kr, Li, "Invalid number, unexpected digit after 0: ".concat(Pr(Ai), "."));
    } else
      Li = Rs(Kr, Li, Ai), Ai = xi.charCodeAt(Li);
    if (Ai === 46 && (Fi = !0, Ai = xi.charCodeAt(++Li), Li = Rs(Kr, Li, Ai), Ai = xi.charCodeAt(Li)), (Ai === 69 || Ai === 101) && (Fi = !0, Ai = xi.charCodeAt(++Li), (Ai === 43 || Ai === 45) && (Ai = xi.charCodeAt(++Li)), Li = Rs(Kr, Li, Ai), Ai = xi.charCodeAt(Li)), Ai === 46 || Y1(Ai))
      throw rt$1(Kr, Li, "Invalid number, expected digit but got: ".concat(Pr(Ai), "."));
    return new Ce$1(Fi ? S$1.FLOAT : S$1.INT, kr, Li, ai, gi, $i, xi.slice(kr, Li));
  }
  function Rs(Kr, kr, qr) {
    var ai = Kr.body, gi = kr, $i = qr;
    if ($i >= 48 && $i <= 57) {
      do
        $i = ai.charCodeAt(++gi);
      while ($i >= 48 && $i <= 57);
      return gi;
    }
    throw rt$1(Kr, gi, "Invalid number, expected digit but got: ".concat(Pr($i), "."));
  }
  function K1(Kr, kr, qr, ai, gi) {
    for (var $i = Kr.body, xi = kr + 1, Ai = xi, Li = 0, Fi = ""; xi < $i.length && !isNaN(Li = $i.charCodeAt(xi)) && Li !== 10 && Li !== 13; ) {
      if (Li === 34)
        return Fi += $i.slice(Ai, xi), new Ce$1(S$1.STRING, kr, xi + 1, qr, ai, gi, Fi);
      if (Li < 32 && Li !== 9)
        throw rt$1(Kr, xi, "Invalid character within String: ".concat(Pr(Li), "."));
      if (++xi, Li === 92) {
        switch (Fi += $i.slice(Ai, xi - 1), Li = $i.charCodeAt(xi), Li) {
          case 34:
            Fi += '"';
            break;
          case 47:
            Fi += "/";
            break;
          case 92:
            Fi += "\\";
            break;
          case 98:
            Fi += "\b";
            break;
          case 102:
            Fi += "\f";
            break;
          case 110:
            Fi += `
`;
            break;
          case 114:
            Fi += "\r";
            break;
          case 116:
            Fi += "	";
            break;
          case 117: {
            var Oa = H1($i.charCodeAt(xi + 1), $i.charCodeAt(xi + 2), $i.charCodeAt(xi + 3), $i.charCodeAt(xi + 4));
            if (Oa < 0) {
              var So = $i.slice(xi + 1, xi + 5);
              throw rt$1(Kr, xi, "Invalid character escape sequence: \\u".concat(So, "."));
            }
            Fi += String.fromCharCode(Oa), xi += 4;
            break;
          }
          default:
            throw rt$1(Kr, xi, "Invalid character escape sequence: \\".concat(String.fromCharCode(Li), "."));
        }
        ++xi, Ai = xi;
      }
    }
    throw rt$1(Kr, xi, "Unterminated string.");
  }
  function z1(Kr, kr, qr, ai, gi, $i) {
    for (var xi = Kr.body, Ai = kr + 3, Li = Ai, Fi = 0, Oa = ""; Ai < xi.length && !isNaN(Fi = xi.charCodeAt(Ai)); ) {
      if (Fi === 34 && xi.charCodeAt(Ai + 1) === 34 && xi.charCodeAt(Ai + 2) === 34)
        return Oa += xi.slice(Li, Ai), new Ce$1(S$1.BLOCK_STRING, kr, Ai + 3, qr, ai, gi, j1(Oa));
      if (Fi < 32 && Fi !== 9 && Fi !== 10 && Fi !== 13)
        throw rt$1(Kr, Ai, "Invalid character within String: ".concat(Pr(Fi), "."));
      Fi === 10 ? (++Ai, ++$i.line, $i.lineStart = Ai) : Fi === 13 ? (xi.charCodeAt(Ai + 1) === 10 ? Ai += 2 : ++Ai, ++$i.line, $i.lineStart = Ai) : Fi === 92 && xi.charCodeAt(Ai + 1) === 34 && xi.charCodeAt(Ai + 2) === 34 && xi.charCodeAt(Ai + 3) === 34 ? (Oa += xi.slice(Li, Ai) + '"""', Ai += 4, Li = Ai) : ++Ai;
    }
    throw rt$1(Kr, Ai, "Unterminated string.");
  }
  function H1(Kr, kr, qr, ai) {
    return _a(Kr) << 12 | _a(kr) << 8 | _a(qr) << 4 | _a(ai);
  }
  function _a(Kr) {
    return Kr >= 48 && Kr <= 57 ? Kr - 48 : Kr >= 65 && Kr <= 70 ? Kr - 55 : Kr >= 97 && Kr <= 102 ? Kr - 87 : -1;
  }
  function J1(Kr, kr, qr, ai, gi) {
    for (var $i = Kr.body, xi = $i.length, Ai = kr + 1, Li = 0; Ai !== xi && !isNaN(Li = $i.charCodeAt(Ai)) && (Li === 95 || Li >= 48 && Li <= 57 || Li >= 65 && Li <= 90 || Li >= 97 && Li <= 122); )
      ++Ai;
    return new Ce$1(S$1.NAME, kr, Ai, qr, ai, gi, $i.slice(kr, Ai));
  }
  function Y1(Kr) {
    return Kr === 95 || Kr >= 65 && Kr <= 90 || Kr >= 97 && Kr <= 122;
  }
  function X1(Kr, kr) {
    var qr = new Z1(Kr, kr);
    return qr.parseDocument();
  }
  var Z1 = function() {
    function Kr(qr, ai) {
      var gi = $1(qr) ? qr : new Vf(qr);
      this._lexer = new q1(gi), this._options = ai;
    }
    var kr = Kr.prototype;
    return kr.parseName = function() {
      var qr = this.expectToken(S$1.NAME);
      return { kind: M$1.NAME, value: qr.value, loc: this.loc(qr) };
    }, kr.parseDocument = function() {
      var qr = this._lexer.token;
      return { kind: M$1.DOCUMENT, definitions: this.many(S$1.SOF, this.parseDefinition, S$1.EOF), loc: this.loc(qr) };
    }, kr.parseDefinition = function() {
      if (this.peek(S$1.NAME))
        switch (this._lexer.token.value) {
          case "query":
          case "mutation":
          case "subscription":
            return this.parseOperationDefinition();
          case "fragment":
            return this.parseFragmentDefinition();
          case "schema":
          case "scalar":
          case "type":
          case "interface":
          case "union":
          case "enum":
          case "input":
          case "directive":
            return this.parseTypeSystemDefinition();
          case "extend":
            return this.parseTypeSystemExtension();
        }
      else {
        if (this.peek(S$1.BRACE_L))
          return this.parseOperationDefinition();
        if (this.peekDescription())
          return this.parseTypeSystemDefinition();
      }
      throw this.unexpected();
    }, kr.parseOperationDefinition = function() {
      var qr = this._lexer.token;
      if (this.peek(S$1.BRACE_L))
        return { kind: M$1.OPERATION_DEFINITION, operation: "query", name: void 0, variableDefinitions: [], directives: [], selectionSet: this.parseSelectionSet(), loc: this.loc(qr) };
      var ai = this.parseOperationType(), gi;
      return this.peek(S$1.NAME) && (gi = this.parseName()), { kind: M$1.OPERATION_DEFINITION, operation: ai, name: gi, variableDefinitions: this.parseVariableDefinitions(), directives: this.parseDirectives(!1), selectionSet: this.parseSelectionSet(), loc: this.loc(qr) };
    }, kr.parseOperationType = function() {
      var qr = this.expectToken(S$1.NAME);
      switch (qr.value) {
        case "query":
          return "query";
        case "mutation":
          return "mutation";
        case "subscription":
          return "subscription";
      }
      throw this.unexpected(qr);
    }, kr.parseVariableDefinitions = function() {
      return this.optionalMany(S$1.PAREN_L, this.parseVariableDefinition, S$1.PAREN_R);
    }, kr.parseVariableDefinition = function() {
      var qr = this._lexer.token;
      return { kind: M$1.VARIABLE_DEFINITION, variable: this.parseVariable(), type: (this.expectToken(S$1.COLON), this.parseTypeReference()), defaultValue: this.expectOptionalToken(S$1.EQUALS) ? this.parseValueLiteral(!0) : void 0, directives: this.parseDirectives(!0), loc: this.loc(qr) };
    }, kr.parseVariable = function() {
      var qr = this._lexer.token;
      return this.expectToken(S$1.DOLLAR), { kind: M$1.VARIABLE, name: this.parseName(), loc: this.loc(qr) };
    }, kr.parseSelectionSet = function() {
      var qr = this._lexer.token;
      return { kind: M$1.SELECTION_SET, selections: this.many(S$1.BRACE_L, this.parseSelection, S$1.BRACE_R), loc: this.loc(qr) };
    }, kr.parseSelection = function() {
      return this.peek(S$1.SPREAD) ? this.parseFragment() : this.parseField();
    }, kr.parseField = function() {
      var qr = this._lexer.token, ai = this.parseName(), gi, $i;
      return this.expectOptionalToken(S$1.COLON) ? (gi = ai, $i = this.parseName()) : $i = ai, { kind: M$1.FIELD, alias: gi, name: $i, arguments: this.parseArguments(!1), directives: this.parseDirectives(!1), selectionSet: this.peek(S$1.BRACE_L) ? this.parseSelectionSet() : void 0, loc: this.loc(qr) };
    }, kr.parseArguments = function(qr) {
      var ai = qr ? this.parseConstArgument : this.parseArgument;
      return this.optionalMany(S$1.PAREN_L, ai, S$1.PAREN_R);
    }, kr.parseArgument = function() {
      var qr = this._lexer.token, ai = this.parseName();
      return this.expectToken(S$1.COLON), { kind: M$1.ARGUMENT, name: ai, value: this.parseValueLiteral(!1), loc: this.loc(qr) };
    }, kr.parseConstArgument = function() {
      var qr = this._lexer.token;
      return { kind: M$1.ARGUMENT, name: this.parseName(), value: (this.expectToken(S$1.COLON), this.parseValueLiteral(!0)), loc: this.loc(qr) };
    }, kr.parseFragment = function() {
      var qr = this._lexer.token;
      this.expectToken(S$1.SPREAD);
      var ai = this.expectOptionalKeyword("on");
      return !ai && this.peek(S$1.NAME) ? { kind: M$1.FRAGMENT_SPREAD, name: this.parseFragmentName(), directives: this.parseDirectives(!1), loc: this.loc(qr) } : { kind: M$1.INLINE_FRAGMENT, typeCondition: ai ? this.parseNamedType() : void 0, directives: this.parseDirectives(!1), selectionSet: this.parseSelectionSet(), loc: this.loc(qr) };
    }, kr.parseFragmentDefinition = function() {
      var qr, ai = this._lexer.token;
      return this.expectKeyword("fragment"), ((qr = this._options) === null || qr === void 0 ? void 0 : qr.experimentalFragmentVariables) === !0 ? { kind: M$1.FRAGMENT_DEFINITION, name: this.parseFragmentName(), variableDefinitions: this.parseVariableDefinitions(), typeCondition: (this.expectKeyword("on"), this.parseNamedType()), directives: this.parseDirectives(!1), selectionSet: this.parseSelectionSet(), loc: this.loc(ai) } : { kind: M$1.FRAGMENT_DEFINITION, name: this.parseFragmentName(), typeCondition: (this.expectKeyword("on"), this.parseNamedType()), directives: this.parseDirectives(!1), selectionSet: this.parseSelectionSet(), loc: this.loc(ai) };
    }, kr.parseFragmentName = function() {
      if (this._lexer.token.value === "on")
        throw this.unexpected();
      return this.parseName();
    }, kr.parseValueLiteral = function(qr) {
      var ai = this._lexer.token;
      switch (ai.kind) {
        case S$1.BRACKET_L:
          return this.parseList(qr);
        case S$1.BRACE_L:
          return this.parseObject(qr);
        case S$1.INT:
          return this._lexer.advance(), { kind: M$1.INT, value: ai.value, loc: this.loc(ai) };
        case S$1.FLOAT:
          return this._lexer.advance(), { kind: M$1.FLOAT, value: ai.value, loc: this.loc(ai) };
        case S$1.STRING:
        case S$1.BLOCK_STRING:
          return this.parseStringLiteral();
        case S$1.NAME:
          switch (this._lexer.advance(), ai.value) {
            case "true":
              return { kind: M$1.BOOLEAN, value: !0, loc: this.loc(ai) };
            case "false":
              return { kind: M$1.BOOLEAN, value: !1, loc: this.loc(ai) };
            case "null":
              return { kind: M$1.NULL, loc: this.loc(ai) };
            default:
              return { kind: M$1.ENUM, value: ai.value, loc: this.loc(ai) };
          }
        case S$1.DOLLAR:
          if (!qr)
            return this.parseVariable();
          break;
      }
      throw this.unexpected();
    }, kr.parseStringLiteral = function() {
      var qr = this._lexer.token;
      return this._lexer.advance(), { kind: M$1.STRING, value: qr.value, block: qr.kind === S$1.BLOCK_STRING, loc: this.loc(qr) };
    }, kr.parseList = function(qr) {
      var ai = this, gi = this._lexer.token, $i = function() {
        return ai.parseValueLiteral(qr);
      };
      return { kind: M$1.LIST, values: this.any(S$1.BRACKET_L, $i, S$1.BRACKET_R), loc: this.loc(gi) };
    }, kr.parseObject = function(qr) {
      var ai = this, gi = this._lexer.token, $i = function() {
        return ai.parseObjectField(qr);
      };
      return { kind: M$1.OBJECT, fields: this.any(S$1.BRACE_L, $i, S$1.BRACE_R), loc: this.loc(gi) };
    }, kr.parseObjectField = function(qr) {
      var ai = this._lexer.token, gi = this.parseName();
      return this.expectToken(S$1.COLON), { kind: M$1.OBJECT_FIELD, name: gi, value: this.parseValueLiteral(qr), loc: this.loc(ai) };
    }, kr.parseDirectives = function(qr) {
      for (var ai = []; this.peek(S$1.AT); )
        ai.push(this.parseDirective(qr));
      return ai;
    }, kr.parseDirective = function(qr) {
      var ai = this._lexer.token;
      return this.expectToken(S$1.AT), { kind: M$1.DIRECTIVE, name: this.parseName(), arguments: this.parseArguments(qr), loc: this.loc(ai) };
    }, kr.parseTypeReference = function() {
      var qr = this._lexer.token, ai;
      return this.expectOptionalToken(S$1.BRACKET_L) ? (ai = this.parseTypeReference(), this.expectToken(S$1.BRACKET_R), ai = { kind: M$1.LIST_TYPE, type: ai, loc: this.loc(qr) }) : ai = this.parseNamedType(), this.expectOptionalToken(S$1.BANG) ? { kind: M$1.NON_NULL_TYPE, type: ai, loc: this.loc(qr) } : ai;
    }, kr.parseNamedType = function() {
      var qr = this._lexer.token;
      return { kind: M$1.NAMED_TYPE, name: this.parseName(), loc: this.loc(qr) };
    }, kr.parseTypeSystemDefinition = function() {
      var qr = this.peekDescription() ? this._lexer.lookahead() : this._lexer.token;
      if (qr.kind === S$1.NAME)
        switch (qr.value) {
          case "schema":
            return this.parseSchemaDefinition();
          case "scalar":
            return this.parseScalarTypeDefinition();
          case "type":
            return this.parseObjectTypeDefinition();
          case "interface":
            return this.parseInterfaceTypeDefinition();
          case "union":
            return this.parseUnionTypeDefinition();
          case "enum":
            return this.parseEnumTypeDefinition();
          case "input":
            return this.parseInputObjectTypeDefinition();
          case "directive":
            return this.parseDirectiveDefinition();
        }
      throw this.unexpected(qr);
    }, kr.peekDescription = function() {
      return this.peek(S$1.STRING) || this.peek(S$1.BLOCK_STRING);
    }, kr.parseDescription = function() {
      if (this.peekDescription())
        return this.parseStringLiteral();
    }, kr.parseSchemaDefinition = function() {
      var qr = this._lexer.token, ai = this.parseDescription();
      this.expectKeyword("schema");
      var gi = this.parseDirectives(!0), $i = this.many(S$1.BRACE_L, this.parseOperationTypeDefinition, S$1.BRACE_R);
      return { kind: M$1.SCHEMA_DEFINITION, description: ai, directives: gi, operationTypes: $i, loc: this.loc(qr) };
    }, kr.parseOperationTypeDefinition = function() {
      var qr = this._lexer.token, ai = this.parseOperationType();
      this.expectToken(S$1.COLON);
      var gi = this.parseNamedType();
      return { kind: M$1.OPERATION_TYPE_DEFINITION, operation: ai, type: gi, loc: this.loc(qr) };
    }, kr.parseScalarTypeDefinition = function() {
      var qr = this._lexer.token, ai = this.parseDescription();
      this.expectKeyword("scalar");
      var gi = this.parseName(), $i = this.parseDirectives(!0);
      return { kind: M$1.SCALAR_TYPE_DEFINITION, description: ai, name: gi, directives: $i, loc: this.loc(qr) };
    }, kr.parseObjectTypeDefinition = function() {
      var qr = this._lexer.token, ai = this.parseDescription();
      this.expectKeyword("type");
      var gi = this.parseName(), $i = this.parseImplementsInterfaces(), xi = this.parseDirectives(!0), Ai = this.parseFieldsDefinition();
      return { kind: M$1.OBJECT_TYPE_DEFINITION, description: ai, name: gi, interfaces: $i, directives: xi, fields: Ai, loc: this.loc(qr) };
    }, kr.parseImplementsInterfaces = function() {
      var qr;
      if (!this.expectOptionalKeyword("implements"))
        return [];
      if (((qr = this._options) === null || qr === void 0 ? void 0 : qr.allowLegacySDLImplementsInterfaces) === !0) {
        var ai = [];
        this.expectOptionalToken(S$1.AMP);
        do
          ai.push(this.parseNamedType());
        while (this.expectOptionalToken(S$1.AMP) || this.peek(S$1.NAME));
        return ai;
      }
      return this.delimitedMany(S$1.AMP, this.parseNamedType);
    }, kr.parseFieldsDefinition = function() {
      var qr;
      return ((qr = this._options) === null || qr === void 0 ? void 0 : qr.allowLegacySDLEmptyFields) === !0 && this.peek(S$1.BRACE_L) && this._lexer.lookahead().kind === S$1.BRACE_R ? (this._lexer.advance(), this._lexer.advance(), []) : this.optionalMany(S$1.BRACE_L, this.parseFieldDefinition, S$1.BRACE_R);
    }, kr.parseFieldDefinition = function() {
      var qr = this._lexer.token, ai = this.parseDescription(), gi = this.parseName(), $i = this.parseArgumentDefs();
      this.expectToken(S$1.COLON);
      var xi = this.parseTypeReference(), Ai = this.parseDirectives(!0);
      return { kind: M$1.FIELD_DEFINITION, description: ai, name: gi, arguments: $i, type: xi, directives: Ai, loc: this.loc(qr) };
    }, kr.parseArgumentDefs = function() {
      return this.optionalMany(S$1.PAREN_L, this.parseInputValueDef, S$1.PAREN_R);
    }, kr.parseInputValueDef = function() {
      var qr = this._lexer.token, ai = this.parseDescription(), gi = this.parseName();
      this.expectToken(S$1.COLON);
      var $i = this.parseTypeReference(), xi;
      this.expectOptionalToken(S$1.EQUALS) && (xi = this.parseValueLiteral(!0));
      var Ai = this.parseDirectives(!0);
      return { kind: M$1.INPUT_VALUE_DEFINITION, description: ai, name: gi, type: $i, defaultValue: xi, directives: Ai, loc: this.loc(qr) };
    }, kr.parseInterfaceTypeDefinition = function() {
      var qr = this._lexer.token, ai = this.parseDescription();
      this.expectKeyword("interface");
      var gi = this.parseName(), $i = this.parseImplementsInterfaces(), xi = this.parseDirectives(!0), Ai = this.parseFieldsDefinition();
      return { kind: M$1.INTERFACE_TYPE_DEFINITION, description: ai, name: gi, interfaces: $i, directives: xi, fields: Ai, loc: this.loc(qr) };
    }, kr.parseUnionTypeDefinition = function() {
      var qr = this._lexer.token, ai = this.parseDescription();
      this.expectKeyword("union");
      var gi = this.parseName(), $i = this.parseDirectives(!0), xi = this.parseUnionMemberTypes();
      return { kind: M$1.UNION_TYPE_DEFINITION, description: ai, name: gi, directives: $i, types: xi, loc: this.loc(qr) };
    }, kr.parseUnionMemberTypes = function() {
      return this.expectOptionalToken(S$1.EQUALS) ? this.delimitedMany(S$1.PIPE, this.parseNamedType) : [];
    }, kr.parseEnumTypeDefinition = function() {
      var qr = this._lexer.token, ai = this.parseDescription();
      this.expectKeyword("enum");
      var gi = this.parseName(), $i = this.parseDirectives(!0), xi = this.parseEnumValuesDefinition();
      return { kind: M$1.ENUM_TYPE_DEFINITION, description: ai, name: gi, directives: $i, values: xi, loc: this.loc(qr) };
    }, kr.parseEnumValuesDefinition = function() {
      return this.optionalMany(S$1.BRACE_L, this.parseEnumValueDefinition, S$1.BRACE_R);
    }, kr.parseEnumValueDefinition = function() {
      var qr = this._lexer.token, ai = this.parseDescription(), gi = this.parseName(), $i = this.parseDirectives(!0);
      return { kind: M$1.ENUM_VALUE_DEFINITION, description: ai, name: gi, directives: $i, loc: this.loc(qr) };
    }, kr.parseInputObjectTypeDefinition = function() {
      var qr = this._lexer.token, ai = this.parseDescription();
      this.expectKeyword("input");
      var gi = this.parseName(), $i = this.parseDirectives(!0), xi = this.parseInputFieldsDefinition();
      return { kind: M$1.INPUT_OBJECT_TYPE_DEFINITION, description: ai, name: gi, directives: $i, fields: xi, loc: this.loc(qr) };
    }, kr.parseInputFieldsDefinition = function() {
      return this.optionalMany(S$1.BRACE_L, this.parseInputValueDef, S$1.BRACE_R);
    }, kr.parseTypeSystemExtension = function() {
      var qr = this._lexer.lookahead();
      if (qr.kind === S$1.NAME)
        switch (qr.value) {
          case "schema":
            return this.parseSchemaExtension();
          case "scalar":
            return this.parseScalarTypeExtension();
          case "type":
            return this.parseObjectTypeExtension();
          case "interface":
            return this.parseInterfaceTypeExtension();
          case "union":
            return this.parseUnionTypeExtension();
          case "enum":
            return this.parseEnumTypeExtension();
          case "input":
            return this.parseInputObjectTypeExtension();
        }
      throw this.unexpected(qr);
    }, kr.parseSchemaExtension = function() {
      var qr = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("schema");
      var ai = this.parseDirectives(!0), gi = this.optionalMany(S$1.BRACE_L, this.parseOperationTypeDefinition, S$1.BRACE_R);
      if (ai.length === 0 && gi.length === 0)
        throw this.unexpected();
      return { kind: M$1.SCHEMA_EXTENSION, directives: ai, operationTypes: gi, loc: this.loc(qr) };
    }, kr.parseScalarTypeExtension = function() {
      var qr = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("scalar");
      var ai = this.parseName(), gi = this.parseDirectives(!0);
      if (gi.length === 0)
        throw this.unexpected();
      return { kind: M$1.SCALAR_TYPE_EXTENSION, name: ai, directives: gi, loc: this.loc(qr) };
    }, kr.parseObjectTypeExtension = function() {
      var qr = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("type");
      var ai = this.parseName(), gi = this.parseImplementsInterfaces(), $i = this.parseDirectives(!0), xi = this.parseFieldsDefinition();
      if (gi.length === 0 && $i.length === 0 && xi.length === 0)
        throw this.unexpected();
      return { kind: M$1.OBJECT_TYPE_EXTENSION, name: ai, interfaces: gi, directives: $i, fields: xi, loc: this.loc(qr) };
    }, kr.parseInterfaceTypeExtension = function() {
      var qr = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("interface");
      var ai = this.parseName(), gi = this.parseImplementsInterfaces(), $i = this.parseDirectives(!0), xi = this.parseFieldsDefinition();
      if (gi.length === 0 && $i.length === 0 && xi.length === 0)
        throw this.unexpected();
      return { kind: M$1.INTERFACE_TYPE_EXTENSION, name: ai, interfaces: gi, directives: $i, fields: xi, loc: this.loc(qr) };
    }, kr.parseUnionTypeExtension = function() {
      var qr = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("union");
      var ai = this.parseName(), gi = this.parseDirectives(!0), $i = this.parseUnionMemberTypes();
      if (gi.length === 0 && $i.length === 0)
        throw this.unexpected();
      return { kind: M$1.UNION_TYPE_EXTENSION, name: ai, directives: gi, types: $i, loc: this.loc(qr) };
    }, kr.parseEnumTypeExtension = function() {
      var qr = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("enum");
      var ai = this.parseName(), gi = this.parseDirectives(!0), $i = this.parseEnumValuesDefinition();
      if (gi.length === 0 && $i.length === 0)
        throw this.unexpected();
      return { kind: M$1.ENUM_TYPE_EXTENSION, name: ai, directives: gi, values: $i, loc: this.loc(qr) };
    }, kr.parseInputObjectTypeExtension = function() {
      var qr = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("input");
      var ai = this.parseName(), gi = this.parseDirectives(!0), $i = this.parseInputFieldsDefinition();
      if (gi.length === 0 && $i.length === 0)
        throw this.unexpected();
      return { kind: M$1.INPUT_OBJECT_TYPE_EXTENSION, name: ai, directives: gi, fields: $i, loc: this.loc(qr) };
    }, kr.parseDirectiveDefinition = function() {
      var qr = this._lexer.token, ai = this.parseDescription();
      this.expectKeyword("directive"), this.expectToken(S$1.AT);
      var gi = this.parseName(), $i = this.parseArgumentDefs(), xi = this.expectOptionalKeyword("repeatable");
      this.expectKeyword("on");
      var Ai = this.parseDirectiveLocations();
      return { kind: M$1.DIRECTIVE_DEFINITION, description: ai, name: gi, arguments: $i, repeatable: xi, locations: Ai, loc: this.loc(qr) };
    }, kr.parseDirectiveLocations = function() {
      return this.delimitedMany(S$1.PIPE, this.parseDirectiveLocation);
    }, kr.parseDirectiveLocation = function() {
      var qr = this._lexer.token, ai = this.parseName();
      if (M1[ai.value] !== void 0)
        return ai;
      throw this.unexpected(qr);
    }, kr.loc = function(qr) {
      var ai;
      if (((ai = this._options) === null || ai === void 0 ? void 0 : ai.noLocation) !== !0)
        return new qf(qr, this._lexer.lastToken, this._lexer.source);
    }, kr.peek = function(qr) {
      return this._lexer.token.kind === qr;
    }, kr.expectToken = function(qr) {
      var ai = this._lexer.token;
      if (ai.kind === qr)
        return this._lexer.advance(), ai;
      throw rt$1(this._lexer.source, ai.start, "Expected ".concat(Qf(qr), ", found ").concat(Ls(ai), "."));
    }, kr.expectOptionalToken = function(qr) {
      var ai = this._lexer.token;
      if (ai.kind === qr)
        return this._lexer.advance(), ai;
    }, kr.expectKeyword = function(qr) {
      var ai = this._lexer.token;
      if (ai.kind === S$1.NAME && ai.value === qr)
        this._lexer.advance();
      else
        throw rt$1(this._lexer.source, ai.start, 'Expected "'.concat(qr, '", found ').concat(Ls(ai), "."));
    }, kr.expectOptionalKeyword = function(qr) {
      var ai = this._lexer.token;
      return ai.kind === S$1.NAME && ai.value === qr ? (this._lexer.advance(), !0) : !1;
    }, kr.unexpected = function(qr) {
      var ai = qr ?? this._lexer.token;
      return rt$1(this._lexer.source, ai.start, "Unexpected ".concat(Ls(ai), "."));
    }, kr.any = function(qr, ai, gi) {
      this.expectToken(qr);
      for (var $i = []; !this.expectOptionalToken(gi); )
        $i.push(ai.call(this));
      return $i;
    }, kr.optionalMany = function(qr, ai, gi) {
      if (this.expectOptionalToken(qr)) {
        var $i = [];
        do
          $i.push(ai.call(this));
        while (!this.expectOptionalToken(gi));
        return $i;
      }
      return [];
    }, kr.many = function(qr, ai, gi) {
      this.expectToken(qr);
      var $i = [];
      do
        $i.push(ai.call(this));
      while (!this.expectOptionalToken(gi));
      return $i;
    }, kr.delimitedMany = function(qr, ai) {
      this.expectOptionalToken(qr);
      var gi = [];
      do
        gi.push(ai.call(this));
      while (this.expectOptionalToken(qr));
      return gi;
    }, Kr;
  }();
  function Ls(Kr) {
    var kr = Kr.value;
    return Qf(Kr.kind) + (kr != null ? ' "'.concat(kr, '"') : "");
  }
  function Qf(Kr) {
    return B1(Kr) ? '"'.concat(Kr, '"') : Kr;
  }
  var Pa = /* @__PURE__ */ new Map(), Bs = /* @__PURE__ */ new Map(), Wf = !0, ja = !1;
  function Gf(Kr) {
    return Kr.replace(/[\s,]+/g, " ").trim();
  }
  function e2(Kr) {
    return Gf(Kr.source.body.substring(Kr.start, Kr.end));
  }
  function t2(Kr) {
    var kr = /* @__PURE__ */ new Set(), qr = [];
    return Kr.definitions.forEach(function(ai) {
      if (ai.kind === "FragmentDefinition") {
        var gi = ai.name.value, $i = e2(ai.loc), xi = Bs.get(gi);
        xi && !xi.has($i) ? Wf && console.warn("Warning: fragment with name " + gi + ` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`) : xi || Bs.set(gi, xi = /* @__PURE__ */ new Set()), xi.add($i), kr.has($i) || (kr.add($i), qr.push(ai));
      } else
        qr.push(ai);
    }), Ma(Ma({}, Kr), { definitions: qr });
  }
  function r2(Kr) {
    var kr = new Set(Kr.definitions);
    kr.forEach(function(ai) {
      ai.loc && delete ai.loc, Object.keys(ai).forEach(function(gi) {
        var $i = ai[gi];
        $i && typeof $i == "object" && kr.add($i);
      });
    });
    var qr = Kr.loc;
    return qr && (delete qr.startToken, delete qr.endToken), Kr;
  }
  function n2(Kr) {
    var kr = Gf(Kr);
    if (!Pa.has(kr)) {
      var qr = X1(Kr, { experimentalFragmentVariables: ja, allowLegacyFragmentVariables: ja });
      if (!qr || qr.kind !== "Document")
        throw new Error("Not a valid GraphQL document.");
      Pa.set(kr, r2(t2(qr)));
    }
    return Pa.get(kr);
  }
  function O$1(Kr) {
    for (var kr = [], qr = 1; qr < arguments.length; qr++)
      kr[qr - 1] = arguments[qr];
    typeof Kr == "string" && (Kr = [Kr]);
    var ai = Kr[0];
    return kr.forEach(function(gi, $i) {
      gi && gi.kind === "Document" ? ai += gi.loc.source.body : ai += gi, ai += Kr[$i + 1];
    }), n2(ai);
  }
  function i2() {
    Pa.clear(), Bs.clear();
  }
  function a2() {
    Wf = !1;
  }
  function o2() {
    ja = !0;
  }
  function s2() {
    ja = !1;
  }
  var ri = { gql: O$1, resetCaches: i2, disableFragmentWarnings: a2, enableExperimentalFragmentVariables: o2, disableExperimentalFragmentVariables: s2 };
  (function(Kr) {
    Kr.gql = ri.gql, Kr.resetCaches = ri.resetCaches, Kr.disableFragmentWarnings = ri.disableFragmentWarnings, Kr.enableExperimentalFragmentVariables = ri.enableExperimentalFragmentVariables, Kr.disableExperimentalFragmentVariables = ri.disableExperimentalFragmentVariables;
  })(O$1 || (O$1 = {}));
  O$1.default = O$1;
  function I$1(Kr) {
    if (Kr.error)
      throw Kr.error;
    if (Kr.errors)
      throw Kr.errors;
    return Kr.data;
  }
  function c2() {
  }
  function Zs() {
    return c2;
  }
  var _$1 = Zs, Be$1 = Zs, J$1 = Zs, Kf = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, zf = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, Nr = class {
    constructor(Kr) {
      this.code = Kr;
    }
  };
  Kf([_$1(), zf("design:type", String)], Nr.prototype, "code", void 0);
  Nr = Kf([J$1(), zf("design:paramtypes", [String])], Nr);
  var ec = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, tc = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, Tt$1 = class {
    constructor(kr, qr) {
      this.address = kr, this.name = qr;
    }
  };
  ec([_$1(), tc("design:type", String)], Tt$1.prototype, "address", void 0);
  ec([_$1(), tc("design:type", String)], Tt$1.prototype, "name", void 0);
  Tt$1 = ec([J$1(), tc("design:paramtypes", [String, String])], Tt$1);
  var fe$1 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, Oe$1 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, rr = class {
    constructor(Kr, kr) {
      this.key = kr, this.signature = Kr;
    }
  };
  fe$1([_$1(), Oe$1("design:type", String)], rr.prototype, "signature", void 0);
  fe$1([_$1(), Oe$1("design:type", String)], rr.prototype, "key", void 0);
  fe$1([_$1(), Oe$1("design:type", Boolean)], rr.prototype, "valid", void 0);
  fe$1([_$1(), Oe$1("design:type", Boolean)], rr.prototype, "invalid", void 0);
  rr = fe$1([J$1(), Be$1(), Oe$1("design:paramtypes", [String, String])], rr);
  var Rr = class {
  };
  fe$1([_$1(), Oe$1("design:type", String)], Rr.prototype, "signature", void 0);
  fe$1([_$1(), Oe$1("design:type", String)], Rr.prototype, "key", void 0);
  fe$1([_$1(), Oe$1("design:type", Boolean)], Rr.prototype, "valid", void 0);
  fe$1([_$1(), Oe$1("design:type", Boolean)], Rr.prototype, "invalid", void 0);
  Rr = fe$1([Be$1()], Rr);
  function cr(Kr) {
    let kr = class {
      constructor(qr, ai, gi, $i) {
        this.author = qr, this.timestamp = ai, this.data = gi, this.proof = $i;
      }
    };
    return fe$1([_$1(), Oe$1("design:type", String)], kr.prototype, "author", void 0), fe$1([_$1(), Oe$1("design:type", String)], kr.prototype, "timestamp", void 0), fe$1([_$1(), Oe$1("design:type", Object)], kr.prototype, "data", void 0), fe$1([_$1(), Oe$1("design:type", rr)], kr.prototype, "proof", void 0), kr = fe$1([J$1(), Oe$1("design:paramtypes", [String, String, Object, rr])], kr), kr;
  }
  function u2(Kr) {
    let kr = class {
    };
    return fe$1([_$1(), Oe$1("design:type", String)], kr.prototype, "author", void 0), fe$1([_$1(), Oe$1("design:type", String)], kr.prototype, "timestamp", void 0), fe$1([_$1(), Oe$1("design:type", Object)], kr.prototype, "data", void 0), fe$1([_$1(), Oe$1("design:type", Rr)], kr.prototype, "proof", void 0), kr = fe$1([Be$1()], kr), kr;
  }
  var gf = class extends cr() {
  };
  gf = fe$1([J$1()], gf);
  var Ua = class extends cr() {
  };
  fe$1([_$1(), Oe$1("design:type", Tt$1)], Ua.prototype, "language", void 0);
  fe$1([_$1(), Oe$1("design:type", Nr)], Ua.prototype, "icon", void 0);
  Ua = fe$1([J$1()], Ua);
  var Te$1 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, Ve$1 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, gt$1 = class {
    constructor(kr) {
      this.source = kr.source ? kr.source : "", this.target = kr.target ? kr.target : "", this.predicate = kr.predicate ? kr.predicate : "";
    }
  };
  Te$1([_$1(), Ve$1("design:type", String)], gt$1.prototype, "source", void 0);
  Te$1([_$1(), Ve$1("design:type", String)], gt$1.prototype, "target", void 0);
  Te$1([_$1(), Ve$1("design:type", String)], gt$1.prototype, "predicate", void 0);
  gt$1 = Te$1([J$1(), Ve$1("design:paramtypes", [Object])], gt$1);
  var qa = class {
  };
  Te$1([_$1(), Ve$1("design:type", Array)], qa.prototype, "additions", void 0);
  Te$1([_$1(), Ve$1("design:type", Array)], qa.prototype, "removals", void 0);
  qa = Te$1([Be$1()], qa);
  var Ba = class {
    constructor(Kr, kr) {
      this.additions = Kr, this.removals = kr;
    }
  };
  Te$1([_$1(), Ve$1("design:type", Array)], Ba.prototype, "additions", void 0);
  Te$1([_$1(), Ve$1("design:type", Array)], Ba.prototype, "removals", void 0);
  Ba = Te$1([J$1(), Ve$1("design:paramtypes", [Array, Array])], Ba);
  var _i = class {
  };
  Te$1([_$1(), Ve$1("design:type", String)], _i.prototype, "source", void 0);
  Te$1([_$1(), Ve$1("design:type", String)], _i.prototype, "target", void 0);
  Te$1([_$1(), Ve$1("design:type", String)], _i.prototype, "predicate", void 0);
  _i = Te$1([Be$1()], _i);
  var bn$1 = class extends cr() {
    hash() {
      let kr = JSON.stringify(this.data, Object.keys(this.data).sort()) + JSON.stringify(this.author) + this.timestamp, qr = 0, ai, gi;
      for (ai = 0; ai < kr.length; ai++)
        gi = kr.charCodeAt(ai), qr = (qr << 5) - qr + gi, qr |= 0;
      return qr;
    }
  };
  bn$1 = Te$1([J$1()], bn$1);
  var bf = class extends u2() {
  };
  bf = Te$1([Be$1()], bf);
  var Va = class {
    constructor(Kr, kr) {
      this.oldLink = Kr, this.newLink = kr;
    }
  };
  Te$1([_$1(), Ve$1("design:type", bn$1)], Va.prototype, "oldLink", void 0);
  Te$1([_$1(), Ve$1("design:type", bn$1)], Va.prototype, "newLink", void 0);
  Va = Te$1([J$1(), Ve$1("design:paramtypes", [bn$1, bn$1])], Va);
  var Fr = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, Oi = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, Vs, nr = class {
    constructor(Kr) {
      Kr ? this.links = Kr : this.links = [];
    }
    get(Kr) {
      if (!Kr || !Kr.source && !Kr.predicate && !Kr.target)
        return this.links;
      if (Kr.source) {
        let qr = JSON.parse(JSON.stringify(this.links));
        return Kr.target && (qr = qr.filter((ai) => ai.data.target === Kr.target)), Kr.predicate && (qr = qr.filter((ai) => ai.data.predicate === Kr.predicate)), Kr.fromDate && (qr = qr.filter((ai) => new Date(ai.timestamp) >= Kr.fromDate)), Kr.untilDate && (qr = qr.filter((ai) => new Date(ai.timestamp) <= Kr.untilDate)), Kr.limit && (qr = qr.slice(0, Kr.limit)), qr;
      }
      if (Kr.target) {
        let qr = JSON.parse(JSON.stringify(this.links));
        return Kr.predicate && (qr = qr.filter((ai) => ai.data.predicate === Kr.predicate)), Kr.fromDate && (qr = qr.filter((ai) => new Date(ai.timestamp) >= Kr.fromDate)), Kr.untilDate && (qr = qr.filter((ai) => new Date(ai.timestamp) <= Kr.untilDate)), Kr.limit && (qr = qr.slice(0, Kr.limit)), qr;
      }
      let kr = JSON.parse(JSON.stringify(this.links));
      return kr = kr.filter((qr) => qr.data.predicate === Kr.predicate), Kr.limit && (kr = kr.slice(0, Kr.limit)), kr;
    }
    getSingleTarget(Kr) {
      delete Kr.target;
      let kr = this.get(Kr);
      return kr.length ? kr[0].data.target : null;
    }
  };
  Fr([_$1(), Oi("design:type", Array)], nr.prototype, "links", void 0);
  nr = Fr([J$1(), Oi("design:paramtypes", [Array])], nr);
  var Qs = class {
  };
  Fr([_$1(), Oi("design:type", Array)], Qs.prototype, "links", void 0);
  Qs = Fr([Be$1()], Qs);
  var Ws = Vs = class {
    constructor(Kr) {
      Kr ? this.links = Kr : this.links = [];
    }
    static fromLink(Kr) {
      let kr = new Vs();
      return kr.links.push(Kr), kr;
    }
  };
  Fr([_$1(), Oi("design:type", Array)], Ws.prototype, "links", void 0);
  Ws = Vs = Fr([Be$1(), Oi("design:paramtypes", [Array])], Ws);
  var Gs = class extends cr() {
  };
  Gs = Fr([J$1()], Gs);
  var L$1 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, $$1 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, tr = class {
    constructor(Kr, kr) {
      this.did = Kr, kr ? this.perspective = kr : this.perspective = new nr();
    }
  };
  L$1([_$1(), $$1("design:type", String)], tr.prototype, "did", void 0);
  L$1([_$1(), $$1("design:type", nr)], tr.prototype, "perspective", void 0);
  L$1([_$1(), $$1("design:type", String)], tr.prototype, "directMessageLanguage", void 0);
  tr = L$1([J$1(), $$1("design:paramtypes", [String, nr])], tr);
  var Cf = class extends cr() {
  };
  Cf = L$1([J$1()], Cf);
  var ir = class {
    constructor(Kr, kr, qr, ai, gi, $i) {
      this.did = Kr, this.didSigningKeyId = kr, this.deviceKeyType = qr, this.deviceKey = ai, this.deviceKeySignedByDid = gi, this.didSignedByDeviceKey = $i;
    }
  };
  L$1([_$1(), $$1("design:type", String)], ir.prototype, "did", void 0);
  L$1([_$1(), $$1("design:type", String)], ir.prototype, "didSigningKeyId", void 0);
  L$1([_$1(), $$1("design:type", String)], ir.prototype, "deviceKeyType", void 0);
  L$1([_$1(), $$1("design:type", String)], ir.prototype, "deviceKey", void 0);
  L$1([_$1(), $$1("design:type", String)], ir.prototype, "deviceKeySignedByDid", void 0);
  L$1([_$1(), $$1("design:type", String)], ir.prototype, "didSignedByDeviceKey", void 0);
  ir = L$1([J$1(), $$1("design:paramtypes", [String, String, String, String, String, String])], ir);
  var ar = class {
    constructor(Kr, kr, qr, ai, gi, $i) {
      this.did = Kr, this.didSigningKeyId = kr, this.deviceKeyType = qr, this.deviceKey = ai, this.deviceKeySignedByDid = gi, this.didSignedByDeviceKey = $i;
    }
  };
  L$1([_$1(), $$1("design:type", String)], ar.prototype, "did", void 0);
  L$1([_$1(), $$1("design:type", String)], ar.prototype, "didSigningKeyId", void 0);
  L$1([_$1(), $$1("design:type", String)], ar.prototype, "deviceKeyType", void 0);
  L$1([_$1(), $$1("design:type", String)], ar.prototype, "deviceKey", void 0);
  L$1([_$1(), $$1("design:type", String)], ar.prototype, "deviceKeySignedByDid", void 0);
  L$1([_$1(), $$1("design:type", String)], ar.prototype, "didSignedByDeviceKey", void 0);
  ar = L$1([Be$1(), $$1("design:paramtypes", [String, String, String, String, String, String])], ar);
  var Qa = class {
    constructor(Kr, kr) {
      this.signature = Kr, this.publicKey = kr;
    }
  };
  L$1([_$1(), $$1("design:type", String)], Qa.prototype, "signature", void 0);
  L$1([_$1(), $$1("design:type", String)], Qa.prototype, "publicKey", void 0);
  Qa = L$1([J$1(), $$1("design:paramtypes", [String, String])], Qa);
  var Cn$1 = class {
    constructor(kr, qr) {
      this.domain = kr, this.pointers = qr;
    }
  };
  L$1([_$1(), $$1("design:type", String)], Cn$1.prototype, "domain", void 0);
  L$1([_$1(), $$1("design:type", Array)], Cn$1.prototype, "pointers", void 0);
  Cn$1 = L$1([J$1(), $$1("design:paramtypes", [String, Array])], Cn$1);
  var Wa = class {
    constructor(Kr, kr) {
      this.with = Kr, this.can = kr;
    }
  };
  L$1([_$1(), $$1("design:type", Cn$1)], Wa.prototype, "with", void 0);
  L$1([_$1(), $$1("design:type", Array)], Wa.prototype, "can", void 0);
  Wa = L$1([J$1(), $$1("design:paramtypes", [Cn$1, Array])], Wa);
  var Mt$1 = class {
    constructor(kr, qr, ai, gi, $i) {
      this.appName = kr, this.appDesc = qr, this.appIconPath = $i, this.appUrl = ai, this.capabilities = gi;
    }
  };
  L$1([_$1(), $$1("design:type", String)], Mt$1.prototype, "appName", void 0);
  L$1([_$1(), $$1("design:type", String)], Mt$1.prototype, "appDesc", void 0);
  L$1([_$1(), $$1("design:type", String)], Mt$1.prototype, "appUrl", void 0);
  L$1([_$1(), $$1("design:type", String)], Mt$1.prototype, "appIconPath", void 0);
  L$1([_$1(), $$1("design:type", Array)], Mt$1.prototype, "capabilities", void 0);
  Mt$1 = L$1([J$1(), $$1("design:paramtypes", [String, String, String, Array, String])], Mt$1);
  var _n$1 = class {
    constructor(kr, qr, ai, gi) {
      this.requestId = kr, this.auth = qr, this.token = ai, this.revoked = gi;
    }
  };
  L$1([_$1(), $$1("design:type", String)], _n$1.prototype, "requestId", void 0);
  L$1([_$1(), $$1("design:type", String)], _n$1.prototype, "token", void 0);
  L$1([_$1(), $$1("design:type", Boolean)], _n$1.prototype, "revoked", void 0);
  L$1([_$1(), $$1("design:type", Mt$1)], _n$1.prototype, "auth", void 0);
  _n$1 = L$1([J$1(), $$1("design:paramtypes", [String, Mt$1, String, Boolean])], _n$1);
  var Sn$1 = class {
    constructor(kr, qr) {
      this.domain = kr, this.pointers = qr;
    }
  };
  L$1([_$1(), $$1("design:type", String)], Sn$1.prototype, "domain", void 0);
  L$1([_$1(), $$1("design:type", Array)], Sn$1.prototype, "pointers", void 0);
  Sn$1 = L$1([Be$1(), $$1("design:paramtypes", [String, Array])], Sn$1);
  var Ga = class {
    constructor(Kr, kr) {
      this.with = Kr, this.can = kr;
    }
  };
  L$1([_$1(), $$1("design:type", Sn$1)], Ga.prototype, "with", void 0);
  L$1([_$1(), $$1("design:type", Array)], Ga.prototype, "can", void 0);
  Ga = L$1([Be$1(), $$1("design:paramtypes", [Sn$1, Array])], Ga);
  var or = class {
    constructor(Kr, kr, qr, ai, gi, $i) {
      this.appName = Kr, this.appDesc = kr, this.appUrl = ai, this.appDomain = qr, this.capabilities = $i, this.appIconPath = gi;
    }
  };
  L$1([_$1(), $$1("design:type", String)], or.prototype, "appName", void 0);
  L$1([_$1(), $$1("design:type", String)], or.prototype, "appDesc", void 0);
  L$1([_$1(), $$1("design:type", String)], or.prototype, "appDomain", void 0);
  L$1([_$1(), $$1("design:type", String)], or.prototype, "appUrl", void 0);
  L$1([_$1(), $$1("design:type", String)], or.prototype, "appIconPath", void 0);
  L$1([_$1(), $$1("design:type", Array)], or.prototype, "capabilities", void 0);
  or = L$1([Be$1(), $$1("design:paramtypes", [String, String, String, String, String, Array])], or);
  var On$1 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, Tn$1 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, ct$1 = class {
    constructor(kr) {
      kr ? (this.isInitialized = kr.isInitialized, this.isInitialized || (this.isInitialized = !1), this.isUnlocked = kr.isUnlocked, this.isUnlocked || (this.isUnlocked = !1), this.did = kr.did, this.didDocument = kr.didDocument, this.error = kr.error) : (this.isInitialized = !1, this.isUnlocked = !1);
    }
  };
  On$1([_$1(), Tn$1("design:type", Boolean)], ct$1.prototype, "isInitialized", void 0);
  On$1([_$1(), Tn$1("design:type", Boolean)], ct$1.prototype, "isUnlocked", void 0);
  On$1([_$1(), Tn$1("design:type", String)], ct$1.prototype, "did", void 0);
  On$1([_$1(), Tn$1("design:type", String)], ct$1.prototype, "didDocument", void 0);
  On$1([_$1(), Tn$1("design:type", String)], ct$1.prototype, "error", void 0);
  ct$1 = On$1([J$1(), Tn$1("design:paramtypes", [Object])], ct$1);
  var _f = function(Kr, kr, qr, ai, gi) {
    if (ai === "m")
      throw new TypeError("Private method is not writable");
    if (ai === "a" && !gi)
      throw new TypeError("Private accessor was defined without a setter");
    if (typeof kr == "function" ? Kr !== kr || !gi : !kr.has(Kr))
      throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return ai === "a" ? gi.call(Kr, qr) : gi ? gi.value = qr : kr.set(Kr, qr), qr;
  }, be$1 = function(Kr, kr, qr, ai) {
    if (qr === "a" && !ai)
      throw new TypeError("Private accessor was defined without a getter");
    if (typeof kr == "function" ? Kr !== kr || !ai : !kr.has(Kr))
      throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return qr === "m" ? ai : qr === "a" ? ai.call(Kr) : ai ? ai.value : kr.get(Kr);
  }, ze$1, He$1, Ks = class {
    constructor(Kr, kr) {
      ze$1.set(this, void 0), He$1.set(this, void 0), _f(this, ze$1, Kr, "f"), _f(this, He$1, kr, "f");
    }
    async otherAgents() {
      return await be$1(this, ze$1, "f").otherAgents(be$1(this, He$1, "f"));
    }
    async hasTelepresenceAdapter() {
      return await be$1(this, ze$1, "f").hasTelepresenceAdapter(be$1(this, He$1, "f"));
    }
    async onlineAgents() {
      return await be$1(this, ze$1, "f").onlineAgents(be$1(this, He$1, "f"));
    }
    async setOnlineStatus(Kr) {
      return await be$1(this, ze$1, "f").setOnlineStatus(be$1(this, He$1, "f"), Kr);
    }
    async setOnlineStatusU(Kr) {
      return await be$1(this, ze$1, "f").setOnlineStatusU(be$1(this, He$1, "f"), Kr);
    }
    async sendSignal(Kr, kr) {
      return await be$1(this, ze$1, "f").sendSignal(be$1(this, He$1, "f"), Kr, kr);
    }
    async sendSignalU(Kr, kr) {
      return await be$1(this, ze$1, "f").sendSignalU(be$1(this, He$1, "f"), Kr, kr);
    }
    async sendBroadcast(Kr) {
      return await be$1(this, ze$1, "f").sendBroadcast(be$1(this, He$1, "f"), Kr);
    }
    async sendBroadcastU(Kr) {
      return await be$1(this, ze$1, "f").sendBroadcastU(be$1(this, He$1, "f"), Kr);
    }
    async addSignalHandler(Kr) {
      await be$1(this, ze$1, "f").addSignalHandler(be$1(this, He$1, "f"), Kr);
    }
    removeSignalHandler(Kr) {
      be$1(this, ze$1, "f").removeSignalHandler(be$1(this, He$1, "f"), Kr);
    }
  };
  ze$1 = /* @__PURE__ */ new WeakMap(), He$1 = /* @__PURE__ */ new WeakMap();
  var $r = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, Mr = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, qe$1 = class {
    constructor(kr) {
      kr && (this.source = kr.source, this.predicate = kr.predicate, this.target = kr.target, kr.fromDate && (this.fromDate = kr.fromDate), kr.untilDate && (this.untilDate = kr.untilDate), kr.limit && (this.limit = kr.limit));
    }
    isMatch(kr) {
      return !(this.source && this.source !== kr.source || this.predicate && this.predicate !== kr.predicate || this.target && this.target !== kr.target);
    }
  };
  $r([_$1(), Mr("design:type", String)], qe$1.prototype, "source", void 0);
  $r([_$1(), Mr("design:type", String)], qe$1.prototype, "target", void 0);
  $r([_$1(), Mr("design:type", String)], qe$1.prototype, "predicate", void 0);
  $r([_$1(), Mr("design:type", Date)], qe$1.prototype, "fromDate", void 0);
  $r([_$1(), Mr("design:type", Date)], qe$1.prototype, "untilDate", void 0);
  $r([_$1(), Mr("design:type", Number)], qe$1.prototype, "limit", void 0);
  qe$1 = $r([J$1(), Be$1(), Mr("design:paramtypes", [Object])], qe$1);
  var Sf = function(Kr, kr, qr, ai, gi) {
    if (ai === "m")
      throw new TypeError("Private method is not writable");
    if (ai === "a" && !gi)
      throw new TypeError("Private accessor was defined without a setter");
    if (typeof kr == "function" ? Kr !== kr || !gi : !kr.has(Kr))
      throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return ai === "a" ? gi.call(Kr, qr) : gi ? gi.value = qr : kr.set(Kr, qr), qr;
  }, Ke$1 = function(Kr, kr, qr, ai) {
    if (qr === "a" && !ai)
      throw new TypeError("Private accessor was defined without a getter");
    if (typeof kr == "function" ? Kr !== kr || !ai : !kr.has(Kr))
      throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return qr === "m" ? ai : qr === "a" ? ai.call(Kr) : ai ? ai.value : kr.get(Kr);
  }, yt$1, Lt$1;
  function Fs(Kr) {
    return encodeURIComponent(Kr).replace(/[!'()*]/g, (kr) => `%${kr.charCodeAt(0).toString(16).toUpperCase()}`);
  }
  var ut$1 = class {
    constructor() {
      yt$1.set(this, void 0), Lt$1.set(this, void 0);
    }
    static fromUrl(kr) {
      if (!kr || !kr.startsWith("literal://"))
        throw new Error("Can't create Literal from non-literal URL");
      let qr = new ut$1();
      return Sf(qr, Lt$1, kr, "f"), qr;
    }
    static from(kr) {
      let qr = new ut$1();
      return Sf(qr, yt$1, kr, "f"), qr;
    }
    toUrl() {
      if (Ke$1(this, Lt$1, "f") && !Ke$1(this, yt$1, "f"))
        return Ke$1(this, Lt$1, "f");
      if (!Ke$1(this, Lt$1, "f") && !Ke$1(this, yt$1, "f"))
        throw new Error("Can't turn empty Literal into URL");
      let kr;
      switch (typeof Ke$1(this, yt$1, "f")) {
        case "string":
          kr = `string:${Fs(Ke$1(this, yt$1, "f"))}`;
          break;
        case "number":
          kr = `number:${Fs(Ke$1(this, yt$1, "f"))}`;
          break;
        case "object":
          kr = `json:${Fs(JSON.stringify(Ke$1(this, yt$1, "f")))}`;
          break;
      }
      return `literal://${kr}`;
    }
    get() {
      if (Ke$1(this, yt$1, "f"))
        return Ke$1(this, yt$1, "f");
      if (!Ke$1(this, Lt$1, "f"))
        throw new Error("Can't render empty Literal");
      if (!Ke$1(this, Lt$1, "f").startsWith("literal://"))
        throw new Error("Can't render Literal from non-literal URL");
      let kr = Ke$1(this, Lt$1, "f").substring(10);
      if (kr.startsWith("string:"))
        return decodeURIComponent(kr.substring(7));
      if (kr.startsWith("number:")) {
        let qr = kr.substring(7);
        return parseFloat(qr);
      }
      if (kr.startsWith("json:")) {
        let qr = kr.substring(5);
        return JSON.parse(decodeURIComponent(qr));
      }
      throw new Error(`Can't parse unknown literal: ${kr}`);
    }
  };
  yt$1 = /* @__PURE__ */ new WeakMap(), Lt$1 = /* @__PURE__ */ new WeakMap();
  function wn$1(Kr) {
    return Kr.charAt(0).toUpperCase() + Kr.slice(1);
  }
  function Hf(Kr) {
    return `set${wn$1(Kr)}`;
  }
  function En$1(Kr) {
    return Kr.endsWith("y") ? Kr.slice(0, -1) + "ies" : Kr + "s";
  }
  function Jf(Kr) {
    return Kr.endsWith("ies") ? Kr.slice(0, -3) + "y" : Kr.endsWith("s") ? Kr.slice(0, -1) : Kr;
  }
  function l2(Kr) {
    return `add${wn$1(Jf(Kr))}`;
  }
  function f2(Kr) {
    let kr = Kr.substring(3), qr = En$1(kr);
    return qr.charAt(0).toLowerCase() + qr.slice(1);
  }
  function p2(Kr) {
    let kr = Kr.substring(13), qr = En$1(kr);
    return qr.charAt(0).toLowerCase() + qr.slice(1);
  }
  function d2(Kr) {
    return `setCollection${wn$1(Jf(Kr))}`;
  }
  var $s = function(Kr, kr, qr, ai, gi) {
    if (ai === "m")
      throw new TypeError("Private method is not writable");
    if (ai === "a" && !gi)
      throw new TypeError("Private accessor was defined without a setter");
    if (typeof kr == "function" ? Kr !== kr || !gi : !kr.has(Kr))
      throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return ai === "a" ? gi.call(Kr, qr) : gi ? gi.value = qr : kr.set(Kr, qr), qr;
  }, B$1 = function(Kr, kr, qr, ai) {
    if (qr === "a" && !ai)
      throw new TypeError("Private accessor was defined without a getter");
    if (typeof kr == "function" ? Kr !== kr || !ai : !kr.has(Kr))
      throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return qr === "m" ? ai : qr === "a" ? ai.call(Kr) : ai ? ai.value : kr.get(Kr);
  }, tt$1, Je$1, Ee$1, Ka = class {
    constructor(Kr, kr, qr) {
      tt$1.set(this, void 0), Je$1.set(this, void 0), Ee$1.set(this, void 0), $s(this, tt$1, kr, "f"), $s(this, Je$1, qr, "f"), $s(this, Ee$1, Kr, "f");
    }
    get baseExpression() {
      return B$1(this, tt$1, "f");
    }
    async init() {
      let isInstance = await B$1(this, Ee$1, "f").isSubjectInstance(B$1(this, tt$1, "f"), B$1(this, Je$1, "f"));
      if (!isInstance)
        throw `Not a valid subject instance of ${B$1(this, Je$1, "f")} for ${B$1(this, tt$1, "f")}`;
      let results = await B$1(this, Ee$1, "f").infer(`subject_class("${B$1(this, Je$1, "f")}", C), property(C, Property)`), properties = results.map((Kr) => Kr.Property);
      for (let Kr of properties) {
        let kr = await B$1(this, Ee$1, "f").infer(`subject_class("${B$1(this, Je$1, "f")}", C), property_resolve(C, "${Kr}")`);
        Object.defineProperty(this, Kr, { configurable: !0, get: async () => {
          let qr = await B$1(this, Ee$1, "f").infer(`subject_class("${B$1(this, Je$1, "f")}", C), property_getter(C, "${B$1(this, tt$1, "f")}", "${Kr}", Value)`);
          if (qr && qr.length > 0) {
            let ai = qr[0].Value;
            if (kr) {
              let gi = await B$1(this, Ee$1, "f").getExpression(ai);
              try {
                return JSON.parse(gi.data);
              } catch {
                return gi.data;
              }
            } else
              return ai;
          } else
            return qr != null ? qr || !1 : void 0;
        } });
      }
      let setters = await B$1(this, Ee$1, "f").infer(`subject_class("${B$1(this, Je$1, "f")}", C), property_setter(C, Property, Setter)`);
      for (let setter of setters || [])
        if (setter) {
          let property = setter.Property, actions = eval(setter.Setter), resolveLanguageResults = await B$1(this, Ee$1, "f").infer(`subject_class("${B$1(this, Je$1, "f")}", C), property_resolve_language(C, "${property}", Language)`), resolveLanguage;
          resolveLanguageResults && resolveLanguageResults.length > 0 && (resolveLanguage = resolveLanguageResults[0].Language), this[Hf(property)] = async (Kr) => {
            resolveLanguage && (Kr = await B$1(this, Ee$1, "f").createExpression(Kr, resolveLanguage)), await B$1(this, Ee$1, "f").executeAction(actions, B$1(this, tt$1, "f"), [{ name: "value", value: Kr }]);
          };
        }
      let flattenPrologList = (Kr) => {
        let kr = [];
        for (; Kr && Kr.head; )
          kr.push(Kr.head), Kr = Kr.tail;
        return kr;
      }, results2 = await B$1(this, Ee$1, "f").infer(`subject_class("${B$1(this, Je$1, "f")}", C), collection(C, Collection)`);
      results2 || (results2 = []);
      let collections = results2.map((Kr) => Kr.Collection);
      for (let c of collections)
        Object.defineProperty(this, c, { configurable: !0, get: async () => {
          let results = await B$1(this, Ee$1, "f").infer(`subject_class("${B$1(this, Je$1, "f")}", C), collection_getter(C, "${B$1(this, tt$1, "f")}", "${c}", Value)`);
          return results && results.length > 0 && results[0].Value ? flattenPrologList(eval(results[0].Value)) : [];
        } });
      let adders = await B$1(this, Ee$1, "f").infer(`subject_class("${B$1(this, Je$1, "f")}", C), collection_adder(C, Collection, Adder)`);
      adders || (adders = []);
      for (let adder of adders)
        if (adder) {
          let collection = adder.Collection, actions = eval(adder.Adder);
          this[l2(collection)] = async (Kr) => {
            Array.isArray(Kr) ? await Promise.all(Kr.map((kr) => B$1(this, Ee$1, "f").executeAction(actions, B$1(this, tt$1, "f"), [{ name: "value", value: kr }]))) : await B$1(this, Ee$1, "f").executeAction(actions, B$1(this, tt$1, "f"), [{ name: "value", value: Kr }]);
          };
        }
      let collectionSetters = await B$1(this, Ee$1, "f").infer(`subject_class("${B$1(this, Je$1, "f")}", C), collection_setter(C, Collection, Setter)`);
      collectionSetters || (collectionSetters = []);
      for (let collectionSetter of collectionSetters)
        if (collectionSetter) {
          let collection = collectionSetter.Collection, actions = eval(collectionSetter.Setter);
          this[d2(collection)] = async (Kr) => {
            Array.isArray(Kr) ? await B$1(this, Ee$1, "f").executeAction(actions, B$1(this, tt$1, "f"), Kr.map((kr) => ({ name: "value", value: kr }))) : await B$1(this, Ee$1, "f").executeAction(actions, B$1(this, tt$1, "f"), [{ name: "value", value: Kr }]);
          };
        }
    }
  };
  tt$1 = /* @__PURE__ */ new WeakMap(), Je$1 = /* @__PURE__ */ new WeakMap(), Ee$1 = /* @__PURE__ */ new WeakMap();
  var fn$1 = function(Kr, kr, qr, ai, gi) {
    if (ai === "m")
      throw new TypeError("Private method is not writable");
    if (ai === "a" && !gi)
      throw new TypeError("Private accessor was defined without a setter");
    if (typeof kr == "function" ? Kr !== kr || !gi : !kr.has(Kr))
      throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return ai === "a" ? gi.call(Kr, qr) : gi ? gi.value = qr : kr.set(Kr, qr), qr;
  }, F$1 = function(Kr, kr, qr, ai) {
    if (qr === "a" && !ai)
      throw new TypeError("Private accessor was defined without a getter");
    if (typeof kr == "function" ? Kr !== kr || !ai : !kr.has(Kr))
      throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return qr === "m" ? ai : qr === "a" ? ai.call(Kr) : ai ? ai.value : kr.get(Kr);
  }, de$1, xe$1, Or, Tr, Ir, oi, gn$1 = class {
    constructor(Kr, kr) {
      de$1.set(this, void 0), xe$1.set(this, void 0), Or.set(this, void 0), Tr.set(this, void 0), Ir.set(this, void 0), oi.set(this, void 0), fn$1(this, Or, [], "f"), fn$1(this, Tr, [], "f"), fn$1(this, Ir, [], "f"), fn$1(this, oi, [], "f"), fn$1(this, de$1, Kr, "f"), fn$1(this, xe$1, kr, "f"), F$1(this, xe$1, "f").addPerspectiveLinkAddedListener(F$1(this, de$1, "f").uuid, F$1(this, Or, "f")), F$1(this, xe$1, "f").addPerspectiveLinkRemovedListener(F$1(this, de$1, "f").uuid, F$1(this, Tr, "f")), F$1(this, xe$1, "f").addPerspectiveLinkUpdatedListener(F$1(this, de$1, "f").uuid, F$1(this, Ir, "f")), F$1(this, xe$1, "f").addPerspectiveSyncStateChangeListener(F$1(this, de$1, "f").uuid, F$1(this, oi, "f"));
    }
    async executeAction(Kr, kr, qr) {
      let ai = ($i) => {
        if ($i)
          return $i.replace("this", kr);
      }, gi = ($i) => {
        if (qr) {
          let xi = $i;
          for (let Ai of qr)
            xi = xi.replace(Ai.name, Ai.value);
          return xi;
        } else
          return $i;
      };
      for (let $i of Kr) {
        let xi = ai(gi($i.source)), Ai = ai(gi($i.predicate)), Li = ai(gi($i.target));
        switch ($i.action) {
          case "addLink":
            await this.add(new gt$1({ source: xi, predicate: Ai, target: Li }));
            break;
          case "removeLink":
            let Fi = await this.get(new qe$1({ source: xi, predicate: Ai, target: Li }));
            for (let So of Fi)
              await this.remove(So);
            break;
          case "setSingleTarget":
            await this.setSingleTarget(new gt$1({ source: xi, predicate: Ai, target: Li }));
            break;
          case "collectionSetter":
            let Oa = await this.get(new qe$1({ source: xi, predicate: Ai }));
            await this.removeLinks(Oa), await this.addLinks(qr.map((So) => new gt$1({ source: xi, predicate: Ai, target: So.value })));
            break;
        }
      }
    }
    get uuid() {
      return F$1(this, de$1, "f").uuid;
    }
    get name() {
      return F$1(this, de$1, "f").name;
    }
    get sharedUrl() {
      return F$1(this, de$1, "f").sharedUrl;
    }
    get neighbourhood() {
      return F$1(this, de$1, "f").neighbourhood;
    }
    get state() {
      return F$1(this, de$1, "f").state;
    }
    async get(Kr) {
      return await F$1(this, xe$1, "f").queryLinks(F$1(this, de$1, "f").uuid, Kr);
    }
    async infer(Kr) {
      return await F$1(this, xe$1, "f").queryProlog(F$1(this, de$1, "f").uuid, Kr);
    }
    async add(Kr) {
      return await F$1(this, xe$1, "f").addLink(F$1(this, de$1, "f").uuid, Kr);
    }
    async addLinks(Kr) {
      return await F$1(this, xe$1, "f").addLinks(F$1(this, de$1, "f").uuid, Kr);
    }
    async removeLinks(Kr) {
      return await F$1(this, xe$1, "f").removeLinks(F$1(this, de$1, "f").uuid, Kr);
    }
    async linkMutations(Kr) {
      return await F$1(this, xe$1, "f").linkMutations(F$1(this, de$1, "f").uuid, Kr);
    }
    async addLinkExpression(Kr) {
      return await F$1(this, xe$1, "f").addLinkExpression(F$1(this, de$1, "f").uuid, Kr);
    }
    async update(Kr, kr) {
      return await F$1(this, xe$1, "f").updateLink(F$1(this, de$1, "f").uuid, Kr, kr);
    }
    async remove(Kr) {
      return await F$1(this, xe$1, "f").removeLink(F$1(this, de$1, "f").uuid, Kr);
    }
    async getExpression(Kr) {
      return await F$1(this, xe$1, "f").getExpression(Kr);
    }
    async createExpression(Kr, kr) {
      return await F$1(this, xe$1, "f").createExpression(Kr, kr);
    }
    async addListener(Kr, kr) {
      Kr === "link-added" ? F$1(this, Or, "f").push(kr) : Kr === "link-removed" ? F$1(this, Tr, "f").push(kr) : Kr === "link-updated" && F$1(this, Ir, "f").push(kr);
    }
    async addSyncStateChangeListener(Kr) {
      F$1(this, oi, "f").push(Kr);
    }
    async removeListener(Kr, kr) {
      if (Kr === "link-added") {
        let qr = F$1(this, Or, "f").indexOf(kr);
        F$1(this, Or, "f").splice(qr, 1);
      } else if (Kr === "link-removed") {
        let qr = F$1(this, Tr, "f").indexOf(kr);
        F$1(this, Tr, "f").splice(qr, 1);
      } else if (Kr === "link-updated") {
        let qr = F$1(this, Ir, "f").indexOf(kr);
        F$1(this, Ir, "f").splice(qr, 1);
      }
    }
    async snapshot() {
      return F$1(this, xe$1, "f").snapshotByUUID(F$1(this, de$1, "f").uuid);
    }
    async loadSnapshot(Kr) {
      let kr = JSON.parse(JSON.stringify(Kr));
      delete kr.__typename, kr.links.forEach((qr) => {
        delete qr.data.__typename;
      });
      for (let qr of kr.links)
        await this.addLinkExpression(qr);
    }
    async getSingleTarget(Kr) {
      delete Kr.target;
      let kr = await this.get(Kr);
      return kr.length ? kr[0].data.target : null;
    }
    async setSingleTarget(Kr) {
      let kr = new qe$1({ source: Kr.source, predicate: Kr.predicate }), qr = await this.get(kr), ai = [];
      for (let $i of qr)
        delete $i.__typename, delete $i.data.__typename, delete $i.proof.__typename, ai.push($i);
      let gi = [Kr];
      await this.linkMutations({ additions: gi, removals: ai });
    }
    async sdnaFlows() {
      return (await this.infer("register_sdna_flow(X, _)")).map((Kr) => Kr.X);
    }
    async availableFlows(Kr) {
      return (await this.infer(`flowable("${Kr}", F), register_sdna_flow(X, F)`)).map((kr) => kr.X);
    }
    async startFlow(flowName, exprAddr) {
      let startAction = await this.infer(`start_action(Action, F), register_sdna_flow("${flowName}", F)`);
      startAction = eval(startAction[0].Action), await this.executeAction(startAction, exprAddr, void 0);
    }
    async expressionsInFlowState(Kr, kr) {
      return (await this.infer(`register_sdna_flow("${Kr}", F), flow_state(X, ${kr}, F)`)).map((qr) => qr.X);
    }
    async flowState(Kr, kr) {
      return (await this.infer(`register_sdna_flow("${Kr}", F), flow_state("${kr}", X, F)`))[0].X;
    }
    async flowActions(Kr, kr) {
      return (await this.infer(`register_sdna_flow("${Kr}", Flow), flow_state("${kr}", State, Flow), action(State, Name, _, _)`)).map((qr) => qr.Name);
    }
    async runFlowAction(flowName, exprAddr, actionName) {
      let action = await this.infer(`register_sdna_flow("${flowName}", Flow), flow_state("${exprAddr}", State, Flow), action(State, "${actionName}", _, Action)`);
      action = eval(action[0].Action), await this.executeAction(action, exprAddr, void 0);
    }
    async setSdna(Kr) {
      await this.setSingleTarget(new gt$1({ source: "ad4m://self", predicate: "ad4m://has_zome", target: ut$1.from(Kr).toUrl() }));
    }
    async getSdna() {
      return (await this.get(new qe$1({ source: "ad4m://self", predicate: "ad4m://has_zome" }))).map((Kr) => Kr.data.target).map((Kr) => ut$1.fromUrl(Kr).get());
    }
    async addSdna(Kr) {
      await this.add(new gt$1({ source: "ad4m://self", predicate: "ad4m://has_zome", target: ut$1.from(Kr).toUrl() }));
    }
    async subjectClasses() {
      try {
        return (await this.infer("subject_class(X, _)")).map((Kr) => Kr.X);
      } catch {
        return [];
      }
    }
    async stringOrTemplateObjectToSubjectClass(Kr) {
      if (typeof Kr == "string")
        return Kr;
      {
        let kr = await this.subjectClassesByTemplate(Kr);
        return kr[0] ? kr[0] : Kr.className;
      }
    }
    async createSubject(subjectClass, exprAddr) {
      let className = await this.stringOrTemplateObjectToSubjectClass(subjectClass), result = await this.infer(`subject_class("${className}", C), constructor(C, Actions)`);
      if (!result.length)
        throw "No constructor found for given subject class: " + className;
      let actions = result.map((x) => eval(x.Actions));
      return await this.executeAction(actions[0], exprAddr, void 0), this.getSubjectProxy(exprAddr, subjectClass);
    }
    async isSubjectInstance(Kr, kr) {
      let qr = await this.stringOrTemplateObjectToSubjectClass(kr);
      return await this.infer(`subject_class("${qr}", C), instance(C, "${Kr}")`);
    }
    async getSubjectProxy(Kr, kr) {
      if (!await this.isSubjectInstance(Kr, kr))
        throw `Expression ${Kr} is not a subject instance of given class: ${JSON.stringify(kr)}`;
      let qr = await this.stringOrTemplateObjectToSubjectClass(kr), ai = new Ka(this, Kr, qr);
      return await ai.init(), ai;
    }
    async getAllSubjectInstances(Kr) {
      let kr = [];
      typeof Kr == "string" ? kr = [Kr] : kr = await this.subjectClassesByTemplate(Kr);
      let qr = [];
      for (let ai of kr) {
        let gi = await this.infer(`subject_class("${ai}", C), instance(C, X)`), $i = await Promise.all(gi.map(async (xi) => await this.getSubjectProxy(xi.X, ai)));
        qr = qr.concat($i);
      }
      return qr;
    }
    async getAllSubjectProxies(Kr) {
      let kr = [];
      typeof Kr == "string" ? kr = [Kr] : kr = await this.subjectClassesByTemplate(Kr);
      let qr = [];
      for (let ai of kr)
        qr = await this.infer(`subject_class("${ai}", C), instance(C, X)`);
      return qr;
    }
    async subjectClassesByTemplate(Kr) {
      let kr = Object.keys(Kr).filter((Li) => !Array.isArray(Kr[Li])), qr = Object.keys(Kr).filter((Li) => Array.isArray(Kr[Li])).filter((Li) => Li !== "isSubjectInstance");
      Object.getPrototypeOf(Kr).__properties && (kr = kr.concat(Object.keys(Object.getPrototypeOf(Kr).__properties).filter((Li) => !Array.isArray(Kr[Li])))), Object.getPrototypeOf(Kr).__collections && (qr = qr.concat(Object.keys(Object.getPrototypeOf(Kr).__collections).filter((Li) => Li !== "isSubjectInstance")));
      let ai = Object.getOwnPropertyNames(Kr).filter((Li) => typeof Kr[Li] == "function" && Li.startsWith("set") && !Li.startsWith("setCollection"));
      ai = ai.concat(Object.getOwnPropertyNames(Object.getPrototypeOf(Kr)).filter((Li) => typeof Kr[Li] == "function" && Li.startsWith("set") && !Li.startsWith("setCollection")));
      let gi = Object.getOwnPropertyNames(Kr).filter((Li) => typeof Kr[Li] == "function" && Li.startsWith("add"));
      gi = gi.concat(Object.getOwnPropertyNames(Object.getPrototypeOf(Kr)).filter((Li) => typeof Kr[Li] == "function" && Li.startsWith("add")));
      let $i = Object.getOwnPropertyNames(Kr).filter((Li) => typeof Kr[Li] == "function" && Li.startsWith("setCollection"));
      $i = $i.concat(Object.getOwnPropertyNames(Object.getPrototypeOf(Kr)).filter((Li) => typeof Kr[Li] == "function" && Li.startsWith("setCollection")));
      let xi = "subject_class(Class, C)";
      for (let Li of kr)
        xi += `, property(C, "${Li}")`;
      for (let Li of qr)
        xi += `, collection(C, "${Li}")`;
      for (let Li of ai) {
        let Fi = Li.substring(3);
        Fi = Fi.charAt(0).toLowerCase() + Fi.slice(1), xi += `, property_setter(C, "${Fi}", _)`;
      }
      for (let Li of gi)
        xi += `, collection_adder(C, "${f2(Li)}", _)`;
      for (let Li of $i)
        xi += `, collection_setter(C, "${p2(Li)}", _)`;
      xi += ".";
      let Ai = await this.infer(xi);
      return Ai ? Ai.map((Li) => Li.Class) : [];
    }
    async ensureSDNASubjectClass(Kr) {
      (await this.subjectClassesByTemplate(new Kr())).length > 0 || await this.addSdna(Kr.generateSDNA());
    }
    getNeighbourhoodProxy() {
      return F$1(this, xe$1, "f").getNeighbourhoodProxy(F$1(this, de$1, "f").uuid);
    }
  };
  de$1 = /* @__PURE__ */ new WeakMap(), xe$1 = /* @__PURE__ */ new WeakMap(), Or = /* @__PURE__ */ new WeakMap(), Tr = /* @__PURE__ */ new WeakMap(), Ir = /* @__PURE__ */ new WeakMap(), oi = /* @__PURE__ */ new WeakMap();
  var Er = function(Kr, kr, qr, ai, gi) {
    if (ai === "m")
      throw new TypeError("Private method is not writable");
    if (ai === "a" && !gi)
      throw new TypeError("Private accessor was defined without a setter");
    if (typeof kr == "function" ? Kr !== kr || !gi : !kr.has(Kr))
      throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return ai === "a" ? gi.call(Kr, qr) : gi ? gi.value = qr : kr.set(Kr, qr), qr;
  }, H$1 = function(Kr, kr, qr, ai) {
    if (qr === "a" && !ai)
      throw new TypeError("Private accessor was defined without a getter");
    if (typeof kr == "function" ? Kr !== kr || !ai : !kr.has(Kr))
      throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return qr === "m" ? ai : qr === "a" ? ai.call(Kr) : ai ? ai.value : kr.get(Kr);
  }, se$1, si, ci, ui, Na, li, Ra, et$1 = `
author
timestamp
data { source, predicate, target }
proof { valid, invalid, signature, key }
`, pn$1 = `
uuid
name
sharedUrl
state
neighbourhood { 
    linkLanguage 
    meta { 
        links
            {
                author
                timestamp
                data { source, predicate, target }
                proof { valid, invalid, signature, key }
            }  
    } 
}
`, za = class {
    constructor(Kr, kr = !0) {
      se$1.set(this, void 0), si.set(this, void 0), ci.set(this, void 0), ui.set(this, void 0), Na.set(this, void 0), li.set(this, void 0), Ra.set(this, void 0), Er(this, se$1, Kr, "f"), Er(this, si, [], "f"), Er(this, ci, [], "f"), Er(this, ui, [], "f"), Er(this, Na, [], "f"), kr && (this.subscribePerspectiveAdded(), this.subscribePerspectiveUpdated(), this.subscribePerspectiveRemoved());
    }
    setExpressionClient(Kr) {
      Er(this, li, Kr, "f");
    }
    setNeighbourhoodClient(Kr) {
      Er(this, Ra, Kr, "f");
    }
    async all() {
      let { perspectives: Kr } = I$1(await H$1(this, se$1, "f").query({ query: O$1`query perspectives {
                perspectives {
                    ${pn$1}
                }
                
            }` }));
      return Kr.map((kr) => new gn$1(kr, this));
    }
    async byUUID(Kr) {
      let { perspective: kr } = I$1(await H$1(this, se$1, "f").query({ query: O$1`query perspective($uuid: String!) {
                perspective(uuid: $uuid) {
                    ${pn$1}
                }
            }`, variables: { uuid: Kr } }));
      return kr ? new gn$1(kr, this) : null;
    }
    async snapshotByUUID(Kr) {
      let { perspectiveSnapshot: kr } = I$1(await H$1(this, se$1, "f").query({ query: O$1`query perspectiveSnapshot($uuid: String!) {
                perspectiveSnapshot(uuid: $uuid) {
                    links { ${et$1} }
                }
            }`, variables: { uuid: Kr } }));
      return kr;
    }
    async publishSnapshotByUUID(Kr) {
      let { perspectivePublishSnapshot: kr } = I$1(await H$1(this, se$1, "f").mutate({ mutation: O$1`mutation perspectivePublishSnapshot($uuid: String!) {
                perspectivePublishSnapshot(uuid: $uuid)
            }`, variables: { uuid: Kr } }));
      return kr;
    }
    async queryLinks(Kr, kr) {
      let { perspectiveQueryLinks: qr } = I$1(await H$1(this, se$1, "f").query({ query: O$1`query perspectiveQueryLinks($uuid: String!, $query: LinkQuery!) {
                perspectiveQueryLinks(query: $query, uuid: $uuid) {
                    ${et$1}
                }
            }`, variables: { uuid: Kr, query: kr } }));
      return qr;
    }
    async queryProlog(Kr, kr) {
      let { perspectiveQueryProlog: qr } = I$1(await H$1(this, se$1, "f").query({ query: O$1`query perspectiveQueryProlog($uuid: String!, $query: String!) {
                perspectiveQueryProlog(uuid: $uuid, query: $query)
            }`, variables: { uuid: Kr, query: kr } }));
      return JSON.parse(qr);
    }
    async add(Kr) {
      let { perspectiveAdd: kr } = I$1(await H$1(this, se$1, "f").mutate({ mutation: O$1`mutation perspectiveAdd($name: String!) {
                perspectiveAdd(name: $name) {
                    ${pn$1}
                }
            }`, variables: { name: Kr } }));
      return new gn$1(kr, this);
    }
    async update(Kr, kr) {
      let { perspectiveUpdate: qr } = I$1(await H$1(this, se$1, "f").mutate({ mutation: O$1`mutation perspectiveUpdate($uuid: String!, $name: String!) {
                perspectiveUpdate(uuid: $uuid, name: $name) {
                    ${pn$1}
                }
            }`, variables: { uuid: Kr, name: kr } }));
      return new gn$1(qr, this);
    }
    async remove(Kr) {
      return I$1(await H$1(this, se$1, "f").mutate({ mutation: O$1`mutation perspectiveRemove($uuid: String!) {
                perspectiveRemove(uuid: $uuid)
            }`, variables: { uuid: Kr } }));
    }
    async addLink(Kr, kr) {
      let { perspectiveAddLink: qr } = I$1(await H$1(this, se$1, "f").mutate({ mutation: O$1`mutation perspectiveAddLink($uuid: String!, $link: LinkInput!){
                perspectiveAddLink(link: $link, uuid: $uuid) {
                    ${et$1}
                }
            }`, variables: { uuid: Kr, link: kr } }));
      return qr;
    }
    async addLinks(Kr, kr) {
      let { perspectiveAddLinks: qr } = I$1(await H$1(this, se$1, "f").mutate({ mutation: O$1`mutation perspectiveAddLinks($uuid: String!, $links: [LinkInput!]!){
                perspectiveAddLinks(links: $links, uuid: $uuid) {
                    ${et$1}
                }
            }`, variables: { uuid: Kr, links: kr } }));
      return qr;
    }
    async removeLinks(Kr, kr) {
      let { perspectiveRemoveLinks: qr } = I$1(await H$1(this, se$1, "f").mutate({ mutation: O$1`mutation perspectiveRemoveLinks($uuid: String!, $links: [LinkExpressionInput!]!){
                perspectiveRemoveLinks(links: $links, uuid: $uuid) {
                    ${et$1}
                }
            }`, variables: { uuid: Kr, links: kr } }));
      return qr;
    }
    async linkMutations(Kr, kr) {
      let { perspectiveLinkMutations: qr } = I$1(await H$1(this, se$1, "f").mutate({ mutation: O$1`mutation perspectiveLinkMutations($uuid: String!, $mutations: LinkMutations!){
                perspectiveLinkMutations(mutations: $mutations, uuid: $uuid) {
                    additions {
                        ${et$1}
                    }
                    removals {
                        ${et$1}
                    }
                }
            }`, variables: { uuid: Kr, mutations: kr } }));
      return qr;
    }
    async addLinkExpression(Kr, kr) {
      let { perspectiveAddLinkExpression: qr } = I$1(await H$1(this, se$1, "f").mutate({ mutation: O$1`mutation perspectiveAddLinkExpression($uuid: String!, $link: LinkExpressionInput!){
                perspectiveAddLinkExpression(link: $link, uuid: $uuid) {
                    ${et$1}
                }
            }`, variables: { uuid: Kr, link: kr } }));
      return qr;
    }
    async updateLink(Kr, kr, qr) {
      delete kr.__typename, delete kr.data.__typename, delete kr.proof.__typename;
      let { perspectiveUpdateLink: ai } = I$1(await H$1(this, se$1, "f").mutate({ mutation: O$1`mutation perspectiveUpdateLink(
                $uuid: String!, 
                $newLink: LinkInput!
                $oldLink: LinkExpressionInput!
            ){
                perspectiveUpdateLink(
                    newLink: $newLink, 
                    oldLink: $oldLink, 
                    uuid: $uuid
                ) {
                    ${et$1}
                }
            }`, variables: { uuid: Kr, oldLink: kr, newLink: qr } }));
      return ai;
    }
    async removeLink(Kr, kr) {
      return delete kr.__typename, delete kr.data.__typename, delete kr.proof.__typename, I$1(await H$1(this, se$1, "f").mutate({ mutation: O$1`mutation perspectiveRemoveLink($link: LinkExpressionInput!, $uuid: String!) {
                perspectiveRemoveLink(link: $link, uuid: $uuid)
            }`, variables: { uuid: Kr, link: kr } }));
    }
    async getExpression(Kr) {
      return await H$1(this, li, "f").get(Kr);
    }
    async createExpression(Kr, kr) {
      return await H$1(this, li, "f").create(Kr, kr);
    }
    addPerspectiveAddedListener(Kr) {
      H$1(this, si, "f").push(Kr);
    }
    subscribePerspectiveAdded() {
      H$1(this, se$1, "f").subscribe({ query: O$1` subscription {
                perspectiveAdded { ${pn$1} }
            }   
        ` }).subscribe({ next: (Kr) => {
        H$1(this, si, "f").forEach((kr) => {
          kr(Kr.data.perspectiveAdded);
        });
      }, error: (Kr) => console.error(Kr) });
    }
    addPerspectiveUpdatedListener(Kr) {
      H$1(this, ci, "f").push(Kr);
    }
    subscribePerspectiveUpdated() {
      H$1(this, se$1, "f").subscribe({ query: O$1` subscription {
                perspectiveUpdated { ${pn$1} }
            }   
        ` }).subscribe({ next: (Kr) => {
        H$1(this, ci, "f").forEach((kr) => {
          kr(Kr.data.perspectiveUpdated);
        });
      }, error: (Kr) => console.error(Kr) });
    }
    addPerspectiveSyncedListener(Kr) {
      H$1(this, Na, "f").push(Kr);
    }
    async addPerspectiveSyncStateChangeListener(Kr, kr) {
      H$1(this, se$1, "f").subscribe({ query: O$1` subscription {
                perspectiveSyncStateChange(uuid: "${Kr}")
            }
        ` }).subscribe({ next: (qr) => {
        kr.forEach((ai) => {
          ai(qr.data.perspectiveSyncStateChange);
        });
      }, error: (qr) => console.error(qr) }), await new Promise((qr) => setTimeout(qr, 500));
    }
    addPerspectiveRemovedListener(Kr) {
      H$1(this, ui, "f").push(Kr);
    }
    subscribePerspectiveRemoved() {
      H$1(this, se$1, "f").subscribe({ query: O$1` subscription {
                perspectiveRemoved
            }   
        ` }).subscribe({ next: (Kr) => {
        H$1(this, ui, "f").forEach((kr) => {
          kr(Kr.data.perspectiveRemoved);
        });
      }, error: (Kr) => console.error(Kr) });
    }
    async addPerspectiveLinkAddedListener(Kr, kr) {
      H$1(this, se$1, "f").subscribe({ query: O$1` subscription {
                perspectiveLinkAdded(uuid: "${Kr}") { ${et$1} }
            }   
        ` }).subscribe({ next: (qr) => {
        kr.forEach((ai) => {
          ai(qr.data.perspectiveLinkAdded);
        });
      }, error: (qr) => console.error(qr) }), await new Promise((qr) => setTimeout(qr, 500));
    }
    async addPerspectiveLinkRemovedListener(Kr, kr) {
      H$1(this, se$1, "f").subscribe({ query: O$1` subscription {
                perspectiveLinkRemoved(uuid: "${Kr}") { ${et$1} }
            }   
        ` }).subscribe({ next: (qr) => {
        kr.forEach((ai) => {
          ai(qr.data.perspectiveLinkRemoved);
        });
      }, error: (qr) => console.error(qr) }), await new Promise((qr) => setTimeout(qr, 500));
    }
    async addPerspectiveLinkUpdatedListener(Kr, kr) {
      H$1(this, se$1, "f").subscribe({ query: O$1` subscription {
                perspectiveLinkUpdated(uuid: "${Kr}") { 
                    oldLink {
                        ${et$1}
                    } 
                    newLink {
                        ${et$1}
                    } 
                }
            }   
        ` }).subscribe({ next: (qr) => {
        kr.forEach((ai) => {
          ai(qr.data.perspectiveLinkUpdated);
        });
      }, error: (qr) => console.error(qr) }), await new Promise((qr) => setTimeout(qr, 500));
    }
    getNeighbourhoodProxy(Kr) {
      return new Ks(H$1(this, Ra, "f"), Kr);
    }
  };
  se$1 = /* @__PURE__ */ new WeakMap(), si = /* @__PURE__ */ new WeakMap(), ci = /* @__PURE__ */ new WeakMap(), ui = /* @__PURE__ */ new WeakMap(), Na = /* @__PURE__ */ new WeakMap(), li = /* @__PURE__ */ new WeakMap(), Ra = /* @__PURE__ */ new WeakMap();
  var Sa = function(Kr, kr, qr, ai, gi) {
    if (ai === "m")
      throw new TypeError("Private method is not writable");
    if (ai === "a" && !gi)
      throw new TypeError("Private accessor was defined without a setter");
    if (typeof kr == "function" ? Kr !== kr || !gi : !kr.has(Kr))
      throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return ai === "a" ? gi.call(Kr, qr) : gi ? gi.value = qr : kr.set(Kr, qr), qr;
  }, Z$1 = function(Kr, kr, qr, ai) {
    if (qr === "a" && !ai)
      throw new TypeError("Private accessor was defined without a getter");
    if (typeof kr == "function" ? Kr !== kr || !ai : !kr.has(Kr))
      throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return qr === "m" ? ai : qr === "a" ? ai.call(Kr) : ai ? ai.value : kr.get(Kr);
  }, ie$1, fi, pi, di, ni = `
    did
    directMessageLanguage
    perspective { 
        links {
            author, timestamp, 
            proof {
                signature, key, valid, invalid
            }
            data {
                source, predicate, target
            }
        }
    }
`, wa = `
    requestId
    revoked
    auth {
        appName
        appDesc
        appUrl
        appIconPath
        capabilities {
            with {
                domain
                pointers
            }
            can 
        }
    }
`, dn$1 = `
    isInitialized
    isUnlocked
    did
    didDocument
    error
`, Ea = `
    did
    didSigningKeyId
    deviceKeyType
    deviceKey
    deviceKeySignedByDid
    didSignedByDeviceKey
`, h2 = `
    signature
    publicKey
`, Si = class {
    constructor(Kr, kr = !0) {
      ie$1.set(this, void 0), fi.set(this, void 0), pi.set(this, void 0), di.set(this, void 0), Sa(this, ie$1, Kr, "f"), Sa(this, pi, [], "f"), Sa(this, di, [], "f"), Sa(this, fi, [], "f"), kr && (this.subscribeAgentUpdated(), this.subscribeAgentStatusChanged(), this.subscribeAppsChanged());
    }
    async me() {
      let { agent: Kr } = I$1(await Z$1(this, ie$1, "f").query({ query: O$1`query agent { agent { ${ni} } }` })), kr = new tr(Kr.did, Kr.perspective);
      return kr.directMessageLanguage = Kr.directMessageLanguage, kr;
    }
    async status() {
      let { agentStatus: Kr } = I$1(await Z$1(this, ie$1, "f").query({ query: O$1`query agentStatus {
                agentStatus {
                    ${dn$1}
                }
            }` }));
      return new ct$1(Kr);
    }
    async generate(Kr) {
      let { agentGenerate: kr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`mutation agentGenerate(
                $passphrase: String!
            ) {
                agentGenerate(passphrase: $passphrase) {
                    ${dn$1}
                }
            }`, variables: { passphrase: Kr } }));
      return new ct$1(kr);
    }
    async import(Kr) {
      let { did: kr, didDocument: qr, keystore: ai, passphrase: gi } = Kr, { agentImport: $i } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`mutation agentImport(
                $did: String!,
                $didDocument: String!,
                $keystore: String!,
                $passphrase: String!
            ) {
                agentImport(did: $did, didDocument: $didDocument, keystore: $keystore, passphrase: $passphrase) {
                    ${dn$1}
                }
            }`, variables: { did: kr, didDocument: qr, keystore: ai, passphrase: gi } }));
      return new ct$1($i);
    }
    async lock(Kr) {
      let { agentLock: kr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`mutation agentLock($passphrase: String!) {
                agentLock(passphrase: $passphrase) {
                    ${dn$1}
                }
            }`, variables: { passphrase: Kr } }));
      return new ct$1(kr);
    }
    async unlock(Kr) {
      let { agentUnlock: kr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`mutation agentUnlock($passphrase: String!) {
                agentUnlock(passphrase: $passphrase) {
                    ${dn$1}
                }
            }`, variables: { passphrase: Kr } }));
      return new ct$1(kr);
    }
    async byDID(Kr) {
      let { agentByDID: kr } = I$1(await Z$1(this, ie$1, "f").query({ query: O$1`query agentByDID($did: String!) {
                agentByDID(did: $did) {
                    ${ni}
                }
            }`, variables: { did: Kr } }));
      return kr;
    }
    async updatePublicPerspective(Kr) {
      let kr = JSON.parse(JSON.stringify(Kr));
      delete kr.__typename, kr.links.forEach(($i) => {
        delete $i.__typename, delete $i.data.__typename, delete $i.proof.__typename;
      });
      let { agentUpdatePublicPerspective: qr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`mutation agentUpdatePublicPerspective($perspective: PerspectiveInput!) {
                agentUpdatePublicPerspective(perspective: $perspective) {
                    ${ni}
                }
            }`, variables: { perspective: kr } })), ai = qr, gi = new tr(ai.did, ai.perspective);
      return gi.directMessageLanguage = ai.directMessageLanguage, gi;
    }
    async mutatePublicPerspective(Kr) {
      let kr = new za(Z$1(this, ie$1, "f")), qr = new Si(Z$1(this, ie$1, "f")), ai = await kr.add("Agent Perspective Proxy"), gi = await qr.me();
      gi.perspective && await ai.loadSnapshot(gi.perspective);
      for (let Ai of Kr.additions)
        await ai.add(Ai);
      for (let Ai of Kr.removals)
        await ai.remove(Ai);
      let $i = await ai.snapshot(), xi = await this.updatePublicPerspective($i);
      return await kr.remove(ai.uuid), xi;
    }
    async updateDirectMessageLanguage(Kr) {
      let { agentUpdateDirectMessageLanguage: kr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`mutation agentUpdateDirectMessageLanguage($directMessageLanguage: String!) {
                agentUpdateDirectMessageLanguage(directMessageLanguage: $directMessageLanguage) {
                    ${ni}
                }
            }`, variables: { directMessageLanguage: Kr } })), qr = kr, ai = new tr(qr.did, qr.perspective);
      return ai.directMessageLanguage = qr.directMessageLanguage, ai;
    }
    async addEntanglementProofs(Kr) {
      let { agentAddEntanglementProofs: kr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`mutation agentAddEntanglementProofs($proofs: [EntanglementProofInput!]!) {
                agentAddEntanglementProofs(proofs: $proofs) {
                    ${Ea}
                }
            }`, variables: { proofs: Kr } }));
      return kr;
    }
    async deleteEntanglementProofs(Kr) {
      let { agentDeleteEntanglementProofs: kr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`mutation agentDeleteEntanglementProofs($proofs: [EntanglementProofInput!]!) {
                agentDeleteEntanglementProofs(proofs: $proofs) {
                    ${Ea}
                }
            }`, variables: { proofs: Kr } }));
      return kr;
    }
    async getEntanglementProofs() {
      let { agentGetEntanglementProofs: Kr } = I$1(await Z$1(this, ie$1, "f").query({ query: O$1`query agentGetEntanglementProofs {
                agentGetEntanglementProofs {
                    ${Ea}
                }
            }` }));
      return Kr;
    }
    async entanglementProofPreFlight(Kr, kr) {
      let { agentEntanglementProofPreFlight: qr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`mutation agentEntanglementProofPreFlight($deviceKey: String!, $deviceKeyType: String!) {
                agentEntanglementProofPreFlight(deviceKey: $deviceKey, deviceKeyType: $deviceKeyType) {
                    ${Ea}
                }
            }`, variables: { deviceKey: Kr, deviceKeyType: kr } }));
      return qr;
    }
    addUpdatedListener(Kr) {
      Z$1(this, pi, "f").push(Kr);
    }
    addAppChangedListener(Kr) {
      Z$1(this, fi, "f").push(Kr);
    }
    subscribeAgentUpdated() {
      Z$1(this, ie$1, "f").subscribe({ query: O$1` subscription {
                agentUpdated { ${ni} }
            }   
        ` }).subscribe({ next: (Kr) => {
        let kr = Kr.data.agentUpdated;
        Z$1(this, pi, "f").forEach((qr) => {
          qr(kr);
        });
      }, error: (Kr) => console.error(Kr) });
    }
    subscribeAppsChanged() {
      Z$1(this, ie$1, "f").subscribe({ query: O$1` subscription {
                agentAppsChanged { 
                  ${wa}
                }
            }   
        ` }).subscribe({ next: (Kr) => {
        Z$1(this, fi, "f").forEach((kr) => {
          kr();
        });
      }, error: (Kr) => console.error(Kr) });
    }
    addAgentStatusChangedListener(Kr) {
      Z$1(this, di, "f").push(Kr);
    }
    subscribeAgentStatusChanged() {
      Z$1(this, ie$1, "f").subscribe({ query: O$1` subscription {
                agentStatusChanged { ${dn$1} }
            }   
        ` }).subscribe({ next: (Kr) => {
        let kr = Kr.data.agentStatusChanged;
        Z$1(this, di, "f").forEach((qr) => {
          qr(kr);
        });
      }, error: (Kr) => console.error(Kr) });
    }
    async requestCapability(Kr) {
      let { agentRequestCapability: kr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`
          mutation agentRequestCapability($authInfo: AuthInfoInput!) {
            agentRequestCapability(authInfo: $authInfo)
          }
        `, variables: { authInfo: Kr } }));
      return kr;
    }
    async permitCapability(Kr) {
      let { agentPermitCapability: kr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`
          mutation agentPermitCapability($auth: String!) {
            agentPermitCapability(auth: $auth)
          }
        `, variables: { auth: Kr } }));
      return kr;
    }
    async generateJwt(Kr, kr) {
      let { agentGenerateJwt: qr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`
          mutation agentGenerateJwt($requestId: String!, $rand: String!) {
            agentGenerateJwt(requestId: $requestId, rand: $rand)
          }
        `, variables: { requestId: Kr, rand: kr } }));
      return qr;
    }
    async getApps() {
      let { agentGetApps: Kr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`query agentGetApps {
                agentGetApps {
                    ${wa}
                }
            }` }));
      return Kr;
    }
    async removeApp(Kr) {
      let { agentRemoveApp: kr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`mutation agentRemoveApp($requestId: String!) {
                agentRemoveApp(requestId: $requestId) {
                    ${wa}
                }
            }`, variables: { requestId: Kr } }));
      return kr;
    }
    async revokeToken(Kr) {
      let { agentRevokeToken: kr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`mutation agentRevokeToken($requestId: String!) {
                agentRevokeToken(requestId: $requestId) {
                    ${wa}
                }
            }`, variables: { requestId: Kr } }));
      return kr;
    }
    async isLocked() {
      let { agentIsLocked: Kr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`
          query agentIsLocked {
            agentIsLocked
          }
        ` }));
      return Kr;
    }
    async signMessage(Kr) {
      let { agentSignMessage: kr } = I$1(await Z$1(this, ie$1, "f").mutate({ mutation: O$1`mutation agentSignMessage($message: String!) {
                agentSignMessage(message: $message) {
                    ${h2}
                }
            }`, variables: { message: Kr } }));
      return kr;
    }
  };
  ie$1 = /* @__PURE__ */ new WeakMap(), fi = /* @__PURE__ */ new WeakMap(), pi = /* @__PURE__ */ new WeakMap(), di = /* @__PURE__ */ new WeakMap();
  var m2 = function(Kr, kr, qr, ai, gi) {
    if (ai === "m")
      throw new TypeError("Private method is not writable");
    if (ai === "a" && !gi)
      throw new TypeError("Private accessor was defined without a setter");
    if (typeof kr == "function" ? Kr !== kr || !gi : !kr.has(Kr))
      throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return ai === "a" ? gi.call(Kr, qr) : gi ? gi.value = qr : kr.set(Kr, qr), qr;
  }, er = function(Kr, kr, qr, ai) {
    if (qr === "a" && !ai)
      throw new TypeError("Private accessor was defined without a getter");
    if (typeof kr == "function" ? Kr !== kr || !ai : !kr.has(Kr))
      throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return qr === "m" ? ai : qr === "a" ? ai.call(Kr) : ai ? ai.value : kr.get(Kr);
  }, vt$1, wf = `
    name
    address
    settings
    icon { code }
    constructorIcon { code }
    settingsIcon { code }
`, Ef = `
    name
    address
    description
    author
    templated
    templateSourceLanguageAddress
    templateAppliedParams
    possibleTemplateParams
    sourceCodeLink
`, zs = class {
    constructor(Kr) {
      vt$1.set(this, void 0), m2(this, vt$1, Kr, "f");
    }
    async byAddress(Kr) {
      let { language: kr } = I$1(await er(this, vt$1, "f").query({ query: O$1`query byAddress($address: String!) {
                language(address: $address) {
                    ${wf}
                }
            }`, variables: { address: Kr } }));
      return kr;
    }
    async byFilter(Kr) {
      let { languages: kr } = I$1(await er(this, vt$1, "f").query({ query: O$1`query byFilter($filter: String!) {
                languages(filter: $filter) {
                    ${wf}
                }
            }`, variables: { filter: Kr } }));
      return kr;
    }
    async all() {
      return this.byFilter("");
    }
    async writeSettings(Kr, kr) {
      let { languageWriteSettings: qr } = I$1(await er(this, vt$1, "f").mutate({ mutation: O$1`mutation writeSettings($languageAddress: String!, $settings: String!) {
                languageWriteSettings(languageAddress: $languageAddress, settings: $settings)
            }`, variables: { languageAddress: Kr, settings: kr } }));
      return qr;
    }
    async applyTemplateAndPublish(Kr, kr) {
      let { languageApplyTemplateAndPublish: qr } = I$1(await er(this, vt$1, "f").mutate({ mutation: O$1`mutation languageApplyTemplateAndPublish(
                $sourceLanguageHash: String!,
                $templateData: String!,
            ) {
                languageApplyTemplateAndPublish(sourceLanguageHash: $sourceLanguageHash, templateData: $templateData) {
                    name, address
                }
            }`, variables: { sourceLanguageHash: Kr, templateData: kr } }));
      return qr;
    }
    async publish(Kr, kr) {
      let { languagePublish: qr } = I$1(await er(this, vt$1, "f").mutate({ mutation: O$1`mutation languagePublish(
                $languagePath: String!,
                $languageMeta: LanguageMetaInput!,
            ) {
                languagePublish(languagePath: $languagePath, languageMeta: $languageMeta) {
                    ${Ef}
                }
            }`, variables: { languagePath: Kr, languageMeta: kr } }));
      return qr;
    }
    async meta(Kr) {
      let { languageMeta: kr } = I$1(await er(this, vt$1, "f").query({ query: O$1`query languageMeta(
                $address: String!,
            ) {
                languageMeta(address: $address) {
                    ${Ef}
                }
            }`, variables: { address: Kr } }));
      return kr;
    }
    async source(Kr) {
      let { languageSource: kr } = I$1(await er(this, vt$1, "f").query({ query: O$1`query languageSource(
                $address: String!,
            ) {
                languageSource(address: $address)
            }`, variables: { address: Kr } }));
      return kr;
    }
    async remove(Kr) {
      let { languageRemove: kr } = I$1(await er(this, vt$1, "f").mutate({ mutation: O$1`mutation languageRemove(
                $address: String!,
            ) {
                languageRemove(address: $address)
            }`, variables: { address: Kr } }));
      return kr;
    }
  };
  vt$1 = /* @__PURE__ */ new WeakMap();
  var y2 = function(Kr, kr, qr, ai, gi) {
    if (ai === "m")
      throw new TypeError("Private method is not writable");
    if (ai === "a" && !gi)
      throw new TypeError("Private accessor was defined without a setter");
    if (typeof kr == "function" ? Kr !== kr || !gi : !kr.has(Kr))
      throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return ai === "a" ? gi.call(Kr, qr) : gi ? gi.value = qr : kr.set(Kr, qr), qr;
  }, Le$1 = function(Kr, kr, qr, ai) {
    if (qr === "a" && !ai)
      throw new TypeError("Private accessor was defined without a getter");
    if (typeof kr == "function" ? Kr !== kr || !ai : !kr.has(Kr))
      throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return qr === "m" ? ai : qr === "a" ? ai.call(Kr) : ai ? ai.value : kr.get(Kr);
  }, Ue$1, Ar, Hs = class {
    constructor(Kr) {
      Ue$1.set(this, void 0), Ar.set(this, /* @__PURE__ */ new Map()), y2(this, Ue$1, Kr, "f");
    }
    async publishFromPerspective(Kr, kr, qr) {
      let { neighbourhoodPublishFromPerspective: ai } = I$1(await Le$1(this, Ue$1, "f").mutate({ mutation: O$1`mutation neighbourhoodPublishFromPerspective(
                $linkLanguage: String!,
                $meta: PerspectiveInput!,
                $perspectiveUUID: String!
            ) {
                neighbourhoodPublishFromPerspective(
                    linkLanguage: $linkLanguage,
                    meta: $meta,
                    perspectiveUUID: $perspectiveUUID
                )
            }`, variables: { perspectiveUUID: Kr, linkLanguage: kr, meta: qr } }));
      return ai;
    }
    async joinFromUrl(Kr) {
      let { neighbourhoodJoinFromUrl: kr } = I$1(await Le$1(this, Ue$1, "f").mutate({ mutation: O$1`    mutation neighbourhoodJoinFromUrl($url: String!) {
                neighbourhoodJoinFromUrl(url: $url) {
                    uuid
                    name
                    sharedUrl
                    state
                    neighbourhood { 
                        linkLanguage 
                        meta { 
                            links
                                {
                                    author
                                    timestamp
                                    data { source, predicate, target }
                                    proof { valid, invalid, signature, key }
                                }  
                        } 
                    }
                }
            }`, variables: { url: Kr } }));
      return kr;
    }
    async otherAgents(Kr) {
      let { neighbourhoodOtherAgents: kr } = I$1(await Le$1(this, Ue$1, "f").query({ query: O$1`query neighbourhoodOtherAgents($perspectiveUUID: String!) {
                neighbourhoodOtherAgents(perspectiveUUID: $perspectiveUUID)
            }`, variables: { perspectiveUUID: Kr } }));
      return kr;
    }
    async hasTelepresenceAdapter(Kr) {
      let { neighbourhoodHasTelepresenceAdapter: kr } = I$1(await Le$1(this, Ue$1, "f").query({ query: O$1`query neighbourhoodHasTelepresenceAdapter($perspectiveUUID: String!) {
                neighbourhoodHasTelepresenceAdapter(perspectiveUUID: $perspectiveUUID)
            }`, variables: { perspectiveUUID: Kr } }));
      return kr;
    }
    async onlineAgents(Kr) {
      let { neighbourhoodOnlineAgents: kr } = I$1(await Le$1(this, Ue$1, "f").query({ query: O$1`query neighbourhoodOnlineAgents($perspectiveUUID: String!) {
                neighbourhoodOnlineAgents(perspectiveUUID: $perspectiveUUID) {
                    did
                    status {
                        author
                        timestamp
                        data { 
                            links {
                                author
                                timestamp
                                data { source, predicate, target }
                                proof { valid, invalid, signature, key }
                            }
                        }
                        proof { valid, invalid, signature, key }
                    }
                }
            }`, variables: { perspectiveUUID: Kr } }));
      return kr;
    }
    async setOnlineStatus(Kr, kr) {
      let { neighbourhoodSetOnlineStatus: qr } = I$1(await Le$1(this, Ue$1, "f").mutate({ mutation: O$1`mutation neighbourhoodSetOnlineStatus(
                $perspectiveUUID: String!,
                $status: PerspectiveInput!
            ) {
                neighbourhoodSetOnlineStatus(
                    perspectiveUUID: $perspectiveUUID,
                    status: $status
                )
            }`, variables: { perspectiveUUID: Kr, status: kr } }));
      return qr;
    }
    async setOnlineStatusU(Kr, kr) {
      let { neighbourhoodSetOnlineStatusU: qr } = I$1(await Le$1(this, Ue$1, "f").mutate({ mutation: O$1`mutation neighbourhoodSetOnlineStatusU(
                $perspectiveUUID: String!,
                $status: PerspectiveUnsignedInput!
            ) {
                neighbourhoodSetOnlineStatusU(
                    perspectiveUUID: $perspectiveUUID,
                    status: $status
                )
            }`, variables: { perspectiveUUID: Kr, status: kr } }));
      return qr;
    }
    async sendSignal(Kr, kr, qr) {
      let { neighbourhoodSendSignal: ai } = I$1(await Le$1(this, Ue$1, "f").mutate({ mutation: O$1`mutation neighbourhoodSendSignal(
                $perspectiveUUID: String!,
                $remoteAgentDid: String!,
                $payload: PerspectiveInput!
            ) {
                neighbourhoodSendSignal(
                    perspectiveUUID: $perspectiveUUID,
                    remoteAgentDid: $remoteAgentDid,
                    payload: $payload
                )
            }`, variables: { perspectiveUUID: Kr, remoteAgentDid: kr, payload: qr } }));
      return ai;
    }
    async sendSignalU(Kr, kr, qr) {
      let { neighbourhoodSendSignalU: ai } = I$1(await Le$1(this, Ue$1, "f").mutate({ mutation: O$1`mutation neighbourhoodSendSignalU(
                $perspectiveUUID: String!,
                $remoteAgentDid: String!,
                $payload: PerspectiveUnsignedInput!
            ) {
                neighbourhoodSendSignalU(
                    perspectiveUUID: $perspectiveUUID,
                    remoteAgentDid: $remoteAgentDid,
                    payload: $payload
                )
            }`, variables: { perspectiveUUID: Kr, remoteAgentDid: kr, payload: qr } }));
      return ai;
    }
    async sendBroadcast(Kr, kr) {
      let { neighbourhoodSendBroadcast: qr } = I$1(await Le$1(this, Ue$1, "f").mutate({ mutation: O$1`mutation neighbourhoodSendBroadcast(
                $perspectiveUUID: String!,
                $payload: PerspectiveInput!
            ) {
                neighbourhoodSendBroadcast(
                    perspectiveUUID: $perspectiveUUID,
                    payload: $payload
                )
            }`, variables: { perspectiveUUID: Kr, payload: kr } }));
      return qr;
    }
    async sendBroadcastU(Kr, kr) {
      let { neighbourhoodSendBroadcastU: qr } = I$1(await Le$1(this, Ue$1, "f").mutate({ mutation: O$1`mutation neighbourhoodSendBroadcastU(
                $perspectiveUUID: String!,
                $payload: PerspectiveUnsignedInput!
            ) {
                neighbourhoodSendBroadcastU(
                    perspectiveUUID: $perspectiveUUID,
                    payload: $payload
                )
            }`, variables: { perspectiveUUID: Kr, payload: kr } }));
      return qr;
    }
    dispatchSignal(Kr, kr) {
      let qr = Le$1(this, Ar, "f").get(Kr);
      qr && qr.forEach((ai) => ai(kr));
    }
    async subscribeToSignals(Kr) {
      let kr = this;
      await Le$1(this, Ue$1, "f").subscribe({ query: O$1`subscription neighbourhoodSignal($perspectiveUUID: String!) {
                neighbourhoodSignal(perspectiveUUID: $perspectiveUUID) {
                    author
                    timestamp
                    data {
                        links
                            {
                                author
                                timestamp
                                data { source, predicate, target }
                                proof { valid, invalid, signature, key }
                            }  
                    }
                    proof { valid, invalid, signature, key }
                }
            }`, variables: { perspectiveUUID: Kr } }).subscribe({ next: (qr) => {
        let { neighbourhoodSignal: ai } = I$1(qr);
        kr.dispatchSignal(Kr, ai);
      } });
    }
    async addSignalHandler(Kr, kr) {
      let qr = Le$1(this, Ar, "f").get(Kr);
      qr || (qr = [], await this.subscribeToSignals(Kr)), qr.push(kr), Le$1(this, Ar, "f").set(Kr, qr);
    }
    removeSignalHandler(Kr, kr) {
      let qr = Le$1(this, Ar, "f").get(Kr);
      if (qr) {
        let ai = qr.indexOf(kr);
        ai > -1 && qr.splice(ai, 1);
      }
      Le$1(this, Ar, "f").set(Kr, qr);
    }
  };
  Ue$1 = /* @__PURE__ */ new WeakMap(), Ar = /* @__PURE__ */ new WeakMap();
  var Ms = function(Kr, kr, qr, ai, gi) {
    if (ai === "m")
      throw new TypeError("Private method is not writable");
    if (ai === "a" && !gi)
      throw new TypeError("Private accessor was defined without a setter");
    if (typeof kr == "function" ? Kr !== kr || !gi : !kr.has(Kr))
      throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return ai === "a" ? gi.call(Kr, qr) : gi ? gi.value = qr : kr.set(Kr, qr), qr;
  }, oe$1 = function(Kr, kr, qr, ai) {
    if (qr === "a" && !ai)
      throw new TypeError("Private accessor was defined without a getter");
    if (typeof kr == "function" ? Kr !== kr || !ai : !kr.has(Kr))
      throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return qr === "m" ? ai : qr === "a" ? ai.call(Kr) : ai ? ai.value : kr.get(Kr);
  }, ue$1, hi, mi, xa = `
author
timestamp
data { 
    links {
        author
        timestamp
        data { source, predicate, target }
        proof { valid, invalid, signature, key }
    }  
}
proof { valid, invalid, signature, key }
`, Js = class {
    constructor(Kr, kr = !0) {
      ue$1.set(this, void 0), hi.set(this, void 0), mi.set(this, void 0), Ms(this, ue$1, Kr, "f"), Ms(this, hi, [], "f"), Ms(this, mi, [], "f"), kr && (this.subscribeMessageReceived(), this.subscribeExceptionOccurred());
    }
    async info() {
      let { runtimeInfo: Kr } = I$1(await oe$1(this, ue$1, "f").query({ query: O$1`query runtimeInfo {
                runtimeInfo {
                    ad4mExecutorVersion,
                    isInitialized,
                    isUnlocked
                }
            }` }));
      return Kr;
    }
    async quit() {
      return I$1(await oe$1(this, ue$1, "f").mutate({ mutation: O$1`mutation runtimeQuit { runtimeQuit }` })).runtimeQuit;
    }
    async openLink(Kr) {
      let { runtimeOpenLink: kr } = I$1(await oe$1(this, ue$1, "f").mutate({ mutation: O$1`mutation runtimeOpenLink($url: String!) {
                runtimeOpenLink(url: $url)
            }`, variables: { url: Kr } }));
      return kr;
    }
    async addTrustedAgents(Kr) {
      let { addTrustedAgents: kr } = I$1(await oe$1(this, ue$1, "f").mutate({ mutation: O$1`mutation addTrustedAgents($agents: [String!]!) {
                addTrustedAgents(agents: $agents)
            }`, variables: { agents: Kr } }));
      return kr;
    }
    async deleteTrustedAgents(Kr) {
      let { deleteTrustedAgents: kr } = I$1(await oe$1(this, ue$1, "f").mutate({ mutation: O$1`mutation deleteTrustedAgents($agents: [String!]!) {
                deleteTrustedAgents(agents: $agents)
            }`, variables: { agents: Kr } }));
      return kr;
    }
    async getTrustedAgents() {
      let { getTrustedAgents: Kr } = I$1(await oe$1(this, ue$1, "f").query({ query: O$1`query getTrustedAgents {
                getTrustedAgents
            }` }));
      return Kr;
    }
    async addKnownLinkLanguageTemplates(Kr) {
      let { runtimeAddKnownLinkLanguageTemplates: kr } = I$1(await oe$1(this, ue$1, "f").mutate({ mutation: O$1`mutation runtimeAddKnownLinkLanguageTemplates($addresses: [String!]!) {
                runtimeAddKnownLinkLanguageTemplates(addresses: $addresses)
            }`, variables: { addresses: Kr } }));
      return kr;
    }
    async removeKnownLinkLanguageTemplates(Kr) {
      let { runtimeRemoveKnownLinkLanguageTemplates: kr } = I$1(await oe$1(this, ue$1, "f").mutate({ mutation: O$1`mutation runtimeRemoveKnownLinkLanguageTemplates($addresses: [String!]!) {
                runtimeRemoveKnownLinkLanguageTemplates(addresses: $addresses)
            }`, variables: { addresses: Kr } }));
      return kr;
    }
    async knownLinkLanguageTemplates() {
      let { runtimeKnownLinkLanguageTemplates: Kr } = I$1(await oe$1(this, ue$1, "f").query({ query: O$1`query runtimeKnownLinkLanguageTemplates {
                runtimeKnownLinkLanguageTemplates
            }` }));
      return Kr;
    }
    async addFriends(Kr) {
      let { runtimeAddFriends: kr } = I$1(await oe$1(this, ue$1, "f").mutate({ mutation: O$1`mutation runtimeAddFriends($dids: [String!]!) {
                runtimeAddFriends(dids: $dids)
            }`, variables: { dids: Kr } }));
      return kr;
    }
    async removeFriends(Kr) {
      let { runtimeRemoveFriends: kr } = I$1(await oe$1(this, ue$1, "f").mutate({ mutation: O$1`mutation runtimeRemoveFriends($dids: [String!]!) {
                runtimeRemoveFriends(dids: $dids)
            }`, variables: { dids: Kr } }));
      return kr;
    }
    async friends() {
      let { runtimeFriends: Kr } = I$1(await oe$1(this, ue$1, "f").query({ query: O$1`query runtimeFriends {
                runtimeFriends
            }` }));
      return Kr;
    }
    async hcAgentInfos() {
      let { runtimeHcAgentInfos: Kr } = I$1(await oe$1(this, ue$1, "f").query({ query: O$1`query runtimeHcAgentInfos {
                runtimeHcAgentInfos
            }` }));
      return Kr;
    }
    async hcAddAgentInfos(Kr) {
      let { runtimeHcAddAgentInfos: kr } = I$1(await oe$1(this, ue$1, "f").mutate({ mutation: O$1`mutation runtimeHcAddAgentInfos($agentInfos: String!) {
                runtimeHcAddAgentInfos(agentInfos: $agentInfos)
            }`, variables: { agentInfos: Kr } }));
      return kr;
    }
    async verifyStringSignedByDid(Kr, kr, qr, ai) {
      let { runtimeVerifyStringSignedByDid: gi } = I$1(await oe$1(this, ue$1, "f").mutate({ mutation: O$1`query runtimeVerifyStringSignedByDid($did: String!, $didSigningKeyId: String!, $data: String!, $signedData: String!) {
                runtimeVerifyStringSignedByDid(did: $did, didSigningKeyId: $didSigningKeyId, data: $data, signedData: $signedData)
            }`, variables: { did: Kr, didSigningKeyId: kr, data: qr, signedData: ai } }));
      return gi;
    }
    async setStatus(Kr) {
      let { runtimeSetStatus: kr } = I$1(await oe$1(this, ue$1, "f").mutate({ mutation: O$1`mutation runtimeSetStatus($status: PerspectiveInput!) {
                runtimeSetStatus(status: $status)
            }`, variables: { status: Kr } }));
      return kr;
    }
    async friendStatus(Kr) {
      let { runtimeFriendStatus: kr } = I$1(await oe$1(this, ue$1, "f").query({ query: O$1`query runtimeFriendStatus($did: String!) {
                runtimeFriendStatus(did: $did) { ${xa} }
            }`, variables: { did: Kr } }));
      return kr;
    }
    async friendSendMessage(Kr, kr) {
      let { runtimeFriendSendMessage: qr } = I$1(await oe$1(this, ue$1, "f").mutate({ mutation: O$1`mutation runtimeFriendSendMessage($did: String!, $message: PerspectiveInput!) {
                runtimeFriendSendMessage(did: $did, message: $message)
            }`, variables: { did: Kr, message: kr } }));
      return qr;
    }
    async messageInbox(Kr) {
      let { runtimeMessageInbox: kr } = I$1(await oe$1(this, ue$1, "f").query({ query: O$1`query runtimeMessageInbox($filter: String) {
                runtimeMessageInbox(filter: $filter) { ${xa} }
            }`, variables: { filter: Kr } }));
      return kr;
    }
    async messageOutbox(Kr) {
      let { runtimeMessageOutbox: kr } = I$1(await oe$1(this, ue$1, "f").query({ query: O$1`query runtimeMessageOutbox($filter: String) {
                runtimeMessageOutbox(filter: $filter) { 
                    recipient,
                    message {
                        ${xa} 
                    }
                }
            }`, variables: { filter: Kr } }));
      return kr;
    }
    addMessageCallback(Kr) {
      oe$1(this, hi, "f").push(Kr);
    }
    subscribeMessageReceived() {
      oe$1(this, ue$1, "f").subscribe({ query: O$1` subscription {
                runtimeMessageReceived { ${xa} }
            }   
        ` }).subscribe({ next: (Kr) => {
        oe$1(this, hi, "f").forEach((kr) => {
          kr(Kr.data.runtimeMessageReceived);
        });
      }, error: (Kr) => console.error(Kr) });
    }
    addExceptionCallback(Kr) {
      oe$1(this, mi, "f").push(Kr);
    }
    subscribeExceptionOccurred() {
      oe$1(this, ue$1, "f").subscribe({ query: O$1` subscription {
                exceptionOccurred {
                    title
                    message
                    type
                    addon
                }
            }` }).subscribe({ next: (Kr) => {
        oe$1(this, mi, "f").forEach((kr) => {
          kr(Kr.data.exceptionOccurred);
        });
      }, error: (Kr) => console.error(Kr) });
    }
  };
  ue$1 = /* @__PURE__ */ new WeakMap(), hi = /* @__PURE__ */ new WeakMap(), mi = /* @__PURE__ */ new WeakMap();
  var v2 = function(Kr, kr, qr, ai, gi) {
    if (ai === "m")
      throw new TypeError("Private method is not writable");
    if (ai === "a" && !gi)
      throw new TypeError("Private accessor was defined without a setter");
    if (typeof kr == "function" ? Kr !== kr || !gi : !kr.has(Kr))
      throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return ai === "a" ? gi.call(Kr, qr) : gi ? gi.value = qr : kr.set(Kr, qr), qr;
  }, hn$1 = function(Kr, kr, qr, ai) {
    if (qr === "a" && !ai)
      throw new TypeError("Private accessor was defined without a getter");
    if (typeof kr == "function" ? Kr !== kr || !ai : !kr.has(Kr))
      throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return qr === "m" ? ai : qr === "a" ? ai.call(Kr) : ai ? ai.value : kr.get(Kr);
  }, Ft$1, Ys = class {
    constructor(Kr) {
      Ft$1.set(this, void 0), v2(this, Ft$1, Kr, "f");
    }
    async get(Kr) {
      let { expression: kr } = I$1(await hn$1(this, Ft$1, "f").query({ query: O$1`query expression($url: String!) {
                expression(url: $url) {
                    author
                    timestamp
                    data
                    language {
                        address
                    }
                    proof {
                        valid
                        invalid
                    }
                }
            }`, variables: { url: Kr } }));
      return kr;
    }
    async getMany(Kr) {
      let { expressionMany: kr } = I$1(await hn$1(this, Ft$1, "f").query({ query: O$1`query expressionMany($urls: [String!]!) {
                expressionMany(urls: $urls) {
                    author
                    timestamp
                    data
                    language {
                        address
                    }
                    proof {
                        valid
                        invalid
                    }
                }
            }`, variables: { urls: Kr } }));
      return kr;
    }
    async getRaw(Kr) {
      let { expressionRaw: kr } = I$1(await hn$1(this, Ft$1, "f").query({ query: O$1`query expressionRaw($url: String!) {
                expressionRaw(url: $url)
            }`, variables: { url: Kr } }));
      return kr;
    }
    async create(Kr, kr) {
      Kr = JSON.stringify(Kr);
      let { expressionCreate: qr } = I$1(await hn$1(this, Ft$1, "f").mutate({ mutation: O$1`mutation expressionCreate($content: String!, $languageAddress: String!){
                expressionCreate(content: $content, languageAddress: $languageAddress)
            }`, variables: { content: Kr, languageAddress: kr } }));
      return qr;
    }
    async interactions(Kr) {
      let { expressionInteractions: kr } = I$1(await hn$1(this, Ft$1, "f").query({ query: O$1`query expressionInteractions($url: String!) {
                expressionInteractions(url: $url) { 
                    label
                    name
                    parameters { name, type }
                }
            }`, variables: { url: Kr } }));
      return kr;
    }
    async interact(Kr, kr) {
      let { expressionInteract: qr } = I$1(await hn$1(this, Ft$1, "f").mutate({ mutation: O$1`mutation expressionInteract($url: String!, $interactionCall: InteractionCall!){
                expressionInteract(url: $url, interactionCall: $interactionCall)
            }`, variables: { url: Kr, interactionCall: kr } }));
      return qr;
    }
  };
  Ft$1 = /* @__PURE__ */ new WeakMap();
  var xr = function(Kr, kr, qr, ai, gi) {
    if (ai === "m")
      throw new TypeError("Private method is not writable");
    if (ai === "a" && !gi)
      throw new TypeError("Private accessor was defined without a setter");
    if (typeof kr == "function" ? Kr !== kr || !gi : !kr.has(Kr))
      throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return ai === "a" ? gi.call(Kr, qr) : gi ? gi.value = qr : kr.set(Kr, qr), qr;
  }, $e$1 = function(Kr, kr, qr, ai) {
    if (qr === "a" && !ai)
      throw new TypeError("Private accessor was defined without a getter");
    if (typeof kr == "function" ? Kr !== kr || !ai : !kr.has(Kr))
      throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return qr === "m" ? ai : qr === "a" ? ai.call(Kr) : ai ? ai.value : kr.get(Kr);
  }, $t$1, La, yi, Fa, vi, vn$1, $a, Ha = class {
    constructor(Kr, kr = !0) {
      $t$1.set(this, void 0), La.set(this, void 0), yi.set(this, void 0), Fa.set(this, void 0), vi.set(this, void 0), vn$1.set(this, void 0), $a.set(this, void 0), xr(this, $t$1, Kr, "f"), xr(this, La, new Si($e$1(this, $t$1, "f"), kr), "f"), xr(this, yi, new Ys($e$1(this, $t$1, "f")), "f"), xr(this, Fa, new zs($e$1(this, $t$1, "f")), "f"), xr(this, vi, new Hs($e$1(this, $t$1, "f")), "f"), xr(this, vn$1, new za($e$1(this, $t$1, "f"), kr), "f"), $e$1(this, vn$1, "f").setExpressionClient($e$1(this, yi, "f")), $e$1(this, vn$1, "f").setNeighbourhoodClient($e$1(this, vi, "f")), xr(this, $a, new Js($e$1(this, $t$1, "f"), kr), "f");
    }
    get agent() {
      return $e$1(this, La, "f");
    }
    get expression() {
      return $e$1(this, yi, "f");
    }
    get languages() {
      return $e$1(this, Fa, "f");
    }
    get neighbourhood() {
      return $e$1(this, vi, "f");
    }
    get perspective() {
      return $e$1(this, vn$1, "f");
    }
    get runtime() {
      return $e$1(this, $a, "f");
    }
  };
  $t$1 = /* @__PURE__ */ new WeakMap(), La = /* @__PURE__ */ new WeakMap(), yi = /* @__PURE__ */ new WeakMap(), Fa = /* @__PURE__ */ new WeakMap(), vi = /* @__PURE__ */ new WeakMap(), vn$1 = /* @__PURE__ */ new WeakMap(), $a = /* @__PURE__ */ new WeakMap();
  var xf;
  (function(Kr) {
    Kr[Kr.LanguageIsNotLoaded = 0] = "LanguageIsNotLoaded", Kr[Kr.ExpressionIsNotVerified = 1] = "ExpressionIsNotVerified", Kr[Kr.AgentIsUntrusted = 2] = "AgentIsUntrusted", Kr[Kr.CapabilityRequested = 3] = "CapabilityRequested";
  })(xf || (xf = {}));
  var rc = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, nc = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, Dr = class {
    constructor(Kr, kr) {
      this.language = Kr, this.expression = kr;
    }
  };
  rc([_$1(), nc("design:type", Tt$1)], Dr.prototype, "language", void 0);
  rc([_$1(), nc("design:type", String)], Dr.prototype, "expression", void 0);
  Dr = rc([J$1(), nc("design:paramtypes", [Tt$1, String])], Dr);
  var nt$1 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, It$1 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, Ja = class {
  };
  nt$1([_$1(), It$1("design:type", String)], Ja.prototype, "name", void 0);
  nt$1([_$1(), It$1("design:type", String)], Ja.prototype, "type", void 0);
  Ja = nt$1([J$1()], Ja);
  var wi = class {
  };
  nt$1([_$1(), It$1("design:type", String)], wi.prototype, "label", void 0);
  nt$1([_$1(), It$1("design:type", String)], wi.prototype, "name", void 0);
  nt$1([_$1(), It$1("design:type", Array)], wi.prototype, "parameters", void 0);
  wi = nt$1([J$1()], wi);
  var Ya = class {
    get parameters() {
      return JSON.parse(this.parametersStringified);
    }
    constructor(Kr, kr) {
      this.name = Kr, this.parametersStringified = JSON.stringify(kr);
    }
  };
  nt$1([_$1(), It$1("design:type", String)], Ya.prototype, "name", void 0);
  nt$1([_$1(), It$1("design:type", String)], Ya.prototype, "parametersStringified", void 0);
  Ya = nt$1([Be$1(), It$1("design:paramtypes", [String, Object])], Ya);
  var Xa = class {
  };
  nt$1([_$1(), It$1("design:type", String)], Xa.prototype, "did", void 0);
  nt$1([_$1(), It$1("design:type", Gs)], Xa.prototype, "status", void 0);
  Xa = nt$1([J$1()], Xa);
  var jr = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, In$1 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, sr = class {
  };
  jr([_$1(), In$1("design:type", String)], sr.prototype, "name", void 0);
  jr([_$1(), In$1("design:type", String)], sr.prototype, "address", void 0);
  jr([_$1(), In$1("design:type", String)], sr.prototype, "settings", void 0);
  jr([_$1(), In$1("design:type", Nr)], sr.prototype, "icon", void 0);
  jr([_$1(), In$1("design:type", Nr)], sr.prototype, "constructorIcon", void 0);
  jr([_$1(), In$1("design:type", Nr)], sr.prototype, "settingsIcon", void 0);
  sr = jr([J$1()], sr);
  var Qe$1 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, Ye$1 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, bt$1 = class {
  };
  Qe$1([_$1(), Ye$1("design:type", String)], bt$1.prototype, "name", void 0);
  Qe$1([_$1(), Ye$1("design:type", String)], bt$1.prototype, "address", void 0);
  Qe$1([_$1(), Ye$1("design:type", String)], bt$1.prototype, "description", void 0);
  Qe$1([_$1(), Ye$1("design:type", String)], bt$1.prototype, "author", void 0);
  Qe$1([_$1(), Ye$1("design:type", Boolean)], bt$1.prototype, "templated", void 0);
  Qe$1([_$1(), Ye$1("design:type", String)], bt$1.prototype, "templateSourceLanguageAddress", void 0);
  Qe$1([_$1(), Ye$1("design:type", String)], bt$1.prototype, "templateAppliedParams", void 0);
  Qe$1([_$1(), Ye$1("design:type", Array)], bt$1.prototype, "possibleTemplateParams", void 0);
  Qe$1([_$1(), Ye$1("design:type", String)], bt$1.prototype, "sourceCodeLink", void 0);
  bt$1 = Qe$1([J$1()], bt$1);
  var xn$1 = class {
    constructor(kr, qr) {
      this.name = kr, this.description = qr, this.description || (this.description = "");
    }
  };
  Qe$1([_$1(), Ye$1("design:type", String)], xn$1.prototype, "name", void 0);
  Qe$1([_$1(), Ye$1("design:type", String)], xn$1.prototype, "description", void 0);
  Qe$1([_$1(), Ye$1("design:type", Array)], xn$1.prototype, "possibleTemplateParams", void 0);
  Qe$1([_$1(), Ye$1("design:type", String)], xn$1.prototype, "sourceCodeLink", void 0);
  xn$1 = Qe$1([Be$1(), Ye$1("design:paramtypes", [String, String])], xn$1);
  (class extends cr() {
  });
  var to = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, ic = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, Ei = class {
    constructor(Kr, kr) {
      this.linkLanguage = Kr, this.meta = kr;
    }
  };
  to([_$1(), ic("design:type", String)], Ei.prototype, "linkLanguage", void 0);
  to([_$1(), ic("design:type", nr)], Ei.prototype, "meta", void 0);
  Ei = to([J$1(), ic("design:paramtypes", [String, nr])], Ei);
  var kf = class extends cr() {
  };
  kf = to([J$1()], kf);
  var An$1 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, kn$1 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, Xs;
  (function(Kr) {
    Kr.Private = "Private", Kr.NeighbourhoodJoinInitiated = "NeighbourhoodJoinInitiated", Kr.LinkLanguageFailedToInstall = "LinkLanguageFailedToInstall", Kr.LinkLanguageInstalledButNotSynced = "LinkLanguageInstalledButNotSynced", Kr.Synced = "Synced";
  })(Xs || (Xs = {}));
  var Lr = class {
    constructor(Kr, kr, qr) {
      this.uuid = Kr, this.name = kr, qr ? this.state = qr : this.state = Xs.Private;
    }
  };
  An$1([_$1(), kn$1("design:type", String)], Lr.prototype, "uuid", void 0);
  An$1([_$1(), kn$1("design:type", String)], Lr.prototype, "name", void 0);
  An$1([_$1(), kn$1("design:type", String)], Lr.prototype, "state", void 0);
  An$1([_$1(), kn$1("design:type", String)], Lr.prototype, "sharedUrl", void 0);
  An$1([_$1(), kn$1("design:type", Ei)], Lr.prototype, "neighbourhood", void 0);
  Lr = An$1([J$1(), kn$1("design:paramtypes", [String, String, String])], Lr);
  var ro = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, Yf = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, Za = class {
  };
  ro([_$1(), Yf("design:type", Array)], Za.prototype, "additions", void 0);
  ro([_$1(), Yf("design:type", Array)], Za.prototype, "removals", void 0);
  Za = ro([J$1()], Za);
  var Df = class extends cr() {
  };
  Df = ro([J$1()], Df);
  function Rf(Kr) {
    return Kr != null && Kr.length ? Kr.length === 1 ? Kr.toString() : Kr.length === 2 ? Kr.join(" and ") : Kr.slice(0, -1).join(", ") + ", and " + Kr.slice(-1) : "";
  }
  function Zf(Kr) {
    let kr = Kr.can.includes("*") ? ["READ", "WRITE", "UPDATE"] : Kr.can, qr = Kr.with.domain === "*" ? "" : Kr.with.domain, ai = Kr.with.pointers.includes("*") ? ["all AD4M data"] : Kr.with.pointers;
    return `${Rf(kr)} your ${qr} actions, with access to ${Rf(ai)}`;
  }
  var no = "0.3.4-fix1";
  function _2() {
    let Kr = new AbortController();
    return setTimeout(() => Kr.abort(), 20), Kr;
  }
  function ac(Kr, kr = 5e3) {
    return me$1(this, null, function* () {
      return Promise.race([new Promise((qr, ai) => {
        let gi = new WebSocket(Kr);
        gi.onopen = () => {
          qr(gi);
        }, gi.onerror = ($i) => {
          ai($i);
        };
      }), new Promise((qr, ai) => {
        setTimeout(() => {
          ai(new Error("WebSocket connection timed out"));
        }, kr);
      })]);
    });
  }
  function oc(Kr) {
    return me$1(this, null, function* () {
      try {
        let kr = yield fetch(`http://localhost:${Kr}/graphql/`, { signal: _2().signal, mode: "no-cors" });
        if (kr.status === 400 || kr.status === 0)
          return Kr;
        throw new Error(`Could not connect to port ${Kr}`);
      } catch {
        throw new Error(`Could not connect to port ${Kr}`);
      }
    });
  }
  function sc() {
    try {
      localStorage.setItem("test", ""), localStorage.removeItem("test");
    } catch {
      return !1;
    }
    return !0;
  }
  function ep(Kr, kr) {
    sc() && localStorage.setItem(`${no}/${Kr}`, kr);
  }
  function Ur(Kr) {
    return sc() ? localStorage.getItem(`${no}/${Kr}`) : null;
  }
  function tp(Kr) {
    sc() && localStorage.removeItem(`${no}/${Kr}`);
  }
  var w2 = (Kr) => {
    let kr = /* @__PURE__ */ new Set();
    do
      for (let qr of Reflect.ownKeys(Kr))
        kr.add([Kr, qr]);
    while ((Kr = Reflect.getPrototypeOf(Kr)) && Kr !== Object.prototype);
    return kr;
  };
  function Ti(Kr, { include: kr, exclude: qr } = {}) {
    let ai = (gi) => {
      let $i = (xi) => typeof xi == "string" ? gi === xi : xi.test(gi);
      return kr ? kr.some($i) : qr ? !qr.some($i) : !0;
    };
    for (let [gi, $i] of w2(Kr.constructor.prototype)) {
      if ($i === "constructor" || !ai($i))
        continue;
      let xi = Reflect.getOwnPropertyDescriptor(gi, $i);
      xi && typeof xi.value == "function" && (Kr[$i] = Kr[$i].bind(Kr));
    }
    return Kr;
  }
  var Ii = class {
    constructor({ appName: Kr, appDesc: kr, appIconPath: qr, appUrl: ai, appDomain: gi, capabilities: $i, port: xi, token: Ai, url: Li }) {
      this.activeSocket = null, this.requestedRestart = !1, this.authState = "unauthenticated", this.connectionState = "not_connected", this.port = 12e3, this.capabilities = [], this.listeners = { authstatechange: [], configstatechange: [], connectionstatechange: [] }, Ti(this), this.appName = Kr, this.appDesc = kr, this.appDomain = gi, this.appUrl = ai, this.appIconPath = qr, this.capabilities = $i, this.port = xi || this.port, this.url = Li || `ws://localhost:${this.port}/graphql`, this.token = Ai || this.token, this.buildClient();
    }
    notifyConfigChange(Kr, kr) {
      this.listeners.configstatechange.forEach((qr) => {
        qr(Kr, kr);
      });
    }
    notifyConnectionChange(Kr) {
      this.connectionState !== Kr && (this.connectionState = Kr, this.listeners.connectionstatechange.forEach((kr) => {
        kr(Kr);
      }));
    }
    notifyAuthChange(Kr) {
      this.authState !== Kr && (this.authState = Kr, this.listeners.authstatechange.forEach((kr) => {
        kr(Kr);
      }));
    }
    setPort(Kr) {
      this.port !== Kr && (this.port = Kr, this.setUrl(`ws://localhost:${this.port}/graphql`), this.notifyConfigChange("port", Kr));
    }
    setUrl(Kr) {
      this.url !== Kr && (this.url = Kr, this.notifyConfigChange("url", Kr));
    }
    setToken(Kr) {
      this.token !== Kr && (this.token = Kr, this.notifyConfigChange("token", Kr));
    }
    on(Kr, kr) {
      this.listeners[Kr].push(kr);
    }
    connect(Kr) {
      return me$1(this, null, function* () {
        try {
          if (Kr) {
            yield ac(Kr, 1e4), this.setUrl(Kr);
            let kr = this.buildClient();
            return yield this.checkAuth(), kr;
          } else {
            let kr = yield this.ensureConnection();
            return yield this.checkAuth(), kr;
          }
        } catch {
          this.notifyConnectionChange("not_connected"), this.notifyAuthChange("unauthenticated");
        }
      });
    }
    connectToPort(Kr) {
      return me$1(this, null, function* () {
        try {
          if (Kr) {
            let kr = yield oc(Kr);
            this.setPort(kr);
          } else {
            let kr = yield this.findPort();
            this.setPort(kr);
          }
          return this.buildClient();
        } catch {
          this.notifyConnectionChange("not_connected"), this.notifyAuthChange("unauthenticated");
        }
      });
    }
    ensureConnection() {
      return me$1(this, null, function* () {
        var Kr, kr;
        if (((Kr = this.activeSocket) == null ? void 0 : Kr.readyState) === WebSocket.OPEN && ((kr = this.activeSocket) == null ? void 0 : kr.url) === this.url && this.ad4mClient)
          return this.ad4mClient;
        try {
          return yield ac(this.url, 1e4), this.buildClient();
        } catch {
          return this.connectToPort();
        }
      });
    }
    findPort() {
      return me$1(this, null, function* () {
        let Kr = [...Array(10).keys()].map((qr, ai) => oc(12e3 + ai)), kr = (yield Promise.allSettled(Kr)).find((qr) => qr.status === "fulfilled");
        if (kr)
          return kr.value;
        throw Error("Couldn't find an open port");
      });
    }
    buildClient() {
      this.notifyConnectionChange("connecting");
      try {
        new WebSocket(this.url);
      } catch {
        this.notifyConnectionChange("not_connected");
      }
      return this.apolloClient && this.wsClient && (this.requestedRestart = !0, this.wsClient.dispose(), this.apolloClient.stop()), this.wsClient = lf({ url: this.url, connectionParams: () => me$1(this, null, function* () {
        return { headers: { authorization: this.token } };
      }), on: { connecting: () => {
        this.requestedRestart || this.notifyConnectionChange("connecting");
      }, opened: (Kr) => {
        this.activeSocket = Kr;
      }, error: (Kr) => {
        this.notifyConnectionChange("not_connected"), this.notifyAuthChange("unauthenticated");
      }, connected: () => {
        this.notifyConnectionChange("connected");
      }, closed: () => {
        this.requestedRestart || (this.notifyConnectionChange(this.token ? "disconnected" : "not_connected"), this.notifyAuthChange("unauthenticated"), this.requestedRestart = !1);
      } } }), this.apolloClient = new ks({ link: new ff(this.wsClient), cache: new ma({ resultCaching: !1, addTypename: !1 }), defaultOptions: { watchQuery: { fetchPolicy: "no-cache" }, query: { fetchPolicy: "no-cache" }, mutate: { fetchPolicy: "no-cache" } } }), this.ad4mClient = new Ha(this.apolloClient), this.ad4mClient;
    }
    checkAuth() {
      return me$1(this, null, function* () {
        try {
          return (yield this.ad4mClient.agent.isLocked()) ? this.notifyAuthChange("locked") : (yield this.ad4mClient.agent.status(), this.notifyAuthChange("authenticated")), !0;
        } catch (Kr) {
          return Kr.message === "Socket closed with event 4500 Cannot extractByTags from a ciphered wallet. You must unlock first." ? (this.notifyAuthChange("locked"), !0) : (this.notifyAuthChange("unauthenticated"), !1);
        }
      });
    }
    requestCapability(Kr = !1) {
      return me$1(this, null, function* () {
        var kr;
        return Kr && this.setToken(null), this.requestId = yield (kr = this.ad4mClient) == null ? void 0 : kr.agent.requestCapability({ appName: this.appName, appDesc: this.appDesc, appUrl: this.appUrl, appIconPath: this.appIconPath, appDomain: this.appDomain, capabilities: this.capabilities }), this.requestId;
      });
    }
    verifyCode(Kr) {
      return me$1(this, null, function* () {
        var kr;
        let qr = yield (kr = this.ad4mClient) == null ? void 0 : kr.agent.generateJwt(this.requestId, Kr);
        return this.setToken(qr), yield this.buildClient(), yield this.checkAuth(), this.token;
      });
    }
  };
  function cc() {
    return Y$1`
    <div>
      <div class="lds-ring">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
  `;
  }
  function uc({ port: Kr, url: kr, isRemote: qr, connectToPort: ai, changeIsRemote: gi, connectRemote: $i, changeState: xi, changeUrl: Ai, changePort: Li }) {
    return Y$1`
    <div class="items items--small">
      <div class="text-center">
        <h1 class="heading">Connection Settings</h1>
        <p class="body">Please choose how you want to connect to AD4M</p>
      </div>
      <div style="display: flex; gap: 10px;">
        <button class=${`button ${qr ? "button--secondary" : "button--primary"}`} @click=${() => gi(!1)}>
          Locally
        </button>
        <button class=${`button ${qr ? "button--primary" : "button--secondary"}`} @click=${() => gi(!0)}>
          Proxy
        </button>
      </div>
      ${qr ? Y$1`<div class="input">
              <label class="input__label">URL</label>
              <input
                class="input__field"
                value=${kr}
                @input=${(Fi) => Ai(Fi.target.value)}
              />
            </div>
            <div class="buttons">
              <button
                class="button button--full button--secondary"
                @click=${() => xi("start")}
              >
                Back
              </button>
              <button
                class="button button--full"
                @click=${() => $i(kr)}
              >
                Connect
              </button>
            </div>` : Y$1`<div class="input">
              <label class="input__label">PORT</label>
              <input
                class="input__field"
                value=${Kr}
                @input=${(Fi) => Li(parseInt(Fi.target.value))}
              />
            </div>

            <div class="buttons">
              <button
                class="button button--full button--secondary"
                @click=${() => xi("start")}
              >
                Back
              </button>
              <button
                class="button button--full"
                @click=${() => ai(Kr)}
              >
                Connect
              </button>
            </div>`}
    </div>
  `;
  }
  function lc({ connect: Kr, isMobile: kr, hasClickedDownload: qr, changeState: ai, onDownloaded: gi, scanQrcode: $i }) {
    function xi(Ai) {
      Ai.preventDefault();
      let Li = Ai.currentTarget;
      window.open(Li.href, "_blank"), this.onDownloaded();
    }
    return Y$1`
    <div class="items">
      ${qr ? Y$1`<div class="text-center">
            <a class="button" target="_blank" @click=${() => Kr()}>
              Connect to AD4M
            </a>
            <p>
              Please connect to AD4M once you have downloaded and setup your
              AD4M agent
            </p>
          </div>` : Y$1`<div class="text-center">
              ${kr ? Y$1`<button class="button" @click=${() => $i()}>
                    Connect with QR
                  </button> ` : Y$1`<a
                    class="button"
                    target="_blank"
                    @click=${xi}
                    href="https://ad4m.dev/download"
                  >
                    Download AD4M
                  </a>`}
            </div>
            <div class="text-center">
              <button class="button button--link " @click=${() => Kr()}>
                Try again
              </button>
              or
              <button
                class="button button--link "
                @click=${() => ai("settings")}
              >
                Change connection settings
              </button>
            </div>`}

      <div class="text-center">
        <a class="button button--link" _target="blank" href="https://ad4m.dev"
          >Learn more about AD4M</a
        >
      </div>
    </div>
  `;
  }
  function fc({ reconnect: Kr }) {
    return Y$1`
    <div class="items items--small">
      <div class="text-center">
        <h1 class="heading">Could not connect to AD4M</h1>
      </div>
      <div class="text-center">
        <button class="button" @click=${() => Kr()}>Try again</button>
      </div>
    </div>
  `;
  }
  function pc({ unlockAgent: Kr, reconnect: kr }) {
    return Y$1`
    <div class="text-center">
      <div class="items">
        <div>
          <h1 class="heading">Agent locked</h1>
          <p class="body">
            Your agent is locked, please unlock it & press reconnect.
          </p>
        </div>
        <button class="button" @click=${kr}>Reconnect</button>
      </div>
    </div>
  `;
  }
  function dc() {
    return Y$1`
    <svg viewBox="0 0 692 670" fill="none" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="gradient" x1="0" x2="1" y1="0" y2="0">
          <stop offset="0%" stop-color="var(--start-color)" />
          <stop offset="100%" stop-color="var(--end-color" />
        </linearGradient>
      </defs>
      <path
        d="M339 0C340.4 0 343.8 1.29999 346.5 2.89999C349.3 4.49999 352.7 6.9 354.1 8.2C355.6 9.5 359.2 12.5 362.1 15C365 17.5 369.9 21.7 373 24.5C376 27.2 382.1 33 386.5 37.5C390.9 41.9 396.5 47.8 399.1 50.5C401.6 53.3 407 59.8 411.1 65C415.2 70.2 419.7 76.1 421 78C422.3 79.9 423.7 81.7 424 82C424.3 82.3 427.1 86.3 430.1 91C433.1 95.7 437.7 103.1 440.3 107.5C442.8 111.9 445.9 117.8 447 120.5C448.3 123.4 448.9 126.4 448.6 127.8C448.3 129 447.1 130.2 446 130.5C444.9 130.8 442.5 130.5 440.8 130C439 129.4 434.6 128 431 126.9C427.4 125.7 423.6 124.6 422.5 124.4C421.4 124.2 417.8 123.4 414.5 122.7C411.2 121.9 406.3 120.2 403.5 118.8C400.8 117.4 396.9 114.7 394.9 112.9C392.9 111 387.9 105 383.8 99.5C379.6 94 375.4 88.6 374.4 87.4C373.3 86.2 369.6 82 366 77.9C362.4 73.8 355.4 66.3 350.3 61.3C342.8 53.8 340.7 52.2 339.3 52.9C338.3 53.4 333.1 58.2 327.8 63.7C322.5 69.1 315.5 76.7 312.4 80.5C309.2 84.3 306.1 88 305.5 88.6C305 89.2 303.8 90.8 303 92C302.2 93.2 300.8 95.2 299.9 96.4C299 97.5 296 101.9 293.2 106C290.5 110.1 285.6 118 282.3 123.5C279.1 129 274.7 137.1 272.5 141.5C270.4 145.9 268.6 149.8 268.6 150.1C268.5 150.4 267.7 152.2 266.8 154.1C265.9 156 263.6 161.3 261.7 166C259.7 170.7 257.3 177.2 256.2 180.5C255.2 183.8 253.5 189 252.6 192C251.7 195 250.8 198.4 250.5 199.5C250.2 200.6 249.3 204.4 248.5 208C247.6 211.6 246.8 215.4 246.6 216.5C246.4 217.6 245.7 221 245.1 224C244.5 227 243.3 235.1 242.5 242C241.7 248.9 240.7 260.8 240.4 268.5C240.1 276.2 239.7 283.5 239.5 284.8C239.2 286 237.5 288 235.8 289.2C234 290.4 232.1 291.4 231.5 291.5C230.9 291.6 229.1 292.3 227.5 292.9C225.9 293.6 224.1 294.3 223.5 294.4C222.9 294.6 221.7 295 220.8 295.3C219.8 295.7 218.2 296.3 217.3 296.7C216.3 297 215.2 297.4 214.8 297.4C214.5 297.5 213.8 297.8 213.4 298.3C213 298.7 212 299 211.1 299C210.2 299 208.4 299.6 207 300.4C205.1 301.5 204 301.5 202.1 300.6C200.7 300 199.2 298.1 198.8 296.5C198.3 294.9 198.1 284.5 198.5 273.5C198.8 262.5 199.2 251.9 199.5 250C199.7 248.1 200.1 243.5 200.4 239.7C200.7 236 201.7 228.5 202.5 223C203.3 217.5 204.5 210.9 205.1 208.2C205.7 205.6 206.3 202.4 206.5 201C206.7 199.6 208.7 191.8 210.9 183.5C213.1 175.3 216.2 164.9 217.8 160.5C219.5 156.1 221.7 150 222.8 147C223.9 144 226.2 138.1 228.1 134C229.9 129.9 231.7 126.1 232.1 125.5C232.5 124.9 235.4 119.6 238.6 113.5C241.7 107.4 248.1 96.6 252.8 89.5C257.6 82.3 261.9 75.9 262.5 75.2C263 74.5 264 73.4 264.5 72.7C265 72 266.8 69.7 268.4 67.5C270.1 65.3 271.6 63.3 271.9 63C272.3 62.7 274.5 60 277 57C279.4 54 283.9 48.8 287 45.6C290 42.3 295.9 36.3 300.1 32.1C304.2 27.9 309.9 22.4 312.6 19.9C315.3 17.4 320.6 12.7 324.5 9.39999C328.4 6.09999 332.6 2.6 334 1.7C335.4 0.799997 337.6 0 339 0V0ZM348.3 125.6C358.8 125.8 369.1 126.1 371 126.3C372.9 126.6 377 127.1 380 127.5C383 127.9 386.2 128.3 387 128.5C387.8 128.6 390.5 129.1 393 129.5C395.5 129.9 398.2 130.4 399 130.6C399.8 130.8 403.2 131.6 406.5 132.4C409.8 133.2 414.2 134.4 416.3 134.9C418.3 135.5 421.5 136.4 423.3 136.9C425 137.4 428.5 138.5 431 139.3C433.5 140.2 439.1 142.2 443.5 143.8C447.9 145.4 454 147.9 457 149.3C460 150.8 466.8 154.2 472 157C477.2 159.8 483.1 163.2 485 164.4C486.9 165.6 491.2 168.4 494.5 170.6C497.8 172.7 501.1 174.9 501.8 175.5C502.5 176 503.6 176.9 504.3 177.5C505 178.1 508.2 180.5 511.5 183C514.8 185.5 519.5 189.3 522 191.5C524.4 193.7 530.3 199.3 535.1 204C539.9 208.7 545.7 214.8 548.1 217.5C550.5 220.3 554.1 224.5 556 226.9C557.9 229.3 560 231.7 560.6 232.4C561.2 233 564.8 238.2 568.7 244C572.6 249.8 578.5 259.4 581.9 265.5C585.3 271.6 590.7 282.8 593.9 290.5C597.2 298.2 601.2 308.8 602.9 314C604.7 319.2 607.1 327.8 608.4 333C609.8 338.2 611.1 344.3 611.4 346.5C611.8 348.7 612.5 353 613 356C613.6 359 614.2 364.2 614.5 367.5C614.8 370.8 615.2 375.3 615.4 377.5C615.6 379.7 615.4 382.6 614.9 384C614.5 385.4 613.4 386.8 612.5 387.3C611.7 387.7 610.3 387.8 609.5 387.5C608.7 387.2 608 386.5 608 386C608 385.5 603.8 381.1 598.8 376.3C593.7 371.4 584.8 362.8 579 357C569 347.1 568.3 346.1 566.6 340C565.6 336.4 563.5 329.4 561.9 324.5C560.2 319.6 556.4 309.9 553.3 303C550.2 296.1 546.1 287.8 544.2 284.5C542.2 281.2 538.9 275.8 536.7 272.5C534.5 269.2 530.2 263.1 527.1 259C524 254.9 519.9 249.7 518 247.5C516.1 245.3 510.7 239.6 506 234.9C501.3 230.2 493.9 223.5 489.5 219.9C485.1 216.4 481.3 213.2 481 212.9C480.7 212.6 475.8 209.3 470 205.5C464.2 201.7 454.5 196.1 448.5 193C442.5 189.9 434.1 186.1 430 184.6C425.9 183 420.9 181.2 419 180.5C417.1 179.8 413.9 178.8 412 178.1C410.1 177.5 407.6 176.8 406.5 176.5C405.4 176.3 402.7 175.6 400.5 175C398.3 174.4 395.4 173.7 394 173.4C392.6 173.2 389.3 172.5 386.5 172C383.8 171.5 379.7 170.8 377.5 170.4C375.3 170.1 372.8 169.7 372 169.5C371.2 169.2 366.7 168.7 362 168.4C357.3 168 347.6 167.7 340.5 167.8C333.4 167.9 325.3 168.2 322.5 168.5C319.8 168.7 315.3 169.4 312.5 169.9C309.8 170.4 305.3 171.2 302.5 171.6C299.8 171.9 296.5 172.6 295.3 173.1C294 173.6 293 173.8 293 173.5C293 173.2 291.2 173.7 289 174.5C286.8 175.3 285 175.8 285 175.5C285 175.2 283.3 175.6 281.3 176.3C279.2 177 276.9 177.5 276.3 177.3C275.6 177.1 274.5 177 274 177C273.5 177 272.5 176 271.9 174.8C270.9 172.8 271.9 170.1 279.5 154.5C284.3 144.6 288.6 136.4 289.1 136.3C289.6 136.1 290 135.3 290 134.5C290 133.7 291.5 132.1 293.3 131C295 129.9 299 128.8 302 128.5C305 128.2 308.2 127.7 309 127.4C309.8 127.1 314.5 126.6 319.5 126.3C324.5 126 328.6 125.7 328.8 125.5C328.9 125.4 337.7 125.5 348.3 125.6V125.6ZM198.9 170.8C200 171.7 200.7 173.4 200.5 174.5C200.3 175.6 198.5 183.7 196.5 192.5C194.5 201.3 192.3 211.2 191.8 214.5C191.2 217.8 189.7 222.6 188.4 225.3C187.1 227.9 185.2 231 184.3 232.1C183.3 233.3 180.7 236.1 178.5 238.4C176.3 240.6 172 245.4 169 249C165.9 252.6 162.5 256.7 161.5 258.1C160.4 259.6 158.8 261.8 158 263C157.2 264.2 156 265.8 155.5 266.4C154.9 267 153.1 269.8 151.6 272.5C150 275.3 148.3 277.7 147.9 278C147.5 278.3 144.7 283.4 141.6 289.5C138.5 295.6 135.6 301.1 135 301.8C134.5 302.4 134.2 303 134.5 303C134.8 303 133.2 307.1 131 312C128.8 316.9 127.1 321.3 127.2 321.8C127.3 322.2 126.8 323.9 126.1 325.5C125.4 327.1 124.6 329.4 124.4 330.5C124.2 331.6 123.6 333.6 123.1 335C122.6 336.4 121.4 341.1 120.4 345.5C119.4 349.9 118.5 354.2 118.4 355C118.2 355.8 117.8 358.1 117.4 360C117.1 361.9 116.6 364.6 116.4 366C116.2 367.4 115.7 371.9 115.3 376C114.8 380.1 114.5 391.8 114.6 402C114.7 416 115.2 423.4 116.8 432.5C118 439.1 120 448.8 121.4 454C122.8 459.2 124.6 465.8 125.5 468.5C126.5 471.3 129.2 478.5 131.6 484.5C134 490.5 138.3 500 141.1 505.5C143.9 511 149.6 520.5 153.8 526.5C157.9 532.5 163.8 540.4 166.9 544C170 547.6 176 554.2 180.2 558.8C184.6 563.4 188 567.9 188 569C188 570.1 187 571.5 185.8 572.2C184.5 572.8 181.9 573.4 180 573.5C178.1 573.6 171.6 574.1 165.5 574.6C159.4 575 151 575.4 146.8 575.5C140 575.5 138.9 575.2 136.5 573C135 571.6 130.5 566.2 126.6 561C122.6 555.8 117.6 548.8 115.5 545.5C113.4 542.2 110.3 537.3 108.7 534.5C107.1 531.8 102.9 523.9 99.5001 517C96.0001 510.1 91.8001 500.9 90.1001 496.5C88.5001 492.1 85.7001 484 84.0001 478.5C82.3001 473 80.5001 467.1 80.0001 465.5C79.5001 463.9 78.6001 459.8 78.0001 456.5C77.4001 453.2 76.7001 449.6 76.5001 448.5C76.3001 447.4 75.9001 444.7 75.5001 442.5C75.2001 440.3 74.5001 435.6 73.9001 432C73.3001 428.4 72.7001 413.8 72.5001 399.5C72.2001 378.1 72.5001 371.3 74.0001 361C75.0001 354.1 77.0001 343.1 78.4001 336.5C79.8001 329.9 82.1001 320.9 83.6001 316.5C85.0001 312.1 86.3001 308.1 86.4001 307.5C86.6001 306.9 87.2001 305.4 87.7001 304C88.3001 302.6 91.1001 296.1 94.0001 289.5C96.8001 282.9 100.8 274.6 102.7 271C104.7 267.4 107.6 262.3 109.3 259.5C110.9 256.8 114.4 251.4 116.9 247.5C119.4 243.7 122.1 239.9 122.8 239.3C123.4 238.6 124 237.7 124 237.3C124 236.8 125 235.4 126.3 234C127.5 232.6 129.9 229.7 131.5 227.5C133.2 225.3 135.9 222 137.5 220C139.1 218.1 145 212 150.5 206.5C156 200.9 163.4 193.8 167 190.8C170.6 187.7 174.9 184.1 176.5 182.9C178.1 181.6 179.7 180.3 180 180C180.3 179.6 182.5 178 185 176.3C187.5 174.6 191.2 172.3 193.2 171.2C196.8 169.3 197.1 169.3 198.9 170.8V170.8ZM440.7 202C442 202 445.7 203.9 449 206.3C452.3 208.6 455.8 211 456.8 211.5C457.7 212.1 459.9 213.4 461.5 214.5C463.1 215.6 465 216.8 465.5 217.3C466 217.7 470 220.5 474.2 223.5C478.5 226.5 482.3 230 482.7 231.3C483.1 232.5 483.5 234.2 483.7 235C483.8 235.8 484.2 239 484.6 242C484.9 245 485.5 248.4 485.7 249.5C486 250.6 486.4 263.4 486.6 278C486.8 292.6 486.5 307.4 486 311C485.6 314.6 484.9 321.1 484.6 325.5C484.2 329.9 483.5 335.1 483 337C482.5 338.9 481.8 342.5 481.5 345C481.1 347.5 480 353.3 478.9 358C477.8 362.7 476.7 367.4 476.5 368.5C476.3 369.6 475.8 371.6 475.2 373C474.7 374.4 474.2 375.8 474.1 376.3C474.1 376.7 473.7 378.2 473.4 379.8C473.1 381.3 471.7 385.9 470.3 390C468.9 394.1 467.6 398.2 467.5 399C467.3 399.8 466.1 403.2 464.7 406.5C463.3 409.8 460.5 416.7 458.4 421.8C456.2 426.9 454.2 431 453.7 431C453.3 431 453.1 431.3 453.2 431.8C453.3 432.2 451.8 435.6 449.8 439.5C447.9 443.4 445.1 448.5 443.8 451C442.4 453.5 439.8 458 438 461C436.2 464 432.2 470.3 429.1 475C426 479.7 423.1 484 422.5 484.6C422 485.2 420.8 486.8 420 488C419.2 489.2 416.7 492.5 414.5 495.4C412.3 498.3 409.8 501.3 409 502.2C408.2 503 406.1 505.5 404.5 507.6C402.9 509.7 398.8 514.3 395.5 517.7C390.9 522.4 388.9 523.8 387 523.6C385.6 523.5 379.1 519.4 372.5 514.5C365.9 509.7 359.5 504.6 358.2 503.3C357 502.1 356 500.3 356 499.5C356 498.7 357.4 496.5 359.1 494.8C360.8 493 364 489.3 366.3 486.6C368.6 484 371.3 480.8 372.4 479.6C373.4 478.5 375.9 475.5 377.9 473C379.9 470.5 382.1 467.9 382.8 467.3C383.4 466.6 384 465.7 384 465.3C384 464.8 384.8 463.6 385.7 462.5C386.7 461.4 389.4 457.6 391.8 454C394.1 450.4 396.5 446.8 397 446C397.6 445.2 399.9 441.4 402.3 437.5C404.6 433.6 407.7 428.3 409 425.5C410.3 422.8 411.6 420.3 412 420C412.3 419.7 414.7 414.8 417.2 409C419.8 403.2 423.4 394.5 425.3 389.5C427.2 384.5 429.7 377.1 430.9 373C432.2 368.9 433.8 363 434.6 360C435.5 357 436.5 352.9 437 351C437.5 349.1 438.1 345.9 438.5 344C438.8 342.1 439.3 339.6 439.4 338.5C439.6 337.4 440.1 334.9 440.5 333C440.9 331.1 442.1 323.4 443.1 316C444.5 305.3 444.8 297.7 444.5 279C444.2 266.1 443.8 253.9 443.6 252C443.3 250.1 442.8 246.7 442.5 244.5C442.2 242.3 441.7 238.5 441.4 236C441.1 233.5 440.2 228.1 439.4 224C438.5 219.9 437.4 214.9 436.9 213C436.4 211.1 435.9 208.4 435.8 206.9C435.7 205.5 436.2 203.9 437 203.2C437.8 202.5 439.4 202 440.7 202V202ZM349.7 284.6C359.5 284.7 370.6 285.1 374.5 285.4C378.4 285.8 383.5 286.3 386 286.5C388.5 286.7 392.8 287.2 395.5 287.5C398.3 287.9 400.7 288.4 401 288.5C401.3 288.7 403.5 289.1 406 289.4C408.5 289.7 414.3 290.8 419 291.8C423.7 292.9 428.5 294.2 429.8 294.8C431 295.5 432 296.4 432 297C432 297.6 432.1 298.6 432.2 299.3C432.3 299.9 432.1 303.9 431.6 308C431.2 312.1 430.7 317.5 430.4 320C430.1 322.5 429.3 325.4 428.6 326.5C427.8 327.6 425.8 330 424.1 331.8C421.3 334.7 420.6 334.9 416.7 334.4C414.4 334.1 410.5 333.4 408 332.9C405.5 332.3 401.7 331.7 399.5 331.4C397.3 331.2 394.4 330.7 393 330.4C391.6 330.1 389.4 329.7 388 329.5C386.6 329.3 381.7 328.9 377 328.5C372.3 328.1 366.9 327.6 365 327.4C363.1 327.2 355 327 347 326.9C339 326.8 329.1 327.1 325 327.5C320.9 327.9 316.4 328.3 315 328.5C313.6 328.6 309.4 329.1 305.5 329.5C301.6 329.9 295.4 330.9 291.5 331.7C287.6 332.5 283.6 333.3 282.5 333.6C281.4 333.8 279.1 334.3 277.5 334.6C275.9 334.9 274.3 335.3 274 335.5C273.7 335.7 272 336.1 270.2 336.4C268.5 336.7 262.6 338.4 257.2 340C251.9 341.7 246.7 343.5 245.7 344C244.8 344.6 243.4 345 242.7 345C242.1 345.1 239.7 345.9 237.5 347C235.3 348.1 233.1 348.9 232.5 349C231.9 349 228.9 350.3 225.7 352C222.6 353.6 220 354.8 220 354.5C220 354.2 216.3 355.9 211.7 358.3C207.2 360.7 200.4 364.4 196.5 366.5C192.6 368.6 185 373.3 179.5 377C174 380.6 165.9 386.2 161.5 389.5C157.1 392.7 153 395.9 152.4 396.5C151.7 397 149.5 398.9 147.4 400.5C145.4 402.1 141.6 405.4 139.1 407.7C136.6 410 133.5 412.5 132.2 413.2C130.3 414.3 129.7 414.3 128.5 413C127.4 411.8 127 407.3 126.9 392.5C126.7 376.8 126.9 372.5 128.3 368C129.4 364.5 131.8 360.5 134.8 357.1C137.8 353.5 144 348.7 152.2 343.3C159.3 338.7 165.4 335 166 335C166.6 335 167 334.4 167 333.8C167 333.1 167.3 332.8 167.7 333.2C168.1 333.6 169.6 333.1 171 332.1C172.4 331.1 176.9 328.5 181 326.4C185.1 324.3 188.7 322.2 189 321.7C189.3 321.2 189.7 320.9 190 321.1C190.3 321.2 193.9 319.7 198 317.8C202.1 315.8 207.5 313.3 210 312.2C212.5 311.1 218.1 308.8 222.5 307.1C226.9 305.4 235 302.6 240.5 300.9C246 299.2 253.9 296.9 258 295.8C262.1 294.7 266.6 293.6 268 293.4C269.4 293.1 270.7 292.7 271 292.5C271.3 292.3 273.1 291.9 275 291.6C276.9 291.2 280.8 290.5 283.5 290C286.3 289.5 290.1 288.8 292 288.5C293.9 288.2 297.8 287.7 300.5 287.4C303.3 287.1 306.6 286.7 308 286.5C309.4 286.2 315.2 285.7 321 285.4C326.8 285 331.6 284.7 331.7 284.6C331.9 284.5 340 284.5 349.7 284.6V284.6ZM509.8 324.7C514.6 327.3 520.5 330.6 523 332.1C525.5 333.6 529.5 336.1 532 337.6C534.5 339.1 539 342.2 542.1 344.4C545.2 346.7 548.7 349.2 550 350C551.2 350.8 552.8 352 553.4 352.5C554 353.1 557.2 355.6 560.5 358C563.8 360.5 566.7 362.7 567 363C567.3 363.3 570.9 366.4 575 369.9C579.1 373.5 588.4 382.2 595.5 389.4C602.6 396.6 611.4 406.1 615 410.5C618.5 414.9 621.7 418.7 622 419C622.3 419.3 624.3 422 626.6 425C628.8 428 632.3 432.9 634.3 435.8C636.3 438.6 640.8 445.6 644.3 451.3C647.7 456.9 653.1 466.5 656.2 472.5C659.3 478.5 663.6 487.8 665.8 493C668 498.2 671.4 506.8 673.3 512C675.2 517.2 678.4 526.9 680.3 533.5C682.3 540.1 685.2 551.6 686.9 559C688.5 566.4 690 574.1 690.3 576C690.6 577.9 691.2 581.5 691.5 584C692 587 691.8 589.3 690.9 591C690.2 592.4 689.2 594 688.6 594.6C688 595.1 684.9 596.8 681.8 598.3C678.6 599.8 675.9 601 675.8 601C675.6 601 673.7 601.7 671.5 602.7C669.3 603.6 667.3 604.4 667 604.5C666.7 604.5 662.7 605.9 658 607.5C653.3 609.1 649.2 610.6 648.8 610.7C648.3 610.9 647.9 611 647.8 611.1C647.6 611.1 646.8 611.3 646 611.5C645.2 611.6 642 612.5 639 613.4C636 614.3 632.4 615.2 631 615.5C629.6 615.8 627.8 616.2 627 616.5C626.2 616.8 624.4 617.2 623 617.5C621.6 617.8 619.4 618.2 618 618.5C616.6 618.8 614.4 619.2 613 619.5C611.6 619.9 607.8 620.5 604.5 621C601.2 621.5 596.5 622.2 594 622.6C591.5 622.9 588.4 623.3 587 623.5C585.6 623.8 579.8 624.3 574 624.7C568.2 625.1 555.1 625.5 544.9 625.5C527.6 625.5 526.1 625.4 524.1 623.5C522.9 622.4 521.9 621.2 522 620.8C522 620.3 524.6 617.6 527.8 614.8C530.9 611.9 537.8 605.2 543 599.9C548.2 594.6 554.3 589.1 556.5 587.7C558.7 586.4 562.5 584.7 565 584C567.5 583.3 570.4 582.6 571.5 582.5C572.6 582.3 575.3 581.9 577.5 581.6C579.7 581.3 582.9 580.8 584.5 580.5C586.1 580.2 590.9 579.3 595 578.5C599.1 577.7 611.5 575 622.5 572.5C633.5 570 643.1 567.8 643.8 567.5C644.4 567.2 645 566.2 645 565.3C645 564.3 643.9 559.7 642.5 555C641.1 550.3 639.7 545.6 639.5 544.5C639.2 543.4 638.3 540.3 637.4 537.5C636.5 534.8 635.2 530.9 634.5 529C633.8 527.1 631.8 521.9 630 517.5C628.2 513.1 624 503.9 620.7 497C617.4 490.1 612.7 481.1 610.2 477C607.7 472.9 603 465.5 599.7 460.5C596.4 455.5 590.2 447.2 586.1 442C581.9 436.8 575.4 429.1 571.5 425.1C567.7 421 561.8 415 558.5 411.9C555.2 408.8 551.1 405.1 549.5 403.9C547.9 402.6 545.6 400.6 544.5 399.5C543.4 398.4 536.6 393.2 529.5 388C522.4 382.8 514.3 377.1 511.6 375.3C508.8 373.6 504.3 370.8 501.5 369.2C498.8 367.6 495.5 364.8 494.3 362.9C493.1 361 492.1 357.9 492.1 356C492.1 354.1 492.5 350.6 493 348.3C493.6 345.9 494.7 339.4 495.5 333.8C496.7 325.8 497.5 323.1 499.1 321.8C501.1 320.1 501.5 320.2 509.8 324.7V324.7ZM247 356C247.8 356 249 356.5 249.6 357.2C250.3 357.9 252.4 363.2 254.3 369C256.2 374.8 259.9 384.9 262.5 391.5C265.1 398.1 270.4 409.8 274.4 417.5C278.3 425.2 285.8 438 291.1 446C296.4 454 303.1 463.4 306 467C308.9 470.6 314 476.6 317.4 480.4C320.7 484.2 326.4 490.3 330 493.9C333.6 497.5 338.6 502.3 341 504.5C343.5 506.7 347.7 510.3 350.4 512.5C353.1 514.7 356 517.2 357 518C358 518.8 359.8 520.2 361 521C362.2 521.8 366.8 525.1 371.1 528.3C375.4 531.4 381.5 535.5 384.5 537.3C387.5 539 392.2 541.7 394.8 543.2C397.4 544.7 403.7 548 408.8 550.5C413.8 553 418.5 555 419 555C419.5 555 420 555.5 420 556C420 556.5 420.7 557 421.5 557C422.3 557 423.8 557.4 424.8 557.9C425.7 558.5 430.3 560.5 435 562.4C439.7 564.4 444.4 566.2 445.5 566.4C446.6 566.6 449.2 567.5 451.3 568.4C453.3 569.3 455.1 569.8 455.3 569.6C455.4 569.4 457.5 570.1 459.9 571.3C462.4 572.5 464.8 574.3 465.4 575.3C466.2 576.4 466.2 577.5 465.5 578.6C465 579.5 461.4 581.9 457.5 583.9C453.6 585.9 450 587.7 449.5 587.9C449 588.1 443.5 590.6 437.5 593.5C431.5 596.3 425.2 599.2 423.5 599.8C421.9 600.5 419.1 600.9 417.5 600.6C415.9 600.4 409.1 597.8 402.5 594.7C395.9 591.7 385.1 586.2 378.5 582.5C371.9 578.8 365.6 575.3 364.5 574.6C363.4 574 359.1 571.3 355 568.5C350.9 565.8 342.5 559.8 336.5 555.3C330.5 550.9 324.3 546.1 322.9 544.8C321.5 543.6 317.7 540.3 314.5 537.5C311.2 534.8 303.9 527.8 298.1 522C292.2 516.2 285.4 509 282.9 506C280.4 503 275.6 497.1 272.4 493C269.1 488.9 262.9 480.4 258.7 474.3C254.5 468.1 251 462.8 251 462.5C251 462.2 250.2 460.8 249.1 459.3C248.1 457.7 246.2 454.7 245 452.5C243.7 450.3 239.4 441.9 235.4 433.8C231.3 425.6 228 418.8 228 418.5C228 418.2 226.8 415.4 225.4 412.3C224 409.1 221.7 403.6 220.3 400C219 396.4 216.6 389.6 215 384.8C213.3 379.9 212 375.2 212 374.3C212 373.3 213.1 371.5 214.5 370.3C215.9 369 217 368.2 217 368.5C217 368.8 219.4 367.8 222.3 366.3C225.1 364.8 227.7 363.5 228 363.5C228.3 363.5 229.4 362.9 230.5 362.3C231.6 361.7 232.7 361.2 233 361.2C233.3 361.2 234.6 360.7 236 360.2C237.4 359.7 240.1 358.5 242 357.7C243.9 356.9 246.2 356.1 247 356V356ZM59.2001 439C59.7001 439 60.7001 439.7 61.5001 440.5C62.3001 441.3 63.0001 442.6 63.1001 443.3C63.1001 443.9 63.3001 445.2 63.5001 446C63.7001 446.8 64.1001 449.3 64.5001 451.5C64.8001 453.7 65.8001 458 66.6001 461C67.4001 464 69.0001 469 70.2001 472C71.7001 476.1 72.2001 479.9 72.2001 486.5C72.2001 494 71.7001 496.8 69.2001 503.5C67.6001 507.9 64.7001 515.8 62.7001 521C60.8001 526.2 58.7001 532.5 58.0001 535C57.3001 537.5 55.6001 542.9 54.3001 547C53.0001 551.1 51.5001 555.9 51.0001 557.5C50.4001 559.1 49.8001 561.4 49.6001 562.5C49.4001 563.6 48.5001 566.3 47.8001 568.5C46.8001 571.4 46.7001 572.8 47.4001 573.6C48.0001 574.1 51.4001 575.4 55.0001 576.4C58.6001 577.4 62.4001 578.4 63.5001 578.7C64.6001 578.9 66.4001 579.3 67.5001 579.5C68.6001 579.8 71.5001 580.4 74.0001 581C76.5001 581.7 79.4001 582.3 80.5001 582.4C81.6001 582.6 83.6001 583 85.0001 583.3C86.4001 583.7 89.3001 584.2 91.5001 584.4C93.7001 584.7 96.6001 585.1 98.0001 585.4C99.4001 585.7 102.5 586.1 105 586.4C107.5 586.7 114.2 587.2 120 587.6C125.8 588 136.1 588.3 143 588.3C149.9 588.2 158.7 587.9 162.5 587.6C166.4 587.3 171.5 586.8 174 586.5C176.5 586.1 180.8 585.5 183.5 585C186.3 584.5 189.6 583.8 191 583.5C192.4 583.2 195.1 582.7 197 582.5C198.9 582.3 201.4 581.9 202.5 581.6C203.6 581.4 206.5 580.7 209 580.1C211.5 579.6 215.4 578.4 217.8 577.5C220.1 576.7 222 576.2 222 576.5C222 576.8 223.6 576.3 225.5 575.5C227.4 574.7 229 574.2 229 574.5C229 574.8 229.6 574.7 230.3 574.3C230.9 573.9 231.8 573.4 232.3 573.3C232.7 573.1 233.1 573 233.3 572.9C233.4 572.9 234.2 572.7 235 572.5C235.8 572.3 240.3 570.8 245 569C249.7 567.3 255.1 565.2 257 564.3C258.9 563.4 265.9 560.1 272.5 556.9C279.1 553.7 287.4 549.4 291 547.4C294.6 545.4 298.7 543.8 300.3 543.9C301.8 543.9 303.8 544.6 304.8 545.3C305.8 545.9 309 548.5 311.9 551C314.9 553.5 318.6 556.7 320.4 558.2C322.1 559.8 325.6 562.7 328.2 564.7C330.8 566.8 332.9 569.2 333 570C333 570.8 332.5 572.3 331.8 573.2C331.1 574.1 326 577.2 320.5 580.1C315 583 303.8 588.8 295.5 593C287.3 597.2 275.3 602.8 269 605.4C262.7 608 256.8 610.3 256 610.5C255.2 610.7 250.9 612.1 246.5 613.6C242.1 615 237.8 616.5 237 616.7C236.2 616.9 235.4 617.1 235.3 617.1C235.1 617 233.2 617.7 231 618.5C228.8 619.3 227 619.8 227 619.5C227 619.2 225.8 619.5 224.3 620.1C222.7 620.7 217.5 622 212.5 623C207.6 624 201.9 625.1 200 625.4C198.1 625.7 195.4 626.2 194 626.4C192.6 626.7 189.5 627.1 187 627.5C184.5 627.9 181.2 628.3 179.5 628.5C177.9 628.7 171.1 629.2 164.5 629.6C157.9 630 146.7 630.4 139.5 630.3C132.4 630.3 120.9 630 114 629.6C107.1 629.3 100.6 628.8 99.5001 628.6C98.4001 628.4 95.3001 627.9 92.5001 627.6C89.8001 627.2 86.2001 626.7 84.5001 626.4C82.9001 626.2 79.3001 625.5 76.5001 625C73.8001 624.5 70.2001 623.8 68.5001 623.5C66.9001 623.1 64.6001 622.7 63.5001 622.5C62.4001 622.3 57.2001 621 52.0001 619.6C46.8001 618.2 39.6001 616.2 36.0001 615.1C32.4001 614.1 27.3001 612.4 24.5001 611.4C21.8001 610.5 15.7001 608.1 11.1001 606.1C6.50011 604.1 2.1001 601.6 1.4001 600.5C0.500095 599.1 0.200107 596.6 0.600107 592.5C0.800107 589.2 1.2001 585.4 1.5001 584C1.7001 582.6 2.6001 577.3 3.4001 572.3C4.3001 567.2 5.9001 559.1 7.0001 554.3C8.1001 549.4 9.3001 544.6 9.5001 543.5C9.8001 542.4 10.7001 539 11.6001 536C12.6001 533 14.4001 527.4 15.6001 523.5C16.9001 519.6 18.8001 514 19.9001 511C21.0001 508 24.4001 499.6 27.5001 492.5C30.6001 485.4 35.1001 475.9 37.4001 471.5C39.8001 467.1 42.6001 462 43.6001 460.1C44.6001 458.3 47.7001 453.3 50.3001 449.1C53.0001 444.9 55.9001 440.9 56.8001 440.3C57.7001 439.6 58.8001 439 59.2001 439V439ZM570.8 447.4C571.2 447.7 572.6 448.2 574 448.5C575.4 448.8 576.5 449.1 576.6 449.3C576.6 449.4 580.9 455.6 586.2 463C591.4 470.4 596.7 478.1 597.9 480C599 481.9 600 485.1 600 487C600 488.9 599.1 493 597.9 496C596.7 499 595.1 503.1 594.3 505C593.5 506.9 591.2 511.6 589.3 515.5C587.4 519.4 583.7 526.2 581.2 530.8C578.6 535.4 576 539.9 575.5 540.8C575 541.8 572.3 545.9 569.5 550C566.8 554.1 564.1 558.1 563.5 558.8C563 559.5 562 560.6 561.5 561.3C561 562 558.7 564.8 556.5 567.5C554.4 570.3 551.7 573.6 550.5 574.9C549.4 576.3 542.6 583.3 535.5 590.4C528.3 597.6 521.1 604.6 519.4 606C517.7 607.4 514.8 609.7 512.9 611.2C511 612.7 505.5 616.8 500.5 620.3C495.5 623.8 488.1 628.6 484 631C479.9 633.4 470.9 638.2 464 641.7C457.1 645.2 451.4 648.1 451.3 648C451.1 648 449.5 648.6 447.8 649.3C446 650.1 441.6 651.7 438 653C434.4 654.2 430.9 655.4 430.3 655.6C429.6 655.8 428.8 655.9 428.7 655.8C428.5 655.6 427.7 656 426.9 656.7C426.1 657.3 423.7 658.1 421.5 658.5C419.3 658.9 416.9 659.8 416.2 660.4C415.5 661 414.9 661.2 415 660.8C415 660.3 413.2 660.7 411 661.5C408.8 662.3 406.8 663 406.5 663C406.2 663 404.8 663.2 403.3 663.5C401.7 663.7 399.1 664.2 397.5 664.5C395.9 664.8 393.6 665.2 392.5 665.4C391.4 665.6 388.5 666.1 386 666.5C383.5 666.8 380.4 667.3 379 667.5C377.6 667.7 372.9 668.2 368.5 668.6C364.1 669 352.9 669.3 343.5 669.3C334.1 669.3 323.1 669 319 668.6C314.9 668.2 310.4 667.8 309 667.5C307.6 667.3 304.7 666.9 302.5 666.6C300.3 666.2 297.4 665.8 296 665.5C294.6 665.3 292.1 664.8 290.5 664.4C288.9 664.1 286.6 663.7 285.5 663.5C284.4 663.3 279 662 273.5 660.5C268 659 263.3 657.7 263 657.5C262.7 657.2 261.6 656.9 260.5 656.6C259.4 656.3 255.1 654.9 251 653.4C246.9 652 239 648.8 233.5 646.3C228 643.9 222.5 641.2 221.3 640.4C220 639.7 219 638.2 219 637.3C218.9 636.3 219.5 634.9 220.2 634.3C220.9 633.6 222.6 632.8 224 632.5C225.4 632.2 227.9 631.6 229.5 631C231.1 630.4 233.6 629.8 235 629.5C236.4 629.2 239.1 628.5 241 627.9C242.9 627.3 245.2 626.6 246 626.3C246.8 625.9 247.7 625.6 248 625.5C248.3 625.4 250.3 624.5 252.5 623.5C254.7 622.5 259.6 621.2 263.5 620.6C267.4 619.9 273.4 619.5 277 619.7C280.6 619.8 285.3 620.1 287.5 620.4C289.7 620.7 292.9 621.2 294.5 621.5C296.1 621.8 301.1 622.8 305.5 623.7C309.9 624.6 314.6 625.4 316 625.6C317.4 625.8 321.2 626.3 324.5 626.7C327.8 627.1 337 627.5 345 627.5C353 627.5 362.9 627.1 367 626.7C371.1 626.2 374.7 625.7 375 625.5C375.3 625.3 377.9 624.9 380.8 624.6C383.6 624.3 386.3 623.8 386.8 623.6C387.2 623.3 388.9 622.9 390.5 622.6C392.1 622.3 394.6 621.8 396 621.5C397.4 621.3 400.4 620.4 402.8 619.5C405.1 618.7 407.1 618.1 407.3 618.2C407.4 618.3 410.6 617.3 414.5 616C418.4 614.6 421.7 613.5 422 613.5C422.3 613.4 424.3 612.6 426.5 611.7C428.7 610.7 430.5 610 430.5 610C430.5 610 432.1 609.4 434 608.6C435.9 607.8 437.7 607.2 438 607.2C438.3 607.2 441.4 605.6 445 603.7C448.6 601.8 454.2 598.8 457.5 597C460.8 595.2 468.2 590.6 474 586.7C479.8 582.8 484.7 579.4 485 579.1C485.3 578.8 487.3 577.1 489.5 575.5C491.7 573.8 498.5 567.5 504.5 561.5C510.6 555.5 516.9 548.9 518.6 547C520.2 545.1 524.5 539.5 528.2 534.5C531.8 529.5 535.3 524.4 536 523C536.7 521.6 537.6 520.3 538 520C538.3 519.7 541.6 514.1 545.2 507.5C548.8 500.9 553.1 492.4 554.8 488.5C556.5 484.6 560.2 474.5 563 466C565.8 457.5 568.6 449.7 569.2 448.7C569.7 447.7 570.5 447.2 570.8 447.4V447.4Z"
        fill="url(#gradient)"
      />
    </svg>
  `;
  }
  function hc({ capabilities: Kr, appname: kr, appiconpath: qr, changeState: ai, setOpen: gi, requestCapability: $i }) {
    return Y$1`
    <div class="items">
      <div class="text-center">
        <p class="body">An external application</p>
        <h1 class="heading nomargin">${kr}</h1>
        <p class="body">wants to access your AD4M data</p>
      </div>
      ${qr && Y$1`<div class="dialog__connect">
        <img class="dialog__connect-app" src=${qr} alt="Logo" />
        <div class="dialog__connect-check"></div>
        <div class="dialog__connect-ad4m">${dc()}</div>
      </div>`}
      <div>
        <p class="text-center"><b>This will allow the developer to:</b></p>
        <ul class="check-list">
          ${Kr.map((xi) => Y$1`<li>
              <span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  fill="var(--success-color)"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"
                  />
                </svg>
              </span>
              <span>${Zf(xi)}</span>
            </li>`)}
        </ul>
      </div>
      <div class="buttons">
        <button
          class="button button--secondary button--full"
          @click=${() => gi(!1)}
        >
          Cancel
        </button>
        <button
          class="button button--full"
          @click=${() => $i(!0)}
        >
          Authorize
        </button>
      </div>
      <button
        class="button button--full button--link"
        @click=${() => ai("settings")}
      >
        Connection settings
      </button>
    </div>
  `;
  }
  function mc({ code: Kr, changeState: kr, verifyCode: qr, changeCode: ai }) {
    return Y$1`
    <div class="items">
      <div class="text-center">
        <div class="heading">Please check Ad4m</div>
        <p class="body">
          Please check AD4M, confirm the request there and enter the 6-digit
          security code below.
        </p>
      </div>
      <div class="input">
        <label class="input__label">Security code</label>
        <input
          type="tel"
          placeholder="XXXXXX"
          class="input__field"
          value=${Kr}
          @change=${(gi) => ai(gi.target.value)}
        />
      </div>
      <div class="buttons">
        <button
          class="button button--full button--secondary"
          @click=${() => kr("start")}
        >
          Back
        </button>
        <button class="button button--full" @click=${() => qr(Kr)}>
          Continue
        </button>
      </div>
    </div>
  `;
  }
  function yc() {
    return Y$1`
    <div class="items">
      <div class="text-center">
        <h1 class="heading">Request to AD4M blocked</h1>
        <div class="body">
          Its possible your browser is blocking requests to your local machine.
          Please remove any browser shields/protection that may be running for
          this page. Alternatively allow requests to localhost in your browser
          settings.
        </div>
      </div>

      <div class="buttons">
        <button
          class="button button--full button--secondary"
          @click=${() => location.reload()}
        >
          Try again
        </button>
      </div>
    </div>
  `;
  }
  function vc({ changeState: Kr, onSuccess: kr, uiState: qr }) {
    function ai(gi) {
      let $i = new BarcodeDetector(), xi = gi.currentTarget, Ai = () => me$1(this, null, function* () {
        try {
          if (qr !== "qr")
            return;
          let Li = (yield $i.detect(xi)).find((Fi) => Fi.format === "qr_code");
          if (Li != null && Li.rawValue) {
            Kr("requestcap"), kr(Li.rawValue);
            return;
          } else
            requestAnimationFrame(Ai);
        } catch (Li) {
          console.error(Li);
        }
      });
      Ai();
    }
    return Y$1`
    <div class="qr-scanner">
      <div class="qr-content">
        <button
          class="button button--primary stop"
          @click=${() => Kr("start")}
        >
          Stop scanning
        </button>
        <video
          width="100%"
          height="100%"
          @play=${ai}
          autoplay
          playsinline
          muted
        ></video>
      </div>
    </div>
  `;
  }
  function gc() {
    return Y$1`<header class="dialog__header">
    <div class="dialog__logo">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 37" fill="none">
        <path
          d="M18.6099 0C18.6869 0 18.8737 0.0718656 19.0221 0.160316C19.1761 0.248767 19.3629 0.381443 19.4399 0.453309C19.5223 0.525176 19.7202 0.69102 19.8796 0.829225C20.039 0.967429 20.3083 1.19961 20.4787 1.3544C20.6436 1.50366 20.9789 1.82429 21.2208 2.07306C21.4626 2.3163 21.7704 2.64246 21.9133 2.79172C22.0508 2.94651 22.3476 3.30584 22.5729 3.59331C22.7983 3.88077 23.0456 4.20693 23.1171 4.31197C23.1885 4.417 23.2655 4.51651 23.282 4.53309C23.2985 4.54968 23.4524 4.77081 23.6173 5.03063C23.7822 5.29045 24.035 5.69954 24.1779 5.94278C24.3153 6.18602 24.4857 6.51218 24.5462 6.66144C24.6176 6.82175 24.6506 6.9876 24.6341 7.06499C24.6176 7.13133 24.5517 7.19767 24.4912 7.21425C24.4308 7.23084 24.2988 7.21425 24.2054 7.18661C24.1065 7.15344 23.8646 7.07605 23.6667 7.01524C23.4689 6.9489 23.26 6.88809 23.1995 6.87704C23.1391 6.86598 22.9412 6.82175 22.7598 6.78306C22.5784 6.73883 22.3091 6.64485 22.1552 6.56746C22.0068 6.49006 21.7924 6.3408 21.6825 6.2413C21.5725 6.13626 21.2977 5.80457 21.0724 5.50052C20.8415 5.19647 20.6107 4.89795 20.5557 4.83162C20.4952 4.76528 20.2919 4.53309 20.094 4.30644C19.8961 4.07978 19.5113 3.66517 19.231 3.38876C18.8188 2.97415 18.7033 2.8857 18.6264 2.9244C18.5714 2.95204 18.2856 3.21739 17.9943 3.52144C17.703 3.81996 17.3182 4.2401 17.1478 4.45017C16.9719 4.66024 16.8015 4.86478 16.7686 4.89795C16.7411 4.93112 16.6751 5.01957 16.6311 5.08591C16.5872 5.15225 16.5102 5.26281 16.4608 5.32915C16.4113 5.38996 16.2464 5.6332 16.0925 5.85985C15.9441 6.08651 15.6747 6.52323 15.4934 6.82728C15.3175 7.13133 15.0756 7.57911 14.9547 7.82235C14.8393 8.06559 14.7403 8.28119 14.7403 8.29777C14.7348 8.31436 14.6909 8.41387 14.6414 8.5189C14.5919 8.62394 14.4655 8.91693 14.3611 9.17675C14.2511 9.43658 14.1192 9.79591 14.0588 9.97834C14.0038 10.1608 13.9103 10.4482 13.8609 10.6141C13.8114 10.7799 13.7619 10.9679 13.7455 11.0287C13.729 11.0895 13.6795 11.2996 13.6355 11.4986C13.5861 11.6976 13.5421 11.9077 13.5311 11.9685C13.5201 12.0293 13.4816 12.2172 13.4486 12.3831C13.4157 12.5489 13.3497 12.9967 13.3057 13.3782C13.2618 13.7596 13.2068 14.4175 13.1903 14.8431C13.1738 15.2688 13.1518 15.6723 13.1408 15.7442C13.1243 15.8105 13.0309 15.9211 12.9375 15.9875C12.8385 16.0538 12.7341 16.1091 12.7011 16.1146C12.6681 16.1201 12.5692 16.1588 12.4812 16.192C12.3933 16.2307 12.2944 16.2694 12.2614 16.2749C12.2284 16.286 12.1624 16.3081 12.113 16.3247C12.058 16.3468 11.9701 16.3799 11.9206 16.4021C11.8656 16.4186 11.8052 16.4408 11.7832 16.4408C11.7667 16.4463 11.7282 16.4629 11.7062 16.4905C11.6842 16.5126 11.6293 16.5292 11.5798 16.5292C11.5303 16.5292 11.4314 16.5624 11.3544 16.6066C11.25 16.6674 11.1896 16.6674 11.0851 16.6177C11.0082 16.5845 10.9257 16.4795 10.9037 16.391C10.8762 16.3026 10.8653 15.7276 10.8872 15.1195C10.9037 14.5114 10.9257 13.9254 10.9422 13.8204C10.9532 13.7154 10.9752 13.4611 10.9917 13.251C11.0082 13.0465 11.0631 12.6319 11.1071 12.3278C11.1511 12.0238 11.217 11.6589 11.25 11.5096C11.283 11.3659 11.316 11.189 11.327 11.1116C11.338 11.0342 11.4479 10.603 11.5688 10.1442C11.6897 9.69087 11.8601 9.11594 11.9481 8.8727C12.0415 8.62946 12.1624 8.29225 12.2229 8.1264C12.2834 7.96056 12.4098 7.63439 12.5142 7.40774C12.6132 7.18109 12.7121 6.97101 12.7341 6.93785C12.7561 6.90468 12.9155 6.61168 13.0914 6.27447C13.2618 5.93725 13.6135 5.34021 13.8719 4.94771C14.1357 4.54968 14.3721 4.19588 14.405 4.15718C14.4325 4.11848 14.4875 4.05767 14.515 4.01897C14.5425 3.98028 14.6414 3.85313 14.7293 3.73151C14.8228 3.60989 14.9052 3.49933 14.9217 3.48274C14.9437 3.46616 15.0646 3.3169 15.202 3.15105C15.334 2.98521 15.5813 2.69774 15.7517 2.52084C15.9166 2.33841 16.2409 2.00672 16.4717 1.77454C16.6971 1.54236 17.0104 1.23831 17.1588 1.1001C17.3072 0.9619 17.5985 0.702077 17.8129 0.519647C18.0273 0.337217 18.2581 0.143732 18.3351 0.0939788C18.412 0.0442251 18.533 0 18.6099 0ZM19.1211 6.94337C19.6982 6.95443 20.2644 6.97101 20.3688 6.98207C20.4732 6.99866 20.6986 7.0263 20.8635 7.04841C21.0284 7.07052 21.2043 7.09263 21.2483 7.10369C21.2922 7.10922 21.4406 7.13686 21.578 7.15897C21.7155 7.18109 21.8639 7.20873 21.9078 7.21978C21.9518 7.23084 22.1387 7.27506 22.3201 7.31929C22.5015 7.36351 22.7433 7.42985 22.8587 7.45749C22.9687 7.49066 23.1446 7.54042 23.2435 7.56806C23.3369 7.5957 23.5293 7.65651 23.6667 7.70073C23.8042 7.75049 24.112 7.86105 24.3538 7.9495C24.5957 8.03795 24.9309 8.17615 25.0958 8.25355C25.2607 8.33647 25.6345 8.52443 25.9203 8.67922C26.2061 8.83401 26.5304 9.02196 26.6349 9.0883C26.7393 9.15464 26.9757 9.30943 27.1571 9.43105C27.3384 9.54714 27.5198 9.66876 27.5583 9.70193C27.5968 9.72957 27.6572 9.77932 27.6957 9.81249C27.7342 9.84566 27.9101 9.97834 28.0915 10.1165C28.2729 10.2547 28.5312 10.4648 28.6686 10.5864C28.8005 10.7081 29.1248 11.0176 29.3887 11.2775C29.6525 11.5373 29.9713 11.8745 30.1032 12.0238C30.2351 12.1785 30.433 12.4107 30.5374 12.5434C30.6419 12.6761 30.7573 12.8088 30.7903 12.8475C30.8233 12.8806 31.0211 13.1681 31.2355 13.4887C31.4499 13.8094 31.7742 14.3401 31.961 14.6773C32.1479 15.0145 32.4447 15.6336 32.6206 16.0593C32.802 16.485 33.0219 17.071 33.1153 17.3584C33.2143 17.6459 33.3462 18.1213 33.4176 18.4088C33.4946 18.6963 33.566 19.0335 33.5825 19.1551C33.6045 19.2767 33.643 19.5144 33.6705 19.6803C33.7035 19.8461 33.7364 20.1336 33.7529 20.316C33.7694 20.4984 33.7914 20.7472 33.8024 20.8688C33.8134 20.9904 33.8024 21.1508 33.7749 21.2281C33.7529 21.3055 33.6925 21.3829 33.643 21.4106C33.599 21.4327 33.5221 21.4382 33.4781 21.4216C33.4341 21.4051 33.3956 21.3664 33.3956 21.3387C33.3956 21.3111 33.1648 21.0678 32.89 20.8025C32.6096 20.5316 32.1204 20.0562 31.8016 19.7355C31.252 19.1883 31.2135 19.133 31.1201 18.7958C31.0651 18.5967 30.9497 18.2098 30.8617 17.9389C30.7683 17.668 30.5594 17.1318 30.389 16.7503C30.2186 16.3689 29.9933 15.9101 29.8888 15.7276C29.7789 15.5452 29.5975 15.2467 29.4766 15.0642C29.3557 14.8818 29.1193 14.5446 28.9489 14.3179C28.7785 14.0913 28.5532 13.8038 28.4487 13.6822C28.3443 13.5606 28.0475 13.2455 27.7892 12.9857C27.5308 12.7258 27.1241 12.3554 26.8822 12.1564C26.6404 11.9629 26.4315 11.786 26.415 11.7695C26.3985 11.7529 26.1292 11.5704 25.8104 11.3604C25.4916 11.1503 24.9584 10.8407 24.6286 10.6694C24.2988 10.498 23.8371 10.2879 23.6118 10.205C23.3864 10.1165 23.1116 10.017 23.0072 9.97834C22.9027 9.93964 22.7268 9.88436 22.6224 9.84566C22.518 9.81249 22.3805 9.77379 22.3201 9.75721C22.2596 9.74615 22.1112 9.70746 21.9903 9.67429C21.8694 9.64112 21.71 9.60242 21.633 9.58584C21.5561 9.57478 21.3747 9.53608 21.2208 9.50844C21.0724 9.4808 20.847 9.4421 20.7261 9.41999C20.6052 9.40341 20.4677 9.38129 20.4238 9.37024C20.3798 9.35365 20.1325 9.32601 19.8741 9.30943C19.6158 9.28732 19.0826 9.27073 18.6924 9.27626C18.3021 9.28179 17.8569 9.29837 17.703 9.31496C17.5546 9.32601 17.3072 9.36471 17.1533 9.39235C17.0049 9.41999 16.7576 9.46422 16.6037 9.48633C16.4553 9.50291 16.2739 9.54161 16.2079 9.56925C16.1365 9.59689 16.0815 9.60795 16.0815 9.59136C16.0815 9.57478 15.9825 9.60242 15.8616 9.64665C15.7407 9.69087 15.6418 9.71851 15.6418 9.70193C15.6418 9.68534 15.5483 9.70746 15.4384 9.74615C15.323 9.78485 15.1965 9.81249 15.1636 9.80143C15.1251 9.79038 15.0646 9.78485 15.0371 9.78485C15.0097 9.78485 14.9547 9.72957 14.9217 9.66323C14.8667 9.55267 14.9217 9.40341 15.3395 8.54101C15.6033 7.99372 15.8396 7.54042 15.8671 7.53489C15.8946 7.52383 15.9166 7.47961 15.9166 7.43538C15.9166 7.39116 15.999 7.3027 16.098 7.24189C16.1914 7.18109 16.4113 7.12028 16.5762 7.10369C16.7411 7.08711 16.917 7.05947 16.9609 7.04288C17.0049 7.0263 17.2632 6.99866 17.5381 6.98207C17.8129 6.96549 18.0383 6.9489 18.0493 6.93785C18.0548 6.93232 18.5384 6.93785 19.1211 6.94337ZM10.9092 9.4421C10.9697 9.49186 11.0082 9.58584 10.9972 9.64665C10.9862 9.70746 10.8872 10.1552 10.7773 10.6417C10.6674 11.1282 10.5465 11.6755 10.519 11.8579C10.486 12.0403 10.4035 12.3057 10.3321 12.455C10.2606 12.5987 10.1562 12.7701 10.1067 12.8309C10.0518 12.8972 9.90885 13.052 9.78793 13.1791C9.667 13.3008 9.43065 13.5661 9.26575 13.7651C9.09536 13.9641 8.90848 14.1908 8.85351 14.2682C8.79305 14.3511 8.70511 14.4727 8.66113 14.5391C8.61716 14.6054 8.5512 14.6939 8.52372 14.727C8.49074 14.7602 8.3918 14.915 8.30935 15.0642C8.22141 15.219 8.12797 15.3517 8.10598 15.3683C8.08399 15.3849 7.93009 15.6668 7.7597 16.004C7.5893 16.3413 7.4299 16.6453 7.39692 16.684C7.36944 16.7172 7.35295 16.7503 7.36944 16.7503C7.38593 16.7503 7.29799 16.977 7.17706 17.2479C7.05614 17.5188 6.9627 17.762 6.96819 17.7896C6.97369 17.8117 6.94621 17.9057 6.90773 17.9942C6.86925 18.0826 6.82528 18.2098 6.81429 18.2706C6.8033 18.3314 6.77032 18.442 6.74283 18.5193C6.71535 18.5967 6.64939 18.8566 6.59443 19.0998C6.53946 19.343 6.48999 19.5808 6.4845 19.625C6.4735 19.6692 6.45152 19.7964 6.42953 19.9014C6.41304 20.0064 6.38556 20.1557 6.37456 20.2331C6.36357 20.3105 6.33609 20.5592 6.3141 20.7859C6.28662 21.0126 6.27013 21.6593 6.27563 22.2232C6.28112 22.9972 6.30861 23.4062 6.39655 23.9093C6.46251 24.2742 6.57244 24.8104 6.64939 25.0979C6.72634 25.3853 6.82528 25.7502 6.87475 25.8994C6.92972 26.0542 7.07812 26.4523 7.21004 26.784C7.34196 27.1156 7.57831 27.6408 7.73221 27.9449C7.88612 28.2489 8.19942 28.7741 8.43028 29.1058C8.65564 29.4375 8.97993 29.8742 9.15033 30.0732C9.32072 30.2722 9.65051 30.6371 9.88137 30.8914C10.1232 31.1457 10.3101 31.3944 10.3101 31.4553C10.3101 31.5161 10.2551 31.5935 10.1892 31.6322C10.1177 31.6653 9.97481 31.6985 9.87038 31.704C9.76594 31.7095 9.40866 31.7372 9.07337 31.7648C8.73808 31.7869 8.27637 31.8091 8.04552 31.8146C7.67175 31.8146 7.61129 31.798 7.47937 31.6764C7.39692 31.599 7.14958 31.3005 6.93521 31.013C6.71535 30.7255 6.44052 30.3386 6.3251 30.1561C6.20967 29.9737 6.03927 29.7028 5.95133 29.548C5.86338 29.3988 5.63253 28.9621 5.44565 28.5806C5.25327 28.1992 5.02242 27.6906 4.92897 27.4473C4.84103 27.2041 4.68713 26.7563 4.59368 26.4523C4.50024 26.1482 4.40131 25.8221 4.37382 25.7336C4.34634 25.6452 4.29687 25.4185 4.26389 25.2361C4.23091 25.0536 4.19244 24.8546 4.18144 24.7938C4.17045 24.733 4.14846 24.5837 4.12648 24.4621C4.10999 24.3405 4.07151 24.0807 4.03853 23.8817C4.00555 23.6827 3.97257 22.8755 3.96158 22.085C3.94509 20.902 3.96158 20.5261 4.04403 19.9567C4.09899 19.5752 4.20893 18.9671 4.28588 18.6023C4.36283 18.2374 4.48925 17.7399 4.5717 17.4966C4.64865 17.2534 4.72011 17.0323 4.7256 16.9991C4.7366 16.9659 4.76958 16.883 4.79706 16.8056C4.83004 16.7282 4.98394 16.3689 5.14334 16.004C5.29724 15.6392 5.5171 15.1803 5.62154 14.9813C5.73147 14.7823 5.89087 14.5004 5.98431 14.3456C6.07225 14.1963 6.26463 13.8978 6.40205 13.6822C6.53946 13.4721 6.68787 13.2621 6.72634 13.2289C6.75932 13.1902 6.7923 13.1404 6.7923 13.1183C6.7923 13.0907 6.84727 13.0133 6.91872 12.9359C6.98468 12.8585 7.1166 12.6982 7.20455 12.5766C7.29799 12.455 7.44639 12.2725 7.53434 12.162C7.62228 12.0569 7.94658 11.7197 8.24889 11.4157C8.5512 11.1061 8.95795 10.7136 9.15582 10.5477C9.3537 10.3764 9.59005 10.1773 9.678 10.111C9.76594 10.0391 9.85389 9.96728 9.87038 9.9507C9.88687 9.92858 10.0078 9.84013 10.1452 9.74615C10.2826 9.65217 10.486 9.52503 10.5959 9.46422C10.7938 9.35918 10.8103 9.35918 10.9092 9.4421ZM24.1999 11.1669C24.2714 11.1669 24.4747 11.2719 24.6561 11.4046C24.8375 11.5317 25.0299 11.6644 25.0849 11.6921C25.1343 11.7252 25.2552 11.7971 25.3432 11.8579C25.4311 11.9187 25.5356 11.9851 25.5631 12.0127C25.5905 12.0348 25.8104 12.1896 26.0413 12.3554C26.2776 12.5213 26.4865 12.7148 26.5085 12.7866C26.5304 12.853 26.5524 12.947 26.5634 12.9912C26.5689 13.0354 26.5909 13.2123 26.6129 13.3782C26.6294 13.544 26.6624 13.732 26.6734 13.7928C26.6898 13.8536 26.7118 14.5612 26.7228 15.3683C26.7338 16.1754 26.7173 16.9936 26.6898 17.1926C26.6679 17.3916 26.6294 17.7509 26.6129 17.9942C26.5909 18.2374 26.5524 18.5249 26.525 18.6299C26.4975 18.7349 26.459 18.934 26.4425 19.0722C26.4205 19.2104 26.3601 19.531 26.2996 19.7908C26.2391 20.0506 26.1787 20.3105 26.1677 20.3713C26.1567 20.4321 26.1292 20.5427 26.0962 20.6201C26.0687 20.6974 26.0413 20.7748 26.0358 20.8025C26.0358 20.8246 26.0138 20.9075 25.9973 20.996C25.9808 21.0789 25.9038 21.3332 25.8269 21.5598C25.7499 21.7865 25.6785 22.0131 25.673 22.0574C25.662 22.1016 25.596 22.2896 25.5191 22.472C25.4421 22.6544 25.2882 23.0359 25.1728 23.3178C25.0519 23.5997 24.9419 23.8264 24.9145 23.8264C24.8925 23.8264 24.8815 23.843 24.887 23.8706C24.8925 23.8927 24.81 24.0807 24.7001 24.2963C24.5957 24.5119 24.4418 24.7938 24.3703 24.932C24.2933 25.0702 24.1504 25.319 24.0515 25.4848C23.9526 25.6507 23.7327 25.999 23.5623 26.2588C23.3919 26.5186 23.2325 26.7563 23.1995 26.7895C23.172 26.8227 23.1061 26.9111 23.0621 26.9774C23.0181 27.0438 22.8807 27.2262 22.7598 27.3865C22.6389 27.5468 22.5015 27.7127 22.4575 27.7624C22.4135 27.8067 22.2981 27.9449 22.2101 28.061C22.1222 28.1771 21.8968 28.4313 21.7155 28.6193C21.4626 28.8791 21.3527 28.9565 21.2483 28.9455C21.1713 28.9399 20.814 28.7133 20.4513 28.4424C20.0885 28.1771 19.7367 27.8951 19.6652 27.8232C19.5993 27.7569 19.5443 27.6574 19.5443 27.6132C19.5443 27.569 19.6213 27.4473 19.7147 27.3534C19.8082 27.2538 19.984 27.0493 20.1105 26.9C20.2369 26.7563 20.3853 26.5794 20.4458 26.5131C20.5007 26.4523 20.6381 26.2864 20.7481 26.1482C20.858 26.01 20.9789 25.8663 21.0174 25.8331C21.0504 25.7944 21.0834 25.7447 21.0834 25.7225C21.0834 25.6949 21.1273 25.6286 21.1768 25.5678C21.2318 25.5069 21.3802 25.2969 21.5121 25.0979C21.6385 24.8988 21.7704 24.6998 21.7979 24.6556C21.8309 24.6114 21.9573 24.4013 22.0892 24.1857C22.2156 23.9701 22.386 23.6771 22.4575 23.5223C22.529 23.3731 22.6004 23.2349 22.6224 23.2183C22.6389 23.2017 22.7708 22.9308 22.9082 22.6102C23.0511 22.2896 23.249 21.8086 23.3534 21.5322C23.4579 21.2558 23.5953 20.8467 23.6612 20.6201C23.7327 20.3934 23.8206 20.0672 23.8646 19.9014C23.9141 19.7355 23.969 19.5089 23.9965 19.4039C24.024 19.2988 24.057 19.1219 24.079 19.0169C24.0955 18.9118 24.123 18.7736 24.1284 18.7128C24.1394 18.652 24.1669 18.5138 24.1889 18.4088C24.2109 18.3038 24.2769 17.8781 24.3318 17.469C24.4088 16.8775 24.4253 16.4573 24.4088 15.4236C24.3923 14.7104 24.3703 14.036 24.3593 13.931C24.3428 13.8259 24.3153 13.638 24.2988 13.5164C24.2824 13.3947 24.2549 13.1847 24.2384 13.0465C24.2219 12.9083 24.1724 12.6097 24.1284 12.3831C24.079 12.1564 24.0185 11.88 23.991 11.775C23.9636 11.67 23.9361 11.5207 23.9306 11.4378C23.9251 11.3604 23.9526 11.2719 23.9965 11.2332C24.0405 11.1945 24.1285 11.1669 24.1999 11.1669ZM19.198 15.7332C19.7367 15.7387 20.3468 15.7608 20.5612 15.7774C20.7755 15.7995 21.0559 15.8271 21.1933 15.8382C21.3307 15.8492 21.5671 15.8769 21.7155 15.8935C21.8694 15.9156 22.0013 15.9432 22.0178 15.9488C22.0343 15.9598 22.1552 15.9819 22.2926 15.9985C22.43 16.0151 22.7488 16.0759 23.0072 16.1312C23.2655 16.192 23.5293 16.2639 23.6008 16.297C23.6667 16.3357 23.7217 16.3855 23.7217 16.4186C23.7217 16.4518 23.7272 16.5071 23.7327 16.5458C23.7382 16.579 23.7272 16.8001 23.6997 17.0267C23.6777 17.2534 23.6502 17.5519 23.6338 17.6901C23.6173 17.8283 23.5733 17.9886 23.5348 18.0495C23.4908 18.1103 23.3809 18.2429 23.2875 18.3424C23.1336 18.5028 23.0951 18.5138 22.8807 18.4862C22.7543 18.4696 22.5399 18.4309 22.4025 18.4033C22.2651 18.3701 22.0562 18.3369 21.9353 18.3203C21.8144 18.3093 21.655 18.2816 21.578 18.2651C21.5011 18.2485 21.3802 18.2264 21.3032 18.2153C21.2263 18.2042 20.9569 18.1821 20.6986 18.16C20.4403 18.1379 20.1434 18.1103 20.039 18.0992C19.9346 18.0882 19.4894 18.0771 19.0496 18.0716C18.6099 18.066 18.0657 18.0826 17.8404 18.1047C17.615 18.1269 17.3677 18.149 17.2907 18.16C17.2138 18.1655 16.9829 18.1932 16.7686 18.2153C16.5542 18.2374 16.2134 18.2927 15.999 18.3369C15.7847 18.3811 15.5648 18.4254 15.5043 18.442C15.4439 18.453 15.3175 18.4807 15.2295 18.4972C15.1416 18.5138 15.0536 18.5359 15.0371 18.547C15.0207 18.558 14.9272 18.5802 14.8283 18.5967C14.7348 18.6133 14.4105 18.7073 14.1137 18.7958C13.8224 18.8897 13.5366 18.9892 13.4816 19.0169C13.4321 19.0501 13.3552 19.0722 13.3167 19.0722C13.2837 19.0777 13.1518 19.1219 13.0309 19.1827C12.91 19.2435 12.789 19.2878 12.7561 19.2933C12.7231 19.2933 12.5582 19.3652 12.3823 19.4591C12.2119 19.5476 12.069 19.6139 12.069 19.5973C12.069 19.5808 11.8656 19.6747 11.6128 19.8074C11.3654 19.9401 10.9917 20.1446 10.7773 20.2607C10.5629 20.3768 10.1452 20.6366 9.84289 20.8412C9.54058 21.0402 9.09536 21.3498 8.85351 21.5322C8.61166 21.7091 8.3863 21.886 8.35332 21.9192C8.31485 21.9468 8.19392 22.0518 8.0785 22.1403C7.96857 22.2287 7.7597 22.4112 7.62228 22.5383C7.48487 22.6655 7.31448 22.8037 7.24302 22.8424C7.13859 22.9032 7.10561 22.9032 7.03965 22.8313C6.97919 22.765 6.9572 22.5162 6.9517 21.698C6.94071 20.8301 6.9517 20.5924 7.02866 20.3436C7.08912 20.1502 7.22103 19.929 7.38593 19.7411C7.55083 19.5421 7.89161 19.2767 8.34233 18.9782C8.73259 18.7239 9.06788 18.5193 9.10086 18.5193C9.13384 18.5193 9.15582 18.4862 9.15582 18.453C9.15582 18.4143 9.17231 18.3977 9.1943 18.4198C9.21628 18.442 9.29873 18.4143 9.37569 18.359C9.45264 18.3038 9.69998 18.16 9.92534 18.0439C10.1507 17.9278 10.3486 17.8117 10.3651 17.7841C10.3816 17.7565 10.4035 17.7399 10.42 17.7509C10.4365 17.7565 10.6344 17.6735 10.8598 17.5685C11.0851 17.4579 11.3819 17.3197 11.5193 17.2589C11.6568 17.1981 11.9646 17.071 12.2064 16.977C12.4483 16.883 12.8935 16.7282 13.1958 16.6342C13.4981 16.5403 13.9323 16.4131 14.1577 16.3523C14.3831 16.2915 14.6304 16.2307 14.7073 16.2196C14.7843 16.203 14.8558 16.1809 14.8722 16.1699C14.8887 16.1588 14.9877 16.1367 15.0921 16.1201C15.1965 16.098 15.4109 16.0593 15.5593 16.0317C15.7132 16.004 15.9221 15.9653 16.0265 15.9488C16.131 15.9322 16.3453 15.9045 16.4937 15.8879C16.6476 15.8714 16.829 15.8492 16.906 15.8382C16.9829 15.8216 17.3017 15.794 17.6205 15.7774C17.9393 15.7553 18.2032 15.7387 18.2087 15.7332C18.2197 15.7276 18.6649 15.7276 19.198 15.7332ZM27.998 17.9499C28.2619 18.0937 28.5862 18.2761 28.7236 18.359C28.861 18.442 29.0808 18.5802 29.2183 18.6631C29.3557 18.746 29.603 18.9174 29.7734 19.039C29.9438 19.1661 30.1362 19.3043 30.2076 19.3486C30.2736 19.3928 30.3615 19.4591 30.3945 19.4868C30.4275 19.5199 30.6034 19.6582 30.7848 19.7908C30.9662 19.929 31.1256 20.0506 31.1421 20.0672C31.1585 20.0838 31.3564 20.2552 31.5818 20.4487C31.8071 20.6477 32.3183 21.1286 32.7086 21.5267C33.0988 21.9247 33.5825 22.4499 33.7804 22.6931C33.9728 22.9364 34.1487 23.1464 34.1652 23.163C34.1817 23.1796 34.2916 23.3289 34.418 23.4947C34.5389 23.6605 34.7313 23.9314 34.8412 24.0917C34.9512 24.2465 35.1985 24.6335 35.3909 24.9486C35.5778 25.2582 35.8746 25.7889 36.045 26.1206C36.2154 26.4523 36.4517 26.9664 36.5727 27.2538C36.6936 27.5413 36.8805 28.0167 36.9849 28.3042C37.0893 28.5917 37.2652 29.1279 37.3697 29.4928C37.4796 29.8576 37.639 30.4934 37.7324 30.9024C37.8204 31.3115 37.9028 31.7372 37.9193 31.8422C37.9358 31.9473 37.9688 32.1463 37.9853 32.2845C38.0128 32.4503 38.0018 32.5775 37.9523 32.6714C37.9138 32.7488 37.8589 32.8373 37.8259 32.8705C37.7929 32.8981 37.6225 32.9921 37.4521 33.075C37.2762 33.1579 37.1278 33.2243 37.1223 33.2243C37.1113 33.2243 37.0069 33.263 36.886 33.3182C36.765 33.368 36.6551 33.4122 36.6386 33.4178C36.6221 33.4178 36.4023 33.4951 36.1439 33.5836C35.8856 33.672 35.6602 33.755 35.6382 33.7605C35.6108 33.7716 35.5888 33.7771 35.5833 33.7826C35.5723 33.7826 35.5283 33.7937 35.4843 33.8047C35.4404 33.8102 35.2645 33.86 35.0996 33.9098C34.9347 33.9595 34.7368 34.0093 34.6599 34.0258C34.5829 34.0424 34.484 34.0645 34.44 34.0811C34.396 34.0977 34.2971 34.1198 34.2201 34.1364C34.1432 34.153 34.0223 34.1751 33.9453 34.1917C33.8684 34.2083 33.7474 34.2304 33.6705 34.247C33.5935 34.2691 33.3847 34.3023 33.2033 34.3299C33.0219 34.3575 32.7635 34.3962 32.6261 34.4183C32.4887 34.4349 32.3183 34.457 32.2414 34.4681C32.1644 34.4847 31.8456 34.5123 31.5268 34.5344C31.208 34.5566 30.488 34.5787 29.9273 34.5787C28.9764 34.5787 28.894 34.5731 28.784 34.4681C28.7181 34.4073 28.6631 34.341 28.6686 34.3188C28.6686 34.2912 28.8115 34.1419 28.9874 33.9872C29.1578 33.8268 29.5371 33.4564 29.8229 33.1635C30.1087 32.8705 30.444 32.5664 30.5649 32.489C30.6858 32.4172 30.8947 32.3232 31.0321 32.2845C31.1695 32.2458 31.3289 32.2071 31.3894 32.2016C31.4499 32.1905 31.5983 32.1684 31.7192 32.1518C31.8401 32.1352 32.016 32.1076 32.104 32.091C32.1919 32.0744 32.4557 32.0247 32.6811 31.9804C32.9065 31.9362 33.588 31.7869 34.1926 31.6487C34.7973 31.5105 35.3249 31.3889 35.3634 31.3723C35.3964 31.3557 35.4294 31.3005 35.4294 31.2507C35.4294 31.1954 35.3689 30.9411 35.292 30.6813C35.215 30.4215 35.1381 30.1617 35.1271 30.1009C35.1106 30.04 35.0611 29.8687 35.0116 29.7139C34.9622 29.5646 34.8907 29.349 34.8522 29.244C34.8138 29.139 34.7038 28.8515 34.6049 28.6082C34.506 28.365 34.2751 27.8564 34.0937 27.475C33.9123 27.0935 33.654 26.596 33.5166 26.3693C33.3792 26.1427 33.1208 25.7336 32.9394 25.4572C32.758 25.1808 32.4173 24.7219 32.1919 24.4345C31.961 24.147 31.6038 23.7214 31.3894 23.5002C31.1805 23.2736 30.8562 22.9419 30.6749 22.7705C30.4935 22.5991 30.2681 22.3946 30.1802 22.3283C30.0922 22.2564 29.9658 22.1458 29.9053 22.085C29.8449 22.0242 29.4711 21.7367 29.0808 21.4493C28.6906 21.1618 28.2454 20.8467 28.097 20.7472C27.9431 20.6532 27.6957 20.4984 27.5418 20.41C27.3934 20.3215 27.212 20.1667 27.1461 20.0617C27.0801 19.9567 27.0251 19.7853 27.0251 19.6803C27.0251 19.5752 27.0471 19.3817 27.0746 19.2546C27.1076 19.1219 27.168 18.7626 27.212 18.453C27.278 18.0108 27.322 17.8615 27.4099 17.7896C27.5198 17.6957 27.5418 17.7012 27.998 17.9499ZM13.5531 19.6803C13.597 19.6803 13.663 19.7079 13.696 19.7466C13.7345 19.7853 13.8499 20.0783 13.9543 20.3989C14.0588 20.7196 14.2621 21.2779 14.405 21.6428C14.5479 22.0076 14.8393 22.6544 15.0591 23.0801C15.2735 23.5058 15.6857 24.2134 15.9771 24.6556C16.2684 25.0979 16.6366 25.6175 16.796 25.8165C16.9554 26.0155 17.2358 26.3472 17.4226 26.5573C17.604 26.7674 17.9173 27.1046 18.1152 27.3036C18.3131 27.5026 18.5879 27.768 18.7198 27.8896C18.8573 28.0112 19.0881 28.2102 19.2365 28.3318C19.3849 28.4535 19.5443 28.5917 19.5993 28.6359C19.6543 28.6801 19.7532 28.7575 19.8191 28.8017C19.8851 28.846 20.1379 29.0284 20.3743 29.2053C20.6107 29.3767 20.9459 29.6033 21.1108 29.7028C21.2757 29.7968 21.5341 29.9461 21.677 30.029C21.8199 30.1119 22.1662 30.2943 22.4465 30.4325C22.7213 30.5707 22.9797 30.6813 23.0072 30.6813C23.0346 30.6813 23.0621 30.709 23.0621 30.7366C23.0621 30.7642 23.1006 30.7919 23.1446 30.7919C23.1885 30.7919 23.271 30.814 23.326 30.8416C23.3754 30.8748 23.6283 30.9854 23.8866 31.0904C24.1449 31.201 24.4033 31.3005 24.4637 31.3115C24.5242 31.3226 24.6671 31.3723 24.7825 31.4221C24.8925 31.4718 24.9914 31.4995 25.0024 31.4884C25.0079 31.4774 25.1233 31.5161 25.2552 31.5824C25.3927 31.6487 25.5246 31.7482 25.5576 31.8035C25.6015 31.8643 25.6015 31.9251 25.5631 31.986C25.5356 32.0357 25.3377 32.1684 25.1233 32.2789C24.909 32.3895 24.7111 32.489 24.6836 32.5001C24.6561 32.5111 24.3538 32.6493 24.024 32.8097C23.6942 32.9644 23.3479 33.1248 23.2545 33.1579C23.1666 33.1966 23.0126 33.2187 22.9247 33.2022C22.8368 33.1911 22.463 33.0474 22.1002 32.876C21.7374 32.7101 21.1438 32.4061 20.781 32.2016C20.4183 31.997 20.072 31.8035 20.0115 31.7648C19.9511 31.7317 19.7147 31.5824 19.4894 31.4276C19.264 31.2784 18.8023 30.9467 18.4725 30.6979C18.1427 30.4547 17.8019 30.1893 17.725 30.1174C17.648 30.0511 17.4391 29.8687 17.2632 29.7139C17.0819 29.5646 16.6806 29.1776 16.3618 28.857C16.0375 28.5364 15.6637 28.1384 15.5263 27.9725C15.3889 27.8067 15.1251 27.4805 14.9492 27.2538C14.7678 27.0272 14.427 26.5573 14.1962 26.2201C13.9653 25.8773 13.7729 25.5843 13.7729 25.5678C13.7729 25.5512 13.729 25.4738 13.6685 25.3909C13.6135 25.3024 13.5091 25.1366 13.4431 25.0149C13.3717 24.8933 13.1353 24.429 12.9155 23.9812C12.6901 23.5279 12.5087 23.152 12.5087 23.1354C12.5087 23.1188 12.4428 22.964 12.3658 22.7926C12.2889 22.6157 12.1624 22.3117 12.0855 22.1127C12.014 21.9136 11.8821 21.5377 11.7942 21.2724C11.7007 21.0015 11.6293 20.7417 11.6293 20.6919C11.6293 20.6366 11.6897 20.5371 11.7667 20.4708C11.8436 20.3989 11.9041 20.3547 11.9041 20.3713C11.9041 20.3879 12.036 20.3326 12.1954 20.2497C12.3493 20.1667 12.4922 20.0949 12.5087 20.0949C12.5252 20.0949 12.5857 20.0617 12.6461 20.0285C12.7066 19.9954 12.7671 19.9677 12.7836 19.9677C12.8 19.9677 12.8715 19.9401 12.9484 19.9124C13.0254 19.8848 13.1738 19.8185 13.2782 19.7742C13.3827 19.73 13.5091 19.6858 13.5531 19.6803ZM3.23054 24.2686C3.25802 24.2686 3.31299 24.3073 3.35696 24.3516C3.40093 24.3958 3.43941 24.4677 3.4449 24.5063C3.4449 24.5395 3.4559 24.6114 3.46689 24.6556C3.47788 24.6998 3.49987 24.838 3.52186 24.9597C3.53835 25.0813 3.59331 25.319 3.63728 25.4848C3.68126 25.6507 3.7692 25.9271 3.83516 26.0929C3.91761 26.3196 3.94509 26.5297 3.94509 26.8945C3.94509 27.3091 3.91761 27.4639 3.78019 27.8343C3.69225 28.0775 3.53285 28.5143 3.42292 28.8017C3.31848 29.0892 3.20306 29.4375 3.16458 29.5757C3.1261 29.7139 3.03266 30.0124 2.96121 30.2391C2.88975 30.4657 2.8073 30.7311 2.77982 30.8195C2.74684 30.908 2.71386 31.0351 2.70287 31.0959C2.69188 31.1567 2.64241 31.306 2.60393 31.4276C2.54896 31.5879 2.54347 31.6653 2.58194 31.7095C2.61492 31.7372 2.80181 31.8091 2.99968 31.8643C3.19756 31.9196 3.40643 31.9749 3.46689 31.9915C3.52735 32.0025 3.62629 32.0247 3.68675 32.0357C3.74721 32.0523 3.90662 32.0855 4.04403 32.1186C4.18144 32.1573 4.34084 32.1905 4.40131 32.196C4.46177 32.2071 4.5717 32.2292 4.64865 32.2458C4.7256 32.2679 4.885 32.2955 5.00593 32.3066C5.12685 32.3232 5.28625 32.3453 5.3632 32.3619C5.44016 32.3785 5.61054 32.4006 5.74796 32.4172C5.88537 32.4337 6.25364 32.4614 6.57244 32.4835C6.89124 32.5056 7.45739 32.5222 7.83665 32.5222C8.21591 32.5167 8.69961 32.5001 8.90848 32.4835C9.12284 32.4669 9.40317 32.4393 9.54058 32.4227C9.678 32.4006 9.91435 32.3674 10.0628 32.3398C10.2167 32.3121 10.398 32.2734 10.475 32.2568C10.5519 32.2403 10.7004 32.2126 10.8048 32.2016C10.9092 32.1905 11.0466 32.1684 11.1071 32.1518C11.1676 32.1407 11.327 32.102 11.4644 32.0689C11.6018 32.0412 11.8162 31.9749 11.9481 31.9251C12.0745 31.8809 12.1789 31.8533 12.1789 31.8699C12.1789 31.8864 12.2669 31.8588 12.3713 31.8146C12.4757 31.7704 12.5637 31.7427 12.5637 31.7593C12.5637 31.7759 12.5967 31.7704 12.6351 31.7482C12.6681 31.7261 12.7176 31.6985 12.7451 31.693C12.7671 31.6819 12.789 31.6764 12.8 31.6709C12.8055 31.6709 12.8495 31.6598 12.8935 31.6487C12.9375 31.6377 13.1848 31.5548 13.4431 31.4553C13.7015 31.3613 13.9983 31.2452 14.1027 31.1954C14.2072 31.1457 14.5919 30.9632 14.9547 30.7863C15.3175 30.6094 15.7737 30.3717 15.9716 30.2612C16.1694 30.1506 16.3948 30.0622 16.4827 30.0677C16.5652 30.0677 16.6751 30.1064 16.7301 30.1451C16.785 30.1782 16.9609 30.322 17.1203 30.4602C17.2852 30.5984 17.4886 30.7753 17.5875 30.8582C17.681 30.9467 17.8734 31.107 18.0163 31.2175C18.1592 31.3336 18.2746 31.4663 18.2801 31.5105C18.2801 31.5548 18.2526 31.6377 18.2142 31.6874C18.1757 31.7372 17.8954 31.9086 17.593 32.0689C17.2907 32.2292 16.6751 32.5498 16.2189 32.782C15.7682 33.0142 15.1086 33.3238 14.7623 33.4675C14.416 33.6112 14.0917 33.7384 14.0478 33.7494C14.0038 33.7605 13.7674 33.8379 13.5256 33.9208C13.2837 33.9982 13.0474 34.0811 13.0034 34.0922C12.9594 34.1032 12.9155 34.1143 12.91 34.1143C12.899 34.1088 12.7945 34.1475 12.6736 34.1917C12.5527 34.2359 12.4538 34.2636 12.4538 34.247C12.4538 34.2304 12.3878 34.247 12.3054 34.2801C12.2174 34.3133 11.9316 34.3852 11.6568 34.4405C11.3874 34.4957 11.0741 34.5566 10.9697 34.5731C10.8653 34.5897 10.7168 34.6174 10.6399 34.6284C10.5629 34.645 10.3925 34.6671 10.2551 34.6892C10.1177 34.7113 9.93633 34.7335 9.84289 34.7445C9.75495 34.7556 9.38118 34.7832 9.01841 34.8053C8.65564 34.8274 8.04002 34.8495 7.64427 34.844C7.25401 34.844 6.62191 34.8274 6.24265 34.8053C5.86338 34.7887 5.50611 34.7611 5.44565 34.75C5.38519 34.739 5.2148 34.7113 5.06089 34.6948C4.91249 34.6726 4.71461 34.645 4.62117 34.6284C4.53322 34.6174 4.33535 34.5787 4.18144 34.551C4.03304 34.5234 3.83516 34.4847 3.74172 34.4681C3.65377 34.446 3.52735 34.4239 3.46689 34.4128C3.40643 34.4018 3.12061 34.3299 2.83479 34.2525C2.54896 34.1751 2.15321 34.0645 1.95534 34.0037C1.75746 33.9485 1.47714 33.8545 1.32323 33.7992C1.17483 33.7494 0.839535 33.6168 0.586693 33.5062C0.333852 33.3956 0.0920031 33.2574 0.0535272 33.1966C0.00405787 33.1192 -0.0124311 32.981 0.00955509 32.7544C0.0205482 32.5719 0.0425341 32.3619 0.0590237 32.2845C0.0700169 32.2071 0.119486 31.9141 0.163458 31.6377C0.212927 31.3557 0.300872 30.908 0.361335 30.6426C0.421797 30.3717 0.487755 30.1064 0.498748 30.0456C0.515238 29.9848 0.564707 29.7968 0.614176 29.631C0.669142 29.4651 0.76808 29.1555 0.834038 28.9399C0.905494 28.7243 1.00993 28.4148 1.07039 28.2489C1.13085 28.0831 1.31774 27.6187 1.48813 27.2262C1.65852 26.8337 1.90587 26.3085 2.03229 26.0653C2.16421 25.8221 2.31811 25.5401 2.37308 25.4351C2.42804 25.3356 2.59843 25.0592 2.74134 24.827C2.88975 24.5948 3.04915 24.3737 3.09862 24.3405C3.14809 24.3018 3.20855 24.2686 3.23054 24.2686ZM31.3509 24.733C31.3729 24.7496 31.4499 24.7772 31.5268 24.7938C31.6038 24.8104 31.6642 24.827 31.6697 24.838C31.6697 24.8436 31.9061 25.1863 32.1974 25.5954C32.4832 26.0045 32.7745 26.4302 32.8405 26.5352C32.901 26.6402 32.9559 26.8171 32.9559 26.9222C32.9559 27.0272 32.9065 27.2538 32.8405 27.4197C32.7745 27.5855 32.6866 27.8122 32.6426 27.9172C32.5986 28.0223 32.4722 28.2821 32.3678 28.4977C32.2634 28.7133 32.06 29.0892 31.9226 29.3435C31.7797 29.5978 31.6367 29.8466 31.6093 29.8963C31.5818 29.9516 31.4334 30.1782 31.2795 30.4049C31.1311 30.6316 30.9827 30.8527 30.9497 30.8914C30.9222 30.9301 30.8672 30.9909 30.8397 31.0296C30.8123 31.0683 30.6858 31.2231 30.5649 31.3723C30.4495 31.5271 30.3011 31.7095 30.2351 31.7814C30.1747 31.8588 29.8009 32.2458 29.4106 32.6383C29.0149 33.0363 28.6191 33.4233 28.5257 33.5007C28.4323 33.5781 28.2729 33.7052 28.1684 33.7881C28.064 33.8711 27.7617 34.0977 27.4868 34.2912C27.212 34.4847 26.8053 34.75 26.5799 34.8827C26.3546 35.0154 25.8599 35.2807 25.4806 35.4742C25.1013 35.6677 24.788 35.828 24.7825 35.8225C24.7715 35.8225 24.6836 35.8557 24.5902 35.8944C24.4912 35.9386 24.2494 36.027 24.0515 36.0989C23.8536 36.1652 23.6612 36.2316 23.6283 36.2426C23.5898 36.2537 23.5458 36.2592 23.5403 36.2537C23.5293 36.2426 23.4854 36.2648 23.4414 36.3035C23.3974 36.3366 23.2655 36.3808 23.1446 36.403C23.0236 36.4251 22.8917 36.4748 22.8532 36.508C22.8148 36.5412 22.7818 36.5522 22.7873 36.5301C22.7873 36.5025 22.6884 36.5246 22.5674 36.5688C22.4465 36.613 22.3366 36.6517 22.3201 36.6517C22.3036 36.6517 22.2266 36.6628 22.1442 36.6794C22.0562 36.6904 21.9133 36.7181 21.8254 36.7346C21.7374 36.7512 21.611 36.7733 21.5506 36.7844C21.4901 36.7955 21.3307 36.8231 21.1933 36.8452C21.0559 36.8618 20.8855 36.8894 20.8085 36.9005C20.7316 36.9115 20.4732 36.9392 20.2314 36.9613C19.9895 36.9834 19.3739 37 18.8573 37C18.3406 37 17.736 36.9834 17.5106 36.9613C17.2852 36.9392 17.0379 36.9171 16.9609 36.9005C16.884 36.8894 16.7246 36.8673 16.6037 36.8507C16.4827 36.8286 16.3233 36.8065 16.2464 36.7899C16.1694 36.7789 16.032 36.7512 15.9441 36.7291C15.8561 36.7125 15.7297 36.6904 15.6692 36.6794C15.6088 36.6683 15.312 36.5964 15.0097 36.5135C14.7073 36.4306 14.449 36.3587 14.4325 36.3477C14.416 36.3311 14.3556 36.3145 14.2951 36.2979C14.2346 36.2813 13.9983 36.2039 13.7729 36.121C13.5476 36.0436 13.1133 35.8667 12.811 35.7285C12.5087 35.5958 12.2064 35.4466 12.1405 35.4024C12.069 35.3637 12.014 35.2807 12.014 35.231C12.0085 35.1757 12.0415 35.0983 12.08 35.0651C12.1185 35.0264 12.2119 34.9822 12.2889 34.9656C12.3658 34.9491 12.5032 34.9159 12.5912 34.8827C12.6791 34.8495 12.8165 34.8164 12.8935 34.7998C12.9704 34.7832 13.1188 34.7445 13.2233 34.7113C13.3277 34.6782 13.4541 34.6395 13.4981 34.6229C13.5421 34.6008 13.5915 34.5842 13.608 34.5787C13.6245 34.5731 13.7345 34.5234 13.8554 34.4681C13.9763 34.4128 14.2456 34.341 14.46 34.3078C14.6744 34.2691 15.0042 34.247 15.202 34.258C15.3999 34.2636 15.6583 34.2801 15.7792 34.2967C15.9001 34.3133 16.076 34.341 16.1639 34.3575C16.2519 34.3741 16.5267 34.4294 16.7686 34.4792C17.0104 34.5289 17.2687 34.5731 17.3457 34.5842C17.4226 34.5952 17.6315 34.6229 17.8129 34.645C17.9943 34.6671 18.5 34.6892 18.9397 34.6892C19.3794 34.6892 19.9236 34.6671 20.1489 34.645C20.3743 34.6174 20.5722 34.5897 20.5887 34.5787C20.6052 34.5676 20.7481 34.5455 20.9075 34.5289C21.0614 34.5123 21.2098 34.4847 21.2373 34.4736C21.2592 34.457 21.3527 34.4349 21.4406 34.4183C21.5286 34.4018 21.666 34.3741 21.7429 34.3575C21.8199 34.3465 21.9848 34.2967 22.1167 34.247C22.2431 34.2028 22.3531 34.1696 22.3641 34.1751C22.3696 34.1806 22.5454 34.1254 22.7598 34.0535C22.9742 33.9761 23.1556 33.9153 23.172 33.9153C23.1885 33.9098 23.2985 33.8655 23.4194 33.8158C23.5403 33.7605 23.6393 33.7218 23.6393 33.7218C23.6393 33.7218 23.7272 33.6886 23.8316 33.6444C23.9361 33.6002 24.035 33.567 24.0515 33.567C24.068 33.567 24.2384 33.4786 24.4363 33.3735C24.6341 33.2685 24.9419 33.1026 25.1233 33.0031C25.3047 32.9036 25.7115 32.6493 26.0303 32.4337C26.3491 32.2181 26.6184 32.0302 26.6349 32.0136C26.6514 31.997 26.7613 31.903 26.8822 31.8146C27.0032 31.7206 27.3769 31.3723 27.7067 31.0406C28.042 30.709 28.3883 30.3441 28.4817 30.2391C28.5697 30.134 28.806 29.8244 29.0094 29.548C29.2073 29.2716 29.3997 28.9897 29.4381 28.9123C29.4766 28.8349 29.5261 28.763 29.5481 28.7465C29.5645 28.7299 29.7459 28.4203 29.9438 28.0554C30.1417 27.6906 30.378 27.2207 30.4715 27.0051C30.5649 26.7895 30.7683 26.2311 30.9222 25.7612C31.0761 25.2913 31.23 24.8602 31.263 24.8049C31.2905 24.7496 31.3344 24.7219 31.3509 24.733Z"
          fill="white"
        />
      </svg>
    </div>
  </header>`;
  }
  function E2() {
    return [/Android/i, /webOS/i, /iPhone/i, /iPad/i, /iPod/i, /BlackBerry/i, /Windows Phone/i].some((Kr) => navigator.userAgent.match(Kr));
  }
  var x2 = oo`
  :host {
    --primary-color: #fff;
    --heading-color: #fff;
    --body-color: #a7a7a7;
    --success-color: #52d652;
    --background-color: #000;
    --start-color: #a4adff;
    --end-color: #d273ff;
    --gradient: linear-gradient(90deg, var(--start-color), var(--end-color));
  }

  .wrapper {
    font-family: "DM Sans", Helvetica, Arial, sans-serif;
    position: fixed;
    display: grid;
    place-content: center;
    top: 0;
    left: 0;
    color: var(--body-color);
    height: 100vh;
    width: 100vw;
  }

  * {
    box-sizing: border-box;
  }

  .check-list {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .check-list li {
    display: flex;
    gap: 10px;
    margin-bottom: 10px;
  }

  .items {
    display: flex;
    flex-direction: column;
    flex-gap: 50px;
    gap: 50px;
  }

  .items--small {
    flex-gap: 20px;
    gap: 20px;
  }

  .button {
    text-decoration: none;
    cursor: pointer;
    border: 0;
    color: var(--background-color);
    background: var(--gradient);
    height: 50px;
    font-weight: 600;
    min-width: 100px;
    padding: 0px 30px;
    border-radius: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    font-family: inherit;
    font-size: 15px;
  }

  @media (min-width: 800px) {
    .button {
      min-width: 200px;
      padding: 0px 40px;
      font-size: 17px;
    }
  }

  .heading {
    color: var(--heading-color);
    font-size: 18px;
    font-weight: 600;
    margin: 0;
    margin-bottom: 10px;
  }

  .heading.nomargin {
    margin: 0;
  }

  .body {
    padding: 0;
    margin: 0;
    font-size: 14px;
    line-height: 1.5;
  }

  .buttons {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-gap: 10px;
    gap: 10px;
  }

  .button--full {
    width: 100%;
    display: flex;
  }

  .button--link {
    padding: 0;
    height: auto;
    background: none;
    color: var(--primary-color);
    font-size: inherit;
    min-width: auto;
    text-decoration: none;
  }

  .button--link:hover {
    text-decoration: underline;
  }

  .button--secondary {
    background: var(--background-color);
    border: 1px solid var(--primary-color);
    color: var(--primary-color);
  }

  .dialog {
    background-color: var(--background-color);
    z-index: 10;
    border-radius: 8px;
    width: calc(100vw - 10px);
    max-width: 500px;
    max-height: 90vh;
    overflow-y: auto;
  }

  .dialog__header {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px 30px;
    gap: 10px;
    color: var(--primary-color);
    margin-bottom: 20px;
    font-size: 14px;
  }

  .dialog__logo {
    display: flex;
    text-align: center;
    width: 25px;
  }

  .dialog__content {
    min-height: 300px;
    display: grid;
    place-content: center;
    padding-top: 0;
    padding-left: 30px;
    padding-right: 30px;
    padding-bottom: 30px;
  }

  .dialog__connect {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-gap: 50px;
    gap: 50px;
    position: relative;
  }

  .dialog__logo svg {
    width: 100%;
  }

  .dialog__connect-ad4m {
    width: 80px;
    height: 80px;
    background: var(--background-color);
    padding: 20px;
    box-shadow: 0px 4px 7px 0px rgb(0 0 0 / 8%);
    border-radius: 50%;
    position: relative;
  }

  .dialog__connect-ad4m:before {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: -1;
    margin: -2px;
    border-radius: inherit;
    background: var(--gradient);
  }

  .dialog__connect-app {
    width: 80px;
    height: 80px;
  }

  .dialog__connect-check:before {
    content: "";
    display: block;
    width: 40px;
    border-bottom: 2px dashed var(--body-color);
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translateY(-50%) translateX(-50%);
  }

  .dialog__connect-check svg {
    position: relative;
  }

  .text-center {
    text-align: center;
  }

  .uppercase {
    text-transform: uppercase;
  }

  .input {
    display: flex;
    flex-direction: column;
    flex-gap: 10px;
    gap: 10px;
  }

  .input__label {
    font-size: 12px;
  }

  .input__field {
    border-radius: 8px;
    outline: 0;
    height: 60px;
    color: var(--heading-color);
    background-color: var(--background-color);
    padding: 0px 30px;
    font-size: 20px;
    border: 1px solid var(--body-color);
  }

  .input__field:focus {
    border: 1px solid var(--primary-color);
    box-shadow: 0px 0px 0px 1px var(--primary-color);
  }

  .ad4mConnect__backdrop {
    position: absolute;
    top: 0;
    left: 0;
    height: 100vh;
    width: 100vw;
    background-color: rgba(0, 0, 0, 0.5);
  }

  .ad4mConnect__locked {
    position: fixed;
    top: 0;
    left: 0;
    background: linear-gradient(
      90deg,
      rgba(2, 0, 36, 1) 0%,
      rgba(38, 3, 23, 1) 41%,
      rgba(51, 4, 31, 1) 100%
    );
    height: 100vh;
    width: 100vw;
    padding: 36px;
    display: flex;
    align-items: center;
    flex-direction: column;
    font-family: "Comfortaa", cursive;
  }

  .lds-ring {
    display: block;
    position: relative;
    width: 80px;
    height: 80px;
    margin: 0 auto;
    margin-top: 24px;
  }
  .lds-ring div {
    box-sizing: border-box;
    display: block;
    position: absolute;
    width: 64px;
    height: 64px;
    margin: 4px;
    border: 4px solid var(--primary-color);
    border-radius: 50%;
    animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
    border-color: var(--primary-color) transparent transparent transparent;
  }
  .lds-ring div:nth-child(1) {
    animation-delay: -0.45s;
  }
  .lds-ring div:nth-child(2) {
    animation-delay: -0.3s;
  }
  .lds-ring div:nth-child(3) {
    animation-delay: -0.15s;
  }
  @keyframes lds-ring {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  .disconnected {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    padding: 10px 0;
    text-align: center;
    background: red;
  }

  .qr-scanner {
    background: black;
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    display: grid;
    grid-template-columns: 1fr;
    place-content: center;
  }

  .qr-scanner .stop {
    position: absolute;
    z-index: 10;
    left: 50%;
    bottom: 10px;
    transform: translateX(-50%);
  }

  .qr-scanner video {
    height: 100vh;
    width: 100vw;
    object-fit: cover;
  }
`, Se$1 = class extends qt$1 {
    constructor() {
      super(...arguments), this._code = null, this._isMobile = null, this._hasClickedDownload = null, this._isRemote = !1, this._isOpen = !1, this.uiState = "start", this.appName = null, this.appDesc = null, this.appDomain = null, this.appIconPath = null, this.capabilities = [], this.token = Ur("ad4murl") || "", this.port = parseInt(Ur("ad4mport")) || 12e3, this.url = Ur("ad4murl") || "";
    }
    get authState() {
      return this._client.authState;
    }
    get connectionState() {
      return this._client.connectionState;
    }
    connectedCallback() {
      super.connectedCallback(), Ti(this), this._isMobile = E2(), this._client = new Ii({ appName: this.appName, appDesc: this.appDesc, appDomain: this.appDomain, appUrl: window.location.origin, appIconPath: this.appIconPath, capabilities: Array.isArray(this.capabilities) ? this.capabilities : JSON.parse(this.capabilities), port: this.port || parseInt(Ur("ad4mport")) || 12e3, token: this.token || Ur("ad4mtoken"), url: this.url || Ur("ad4murl") }), this._client.on("configstatechange", this.handleConfigChange), this._client.on("authstatechange", this.handleAuthChange), this._client.on("connectionstatechange", this.handleConnectionChange), this.loadFont();
    }
    unlockAgent(kr) {
      return me$1(this, null, function* () {
        yield this._client.ad4mClient.agent.unlock(kr);
      });
    }
    verifyCode(kr) {
      this._client.verifyCode(kr);
    }
    changeUrl(kr) {
      this._client.setUrl(kr);
    }
    changePort(kr) {
      this._client.setPort(kr);
    }
    changeUIState(kr) {
      this.uiState = kr;
    }
    changeIsRemote(kr) {
      this._isRemote = kr;
    }
    changeCode(kr) {
      this._code = kr;
    }
    onDownloaded() {
      this._hasClickedDownload = !0;
    }
    handleAuthChange(kr) {
      let qr = new CustomEvent("authstatechange", { detail: kr });
      kr === "locked" && (this._isOpen = !0), this.dispatchEvent(qr), this.requestUpdate();
    }
    handleConfigChange(kr, qr) {
      this[kr] = qr, qr ? ep("ad4m" + kr, qr) : tp("ad4m" + kr), this.requestUpdate();
    }
    handleConnectionChange(kr) {
      kr === "connected" && this.changeUIState("requestcap"), kr === "disconnected" && (this._isOpen = !0), kr === "not_connected" && this.changeUIState("start");
      let qr = new CustomEvent("connectionstatechange", { detail: kr });
      this.dispatchEvent(qr), this.requestUpdate();
    }
    loadFont() {
      let kr = document.createElement("link");
      kr.rel = "stylesheet", kr.type = "text/css", kr.crossOrigin = "anonymous", kr.href = "https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap", document.head.appendChild(kr);
    }
    startCamera(kr) {
      return me$1(this, null, function* () {
        try {
          window.BarcodeDetector.getSupportedFormats();
        } catch {
          window.BarcodeDetector = Vt$1;
        }
        yield this.changeUIState("qr"), setTimeout(() => me$1(this, null, function* () {
          let qr = this.shadowRoot.querySelector("video");
          if (!qr)
            return;
          let ai = yield navigator.mediaDevices.getUserMedia({ audio: !1, video: { facingMode: "environment" } });
          qr.srcObject = ai, qr.autoplay = !0;
        }), 100);
      });
    }
    connect() {
      return me$1(this, null, function* () {
        return this._isOpen = !0, this.requestUpdate(), yield this._client.connect();
      });
    }
    getAd4mClient() {
      return this._client.ad4mClient;
    }
    connectRemote(kr) {
      return me$1(this, null, function* () {
        try {
          let qr = yield this._client.connect(kr);
          return this.changeUIState("requestcap"), qr;
        } catch (qr) {
          qr.message === "Socket closed with event 4500 Invalid Compact JWS" && this.changeUIState("requestcap");
        }
      });
    }
    requestCapability(kr) {
      return me$1(this, null, function* () {
        try {
          yield this._client.requestCapability(kr), this.changeUIState("verifycode");
        } catch (qr) {
          console.warn(qr);
        }
      });
    }
    isAuthenticated() {
      return me$1(this, null, function* () {
        return this._client.checkAuth();
      });
    }
    setOpen(kr) {
      this._isOpen = kr;
    }
    renderViews() {
      if (this.connectionState === "connecting")
        return cc();
      if (this.uiState === "qr")
        return vc({ changeState: this.changeUIState, onSuccess: (kr) => this._client.connect(kr), uiState: this.uiState });
      if (this.authState === "locked")
        return pc({ unlockAgent: this.unlockAgent, reconnect: this.connect });
      if (this.uiState === "settings")
        return uc({ port: this.port, changePort: this.changePort, isRemote: this._isRemote, changeIsRemote: this.changeIsRemote, url: this.url, changeState: this.changeUIState, changeUrl: this.changeUrl, connectToPort: this._client.connectToPort, connectRemote: this.connectRemote });
      if (this.connectionState === "not_connected")
        return lc({ scanQrcode: this.startCamera, connect: this.connect, isMobile: this._isMobile, hasClickedDownload: this._hasClickedDownload, onDownloaded: this.onDownloaded, changeState: this.changeUIState });
      if (this.connectionState === "connected")
        return this.uiState === "verifycode" ? mc({ code: this._code, changeCode: this.changeCode, changeState: this.changeUIState, verifyCode: this.verifyCode }) : hc({ changeState: this.changeUIState, requestCapability: this.requestCapability, capabilities: this.capabilities, appname: this.appName, setOpen: this.setOpen, appiconpath: this.appIconPath });
      if (this.connectionState === "disconnected")
        return fc({ reconnect: this.connect });
      if (this.connectionState === "port_not_found")
        return yc();
    }
    render() {
      return this._isOpen === !1 || this.authState === "authenticated" ? null : Y$1`
      <div class="wrapper">
        <div class="dialog">
          ${gc()}
          <main class="dialog__content">${this.renderViews()}</main>
        </div>
        <div class="ad4mConnect__backdrop" />
      </div>
    `;
    }
  };
  Se$1.styles = [x2], Ne$1([Bt$1()], Se$1.prototype, "_code", 2), Ne$1([Bt$1()], Se$1.prototype, "_isMobile", 2), Ne$1([Bt$1()], Se$1.prototype, "_hasClickedDownload", 2), Ne$1([Bt$1()], Se$1.prototype, "_isRemote", 2), Ne$1([Bt$1()], Se$1.prototype, "_client", 2), Ne$1([Bt$1()], Se$1.prototype, "_isOpen", 2), Ne$1([Bt$1()], Se$1.prototype, "uiState", 2), Ne$1([lt$1({ type: String, reflect: !0 })], Se$1.prototype, "appName", 2), Ne$1([lt$1({ type: String, reflect: !0 })], Se$1.prototype, "appDesc", 2), Ne$1([lt$1({ type: String, reflect: !0 })], Se$1.prototype, "appDomain", 2), Ne$1([lt$1({ type: String, reflect: !0 })], Se$1.prototype, "appIconPath", 2), Ne$1([lt$1({ type: String, reflect: !0 })], Se$1.prototype, "capabilities", 2), Ne$1([lt$1({ type: String })], Se$1.prototype, "token", 2), Ne$1([lt$1({ type: String, reflect: !0 })], Se$1.prototype, "port", 2), Ne$1([lt$1({ type: String, reflect: !0 })], Se$1.prototype, "url", 2), Se$1 = Ne$1([Mc("ad4m-connect")], Se$1);
  function O2(Kr) {
    let kr = new Se$1();
    return Object.entries(Kr).forEach(([qr, ai]) => {
      kr[qr] = ai;
    }), document.body.appendChild(kr), kr;
  }
  /*!
  * @undecaf/barcode-detector-polyfill v0.9.15
  * A WebAssembly polyfill for the Barcode Detection API
  * Built 2023-01-26T12:39:45.098Z
  * (c) 2021-present Ferdinand Kasper <fkasper@modus-operandi.at>
  * Released under the MIT license.
  * 
  * This work uses https://github.com/undecaf/zbar-wasm.git as per
  * LGPL-2.1 section 6 (https://opensource.org/licenses/LGPL-2.1).
  */
  /*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
  /**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
  /**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
  /**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
  /**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
  //! @fayeed - make it support node.js
  function v$1() {
    return new Promise((Kr, kr) => {
      let qr = document.querySelector("ad4m-connect"), ai = qr == null ? void 0 : qr.getAd4mClient();
      ai ? Kr(ai) : kr("No Ad4mClient found");
    });
  }
  var getRandomValues, rnds8 = new Uint8Array(16);
  function rng() {
    if (!getRandomValues && (getRandomValues = typeof crypto < "u" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto < "u" && typeof msCrypto.getRandomValues == "function" && msCrypto.getRandomValues.bind(msCrypto), !getRandomValues))
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    return getRandomValues(rnds8);
  }
  const REGEX = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
  function validate(Kr) {
    return typeof Kr == "string" && REGEX.test(Kr);
  }
  var byteToHex = [];
  for (var i$1 = 0; i$1 < 256; ++i$1)
    byteToHex.push((i$1 + 256).toString(16).substr(1));
  function stringify(Kr) {
    var kr = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, qr = (byteToHex[Kr[kr + 0]] + byteToHex[Kr[kr + 1]] + byteToHex[Kr[kr + 2]] + byteToHex[Kr[kr + 3]] + "-" + byteToHex[Kr[kr + 4]] + byteToHex[Kr[kr + 5]] + "-" + byteToHex[Kr[kr + 6]] + byteToHex[Kr[kr + 7]] + "-" + byteToHex[Kr[kr + 8]] + byteToHex[Kr[kr + 9]] + "-" + byteToHex[Kr[kr + 10]] + byteToHex[Kr[kr + 11]] + byteToHex[Kr[kr + 12]] + byteToHex[Kr[kr + 13]] + byteToHex[Kr[kr + 14]] + byteToHex[Kr[kr + 15]]).toLowerCase();
    if (!validate(qr))
      throw TypeError("Stringified UUID is invalid");
    return qr;
  }
  function v4(Kr, kr, qr) {
    Kr = Kr || {};
    var ai = Kr.random || (Kr.rng || rng)();
    if (ai[6] = ai[6] & 15 | 64, ai[8] = ai[8] & 63 | 128, kr) {
      qr = qr || 0;
      for (var gi = 0; gi < 16; ++gi)
        kr[qr + gi] = ai[gi];
      return kr;
    }
    return stringify(ai);
  }
  var __assign = function() {
    return __assign = Object.assign || function(kr) {
      for (var qr, ai = 1, gi = arguments.length; ai < gi; ai++) {
        qr = arguments[ai];
        for (var $i in qr)
          Object.prototype.hasOwnProperty.call(qr, $i) && (kr[$i] = qr[$i]);
      }
      return kr;
    }, __assign.apply(this, arguments);
  };
  function _typeof$3(Kr) {
    return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? _typeof$3 = function(qr) {
      return typeof qr;
    } : _typeof$3 = function(qr) {
      return qr && typeof Symbol == "function" && qr.constructor === Symbol && qr !== Symbol.prototype ? "symbol" : typeof qr;
    }, _typeof$3(Kr);
  }
  function isObjectLike(Kr) {
    return _typeof$3(Kr) == "object" && Kr !== null;
  }
  var SYMBOL_TO_STRING_TAG = typeof Symbol == "function" && Symbol.toStringTag != null ? Symbol.toStringTag : "@@toStringTag";
  function getLocation(Kr, kr) {
    for (var qr = /\r\n|[\n\r]/g, ai = 1, gi = kr + 1, $i; ($i = qr.exec(Kr.body)) && $i.index < kr; )
      ai += 1, gi = kr + 1 - ($i.index + $i[0].length);
    return {
      line: ai,
      column: gi
    };
  }
  function printLocation(Kr) {
    return printSourceLocation(Kr.source, getLocation(Kr.source, Kr.start));
  }
  function printSourceLocation(Kr, kr) {
    var qr = Kr.locationOffset.column - 1, ai = whitespace(qr) + Kr.body, gi = kr.line - 1, $i = Kr.locationOffset.line - 1, xi = kr.line + $i, Ai = kr.line === 1 ? qr : 0, Li = kr.column + Ai, Fi = "".concat(Kr.name, ":").concat(xi, ":").concat(Li, `
`), Oa = ai.split(/\r\n|[\n\r]/g), So = Oa[gi];
    if (So.length > 120) {
      for (var Ns = Math.floor(Li / 80), Uc = Li % 80, Kc = [], Bc = 0; Bc < So.length; Bc += 80)
        Kc.push(So.slice(Bc, Bc + 80));
      return Fi + printPrefixedLines([["".concat(xi), Kc[0]]].concat(Kc.slice(1, Ns + 1).map(function(Wc) {
        return ["", Wc];
      }), [[" ", whitespace(Uc - 1) + "^"], ["", Kc[Ns + 1]]]));
    }
    return Fi + printPrefixedLines([
      // Lines specified like this: ["prefix", "string"],
      ["".concat(xi - 1), Oa[gi - 1]],
      ["".concat(xi), So],
      ["", whitespace(Li - 1) + "^"],
      ["".concat(xi + 1), Oa[gi + 1]]
    ]);
  }
  function printPrefixedLines(Kr) {
    var kr = Kr.filter(function(ai) {
      ai[0];
      var gi = ai[1];
      return gi !== void 0;
    }), qr = Math.max.apply(Math, kr.map(function(ai) {
      var gi = ai[0];
      return gi.length;
    }));
    return kr.map(function(ai) {
      var gi = ai[0], $i = ai[1];
      return leftPad(qr, gi) + ($i ? " | " + $i : " |");
    }).join(`
`);
  }
  function whitespace(Kr) {
    return Array(Kr + 1).join(" ");
  }
  function leftPad(Kr, kr) {
    return whitespace(Kr - kr.length) + kr;
  }
  function _typeof$2(Kr) {
    return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? _typeof$2 = function(qr) {
      return typeof qr;
    } : _typeof$2 = function(qr) {
      return qr && typeof Symbol == "function" && qr.constructor === Symbol && qr !== Symbol.prototype ? "symbol" : typeof qr;
    }, _typeof$2(Kr);
  }
  function ownKeys(Kr, kr) {
    var qr = Object.keys(Kr);
    if (Object.getOwnPropertySymbols) {
      var ai = Object.getOwnPropertySymbols(Kr);
      kr && (ai = ai.filter(function(gi) {
        return Object.getOwnPropertyDescriptor(Kr, gi).enumerable;
      })), qr.push.apply(qr, ai);
    }
    return qr;
  }
  function _objectSpread(Kr) {
    for (var kr = 1; kr < arguments.length; kr++) {
      var qr = arguments[kr] != null ? arguments[kr] : {};
      kr % 2 ? ownKeys(Object(qr), !0).forEach(function(ai) {
        _defineProperty(Kr, ai, qr[ai]);
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(Kr, Object.getOwnPropertyDescriptors(qr)) : ownKeys(Object(qr)).forEach(function(ai) {
        Object.defineProperty(Kr, ai, Object.getOwnPropertyDescriptor(qr, ai));
      });
    }
    return Kr;
  }
  function _defineProperty(Kr, kr, qr) {
    return kr in Kr ? Object.defineProperty(Kr, kr, { value: qr, enumerable: !0, configurable: !0, writable: !0 }) : Kr[kr] = qr, Kr;
  }
  function _classCallCheck(Kr, kr) {
    if (!(Kr instanceof kr))
      throw new TypeError("Cannot call a class as a function");
  }
  function _defineProperties$1(Kr, kr) {
    for (var qr = 0; qr < kr.length; qr++) {
      var ai = kr[qr];
      ai.enumerable = ai.enumerable || !1, ai.configurable = !0, "value" in ai && (ai.writable = !0), Object.defineProperty(Kr, ai.key, ai);
    }
  }
  function _createClass$1(Kr, kr, qr) {
    return kr && _defineProperties$1(Kr.prototype, kr), qr && _defineProperties$1(Kr, qr), Kr;
  }
  function _inherits(Kr, kr) {
    if (typeof kr != "function" && kr !== null)
      throw new TypeError("Super expression must either be null or a function");
    Kr.prototype = Object.create(kr && kr.prototype, { constructor: { value: Kr, writable: !0, configurable: !0 } }), kr && _setPrototypeOf(Kr, kr);
  }
  function _createSuper(Kr) {
    var kr = _isNativeReflectConstruct();
    return function() {
      var ai = _getPrototypeOf(Kr), gi;
      if (kr) {
        var $i = _getPrototypeOf(this).constructor;
        gi = Reflect.construct(ai, arguments, $i);
      } else
        gi = ai.apply(this, arguments);
      return _possibleConstructorReturn(this, gi);
    };
  }
  function _possibleConstructorReturn(Kr, kr) {
    return kr && (_typeof$2(kr) === "object" || typeof kr == "function") ? kr : _assertThisInitialized(Kr);
  }
  function _assertThisInitialized(Kr) {
    if (Kr === void 0)
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return Kr;
  }
  function _wrapNativeSuper(Kr) {
    var kr = typeof Map == "function" ? /* @__PURE__ */ new Map() : void 0;
    return _wrapNativeSuper = function(ai) {
      if (ai === null || !_isNativeFunction(ai))
        return ai;
      if (typeof ai != "function")
        throw new TypeError("Super expression must either be null or a function");
      if (typeof kr < "u") {
        if (kr.has(ai))
          return kr.get(ai);
        kr.set(ai, gi);
      }
      function gi() {
        return _construct(ai, arguments, _getPrototypeOf(this).constructor);
      }
      return gi.prototype = Object.create(ai.prototype, { constructor: { value: gi, enumerable: !1, writable: !0, configurable: !0 } }), _setPrototypeOf(gi, ai);
    }, _wrapNativeSuper(Kr);
  }
  function _construct(Kr, kr, qr) {
    return _isNativeReflectConstruct() ? _construct = Reflect.construct : _construct = function(gi, $i, xi) {
      var Ai = [null];
      Ai.push.apply(Ai, $i);
      var Li = Function.bind.apply(gi, Ai), Fi = new Li();
      return xi && _setPrototypeOf(Fi, xi.prototype), Fi;
    }, _construct.apply(null, arguments);
  }
  function _isNativeReflectConstruct() {
    if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
      return !1;
    if (typeof Proxy == "function")
      return !0;
    try {
      return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
      })), !0;
    } catch {
      return !1;
    }
  }
  function _isNativeFunction(Kr) {
    return Function.toString.call(Kr).indexOf("[native code]") !== -1;
  }
  function _setPrototypeOf(Kr, kr) {
    return _setPrototypeOf = Object.setPrototypeOf || function(ai, gi) {
      return ai.__proto__ = gi, ai;
    }, _setPrototypeOf(Kr, kr);
  }
  function _getPrototypeOf(Kr) {
    return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(qr) {
      return qr.__proto__ || Object.getPrototypeOf(qr);
    }, _getPrototypeOf(Kr);
  }
  var GraphQLError = /* @__PURE__ */ function(Kr) {
    _inherits(qr, Kr);
    var kr = _createSuper(qr);
    function qr(ai, gi, $i, xi, Ai, Li, Fi) {
      var Oa, So, Ns, Uc;
      _classCallCheck(this, qr), Uc = kr.call(this, ai), Uc.name = "GraphQLError", Uc.originalError = Li ?? void 0, Uc.nodes = undefinedIfEmpty(Array.isArray(gi) ? gi : gi ? [gi] : void 0);
      for (var Kc = [], Bc = 0, Wc = (Vc = Uc.nodes) !== null && Vc !== void 0 ? Vc : []; Bc < Wc.length; Bc++) {
        var Vc, qc = Wc[Bc], Qc = qc.loc;
        Qc != null && Kc.push(Qc);
      }
      Kc = undefinedIfEmpty(Kc), Uc.source = $i ?? ((Oa = Kc) === null || Oa === void 0 ? void 0 : Oa[0].source), Uc.positions = xi ?? ((So = Kc) === null || So === void 0 ? void 0 : So.map(function(Yc) {
        return Yc.start;
      })), Uc.locations = xi && $i ? xi.map(function(Yc) {
        return getLocation($i, Yc);
      }) : (Ns = Kc) === null || Ns === void 0 ? void 0 : Ns.map(function(Yc) {
        return getLocation(Yc.source, Yc.start);
      }), Uc.path = Ai ?? void 0;
      var zc = Li == null ? void 0 : Li.extensions;
      return Fi == null && isObjectLike(zc) ? Uc.extensions = _objectSpread({}, zc) : Uc.extensions = Fi ?? {}, Object.defineProperties(_assertThisInitialized(Uc), {
        message: {
          enumerable: !0
        },
        locations: {
          enumerable: Uc.locations != null
        },
        path: {
          enumerable: Uc.path != null
        },
        extensions: {
          enumerable: Uc.extensions != null && Object.keys(Uc.extensions).length > 0
        },
        name: {
          enumerable: !1
        },
        nodes: {
          enumerable: !1
        },
        source: {
          enumerable: !1
        },
        positions: {
          enumerable: !1
        },
        originalError: {
          enumerable: !1
        }
      }), Li != null && Li.stack ? (Object.defineProperty(_assertThisInitialized(Uc), "stack", {
        value: Li.stack,
        writable: !0,
        configurable: !0
      }), _possibleConstructorReturn(Uc)) : (Error.captureStackTrace ? Error.captureStackTrace(_assertThisInitialized(Uc), qr) : Object.defineProperty(_assertThisInitialized(Uc), "stack", {
        value: Error().stack,
        writable: !0,
        configurable: !0
      }), Uc);
    }
    return _createClass$1(qr, [{
      key: "toString",
      value: function() {
        return printError(this);
      }
      // FIXME: workaround to not break chai comparisons, should be remove in v16
      // $FlowFixMe[unsupported-syntax] Flow doesn't support computed properties yet
    }, {
      key: SYMBOL_TO_STRING_TAG,
      get: function() {
        return "Object";
      }
    }]), qr;
  }(/* @__PURE__ */ _wrapNativeSuper(Error));
  function undefinedIfEmpty(Kr) {
    return Kr === void 0 || Kr.length === 0 ? void 0 : Kr;
  }
  function printError(Kr) {
    var kr = Kr.message;
    if (Kr.nodes)
      for (var qr = 0, ai = Kr.nodes; qr < ai.length; qr++) {
        var gi = ai[qr];
        gi.loc && (kr += `

` + printLocation(gi.loc));
      }
    else if (Kr.source && Kr.locations)
      for (var $i = 0, xi = Kr.locations; $i < xi.length; $i++) {
        var Ai = xi[$i];
        kr += `

` + printSourceLocation(Kr.source, Ai);
      }
    return kr;
  }
  function syntaxError(Kr, kr, qr) {
    return new GraphQLError("Syntax Error: ".concat(qr), void 0, Kr, [kr]);
  }
  var Kind = Object.freeze({
    // Name
    NAME: "Name",
    // Document
    DOCUMENT: "Document",
    OPERATION_DEFINITION: "OperationDefinition",
    VARIABLE_DEFINITION: "VariableDefinition",
    SELECTION_SET: "SelectionSet",
    FIELD: "Field",
    ARGUMENT: "Argument",
    // Fragments
    FRAGMENT_SPREAD: "FragmentSpread",
    INLINE_FRAGMENT: "InlineFragment",
    FRAGMENT_DEFINITION: "FragmentDefinition",
    // Values
    VARIABLE: "Variable",
    INT: "IntValue",
    FLOAT: "FloatValue",
    STRING: "StringValue",
    BOOLEAN: "BooleanValue",
    NULL: "NullValue",
    ENUM: "EnumValue",
    LIST: "ListValue",
    OBJECT: "ObjectValue",
    OBJECT_FIELD: "ObjectField",
    // Directives
    DIRECTIVE: "Directive",
    // Types
    NAMED_TYPE: "NamedType",
    LIST_TYPE: "ListType",
    NON_NULL_TYPE: "NonNullType",
    // Type System Definitions
    SCHEMA_DEFINITION: "SchemaDefinition",
    OPERATION_TYPE_DEFINITION: "OperationTypeDefinition",
    // Type Definitions
    SCALAR_TYPE_DEFINITION: "ScalarTypeDefinition",
    OBJECT_TYPE_DEFINITION: "ObjectTypeDefinition",
    FIELD_DEFINITION: "FieldDefinition",
    INPUT_VALUE_DEFINITION: "InputValueDefinition",
    INTERFACE_TYPE_DEFINITION: "InterfaceTypeDefinition",
    UNION_TYPE_DEFINITION: "UnionTypeDefinition",
    ENUM_TYPE_DEFINITION: "EnumTypeDefinition",
    ENUM_VALUE_DEFINITION: "EnumValueDefinition",
    INPUT_OBJECT_TYPE_DEFINITION: "InputObjectTypeDefinition",
    // Directive Definitions
    DIRECTIVE_DEFINITION: "DirectiveDefinition",
    // Type System Extensions
    SCHEMA_EXTENSION: "SchemaExtension",
    // Type Extensions
    SCALAR_TYPE_EXTENSION: "ScalarTypeExtension",
    OBJECT_TYPE_EXTENSION: "ObjectTypeExtension",
    INTERFACE_TYPE_EXTENSION: "InterfaceTypeExtension",
    UNION_TYPE_EXTENSION: "UnionTypeExtension",
    ENUM_TYPE_EXTENSION: "EnumTypeExtension",
    INPUT_OBJECT_TYPE_EXTENSION: "InputObjectTypeExtension"
  });
  function invariant(Kr, kr) {
    var qr = !!Kr;
    if (!qr)
      throw new Error(kr ?? "Unexpected invariant triggered.");
  }
  var nodejsCustomInspectSymbol = typeof Symbol == "function" && typeof Symbol.for == "function" ? Symbol.for("nodejs.util.inspect.custom") : void 0, nodejsCustomInspectSymbol$1 = nodejsCustomInspectSymbol;
  function defineInspect(Kr) {
    var kr = Kr.prototype.toJSON;
    typeof kr == "function" || invariant(0), Kr.prototype.inspect = kr, nodejsCustomInspectSymbol$1 && (Kr.prototype[nodejsCustomInspectSymbol$1] = kr);
  }
  var Location = /* @__PURE__ */ function() {
    function Kr(qr, ai, gi) {
      this.start = qr.start, this.end = ai.end, this.startToken = qr, this.endToken = ai, this.source = gi;
    }
    var kr = Kr.prototype;
    return kr.toJSON = function() {
      return {
        start: this.start,
        end: this.end
      };
    }, Kr;
  }();
  defineInspect(Location);
  var Token = /* @__PURE__ */ function() {
    function Kr(qr, ai, gi, $i, xi, Ai, Li) {
      this.kind = qr, this.start = ai, this.end = gi, this.line = $i, this.column = xi, this.value = Li, this.prev = Ai, this.next = null;
    }
    var kr = Kr.prototype;
    return kr.toJSON = function() {
      return {
        kind: this.kind,
        value: this.value,
        line: this.line,
        column: this.column
      };
    }, Kr;
  }();
  defineInspect(Token);
  var TokenKind = Object.freeze({
    SOF: "<SOF>",
    EOF: "<EOF>",
    BANG: "!",
    DOLLAR: "$",
    AMP: "&",
    PAREN_L: "(",
    PAREN_R: ")",
    SPREAD: "...",
    COLON: ":",
    EQUALS: "=",
    AT: "@",
    BRACKET_L: "[",
    BRACKET_R: "]",
    BRACE_L: "{",
    PIPE: "|",
    BRACE_R: "}",
    NAME: "Name",
    INT: "Int",
    FLOAT: "Float",
    STRING: "String",
    BLOCK_STRING: "BlockString",
    COMMENT: "Comment"
  });
  function _typeof$1(Kr) {
    return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? _typeof$1 = function(qr) {
      return typeof qr;
    } : _typeof$1 = function(qr) {
      return qr && typeof Symbol == "function" && qr.constructor === Symbol && qr !== Symbol.prototype ? "symbol" : typeof qr;
    }, _typeof$1(Kr);
  }
  var MAX_ARRAY_LENGTH = 10, MAX_RECURSIVE_DEPTH = 2;
  function inspect(Kr) {
    return formatValue(Kr, []);
  }
  function formatValue(Kr, kr) {
    switch (_typeof$1(Kr)) {
      case "string":
        return JSON.stringify(Kr);
      case "function":
        return Kr.name ? "[function ".concat(Kr.name, "]") : "[function]";
      case "object":
        return Kr === null ? "null" : formatObjectValue(Kr, kr);
      default:
        return String(Kr);
    }
  }
  function formatObjectValue(Kr, kr) {
    if (kr.indexOf(Kr) !== -1)
      return "[Circular]";
    var qr = [].concat(kr, [Kr]), ai = getCustomFn(Kr);
    if (ai !== void 0) {
      var gi = ai.call(Kr);
      if (gi !== Kr)
        return typeof gi == "string" ? gi : formatValue(gi, qr);
    } else if (Array.isArray(Kr))
      return formatArray(Kr, qr);
    return formatObject(Kr, qr);
  }
  function formatObject(Kr, kr) {
    var qr = Object.keys(Kr);
    if (qr.length === 0)
      return "{}";
    if (kr.length > MAX_RECURSIVE_DEPTH)
      return "[" + getObjectTag(Kr) + "]";
    var ai = qr.map(function(gi) {
      var $i = formatValue(Kr[gi], kr);
      return gi + ": " + $i;
    });
    return "{ " + ai.join(", ") + " }";
  }
  function formatArray(Kr, kr) {
    if (Kr.length === 0)
      return "[]";
    if (kr.length > MAX_RECURSIVE_DEPTH)
      return "[Array]";
    for (var qr = Math.min(MAX_ARRAY_LENGTH, Kr.length), ai = Kr.length - qr, gi = [], $i = 0; $i < qr; ++$i)
      gi.push(formatValue(Kr[$i], kr));
    return ai === 1 ? gi.push("... 1 more item") : ai > 1 && gi.push("... ".concat(ai, " more items")), "[" + gi.join(", ") + "]";
  }
  function getCustomFn(Kr) {
    var kr = Kr[String(nodejsCustomInspectSymbol$1)];
    if (typeof kr == "function")
      return kr;
    if (typeof Kr.inspect == "function")
      return Kr.inspect;
  }
  function getObjectTag(Kr) {
    var kr = Object.prototype.toString.call(Kr).replace(/^\[object /, "").replace(/]$/, "");
    if (kr === "Object" && typeof Kr.constructor == "function") {
      var qr = Kr.constructor.name;
      if (typeof qr == "string" && qr !== "")
        return qr;
    }
    return kr;
  }
  function devAssert(Kr, kr) {
    var qr = !!Kr;
    if (!qr)
      throw new Error(kr);
  }
  function _typeof(Kr) {
    return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? _typeof = function(qr) {
      return typeof qr;
    } : _typeof = function(qr) {
      return qr && typeof Symbol == "function" && qr.constructor === Symbol && qr !== Symbol.prototype ? "symbol" : typeof qr;
    }, _typeof(Kr);
  }
  var instanceOf = process.env.NODE_ENV === "production" ? (
    // istanbul ignore next (See: 'https://github.com/graphql/graphql-js/issues/2317')
    // eslint-disable-next-line no-shadow
    function Kr(kr, qr) {
      return kr instanceof qr;
    }
  ) : (
    // eslint-disable-next-line no-shadow
    function Kr(kr, qr) {
      if (kr instanceof qr)
        return !0;
      if (_typeof(kr) === "object" && kr !== null) {
        var ai, gi = qr.prototype[Symbol.toStringTag], $i = (
          // We still need to support constructor's name to detect conflicts with older versions of this library.
          Symbol.toStringTag in kr ? kr[Symbol.toStringTag] : (ai = kr.constructor) === null || ai === void 0 ? void 0 : ai.name
        );
        if (gi === $i) {
          var xi = inspect(kr);
          throw new Error("Cannot use ".concat(gi, ' "').concat(xi, `" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`));
        }
      }
      return !1;
    }
  );
  function _defineProperties(Kr, kr) {
    for (var qr = 0; qr < kr.length; qr++) {
      var ai = kr[qr];
      ai.enumerable = ai.enumerable || !1, ai.configurable = !0, "value" in ai && (ai.writable = !0), Object.defineProperty(Kr, ai.key, ai);
    }
  }
  function _createClass(Kr, kr, qr) {
    return kr && _defineProperties(Kr.prototype, kr), qr && _defineProperties(Kr, qr), Kr;
  }
  var Source = /* @__PURE__ */ function() {
    function Kr(kr) {
      var qr = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "GraphQL request", ai = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {
        line: 1,
        column: 1
      };
      typeof kr == "string" || devAssert(0, "Body must be a string. Received: ".concat(inspect(kr), ".")), this.body = kr, this.name = qr, this.locationOffset = ai, this.locationOffset.line > 0 || devAssert(0, "line in locationOffset is 1-indexed and must be positive."), this.locationOffset.column > 0 || devAssert(0, "column in locationOffset is 1-indexed and must be positive.");
    }
    return _createClass(Kr, [{
      key: SYMBOL_TO_STRING_TAG,
      get: function() {
        return "Source";
      }
    }]), Kr;
  }();
  function isSource(Kr) {
    return instanceOf(Kr, Source);
  }
  var DirectiveLocation = Object.freeze({
    // Request Definitions
    QUERY: "QUERY",
    MUTATION: "MUTATION",
    SUBSCRIPTION: "SUBSCRIPTION",
    FIELD: "FIELD",
    FRAGMENT_DEFINITION: "FRAGMENT_DEFINITION",
    FRAGMENT_SPREAD: "FRAGMENT_SPREAD",
    INLINE_FRAGMENT: "INLINE_FRAGMENT",
    VARIABLE_DEFINITION: "VARIABLE_DEFINITION",
    // Type System Definitions
    SCHEMA: "SCHEMA",
    SCALAR: "SCALAR",
    OBJECT: "OBJECT",
    FIELD_DEFINITION: "FIELD_DEFINITION",
    ARGUMENT_DEFINITION: "ARGUMENT_DEFINITION",
    INTERFACE: "INTERFACE",
    UNION: "UNION",
    ENUM: "ENUM",
    ENUM_VALUE: "ENUM_VALUE",
    INPUT_OBJECT: "INPUT_OBJECT",
    INPUT_FIELD_DEFINITION: "INPUT_FIELD_DEFINITION"
  });
  function dedentBlockStringValue(Kr) {
    var kr = Kr.split(/\r\n|[\n\r]/g), qr = getBlockStringIndentation(Kr);
    if (qr !== 0)
      for (var ai = 1; ai < kr.length; ai++)
        kr[ai] = kr[ai].slice(qr);
    for (var gi = 0; gi < kr.length && isBlank(kr[gi]); )
      ++gi;
    for (var $i = kr.length; $i > gi && isBlank(kr[$i - 1]); )
      --$i;
    return kr.slice(gi, $i).join(`
`);
  }
  function isBlank(Kr) {
    for (var kr = 0; kr < Kr.length; ++kr)
      if (Kr[kr] !== " " && Kr[kr] !== "	")
        return !1;
    return !0;
  }
  function getBlockStringIndentation(Kr) {
    for (var kr, qr = !0, ai = !0, gi = 0, $i = null, xi = 0; xi < Kr.length; ++xi)
      switch (Kr.charCodeAt(xi)) {
        case 13:
          Kr.charCodeAt(xi + 1) === 10 && ++xi;
        case 10:
          qr = !1, ai = !0, gi = 0;
          break;
        case 9:
        case 32:
          ++gi;
          break;
        default:
          ai && !qr && ($i === null || gi < $i) && ($i = gi), ai = !1;
      }
    return (kr = $i) !== null && kr !== void 0 ? kr : 0;
  }
  var Lexer = /* @__PURE__ */ function() {
    function Kr(qr) {
      var ai = new Token(TokenKind.SOF, 0, 0, 0, 0, null);
      this.source = qr, this.lastToken = ai, this.token = ai, this.line = 1, this.lineStart = 0;
    }
    var kr = Kr.prototype;
    return kr.advance = function() {
      this.lastToken = this.token;
      var ai = this.token = this.lookahead();
      return ai;
    }, kr.lookahead = function() {
      var ai = this.token;
      if (ai.kind !== TokenKind.EOF)
        do {
          var gi;
          ai = (gi = ai.next) !== null && gi !== void 0 ? gi : ai.next = readToken(this, ai);
        } while (ai.kind === TokenKind.COMMENT);
      return ai;
    }, Kr;
  }();
  function isPunctuatorTokenKind(Kr) {
    return Kr === TokenKind.BANG || Kr === TokenKind.DOLLAR || Kr === TokenKind.AMP || Kr === TokenKind.PAREN_L || Kr === TokenKind.PAREN_R || Kr === TokenKind.SPREAD || Kr === TokenKind.COLON || Kr === TokenKind.EQUALS || Kr === TokenKind.AT || Kr === TokenKind.BRACKET_L || Kr === TokenKind.BRACKET_R || Kr === TokenKind.BRACE_L || Kr === TokenKind.PIPE || Kr === TokenKind.BRACE_R;
  }
  function printCharCode(Kr) {
    return (
      // NaN/undefined represents access beyond the end of the file.
      isNaN(Kr) ? TokenKind.EOF : (
        // Trust JSON for ASCII.
        Kr < 127 ? JSON.stringify(String.fromCharCode(Kr)) : (
          // Otherwise print the escaped form.
          '"\\u'.concat(("00" + Kr.toString(16).toUpperCase()).slice(-4), '"')
        )
      )
    );
  }
  function readToken(Kr, kr) {
    for (var qr = Kr.source, ai = qr.body, gi = ai.length, $i = kr.end; $i < gi; ) {
      var xi = ai.charCodeAt($i), Ai = Kr.line, Li = 1 + $i - Kr.lineStart;
      switch (xi) {
        case 65279:
        case 9:
        case 32:
        case 44:
          ++$i;
          continue;
        case 10:
          ++$i, ++Kr.line, Kr.lineStart = $i;
          continue;
        case 13:
          ai.charCodeAt($i + 1) === 10 ? $i += 2 : ++$i, ++Kr.line, Kr.lineStart = $i;
          continue;
        case 33:
          return new Token(TokenKind.BANG, $i, $i + 1, Ai, Li, kr);
        case 35:
          return readComment(qr, $i, Ai, Li, kr);
        case 36:
          return new Token(TokenKind.DOLLAR, $i, $i + 1, Ai, Li, kr);
        case 38:
          return new Token(TokenKind.AMP, $i, $i + 1, Ai, Li, kr);
        case 40:
          return new Token(TokenKind.PAREN_L, $i, $i + 1, Ai, Li, kr);
        case 41:
          return new Token(TokenKind.PAREN_R, $i, $i + 1, Ai, Li, kr);
        case 46:
          if (ai.charCodeAt($i + 1) === 46 && ai.charCodeAt($i + 2) === 46)
            return new Token(TokenKind.SPREAD, $i, $i + 3, Ai, Li, kr);
          break;
        case 58:
          return new Token(TokenKind.COLON, $i, $i + 1, Ai, Li, kr);
        case 61:
          return new Token(TokenKind.EQUALS, $i, $i + 1, Ai, Li, kr);
        case 64:
          return new Token(TokenKind.AT, $i, $i + 1, Ai, Li, kr);
        case 91:
          return new Token(TokenKind.BRACKET_L, $i, $i + 1, Ai, Li, kr);
        case 93:
          return new Token(TokenKind.BRACKET_R, $i, $i + 1, Ai, Li, kr);
        case 123:
          return new Token(TokenKind.BRACE_L, $i, $i + 1, Ai, Li, kr);
        case 124:
          return new Token(TokenKind.PIPE, $i, $i + 1, Ai, Li, kr);
        case 125:
          return new Token(TokenKind.BRACE_R, $i, $i + 1, Ai, Li, kr);
        case 34:
          return ai.charCodeAt($i + 1) === 34 && ai.charCodeAt($i + 2) === 34 ? readBlockString(qr, $i, Ai, Li, kr, Kr) : readString(qr, $i, Ai, Li, kr);
        case 45:
        case 48:
        case 49:
        case 50:
        case 51:
        case 52:
        case 53:
        case 54:
        case 55:
        case 56:
        case 57:
          return readNumber(qr, $i, xi, Ai, Li, kr);
        case 65:
        case 66:
        case 67:
        case 68:
        case 69:
        case 70:
        case 71:
        case 72:
        case 73:
        case 74:
        case 75:
        case 76:
        case 77:
        case 78:
        case 79:
        case 80:
        case 81:
        case 82:
        case 83:
        case 84:
        case 85:
        case 86:
        case 87:
        case 88:
        case 89:
        case 90:
        case 95:
        case 97:
        case 98:
        case 99:
        case 100:
        case 101:
        case 102:
        case 103:
        case 104:
        case 105:
        case 106:
        case 107:
        case 108:
        case 109:
        case 110:
        case 111:
        case 112:
        case 113:
        case 114:
        case 115:
        case 116:
        case 117:
        case 118:
        case 119:
        case 120:
        case 121:
        case 122:
          return readName(qr, $i, Ai, Li, kr);
      }
      throw syntaxError(qr, $i, unexpectedCharacterMessage(xi));
    }
    var Fi = Kr.line, Oa = 1 + $i - Kr.lineStart;
    return new Token(TokenKind.EOF, gi, gi, Fi, Oa, kr);
  }
  function unexpectedCharacterMessage(Kr) {
    return Kr < 32 && Kr !== 9 && Kr !== 10 && Kr !== 13 ? "Cannot contain the invalid character ".concat(printCharCode(Kr), ".") : Kr === 39 ? `Unexpected single quote character ('), did you mean to use a double quote (")?` : "Cannot parse the unexpected character ".concat(printCharCode(Kr), ".");
  }
  function readComment(Kr, kr, qr, ai, gi) {
    var $i = Kr.body, xi, Ai = kr;
    do
      xi = $i.charCodeAt(++Ai);
    while (!isNaN(xi) && // SourceCharacter but not LineTerminator
    (xi > 31 || xi === 9));
    return new Token(TokenKind.COMMENT, kr, Ai, qr, ai, gi, $i.slice(kr + 1, Ai));
  }
  function readNumber(Kr, kr, qr, ai, gi, $i) {
    var xi = Kr.body, Ai = qr, Li = kr, Fi = !1;
    if (Ai === 45 && (Ai = xi.charCodeAt(++Li)), Ai === 48) {
      if (Ai = xi.charCodeAt(++Li), Ai >= 48 && Ai <= 57)
        throw syntaxError(Kr, Li, "Invalid number, unexpected digit after 0: ".concat(printCharCode(Ai), "."));
    } else
      Li = readDigits(Kr, Li, Ai), Ai = xi.charCodeAt(Li);
    if (Ai === 46 && (Fi = !0, Ai = xi.charCodeAt(++Li), Li = readDigits(Kr, Li, Ai), Ai = xi.charCodeAt(Li)), (Ai === 69 || Ai === 101) && (Fi = !0, Ai = xi.charCodeAt(++Li), (Ai === 43 || Ai === 45) && (Ai = xi.charCodeAt(++Li)), Li = readDigits(Kr, Li, Ai), Ai = xi.charCodeAt(Li)), Ai === 46 || isNameStart(Ai))
      throw syntaxError(Kr, Li, "Invalid number, expected digit but got: ".concat(printCharCode(Ai), "."));
    return new Token(Fi ? TokenKind.FLOAT : TokenKind.INT, kr, Li, ai, gi, $i, xi.slice(kr, Li));
  }
  function readDigits(Kr, kr, qr) {
    var ai = Kr.body, gi = kr, $i = qr;
    if ($i >= 48 && $i <= 57) {
      do
        $i = ai.charCodeAt(++gi);
      while ($i >= 48 && $i <= 57);
      return gi;
    }
    throw syntaxError(Kr, gi, "Invalid number, expected digit but got: ".concat(printCharCode($i), "."));
  }
  function readString(Kr, kr, qr, ai, gi) {
    for (var $i = Kr.body, xi = kr + 1, Ai = xi, Li = 0, Fi = ""; xi < $i.length && !isNaN(Li = $i.charCodeAt(xi)) && // not LineTerminator
    Li !== 10 && Li !== 13; ) {
      if (Li === 34)
        return Fi += $i.slice(Ai, xi), new Token(TokenKind.STRING, kr, xi + 1, qr, ai, gi, Fi);
      if (Li < 32 && Li !== 9)
        throw syntaxError(Kr, xi, "Invalid character within String: ".concat(printCharCode(Li), "."));
      if (++xi, Li === 92) {
        switch (Fi += $i.slice(Ai, xi - 1), Li = $i.charCodeAt(xi), Li) {
          case 34:
            Fi += '"';
            break;
          case 47:
            Fi += "/";
            break;
          case 92:
            Fi += "\\";
            break;
          case 98:
            Fi += "\b";
            break;
          case 102:
            Fi += "\f";
            break;
          case 110:
            Fi += `
`;
            break;
          case 114:
            Fi += "\r";
            break;
          case 116:
            Fi += "	";
            break;
          case 117: {
            var Oa = uniCharCode($i.charCodeAt(xi + 1), $i.charCodeAt(xi + 2), $i.charCodeAt(xi + 3), $i.charCodeAt(xi + 4));
            if (Oa < 0) {
              var So = $i.slice(xi + 1, xi + 5);
              throw syntaxError(Kr, xi, "Invalid character escape sequence: \\u".concat(So, "."));
            }
            Fi += String.fromCharCode(Oa), xi += 4;
            break;
          }
          default:
            throw syntaxError(Kr, xi, "Invalid character escape sequence: \\".concat(String.fromCharCode(Li), "."));
        }
        ++xi, Ai = xi;
      }
    }
    throw syntaxError(Kr, xi, "Unterminated string.");
  }
  function readBlockString(Kr, kr, qr, ai, gi, $i) {
    for (var xi = Kr.body, Ai = kr + 3, Li = Ai, Fi = 0, Oa = ""; Ai < xi.length && !isNaN(Fi = xi.charCodeAt(Ai)); ) {
      if (Fi === 34 && xi.charCodeAt(Ai + 1) === 34 && xi.charCodeAt(Ai + 2) === 34)
        return Oa += xi.slice(Li, Ai), new Token(TokenKind.BLOCK_STRING, kr, Ai + 3, qr, ai, gi, dedentBlockStringValue(Oa));
      if (Fi < 32 && Fi !== 9 && Fi !== 10 && Fi !== 13)
        throw syntaxError(Kr, Ai, "Invalid character within String: ".concat(printCharCode(Fi), "."));
      Fi === 10 ? (++Ai, ++$i.line, $i.lineStart = Ai) : Fi === 13 ? (xi.charCodeAt(Ai + 1) === 10 ? Ai += 2 : ++Ai, ++$i.line, $i.lineStart = Ai) : /* Escape Triple-Quote (\""") */ Fi === 92 && xi.charCodeAt(Ai + 1) === 34 && xi.charCodeAt(Ai + 2) === 34 && xi.charCodeAt(Ai + 3) === 34 ? (Oa += xi.slice(Li, Ai) + '"""', Ai += 4, Li = Ai) : ++Ai;
    }
    throw syntaxError(Kr, Ai, "Unterminated string.");
  }
  function uniCharCode(Kr, kr, qr, ai) {
    return char2hex(Kr) << 12 | char2hex(kr) << 8 | char2hex(qr) << 4 | char2hex(ai);
  }
  function char2hex(Kr) {
    return Kr >= 48 && Kr <= 57 ? Kr - 48 : Kr >= 65 && Kr <= 70 ? Kr - 55 : Kr >= 97 && Kr <= 102 ? Kr - 87 : -1;
  }
  function readName(Kr, kr, qr, ai, gi) {
    for (var $i = Kr.body, xi = $i.length, Ai = kr + 1, Li = 0; Ai !== xi && !isNaN(Li = $i.charCodeAt(Ai)) && (Li === 95 || // _
    Li >= 48 && Li <= 57 || // 0-9
    Li >= 65 && Li <= 90 || // A-Z
    Li >= 97 && Li <= 122); )
      ++Ai;
    return new Token(TokenKind.NAME, kr, Ai, qr, ai, gi, $i.slice(kr, Ai));
  }
  function isNameStart(Kr) {
    return Kr === 95 || Kr >= 65 && Kr <= 90 || Kr >= 97 && Kr <= 122;
  }
  function parse(Kr, kr) {
    var qr = new Parser(Kr, kr);
    return qr.parseDocument();
  }
  var Parser = /* @__PURE__ */ function() {
    function Kr(qr, ai) {
      var gi = isSource(qr) ? qr : new Source(qr);
      this._lexer = new Lexer(gi), this._options = ai;
    }
    var kr = Kr.prototype;
    return kr.parseName = function() {
      var ai = this.expectToken(TokenKind.NAME);
      return {
        kind: Kind.NAME,
        value: ai.value,
        loc: this.loc(ai)
      };
    }, kr.parseDocument = function() {
      var ai = this._lexer.token;
      return {
        kind: Kind.DOCUMENT,
        definitions: this.many(TokenKind.SOF, this.parseDefinition, TokenKind.EOF),
        loc: this.loc(ai)
      };
    }, kr.parseDefinition = function() {
      if (this.peek(TokenKind.NAME))
        switch (this._lexer.token.value) {
          case "query":
          case "mutation":
          case "subscription":
            return this.parseOperationDefinition();
          case "fragment":
            return this.parseFragmentDefinition();
          case "schema":
          case "scalar":
          case "type":
          case "interface":
          case "union":
          case "enum":
          case "input":
          case "directive":
            return this.parseTypeSystemDefinition();
          case "extend":
            return this.parseTypeSystemExtension();
        }
      else {
        if (this.peek(TokenKind.BRACE_L))
          return this.parseOperationDefinition();
        if (this.peekDescription())
          return this.parseTypeSystemDefinition();
      }
      throw this.unexpected();
    }, kr.parseOperationDefinition = function() {
      var ai = this._lexer.token;
      if (this.peek(TokenKind.BRACE_L))
        return {
          kind: Kind.OPERATION_DEFINITION,
          operation: "query",
          name: void 0,
          variableDefinitions: [],
          directives: [],
          selectionSet: this.parseSelectionSet(),
          loc: this.loc(ai)
        };
      var gi = this.parseOperationType(), $i;
      return this.peek(TokenKind.NAME) && ($i = this.parseName()), {
        kind: Kind.OPERATION_DEFINITION,
        operation: gi,
        name: $i,
        variableDefinitions: this.parseVariableDefinitions(),
        directives: this.parseDirectives(!1),
        selectionSet: this.parseSelectionSet(),
        loc: this.loc(ai)
      };
    }, kr.parseOperationType = function() {
      var ai = this.expectToken(TokenKind.NAME);
      switch (ai.value) {
        case "query":
          return "query";
        case "mutation":
          return "mutation";
        case "subscription":
          return "subscription";
      }
      throw this.unexpected(ai);
    }, kr.parseVariableDefinitions = function() {
      return this.optionalMany(TokenKind.PAREN_L, this.parseVariableDefinition, TokenKind.PAREN_R);
    }, kr.parseVariableDefinition = function() {
      var ai = this._lexer.token;
      return {
        kind: Kind.VARIABLE_DEFINITION,
        variable: this.parseVariable(),
        type: (this.expectToken(TokenKind.COLON), this.parseTypeReference()),
        defaultValue: this.expectOptionalToken(TokenKind.EQUALS) ? this.parseValueLiteral(!0) : void 0,
        directives: this.parseDirectives(!0),
        loc: this.loc(ai)
      };
    }, kr.parseVariable = function() {
      var ai = this._lexer.token;
      return this.expectToken(TokenKind.DOLLAR), {
        kind: Kind.VARIABLE,
        name: this.parseName(),
        loc: this.loc(ai)
      };
    }, kr.parseSelectionSet = function() {
      var ai = this._lexer.token;
      return {
        kind: Kind.SELECTION_SET,
        selections: this.many(TokenKind.BRACE_L, this.parseSelection, TokenKind.BRACE_R),
        loc: this.loc(ai)
      };
    }, kr.parseSelection = function() {
      return this.peek(TokenKind.SPREAD) ? this.parseFragment() : this.parseField();
    }, kr.parseField = function() {
      var ai = this._lexer.token, gi = this.parseName(), $i, xi;
      return this.expectOptionalToken(TokenKind.COLON) ? ($i = gi, xi = this.parseName()) : xi = gi, {
        kind: Kind.FIELD,
        alias: $i,
        name: xi,
        arguments: this.parseArguments(!1),
        directives: this.parseDirectives(!1),
        selectionSet: this.peek(TokenKind.BRACE_L) ? this.parseSelectionSet() : void 0,
        loc: this.loc(ai)
      };
    }, kr.parseArguments = function(ai) {
      var gi = ai ? this.parseConstArgument : this.parseArgument;
      return this.optionalMany(TokenKind.PAREN_L, gi, TokenKind.PAREN_R);
    }, kr.parseArgument = function() {
      var ai = this._lexer.token, gi = this.parseName();
      return this.expectToken(TokenKind.COLON), {
        kind: Kind.ARGUMENT,
        name: gi,
        value: this.parseValueLiteral(!1),
        loc: this.loc(ai)
      };
    }, kr.parseConstArgument = function() {
      var ai = this._lexer.token;
      return {
        kind: Kind.ARGUMENT,
        name: this.parseName(),
        value: (this.expectToken(TokenKind.COLON), this.parseValueLiteral(!0)),
        loc: this.loc(ai)
      };
    }, kr.parseFragment = function() {
      var ai = this._lexer.token;
      this.expectToken(TokenKind.SPREAD);
      var gi = this.expectOptionalKeyword("on");
      return !gi && this.peek(TokenKind.NAME) ? {
        kind: Kind.FRAGMENT_SPREAD,
        name: this.parseFragmentName(),
        directives: this.parseDirectives(!1),
        loc: this.loc(ai)
      } : {
        kind: Kind.INLINE_FRAGMENT,
        typeCondition: gi ? this.parseNamedType() : void 0,
        directives: this.parseDirectives(!1),
        selectionSet: this.parseSelectionSet(),
        loc: this.loc(ai)
      };
    }, kr.parseFragmentDefinition = function() {
      var ai, gi = this._lexer.token;
      return this.expectKeyword("fragment"), ((ai = this._options) === null || ai === void 0 ? void 0 : ai.experimentalFragmentVariables) === !0 ? {
        kind: Kind.FRAGMENT_DEFINITION,
        name: this.parseFragmentName(),
        variableDefinitions: this.parseVariableDefinitions(),
        typeCondition: (this.expectKeyword("on"), this.parseNamedType()),
        directives: this.parseDirectives(!1),
        selectionSet: this.parseSelectionSet(),
        loc: this.loc(gi)
      } : {
        kind: Kind.FRAGMENT_DEFINITION,
        name: this.parseFragmentName(),
        typeCondition: (this.expectKeyword("on"), this.parseNamedType()),
        directives: this.parseDirectives(!1),
        selectionSet: this.parseSelectionSet(),
        loc: this.loc(gi)
      };
    }, kr.parseFragmentName = function() {
      if (this._lexer.token.value === "on")
        throw this.unexpected();
      return this.parseName();
    }, kr.parseValueLiteral = function(ai) {
      var gi = this._lexer.token;
      switch (gi.kind) {
        case TokenKind.BRACKET_L:
          return this.parseList(ai);
        case TokenKind.BRACE_L:
          return this.parseObject(ai);
        case TokenKind.INT:
          return this._lexer.advance(), {
            kind: Kind.INT,
            value: gi.value,
            loc: this.loc(gi)
          };
        case TokenKind.FLOAT:
          return this._lexer.advance(), {
            kind: Kind.FLOAT,
            value: gi.value,
            loc: this.loc(gi)
          };
        case TokenKind.STRING:
        case TokenKind.BLOCK_STRING:
          return this.parseStringLiteral();
        case TokenKind.NAME:
          switch (this._lexer.advance(), gi.value) {
            case "true":
              return {
                kind: Kind.BOOLEAN,
                value: !0,
                loc: this.loc(gi)
              };
            case "false":
              return {
                kind: Kind.BOOLEAN,
                value: !1,
                loc: this.loc(gi)
              };
            case "null":
              return {
                kind: Kind.NULL,
                loc: this.loc(gi)
              };
            default:
              return {
                kind: Kind.ENUM,
                value: gi.value,
                loc: this.loc(gi)
              };
          }
        case TokenKind.DOLLAR:
          if (!ai)
            return this.parseVariable();
          break;
      }
      throw this.unexpected();
    }, kr.parseStringLiteral = function() {
      var ai = this._lexer.token;
      return this._lexer.advance(), {
        kind: Kind.STRING,
        value: ai.value,
        block: ai.kind === TokenKind.BLOCK_STRING,
        loc: this.loc(ai)
      };
    }, kr.parseList = function(ai) {
      var gi = this, $i = this._lexer.token, xi = function() {
        return gi.parseValueLiteral(ai);
      };
      return {
        kind: Kind.LIST,
        values: this.any(TokenKind.BRACKET_L, xi, TokenKind.BRACKET_R),
        loc: this.loc($i)
      };
    }, kr.parseObject = function(ai) {
      var gi = this, $i = this._lexer.token, xi = function() {
        return gi.parseObjectField(ai);
      };
      return {
        kind: Kind.OBJECT,
        fields: this.any(TokenKind.BRACE_L, xi, TokenKind.BRACE_R),
        loc: this.loc($i)
      };
    }, kr.parseObjectField = function(ai) {
      var gi = this._lexer.token, $i = this.parseName();
      return this.expectToken(TokenKind.COLON), {
        kind: Kind.OBJECT_FIELD,
        name: $i,
        value: this.parseValueLiteral(ai),
        loc: this.loc(gi)
      };
    }, kr.parseDirectives = function(ai) {
      for (var gi = []; this.peek(TokenKind.AT); )
        gi.push(this.parseDirective(ai));
      return gi;
    }, kr.parseDirective = function(ai) {
      var gi = this._lexer.token;
      return this.expectToken(TokenKind.AT), {
        kind: Kind.DIRECTIVE,
        name: this.parseName(),
        arguments: this.parseArguments(ai),
        loc: this.loc(gi)
      };
    }, kr.parseTypeReference = function() {
      var ai = this._lexer.token, gi;
      return this.expectOptionalToken(TokenKind.BRACKET_L) ? (gi = this.parseTypeReference(), this.expectToken(TokenKind.BRACKET_R), gi = {
        kind: Kind.LIST_TYPE,
        type: gi,
        loc: this.loc(ai)
      }) : gi = this.parseNamedType(), this.expectOptionalToken(TokenKind.BANG) ? {
        kind: Kind.NON_NULL_TYPE,
        type: gi,
        loc: this.loc(ai)
      } : gi;
    }, kr.parseNamedType = function() {
      var ai = this._lexer.token;
      return {
        kind: Kind.NAMED_TYPE,
        name: this.parseName(),
        loc: this.loc(ai)
      };
    }, kr.parseTypeSystemDefinition = function() {
      var ai = this.peekDescription() ? this._lexer.lookahead() : this._lexer.token;
      if (ai.kind === TokenKind.NAME)
        switch (ai.value) {
          case "schema":
            return this.parseSchemaDefinition();
          case "scalar":
            return this.parseScalarTypeDefinition();
          case "type":
            return this.parseObjectTypeDefinition();
          case "interface":
            return this.parseInterfaceTypeDefinition();
          case "union":
            return this.parseUnionTypeDefinition();
          case "enum":
            return this.parseEnumTypeDefinition();
          case "input":
            return this.parseInputObjectTypeDefinition();
          case "directive":
            return this.parseDirectiveDefinition();
        }
      throw this.unexpected(ai);
    }, kr.peekDescription = function() {
      return this.peek(TokenKind.STRING) || this.peek(TokenKind.BLOCK_STRING);
    }, kr.parseDescription = function() {
      if (this.peekDescription())
        return this.parseStringLiteral();
    }, kr.parseSchemaDefinition = function() {
      var ai = this._lexer.token, gi = this.parseDescription();
      this.expectKeyword("schema");
      var $i = this.parseDirectives(!0), xi = this.many(TokenKind.BRACE_L, this.parseOperationTypeDefinition, TokenKind.BRACE_R);
      return {
        kind: Kind.SCHEMA_DEFINITION,
        description: gi,
        directives: $i,
        operationTypes: xi,
        loc: this.loc(ai)
      };
    }, kr.parseOperationTypeDefinition = function() {
      var ai = this._lexer.token, gi = this.parseOperationType();
      this.expectToken(TokenKind.COLON);
      var $i = this.parseNamedType();
      return {
        kind: Kind.OPERATION_TYPE_DEFINITION,
        operation: gi,
        type: $i,
        loc: this.loc(ai)
      };
    }, kr.parseScalarTypeDefinition = function() {
      var ai = this._lexer.token, gi = this.parseDescription();
      this.expectKeyword("scalar");
      var $i = this.parseName(), xi = this.parseDirectives(!0);
      return {
        kind: Kind.SCALAR_TYPE_DEFINITION,
        description: gi,
        name: $i,
        directives: xi,
        loc: this.loc(ai)
      };
    }, kr.parseObjectTypeDefinition = function() {
      var ai = this._lexer.token, gi = this.parseDescription();
      this.expectKeyword("type");
      var $i = this.parseName(), xi = this.parseImplementsInterfaces(), Ai = this.parseDirectives(!0), Li = this.parseFieldsDefinition();
      return {
        kind: Kind.OBJECT_TYPE_DEFINITION,
        description: gi,
        name: $i,
        interfaces: xi,
        directives: Ai,
        fields: Li,
        loc: this.loc(ai)
      };
    }, kr.parseImplementsInterfaces = function() {
      var ai;
      if (!this.expectOptionalKeyword("implements"))
        return [];
      if (((ai = this._options) === null || ai === void 0 ? void 0 : ai.allowLegacySDLImplementsInterfaces) === !0) {
        var gi = [];
        this.expectOptionalToken(TokenKind.AMP);
        do
          gi.push(this.parseNamedType());
        while (this.expectOptionalToken(TokenKind.AMP) || this.peek(TokenKind.NAME));
        return gi;
      }
      return this.delimitedMany(TokenKind.AMP, this.parseNamedType);
    }, kr.parseFieldsDefinition = function() {
      var ai;
      return ((ai = this._options) === null || ai === void 0 ? void 0 : ai.allowLegacySDLEmptyFields) === !0 && this.peek(TokenKind.BRACE_L) && this._lexer.lookahead().kind === TokenKind.BRACE_R ? (this._lexer.advance(), this._lexer.advance(), []) : this.optionalMany(TokenKind.BRACE_L, this.parseFieldDefinition, TokenKind.BRACE_R);
    }, kr.parseFieldDefinition = function() {
      var ai = this._lexer.token, gi = this.parseDescription(), $i = this.parseName(), xi = this.parseArgumentDefs();
      this.expectToken(TokenKind.COLON);
      var Ai = this.parseTypeReference(), Li = this.parseDirectives(!0);
      return {
        kind: Kind.FIELD_DEFINITION,
        description: gi,
        name: $i,
        arguments: xi,
        type: Ai,
        directives: Li,
        loc: this.loc(ai)
      };
    }, kr.parseArgumentDefs = function() {
      return this.optionalMany(TokenKind.PAREN_L, this.parseInputValueDef, TokenKind.PAREN_R);
    }, kr.parseInputValueDef = function() {
      var ai = this._lexer.token, gi = this.parseDescription(), $i = this.parseName();
      this.expectToken(TokenKind.COLON);
      var xi = this.parseTypeReference(), Ai;
      this.expectOptionalToken(TokenKind.EQUALS) && (Ai = this.parseValueLiteral(!0));
      var Li = this.parseDirectives(!0);
      return {
        kind: Kind.INPUT_VALUE_DEFINITION,
        description: gi,
        name: $i,
        type: xi,
        defaultValue: Ai,
        directives: Li,
        loc: this.loc(ai)
      };
    }, kr.parseInterfaceTypeDefinition = function() {
      var ai = this._lexer.token, gi = this.parseDescription();
      this.expectKeyword("interface");
      var $i = this.parseName(), xi = this.parseImplementsInterfaces(), Ai = this.parseDirectives(!0), Li = this.parseFieldsDefinition();
      return {
        kind: Kind.INTERFACE_TYPE_DEFINITION,
        description: gi,
        name: $i,
        interfaces: xi,
        directives: Ai,
        fields: Li,
        loc: this.loc(ai)
      };
    }, kr.parseUnionTypeDefinition = function() {
      var ai = this._lexer.token, gi = this.parseDescription();
      this.expectKeyword("union");
      var $i = this.parseName(), xi = this.parseDirectives(!0), Ai = this.parseUnionMemberTypes();
      return {
        kind: Kind.UNION_TYPE_DEFINITION,
        description: gi,
        name: $i,
        directives: xi,
        types: Ai,
        loc: this.loc(ai)
      };
    }, kr.parseUnionMemberTypes = function() {
      return this.expectOptionalToken(TokenKind.EQUALS) ? this.delimitedMany(TokenKind.PIPE, this.parseNamedType) : [];
    }, kr.parseEnumTypeDefinition = function() {
      var ai = this._lexer.token, gi = this.parseDescription();
      this.expectKeyword("enum");
      var $i = this.parseName(), xi = this.parseDirectives(!0), Ai = this.parseEnumValuesDefinition();
      return {
        kind: Kind.ENUM_TYPE_DEFINITION,
        description: gi,
        name: $i,
        directives: xi,
        values: Ai,
        loc: this.loc(ai)
      };
    }, kr.parseEnumValuesDefinition = function() {
      return this.optionalMany(TokenKind.BRACE_L, this.parseEnumValueDefinition, TokenKind.BRACE_R);
    }, kr.parseEnumValueDefinition = function() {
      var ai = this._lexer.token, gi = this.parseDescription(), $i = this.parseName(), xi = this.parseDirectives(!0);
      return {
        kind: Kind.ENUM_VALUE_DEFINITION,
        description: gi,
        name: $i,
        directives: xi,
        loc: this.loc(ai)
      };
    }, kr.parseInputObjectTypeDefinition = function() {
      var ai = this._lexer.token, gi = this.parseDescription();
      this.expectKeyword("input");
      var $i = this.parseName(), xi = this.parseDirectives(!0), Ai = this.parseInputFieldsDefinition();
      return {
        kind: Kind.INPUT_OBJECT_TYPE_DEFINITION,
        description: gi,
        name: $i,
        directives: xi,
        fields: Ai,
        loc: this.loc(ai)
      };
    }, kr.parseInputFieldsDefinition = function() {
      return this.optionalMany(TokenKind.BRACE_L, this.parseInputValueDef, TokenKind.BRACE_R);
    }, kr.parseTypeSystemExtension = function() {
      var ai = this._lexer.lookahead();
      if (ai.kind === TokenKind.NAME)
        switch (ai.value) {
          case "schema":
            return this.parseSchemaExtension();
          case "scalar":
            return this.parseScalarTypeExtension();
          case "type":
            return this.parseObjectTypeExtension();
          case "interface":
            return this.parseInterfaceTypeExtension();
          case "union":
            return this.parseUnionTypeExtension();
          case "enum":
            return this.parseEnumTypeExtension();
          case "input":
            return this.parseInputObjectTypeExtension();
        }
      throw this.unexpected(ai);
    }, kr.parseSchemaExtension = function() {
      var ai = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("schema");
      var gi = this.parseDirectives(!0), $i = this.optionalMany(TokenKind.BRACE_L, this.parseOperationTypeDefinition, TokenKind.BRACE_R);
      if (gi.length === 0 && $i.length === 0)
        throw this.unexpected();
      return {
        kind: Kind.SCHEMA_EXTENSION,
        directives: gi,
        operationTypes: $i,
        loc: this.loc(ai)
      };
    }, kr.parseScalarTypeExtension = function() {
      var ai = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("scalar");
      var gi = this.parseName(), $i = this.parseDirectives(!0);
      if ($i.length === 0)
        throw this.unexpected();
      return {
        kind: Kind.SCALAR_TYPE_EXTENSION,
        name: gi,
        directives: $i,
        loc: this.loc(ai)
      };
    }, kr.parseObjectTypeExtension = function() {
      var ai = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("type");
      var gi = this.parseName(), $i = this.parseImplementsInterfaces(), xi = this.parseDirectives(!0), Ai = this.parseFieldsDefinition();
      if ($i.length === 0 && xi.length === 0 && Ai.length === 0)
        throw this.unexpected();
      return {
        kind: Kind.OBJECT_TYPE_EXTENSION,
        name: gi,
        interfaces: $i,
        directives: xi,
        fields: Ai,
        loc: this.loc(ai)
      };
    }, kr.parseInterfaceTypeExtension = function() {
      var ai = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("interface");
      var gi = this.parseName(), $i = this.parseImplementsInterfaces(), xi = this.parseDirectives(!0), Ai = this.parseFieldsDefinition();
      if ($i.length === 0 && xi.length === 0 && Ai.length === 0)
        throw this.unexpected();
      return {
        kind: Kind.INTERFACE_TYPE_EXTENSION,
        name: gi,
        interfaces: $i,
        directives: xi,
        fields: Ai,
        loc: this.loc(ai)
      };
    }, kr.parseUnionTypeExtension = function() {
      var ai = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("union");
      var gi = this.parseName(), $i = this.parseDirectives(!0), xi = this.parseUnionMemberTypes();
      if ($i.length === 0 && xi.length === 0)
        throw this.unexpected();
      return {
        kind: Kind.UNION_TYPE_EXTENSION,
        name: gi,
        directives: $i,
        types: xi,
        loc: this.loc(ai)
      };
    }, kr.parseEnumTypeExtension = function() {
      var ai = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("enum");
      var gi = this.parseName(), $i = this.parseDirectives(!0), xi = this.parseEnumValuesDefinition();
      if ($i.length === 0 && xi.length === 0)
        throw this.unexpected();
      return {
        kind: Kind.ENUM_TYPE_EXTENSION,
        name: gi,
        directives: $i,
        values: xi,
        loc: this.loc(ai)
      };
    }, kr.parseInputObjectTypeExtension = function() {
      var ai = this._lexer.token;
      this.expectKeyword("extend"), this.expectKeyword("input");
      var gi = this.parseName(), $i = this.parseDirectives(!0), xi = this.parseInputFieldsDefinition();
      if ($i.length === 0 && xi.length === 0)
        throw this.unexpected();
      return {
        kind: Kind.INPUT_OBJECT_TYPE_EXTENSION,
        name: gi,
        directives: $i,
        fields: xi,
        loc: this.loc(ai)
      };
    }, kr.parseDirectiveDefinition = function() {
      var ai = this._lexer.token, gi = this.parseDescription();
      this.expectKeyword("directive"), this.expectToken(TokenKind.AT);
      var $i = this.parseName(), xi = this.parseArgumentDefs(), Ai = this.expectOptionalKeyword("repeatable");
      this.expectKeyword("on");
      var Li = this.parseDirectiveLocations();
      return {
        kind: Kind.DIRECTIVE_DEFINITION,
        description: gi,
        name: $i,
        arguments: xi,
        repeatable: Ai,
        locations: Li,
        loc: this.loc(ai)
      };
    }, kr.parseDirectiveLocations = function() {
      return this.delimitedMany(TokenKind.PIPE, this.parseDirectiveLocation);
    }, kr.parseDirectiveLocation = function() {
      var ai = this._lexer.token, gi = this.parseName();
      if (DirectiveLocation[gi.value] !== void 0)
        return gi;
      throw this.unexpected(ai);
    }, kr.loc = function(ai) {
      var gi;
      if (((gi = this._options) === null || gi === void 0 ? void 0 : gi.noLocation) !== !0)
        return new Location(ai, this._lexer.lastToken, this._lexer.source);
    }, kr.peek = function(ai) {
      return this._lexer.token.kind === ai;
    }, kr.expectToken = function(ai) {
      var gi = this._lexer.token;
      if (gi.kind === ai)
        return this._lexer.advance(), gi;
      throw syntaxError(this._lexer.source, gi.start, "Expected ".concat(getTokenKindDesc(ai), ", found ").concat(getTokenDesc(gi), "."));
    }, kr.expectOptionalToken = function(ai) {
      var gi = this._lexer.token;
      if (gi.kind === ai)
        return this._lexer.advance(), gi;
    }, kr.expectKeyword = function(ai) {
      var gi = this._lexer.token;
      if (gi.kind === TokenKind.NAME && gi.value === ai)
        this._lexer.advance();
      else
        throw syntaxError(this._lexer.source, gi.start, 'Expected "'.concat(ai, '", found ').concat(getTokenDesc(gi), "."));
    }, kr.expectOptionalKeyword = function(ai) {
      var gi = this._lexer.token;
      return gi.kind === TokenKind.NAME && gi.value === ai ? (this._lexer.advance(), !0) : !1;
    }, kr.unexpected = function(ai) {
      var gi = ai ?? this._lexer.token;
      return syntaxError(this._lexer.source, gi.start, "Unexpected ".concat(getTokenDesc(gi), "."));
    }, kr.any = function(ai, gi, $i) {
      this.expectToken(ai);
      for (var xi = []; !this.expectOptionalToken($i); )
        xi.push(gi.call(this));
      return xi;
    }, kr.optionalMany = function(ai, gi, $i) {
      if (this.expectOptionalToken(ai)) {
        var xi = [];
        do
          xi.push(gi.call(this));
        while (!this.expectOptionalToken($i));
        return xi;
      }
      return [];
    }, kr.many = function(ai, gi, $i) {
      this.expectToken(ai);
      var xi = [];
      do
        xi.push(gi.call(this));
      while (!this.expectOptionalToken($i));
      return xi;
    }, kr.delimitedMany = function(ai, gi) {
      this.expectOptionalToken(ai);
      var $i = [];
      do
        $i.push(gi.call(this));
      while (this.expectOptionalToken(ai));
      return $i;
    }, Kr;
  }();
  function getTokenDesc(Kr) {
    var kr = Kr.value;
    return getTokenKindDesc(Kr.kind) + (kr != null ? ' "'.concat(kr, '"') : "");
  }
  function getTokenKindDesc(Kr) {
    return isPunctuatorTokenKind(Kr) ? '"'.concat(Kr, '"') : Kr;
  }
  var docCache = /* @__PURE__ */ new Map(), fragmentSourceMap = /* @__PURE__ */ new Map(), printFragmentWarnings = !0, experimentalFragmentVariables = !1;
  function normalize(Kr) {
    return Kr.replace(/[\s,]+/g, " ").trim();
  }
  function cacheKeyFromLoc(Kr) {
    return normalize(Kr.source.body.substring(Kr.start, Kr.end));
  }
  function processFragments(Kr) {
    var kr = /* @__PURE__ */ new Set(), qr = [];
    return Kr.definitions.forEach(function(ai) {
      if (ai.kind === "FragmentDefinition") {
        var gi = ai.name.value, $i = cacheKeyFromLoc(ai.loc), xi = fragmentSourceMap.get(gi);
        xi && !xi.has($i) ? printFragmentWarnings && console.warn("Warning: fragment with name " + gi + ` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`) : xi || fragmentSourceMap.set(gi, xi = /* @__PURE__ */ new Set()), xi.add($i), kr.has($i) || (kr.add($i), qr.push(ai));
      } else
        qr.push(ai);
    }), __assign(__assign({}, Kr), { definitions: qr });
  }
  function stripLoc(Kr) {
    var kr = new Set(Kr.definitions);
    kr.forEach(function(ai) {
      ai.loc && delete ai.loc, Object.keys(ai).forEach(function(gi) {
        var $i = ai[gi];
        $i && typeof $i == "object" && kr.add($i);
      });
    });
    var qr = Kr.loc;
    return qr && (delete qr.startToken, delete qr.endToken), Kr;
  }
  function parseDocument(Kr) {
    var kr = normalize(Kr);
    if (!docCache.has(kr)) {
      var qr = parse(Kr, {
        experimentalFragmentVariables,
        allowLegacyFragmentVariables: experimentalFragmentVariables
      });
      if (!qr || qr.kind !== "Document")
        throw new Error("Not a valid GraphQL document.");
      docCache.set(kr, stripLoc(processFragments(qr)));
    }
    return docCache.get(kr);
  }
  function gql(Kr) {
    for (var kr = [], qr = 1; qr < arguments.length; qr++)
      kr[qr - 1] = arguments[qr];
    typeof Kr == "string" && (Kr = [Kr]);
    var ai = Kr[0];
    return kr.forEach(function(gi, $i) {
      gi && gi.kind === "Document" ? ai += gi.loc.source.body : ai += gi, ai += Kr[$i + 1];
    }), parseDocument(ai);
  }
  function resetCaches() {
    docCache.clear(), fragmentSourceMap.clear();
  }
  function disableFragmentWarnings() {
    printFragmentWarnings = !1;
  }
  function enableExperimentalFragmentVariables() {
    experimentalFragmentVariables = !0;
  }
  function disableExperimentalFragmentVariables() {
    experimentalFragmentVariables = !1;
  }
  var extras = {
    gql,
    resetCaches,
    disableFragmentWarnings,
    enableExperimentalFragmentVariables,
    disableExperimentalFragmentVariables
  };
  (function(Kr) {
    Kr.gql = extras.gql, Kr.resetCaches = extras.resetCaches, Kr.disableFragmentWarnings = extras.disableFragmentWarnings, Kr.enableExperimentalFragmentVariables = extras.enableExperimentalFragmentVariables, Kr.disableExperimentalFragmentVariables = extras.disableExperimentalFragmentVariables;
  })(gql || (gql = {}));
  gql.default = gql;
  function dummyFn() {
  }
  function dummyDecorator() {
    return dummyFn;
  }
  const Field = dummyDecorator, InputType = dummyDecorator, ObjectType = dummyDecorator;
  var __decorate$e = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata$e = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  };
  let Icon = class {
    constructor(kr) {
      this.code = kr;
    }
  };
  __decorate$e([
    Field(),
    __metadata$e("design:type", String)
  ], Icon.prototype, "code", void 0);
  Icon = __decorate$e([
    ObjectType(),
    __metadata$e("design:paramtypes", [String])
  ], Icon);
  var __decorate$d = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata$d = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  };
  let LanguageRef = class {
    constructor(kr, qr) {
      this.address = kr, this.name = qr;
    }
  };
  __decorate$d([
    Field(),
    __metadata$d("design:type", String)
  ], LanguageRef.prototype, "address", void 0);
  __decorate$d([
    Field(),
    __metadata$d("design:type", String)
  ], LanguageRef.prototype, "name", void 0);
  LanguageRef = __decorate$d([
    ObjectType(),
    __metadata$d("design:paramtypes", [String, String])
  ], LanguageRef);
  var __decorate$c = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata$c = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  };
  let ExpressionProof = class {
    constructor(kr, qr) {
      this.key = qr, this.signature = kr;
    }
  };
  __decorate$c([
    Field(),
    __metadata$c("design:type", String)
  ], ExpressionProof.prototype, "signature", void 0);
  __decorate$c([
    Field(),
    __metadata$c("design:type", String)
  ], ExpressionProof.prototype, "key", void 0);
  __decorate$c([
    Field(),
    __metadata$c("design:type", Boolean)
  ], ExpressionProof.prototype, "valid", void 0);
  __decorate$c([
    Field(),
    __metadata$c("design:type", Boolean)
  ], ExpressionProof.prototype, "invalid", void 0);
  ExpressionProof = __decorate$c([
    ObjectType(),
    InputType(),
    __metadata$c("design:paramtypes", [String, String])
  ], ExpressionProof);
  let ExpressionProofInput = class {
  };
  __decorate$c([
    Field(),
    __metadata$c("design:type", String)
  ], ExpressionProofInput.prototype, "signature", void 0);
  __decorate$c([
    Field(),
    __metadata$c("design:type", String)
  ], ExpressionProofInput.prototype, "key", void 0);
  __decorate$c([
    Field(),
    __metadata$c("design:type", Boolean)
  ], ExpressionProofInput.prototype, "valid", void 0);
  __decorate$c([
    Field(),
    __metadata$c("design:type", Boolean)
  ], ExpressionProofInput.prototype, "invalid", void 0);
  ExpressionProofInput = __decorate$c([
    InputType()
  ], ExpressionProofInput);
  function ExpressionGeneric(Kr) {
    let kr = class {
      constructor(ai, gi, $i, xi) {
        this.author = ai, this.timestamp = gi, this.data = $i, this.proof = xi;
      }
    };
    return __decorate$c([
      Field(),
      __metadata$c("design:type", String)
    ], kr.prototype, "author", void 0), __decorate$c([
      Field(),
      __metadata$c("design:type", String)
    ], kr.prototype, "timestamp", void 0), __decorate$c([
      Field(),
      __metadata$c("design:type", Object)
    ], kr.prototype, "data", void 0), __decorate$c([
      Field(),
      __metadata$c("design:type", ExpressionProof)
    ], kr.prototype, "proof", void 0), kr = __decorate$c([
      ObjectType(),
      __metadata$c("design:paramtypes", [String, String, Object, ExpressionProof])
    ], kr), kr;
  }
  function ExpressionGenericInput(Kr) {
    let kr = class {
    };
    return __decorate$c([
      Field(),
      __metadata$c("design:type", String)
    ], kr.prototype, "author", void 0), __decorate$c([
      Field(),
      __metadata$c("design:type", String)
    ], kr.prototype, "timestamp", void 0), __decorate$c([
      Field(),
      __metadata$c("design:type", Object)
    ], kr.prototype, "data", void 0), __decorate$c([
      Field(),
      __metadata$c("design:type", ExpressionProofInput)
    ], kr.prototype, "proof", void 0), kr = __decorate$c([
      InputType()
    ], kr), kr;
  }
  let Expression = class extends ExpressionGeneric() {
  };
  Expression = __decorate$c([
    ObjectType()
  ], Expression);
  let ExpressionRendered = class extends ExpressionGeneric() {
  };
  __decorate$c([
    Field(),
    __metadata$c("design:type", LanguageRef)
  ], ExpressionRendered.prototype, "language", void 0);
  __decorate$c([
    Field(),
    __metadata$c("design:type", Icon)
  ], ExpressionRendered.prototype, "icon", void 0);
  ExpressionRendered = __decorate$c([
    ObjectType()
  ], ExpressionRendered);
  var __decorate$b = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata$b = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  };
  let Link = class {
    constructor(kr) {
      this.source = kr.source ? kr.source : "", this.target = kr.target ? kr.target : "", this.predicate = kr.predicate ? kr.predicate : "";
    }
  };
  __decorate$b([
    Field(),
    __metadata$b("design:type", String)
  ], Link.prototype, "source", void 0);
  __decorate$b([
    Field(),
    __metadata$b("design:type", String)
  ], Link.prototype, "target", void 0);
  __decorate$b([
    Field(),
    __metadata$b("design:type", String)
  ], Link.prototype, "predicate", void 0);
  Link = __decorate$b([
    ObjectType(),
    __metadata$b("design:paramtypes", [Object])
  ], Link);
  let LinkMutations = class {
  };
  __decorate$b([
    Field(),
    __metadata$b("design:type", Array)
  ], LinkMutations.prototype, "additions", void 0);
  __decorate$b([
    Field(),
    __metadata$b("design:type", Array)
  ], LinkMutations.prototype, "removals", void 0);
  LinkMutations = __decorate$b([
    InputType()
  ], LinkMutations);
  let LinkExpressionMutations = class {
    constructor(kr, qr) {
      this.additions = kr, this.removals = qr;
    }
  };
  __decorate$b([
    Field(),
    __metadata$b("design:type", Array)
  ], LinkExpressionMutations.prototype, "additions", void 0);
  __decorate$b([
    Field(),
    __metadata$b("design:type", Array)
  ], LinkExpressionMutations.prototype, "removals", void 0);
  LinkExpressionMutations = __decorate$b([
    ObjectType(),
    __metadata$b("design:paramtypes", [Array, Array])
  ], LinkExpressionMutations);
  let LinkInput = class {
  };
  __decorate$b([
    Field(),
    __metadata$b("design:type", String)
  ], LinkInput.prototype, "source", void 0);
  __decorate$b([
    Field(),
    __metadata$b("design:type", String)
  ], LinkInput.prototype, "target", void 0);
  __decorate$b([
    Field(),
    __metadata$b("design:type", String)
  ], LinkInput.prototype, "predicate", void 0);
  LinkInput = __decorate$b([
    InputType()
  ], LinkInput);
  let LinkExpression = class extends ExpressionGeneric() {
    hash() {
      const kr = JSON.stringify(this.data, Object.keys(this.data).sort()) + JSON.stringify(this.author) + this.timestamp;
      let qr = 0, ai, gi;
      for (ai = 0; ai < kr.length; ai++)
        gi = kr.charCodeAt(ai), qr = (qr << 5) - qr + gi, qr |= 0;
      return qr;
    }
  };
  __decorate$b([
    Field(),
    __metadata$b("design:type", String)
  ], LinkExpression.prototype, "status", void 0);
  LinkExpression = __decorate$b([
    ObjectType()
  ], LinkExpression);
  let LinkExpressionInput = class extends ExpressionGenericInput() {
  };
  __decorate$b([
    Field(),
    __metadata$b("design:type", String)
  ], LinkExpressionInput.prototype, "status", void 0);
  LinkExpressionInput = __decorate$b([
    InputType()
  ], LinkExpressionInput);
  let LinkExpressionUpdated = class {
    constructor(kr, qr) {
      this.oldLink = kr, this.newLink = qr;
    }
  };
  __decorate$b([
    Field(),
    __metadata$b("design:type", LinkExpression)
  ], LinkExpressionUpdated.prototype, "oldLink", void 0);
  __decorate$b([
    Field(),
    __metadata$b("design:type", LinkExpression)
  ], LinkExpressionUpdated.prototype, "newLink", void 0);
  LinkExpressionUpdated = __decorate$b([
    ObjectType(),
    __metadata$b("design:paramtypes", [LinkExpression, LinkExpression])
  ], LinkExpressionUpdated);
  var __decorate$a = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata$a = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, PerspectiveUnsignedInput_1;
  let Perspective = class {
    constructor(kr) {
      kr ? this.links = kr : this.links = [];
    }
    /** Convenience function for filtering links just like with PerspectiveProxy */
    get(kr) {
      if (!kr || !kr.source && !kr.predicate && !kr.target)
        return this.links;
      if (kr.source) {
        let ai = JSON.parse(JSON.stringify(this.links));
        return kr.target && (ai = ai.filter((gi) => gi.data.target === kr.target)), kr.predicate && (ai = ai.filter((gi) => gi.data.predicate === kr.predicate)), kr.fromDate && (ai = ai.filter((gi) => new Date(gi.timestamp) >= kr.fromDate)), kr.untilDate && (ai = ai.filter((gi) => new Date(gi.timestamp) <= kr.untilDate)), kr.limit && (ai = ai.slice(0, kr.limit)), ai;
      }
      if (kr.target) {
        let ai = JSON.parse(JSON.stringify(this.links));
        return kr.predicate && (ai = ai.filter((gi) => gi.data.predicate === kr.predicate)), kr.fromDate && (ai = ai.filter((gi) => new Date(gi.timestamp) >= kr.fromDate)), kr.untilDate && (ai = ai.filter((gi) => new Date(gi.timestamp) <= kr.untilDate)), kr.limit && (ai = ai.slice(0, kr.limit)), ai;
      }
      let qr = JSON.parse(JSON.stringify(this.links));
      return qr = qr.filter((ai) => ai.data.predicate === kr.predicate), kr.limit && (qr = qr.slice(0, kr.limit)), qr;
    }
    /** Convenience function to get the target of the first link that matches the given query
     * This makes sense when the query is expected to return only one link
     * and the target of that link is what you are looking for.
     */
    getSingleTarget(kr) {
      delete kr.target;
      const qr = this.get(kr);
      return qr.length ? qr[0].data.target : null;
    }
  };
  __decorate$a([
    Field(),
    __metadata$a("design:type", Array)
  ], Perspective.prototype, "links", void 0);
  Perspective = __decorate$a([
    ObjectType(),
    __metadata$a("design:paramtypes", [Array])
  ], Perspective);
  let PerspectiveInput = class {
  };
  __decorate$a([
    Field(),
    __metadata$a("design:type", Array)
  ], PerspectiveInput.prototype, "links", void 0);
  PerspectiveInput = __decorate$a([
    InputType()
  ], PerspectiveInput);
  let PerspectiveUnsignedInput = PerspectiveUnsignedInput_1 = class {
    constructor(kr) {
      kr ? this.links = kr : this.links = [];
    }
    static fromLink(kr) {
      let qr = new PerspectiveUnsignedInput_1();
      return qr.links.push(kr), qr;
    }
  };
  __decorate$a([
    Field(),
    __metadata$a("design:type", Array)
  ], PerspectiveUnsignedInput.prototype, "links", void 0);
  PerspectiveUnsignedInput = PerspectiveUnsignedInput_1 = __decorate$a([
    InputType(),
    __metadata$a("design:paramtypes", [Array])
  ], PerspectiveUnsignedInput);
  let PerspectiveExpression = class extends ExpressionGeneric() {
  };
  PerspectiveExpression = __decorate$a([
    ObjectType()
  ], PerspectiveExpression);
  var __decorate$9 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata$9 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  };
  let Agent = class {
    constructor(kr, qr) {
      this.did = kr, qr ? this.perspective = qr : this.perspective = new Perspective();
    }
  };
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], Agent.prototype, "did", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", Perspective)
  ], Agent.prototype, "perspective", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], Agent.prototype, "directMessageLanguage", void 0);
  Agent = __decorate$9([
    ObjectType(),
    __metadata$9("design:paramtypes", [String, Perspective])
  ], Agent);
  let AgentExpression = class extends ExpressionGeneric() {
  };
  AgentExpression = __decorate$9([
    ObjectType()
  ], AgentExpression);
  let EntanglementProof = class {
    constructor(kr, qr, ai, gi, $i, xi) {
      this.did = kr, this.didSigningKeyId = qr, this.deviceKeyType = ai, this.deviceKey = gi, this.deviceKeySignedByDid = $i, this.didSignedByDeviceKey = xi;
    }
  };
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], EntanglementProof.prototype, "did", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], EntanglementProof.prototype, "didSigningKeyId", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], EntanglementProof.prototype, "deviceKeyType", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], EntanglementProof.prototype, "deviceKey", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], EntanglementProof.prototype, "deviceKeySignedByDid", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], EntanglementProof.prototype, "didSignedByDeviceKey", void 0);
  EntanglementProof = __decorate$9([
    ObjectType(),
    __metadata$9("design:paramtypes", [String, String, String, String, String, String])
  ], EntanglementProof);
  let EntanglementProofInput = class {
    constructor(kr, qr, ai, gi, $i, xi) {
      this.did = kr, this.didSigningKeyId = qr, this.deviceKeyType = ai, this.deviceKey = gi, this.deviceKeySignedByDid = $i, this.didSignedByDeviceKey = xi;
    }
  };
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], EntanglementProofInput.prototype, "did", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], EntanglementProofInput.prototype, "didSigningKeyId", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], EntanglementProofInput.prototype, "deviceKeyType", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], EntanglementProofInput.prototype, "deviceKey", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], EntanglementProofInput.prototype, "deviceKeySignedByDid", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], EntanglementProofInput.prototype, "didSignedByDeviceKey", void 0);
  EntanglementProofInput = __decorate$9([
    InputType(),
    __metadata$9("design:paramtypes", [String, String, String, String, String, String])
  ], EntanglementProofInput);
  let AgentSignature = class {
    constructor(kr, qr) {
      this.signature = kr, this.publicKey = qr;
    }
  };
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], AgentSignature.prototype, "signature", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], AgentSignature.prototype, "publicKey", void 0);
  AgentSignature = __decorate$9([
    ObjectType(),
    __metadata$9("design:paramtypes", [String, String])
  ], AgentSignature);
  let Resource = class {
    constructor(kr, qr) {
      this.domain = kr, this.pointers = qr;
    }
  };
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], Resource.prototype, "domain", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", Array)
  ], Resource.prototype, "pointers", void 0);
  Resource = __decorate$9([
    ObjectType(),
    __metadata$9("design:paramtypes", [String, Array])
  ], Resource);
  let Capability = class {
    constructor(kr, qr) {
      this.with = kr, this.can = qr;
    }
  };
  __decorate$9([
    Field(),
    __metadata$9("design:type", Resource)
  ], Capability.prototype, "with", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", Array)
  ], Capability.prototype, "can", void 0);
  Capability = __decorate$9([
    ObjectType(),
    __metadata$9("design:paramtypes", [Resource, Array])
  ], Capability);
  let AuthInfo = class {
    constructor(kr, qr, ai, gi, $i) {
      this.appName = kr, this.appDesc = qr, this.appIconPath = $i, this.appUrl = ai, this.capabilities = gi;
    }
  };
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], AuthInfo.prototype, "appName", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], AuthInfo.prototype, "appDesc", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], AuthInfo.prototype, "appUrl", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], AuthInfo.prototype, "appIconPath", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", Array)
  ], AuthInfo.prototype, "capabilities", void 0);
  AuthInfo = __decorate$9([
    ObjectType(),
    __metadata$9("design:paramtypes", [String, String, String, Array, String])
  ], AuthInfo);
  let Apps = class {
    constructor(kr, qr, ai, gi) {
      this.requestId = kr, this.auth = qr, this.token = ai, this.revoked = gi;
    }
  };
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], Apps.prototype, "requestId", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], Apps.prototype, "token", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", Boolean)
  ], Apps.prototype, "revoked", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", AuthInfo)
  ], Apps.prototype, "auth", void 0);
  Apps = __decorate$9([
    ObjectType(),
    __metadata$9("design:paramtypes", [String, AuthInfo, String, Boolean])
  ], Apps);
  let ResourceInput = class {
    constructor(kr, qr) {
      this.domain = kr, this.pointers = qr;
    }
  };
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], ResourceInput.prototype, "domain", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", Array)
  ], ResourceInput.prototype, "pointers", void 0);
  ResourceInput = __decorate$9([
    InputType(),
    __metadata$9("design:paramtypes", [String, Array])
  ], ResourceInput);
  let CapabilityInput = class {
    constructor(kr, qr) {
      this.with = kr, this.can = qr;
    }
  };
  __decorate$9([
    Field(),
    __metadata$9("design:type", ResourceInput)
  ], CapabilityInput.prototype, "with", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", Array)
  ], CapabilityInput.prototype, "can", void 0);
  CapabilityInput = __decorate$9([
    InputType(),
    __metadata$9("design:paramtypes", [ResourceInput, Array])
  ], CapabilityInput);
  let AuthInfoInput = class {
    constructor(kr, qr, ai, gi, $i, xi) {
      this.appName = kr, this.appDesc = qr, this.appUrl = gi, this.appDomain = ai, this.capabilities = xi, this.appIconPath = $i;
    }
  };
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], AuthInfoInput.prototype, "appName", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], AuthInfoInput.prototype, "appDesc", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], AuthInfoInput.prototype, "appDomain", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], AuthInfoInput.prototype, "appUrl", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", String)
  ], AuthInfoInput.prototype, "appIconPath", void 0);
  __decorate$9([
    Field(),
    __metadata$9("design:type", Array)
  ], AuthInfoInput.prototype, "capabilities", void 0);
  AuthInfoInput = __decorate$9([
    InputType(),
    __metadata$9("design:paramtypes", [String, String, String, String, String, Array])
  ], AuthInfoInput);
  var __decorate$8 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata$8 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  };
  let AgentStatus = class {
    constructor(kr) {
      kr ? (this.isInitialized = kr.isInitialized, this.isInitialized || (this.isInitialized = !1), this.isUnlocked = kr.isUnlocked, this.isUnlocked || (this.isUnlocked = !1), this.did = kr.did, this.didDocument = kr.didDocument, this.error = kr.error) : (this.isInitialized = !1, this.isUnlocked = !1);
    }
  };
  __decorate$8([
    Field(),
    __metadata$8("design:type", Boolean)
  ], AgentStatus.prototype, "isInitialized", void 0);
  __decorate$8([
    Field(),
    __metadata$8("design:type", Boolean)
  ], AgentStatus.prototype, "isUnlocked", void 0);
  __decorate$8([
    Field(),
    __metadata$8("design:type", String)
  ], AgentStatus.prototype, "did", void 0);
  __decorate$8([
    Field(),
    __metadata$8("design:type", String)
  ], AgentStatus.prototype, "didDocument", void 0);
  __decorate$8([
    Field(),
    __metadata$8("design:type", String)
  ], AgentStatus.prototype, "error", void 0);
  AgentStatus = __decorate$8([
    ObjectType(),
    __metadata$8("design:paramtypes", [Object])
  ], AgentStatus);
  var __decorate$7 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata$7 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  };
  let LinkQuery = class {
    constructor(kr) {
      kr && (this.source = kr.source, this.predicate = kr.predicate, this.target = kr.target, kr.fromDate && (this.fromDate = kr.fromDate), kr.untilDate && (this.untilDate = kr.untilDate), kr.limit && (this.limit = kr.limit));
    }
    isMatch(kr) {
      return !(this.source && this.source !== kr.source || this.predicate && this.predicate !== kr.predicate || this.target && this.target !== kr.target);
    }
  };
  __decorate$7([
    Field(),
    __metadata$7("design:type", String)
  ], LinkQuery.prototype, "source", void 0);
  __decorate$7([
    Field(),
    __metadata$7("design:type", String)
  ], LinkQuery.prototype, "target", void 0);
  __decorate$7([
    Field(),
    __metadata$7("design:type", String)
  ], LinkQuery.prototype, "predicate", void 0);
  __decorate$7([
    Field(),
    __metadata$7("design:type", Date)
  ], LinkQuery.prototype, "fromDate", void 0);
  __decorate$7([
    Field(),
    __metadata$7("design:type", Date)
  ], LinkQuery.prototype, "untilDate", void 0);
  __decorate$7([
    Field(),
    __metadata$7("design:type", Number)
  ], LinkQuery.prototype, "limit", void 0);
  LinkQuery = __decorate$7([
    ObjectType(),
    InputType(),
    __metadata$7("design:paramtypes", [Object])
  ], LinkQuery);
  var __classPrivateFieldSet$b = function(Kr, kr, qr, ai, gi) {
    if (ai === "m")
      throw new TypeError("Private method is not writable");
    if (ai === "a" && !gi)
      throw new TypeError("Private accessor was defined without a setter");
    if (typeof kr == "function" ? Kr !== kr || !gi : !kr.has(Kr))
      throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return ai === "a" ? gi.call(Kr, qr) : gi ? gi.value = qr : kr.set(Kr, qr), qr;
  }, __classPrivateFieldGet$b = function(Kr, kr, qr, ai) {
    if (qr === "a" && !ai)
      throw new TypeError("Private accessor was defined without a getter");
    if (typeof kr == "function" ? Kr !== kr || !ai : !kr.has(Kr))
      throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return qr === "m" ? ai : qr === "a" ? ai.call(Kr) : ai ? ai.value : kr.get(Kr);
  }, _Literal_literal, _Literal_url;
  function encodeRFC3986URIComponent(Kr) {
    return encodeURIComponent(Kr).replace(/[!'()*]/g, (kr) => `%${kr.charCodeAt(0).toString(16).toUpperCase()}`);
  }
  class Literal {
    constructor() {
      _Literal_literal.set(this, void 0), _Literal_url.set(this, void 0);
    }
    static fromUrl(kr) {
      if (!kr || !kr.startsWith("literal://"))
        throw new Error("Can't create Literal from non-literal URL");
      const qr = new Literal();
      return __classPrivateFieldSet$b(qr, _Literal_url, kr, "f"), qr;
    }
    static from(kr) {
      const qr = new Literal();
      return __classPrivateFieldSet$b(qr, _Literal_literal, kr, "f"), qr;
    }
    toUrl() {
      if (__classPrivateFieldGet$b(this, _Literal_url, "f") && !__classPrivateFieldGet$b(this, _Literal_literal, "f"))
        return __classPrivateFieldGet$b(this, _Literal_url, "f");
      if (!__classPrivateFieldGet$b(this, _Literal_url, "f") && !__classPrivateFieldGet$b(this, _Literal_literal, "f"))
        throw new Error("Can't turn empty Literal into URL");
      let kr;
      switch (typeof __classPrivateFieldGet$b(this, _Literal_literal, "f")) {
        case "string":
          kr = `string:${encodeRFC3986URIComponent(__classPrivateFieldGet$b(this, _Literal_literal, "f"))}`;
          break;
        case "number":
          kr = `number:${encodeRFC3986URIComponent(__classPrivateFieldGet$b(this, _Literal_literal, "f"))}`;
          break;
        case "object":
          kr = `json:${encodeRFC3986URIComponent(JSON.stringify(__classPrivateFieldGet$b(this, _Literal_literal, "f")))}`;
          break;
      }
      return `literal://${kr}`;
    }
    get() {
      if (__classPrivateFieldGet$b(this, _Literal_literal, "f"))
        return __classPrivateFieldGet$b(this, _Literal_literal, "f");
      if (!__classPrivateFieldGet$b(this, _Literal_url, "f"))
        throw new Error("Can't render empty Literal");
      if (!__classPrivateFieldGet$b(this, _Literal_url, "f").startsWith("literal://"))
        throw new Error("Can't render Literal from non-literal URL");
      const kr = __classPrivateFieldGet$b(this, _Literal_url, "f").substring(10);
      if (kr.startsWith("string:"))
        return decodeURIComponent(kr.substring(7));
      if (kr.startsWith("number:")) {
        const qr = kr.substring(7);
        return parseFloat(qr);
      }
      if (kr.startsWith("json:")) {
        const qr = kr.substring(5);
        return JSON.parse(decodeURIComponent(qr));
      }
      throw new Error(`Can't parse unknown literal: ${kr}`);
    }
  }
  _Literal_literal = /* @__PURE__ */ new WeakMap(), _Literal_url = /* @__PURE__ */ new WeakMap();
  function capitalize$2(Kr) {
    return Kr.charAt(0).toUpperCase() + Kr.slice(1);
  }
  function propertyNameToSetterName$1(Kr) {
    return `set${capitalize$2(Kr)}`;
  }
  function singularToPlural(Kr) {
    return Kr.endsWith("y") ? Kr.slice(0, -1) + "ies" : Kr + "s";
  }
  function pluralToSingular(Kr) {
    return Kr.endsWith("ies") ? Kr.slice(0, -3) + "y" : Kr.endsWith("s") ? Kr.slice(0, -1) : Kr;
  }
  function collectionToAdderName$1(Kr) {
    return `add${capitalize$2(pluralToSingular(Kr))}`;
  }
  function collectionToSetterName$1(Kr) {
    return `setCollection${capitalize$2(pluralToSingular(Kr))}`;
  }
  function stringifyObjectLiteral(Kr) {
    if (Array.isArray(Kr))
      return `[${Kr.map(stringifyObjectLiteral).join(", ")}]`;
    const kr = Object.keys(Kr), qr = [];
    for (const ai of kr) {
      const gi = JSON.stringify(Kr[ai]), $i = `${ai}: ${gi}`;
      qr.push($i);
    }
    return `{${qr.join(", ")}}`;
  }
  var __classPrivateFieldSet$a = function(Kr, kr, qr, ai, gi) {
    if (ai === "m")
      throw new TypeError("Private method is not writable");
    if (ai === "a" && !gi)
      throw new TypeError("Private accessor was defined without a setter");
    if (typeof kr == "function" ? Kr !== kr || !gi : !kr.has(Kr))
      throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return ai === "a" ? gi.call(Kr, qr) : gi ? gi.value = qr : kr.set(Kr, qr), qr;
  }, __classPrivateFieldGet$a = function(Kr, kr, qr, ai) {
    if (qr === "a" && !ai)
      throw new TypeError("Private accessor was defined without a getter");
    if (typeof kr == "function" ? Kr !== kr || !ai : !kr.has(Kr))
      throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return qr === "m" ? ai : qr === "a" ? ai.call(Kr) : ai ? ai.value : kr.get(Kr);
  }, _Subject_baseExpression, _Subject_subjectClass, _Subject_perspective;
  class Subject {
    constructor(Kr, kr, qr) {
      _Subject_baseExpression.set(this, void 0), _Subject_subjectClass.set(this, void 0), _Subject_perspective.set(this, void 0), __classPrivateFieldSet$a(this, _Subject_baseExpression, kr, "f"), __classPrivateFieldSet$a(this, _Subject_subjectClass, qr, "f"), __classPrivateFieldSet$a(this, _Subject_perspective, Kr, "f");
    }
    get baseExpression() {
      return __classPrivateFieldGet$a(this, _Subject_baseExpression, "f");
    }
    async init() {
      let isInstance = await __classPrivateFieldGet$a(this, _Subject_perspective, "f").isSubjectInstance(__classPrivateFieldGet$a(this, _Subject_baseExpression, "f"), __classPrivateFieldGet$a(this, _Subject_subjectClass, "f"));
      if (!isInstance)
        throw `Not a valid subject instance of ${__classPrivateFieldGet$a(this, _Subject_subjectClass, "f")} for ${__classPrivateFieldGet$a(this, _Subject_baseExpression, "f")}`;
      let results = await __classPrivateFieldGet$a(this, _Subject_perspective, "f").infer(`subject_class("${__classPrivateFieldGet$a(this, _Subject_subjectClass, "f")}", C), property(C, Property)`), properties = results.map((Kr) => Kr.Property);
      for (let Kr of properties) {
        const kr = await __classPrivateFieldGet$a(this, _Subject_perspective, "f").infer(`subject_class("${__classPrivateFieldGet$a(this, _Subject_subjectClass, "f")}", C), property_resolve(C, "${Kr}")`);
        Object.defineProperty(this, Kr, {
          configurable: !0,
          get: async () => {
            let qr = await __classPrivateFieldGet$a(this, _Subject_perspective, "f").infer(`subject_class("${__classPrivateFieldGet$a(this, _Subject_subjectClass, "f")}", C), property_getter(C, "${__classPrivateFieldGet$a(this, _Subject_baseExpression, "f")}", "${Kr}", Value)`);
            if (qr && qr.length > 0) {
              let ai = qr[0].Value;
              if (kr) {
                const gi = await __classPrivateFieldGet$a(this, _Subject_perspective, "f").getExpression(ai);
                try {
                  return JSON.parse(gi.data);
                } catch {
                  return gi.data;
                }
              } else
                return ai;
            } else
              return qr || void 0;
          }
        });
      }
      const setters = await __classPrivateFieldGet$a(this, _Subject_perspective, "f").infer(`subject_class("${__classPrivateFieldGet$a(this, _Subject_subjectClass, "f")}", C), property_setter(C, Property, Setter)`);
      for (let setter of setters || [])
        if (setter) {
          const property = setter.Property, actions = eval(setter.Setter), resolveLanguageResults = await __classPrivateFieldGet$a(this, _Subject_perspective, "f").infer(`subject_class("${__classPrivateFieldGet$a(this, _Subject_subjectClass, "f")}", C), property_resolve_language(C, "${property}", Language)`);
          let resolveLanguage;
          resolveLanguageResults && resolveLanguageResults.length > 0 && (resolveLanguage = resolveLanguageResults[0].Language), this[propertyNameToSetterName$1(property)] = async (Kr) => {
            resolveLanguage && (Kr = await __classPrivateFieldGet$a(this, _Subject_perspective, "f").createExpression(Kr, resolveLanguage)), await __classPrivateFieldGet$a(this, _Subject_perspective, "f").executeAction(actions, __classPrivateFieldGet$a(this, _Subject_baseExpression, "f"), [{ name: "value", value: Kr }]);
          };
        }
      const flattenPrologList = (Kr) => {
        let kr = [];
        for (; Kr && Kr.head; )
          kr.push(Kr.head), Kr = Kr.tail;
        return kr;
      };
      let results2 = await __classPrivateFieldGet$a(this, _Subject_perspective, "f").infer(`subject_class("${__classPrivateFieldGet$a(this, _Subject_subjectClass, "f")}", C), collection(C, Collection)`);
      results2 || (results2 = []);
      let collections = results2.map((Kr) => Kr.Collection);
      for (let c of collections)
        Object.defineProperty(this, c, {
          configurable: !0,
          get: async () => {
            let results = await __classPrivateFieldGet$a(this, _Subject_perspective, "f").infer(`subject_class("${__classPrivateFieldGet$a(this, _Subject_subjectClass, "f")}", C), collection_getter(C, "${__classPrivateFieldGet$a(this, _Subject_baseExpression, "f")}", "${c}", Value)`);
            return results && results.length > 0 && results[0].Value ? flattenPrologList(eval(results[0].Value)) : [];
          }
        });
      let adders = await __classPrivateFieldGet$a(this, _Subject_perspective, "f").infer(`subject_class("${__classPrivateFieldGet$a(this, _Subject_subjectClass, "f")}", C), collection_adder(C, Collection, Adder)`);
      adders || (adders = []);
      for (let adder of adders)
        if (adder) {
          const collection = adder.Collection, actions = eval(adder.Adder);
          this[collectionToAdderName$1(collection)] = async (Kr) => {
            Array.isArray(Kr) ? await Promise.all(Kr.map((kr) => __classPrivateFieldGet$a(this, _Subject_perspective, "f").executeAction(actions, __classPrivateFieldGet$a(this, _Subject_baseExpression, "f"), [{ name: "value", value: kr }]))) : await __classPrivateFieldGet$a(this, _Subject_perspective, "f").executeAction(actions, __classPrivateFieldGet$a(this, _Subject_baseExpression, "f"), [{ name: "value", value: Kr }]);
          };
        }
      let collectionSetters = await __classPrivateFieldGet$a(this, _Subject_perspective, "f").infer(`subject_class("${__classPrivateFieldGet$a(this, _Subject_subjectClass, "f")}", C), collection_setter(C, Collection, Setter)`);
      collectionSetters || (collectionSetters = []);
      for (let collectionSetter of collectionSetters)
        if (collectionSetter) {
          const collection = collectionSetter.Collection, actions = eval(collectionSetter.Setter);
          this[collectionToSetterName$1(collection)] = async (Kr) => {
            Array.isArray(Kr) ? await __classPrivateFieldGet$a(this, _Subject_perspective, "f").executeAction(actions, __classPrivateFieldGet$a(this, _Subject_baseExpression, "f"), Kr.map((kr) => ({ name: "value", value: kr }))) : await __classPrivateFieldGet$a(this, _Subject_perspective, "f").executeAction(actions, __classPrivateFieldGet$a(this, _Subject_baseExpression, "f"), [{ name: "value", value: Kr }]);
          };
        }
    }
  }
  _Subject_baseExpression = /* @__PURE__ */ new WeakMap(), _Subject_subjectClass = /* @__PURE__ */ new WeakMap(), _Subject_perspective = /* @__PURE__ */ new WeakMap();
  var ExceptionType;
  (function(Kr) {
    Kr[Kr.LanguageIsNotLoaded = 0] = "LanguageIsNotLoaded", Kr[Kr.ExpressionIsNotVerified = 1] = "ExpressionIsNotVerified", Kr[Kr.AgentIsUntrusted = 2] = "AgentIsUntrusted", Kr[Kr.CapabilityRequested = 3] = "CapabilityRequested";
  })(ExceptionType || (ExceptionType = {}));
  var __decorate$6 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata$6 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  };
  let ExpressionRef = class {
    constructor(kr, qr) {
      this.language = kr, this.expression = qr;
    }
  };
  __decorate$6([
    Field(),
    __metadata$6("design:type", LanguageRef)
  ], ExpressionRef.prototype, "language", void 0);
  __decorate$6([
    Field(),
    __metadata$6("design:type", String)
  ], ExpressionRef.prototype, "expression", void 0);
  ExpressionRef = __decorate$6([
    ObjectType(),
    __metadata$6("design:paramtypes", [LanguageRef, String])
  ], ExpressionRef);
  var __decorate$5 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata$5 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  };
  let InteractionParameter = class {
  };
  __decorate$5([
    Field(),
    __metadata$5("design:type", String)
  ], InteractionParameter.prototype, "name", void 0);
  __decorate$5([
    Field(),
    __metadata$5("design:type", String)
  ], InteractionParameter.prototype, "type", void 0);
  InteractionParameter = __decorate$5([
    ObjectType()
  ], InteractionParameter);
  let InteractionMeta = class {
  };
  __decorate$5([
    Field(),
    __metadata$5("design:type", String)
  ], InteractionMeta.prototype, "label", void 0);
  __decorate$5([
    Field(),
    __metadata$5("design:type", String)
  ], InteractionMeta.prototype, "name", void 0);
  __decorate$5([
    Field(),
    __metadata$5("design:type", Array)
  ], InteractionMeta.prototype, "parameters", void 0);
  InteractionMeta = __decorate$5([
    ObjectType()
  ], InteractionMeta);
  let InteractionCall = class {
    get parameters() {
      return JSON.parse(this.parametersStringified);
    }
    constructor(kr, qr) {
      this.name = kr, this.parametersStringified = JSON.stringify(qr);
    }
  };
  __decorate$5([
    Field(),
    __metadata$5("design:type", String)
  ], InteractionCall.prototype, "name", void 0);
  __decorate$5([
    Field(),
    __metadata$5("design:type", String)
  ], InteractionCall.prototype, "parametersStringified", void 0);
  InteractionCall = __decorate$5([
    InputType(),
    __metadata$5("design:paramtypes", [String, Object])
  ], InteractionCall);
  let OnlineAgent = class {
  };
  __decorate$5([
    Field(),
    __metadata$5("design:type", String)
  ], OnlineAgent.prototype, "did", void 0);
  __decorate$5([
    Field(),
    __metadata$5("design:type", PerspectiveExpression)
  ], OnlineAgent.prototype, "status", void 0);
  OnlineAgent = __decorate$5([
    ObjectType()
  ], OnlineAgent);
  var __decorate$4 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata$4 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  };
  let LanguageHandle = class {
  };
  __decorate$4([
    Field(),
    __metadata$4("design:type", String)
  ], LanguageHandle.prototype, "name", void 0);
  __decorate$4([
    Field(),
    __metadata$4("design:type", String)
  ], LanguageHandle.prototype, "address", void 0);
  __decorate$4([
    Field(),
    __metadata$4("design:type", String)
  ], LanguageHandle.prototype, "settings", void 0);
  __decorate$4([
    Field(),
    __metadata$4("design:type", Icon)
  ], LanguageHandle.prototype, "icon", void 0);
  __decorate$4([
    Field(),
    __metadata$4("design:type", Icon)
  ], LanguageHandle.prototype, "constructorIcon", void 0);
  __decorate$4([
    Field(),
    __metadata$4("design:type", Icon)
  ], LanguageHandle.prototype, "settingsIcon", void 0);
  LanguageHandle = __decorate$4([
    ObjectType()
  ], LanguageHandle);
  var __decorate$3 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata$3 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  };
  let LanguageMeta = class {
  };
  __decorate$3([
    Field(),
    __metadata$3("design:type", String)
  ], LanguageMeta.prototype, "name", void 0);
  __decorate$3([
    Field(),
    __metadata$3("design:type", String)
  ], LanguageMeta.prototype, "address", void 0);
  __decorate$3([
    Field(),
    __metadata$3("design:type", String)
  ], LanguageMeta.prototype, "description", void 0);
  __decorate$3([
    Field(),
    __metadata$3("design:type", String)
  ], LanguageMeta.prototype, "author", void 0);
  __decorate$3([
    Field(),
    __metadata$3("design:type", Boolean)
  ], LanguageMeta.prototype, "templated", void 0);
  __decorate$3([
    Field(),
    __metadata$3("design:type", String)
  ], LanguageMeta.prototype, "templateSourceLanguageAddress", void 0);
  __decorate$3([
    Field(),
    __metadata$3("design:type", String)
  ], LanguageMeta.prototype, "templateAppliedParams", void 0);
  __decorate$3([
    Field(),
    __metadata$3("design:type", Array)
  ], LanguageMeta.prototype, "possibleTemplateParams", void 0);
  __decorate$3([
    Field(),
    __metadata$3("design:type", String)
  ], LanguageMeta.prototype, "sourceCodeLink", void 0);
  LanguageMeta = __decorate$3([
    ObjectType()
  ], LanguageMeta);
  let LanguageMetaInput = class {
    constructor(kr, qr) {
      this.name = kr, this.description = qr, this.description || (this.description = "");
    }
  };
  __decorate$3([
    Field(),
    __metadata$3("design:type", String)
  ], LanguageMetaInput.prototype, "name", void 0);
  __decorate$3([
    Field(),
    __metadata$3("design:type", String)
  ], LanguageMetaInput.prototype, "description", void 0);
  __decorate$3([
    Field(),
    __metadata$3("design:type", Array)
  ], LanguageMetaInput.prototype, "possibleTemplateParams", void 0);
  __decorate$3([
    Field(),
    __metadata$3("design:type", String)
  ], LanguageMetaInput.prototype, "sourceCodeLink", void 0);
  LanguageMetaInput = __decorate$3([
    InputType(),
    __metadata$3("design:paramtypes", [String, String])
  ], LanguageMetaInput);
  class LanguageExpression extends ExpressionGeneric() {
  }
  var __decorate$2 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata$2 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  };
  let Neighbourhood = class {
    constructor(kr, qr) {
      this.linkLanguage = kr, this.meta = qr;
    }
  };
  __decorate$2([
    Field(),
    __metadata$2("design:type", String)
  ], Neighbourhood.prototype, "linkLanguage", void 0);
  __decorate$2([
    Field(),
    __metadata$2("design:type", Perspective)
  ], Neighbourhood.prototype, "meta", void 0);
  Neighbourhood = __decorate$2([
    ObjectType(),
    __metadata$2("design:paramtypes", [String, Perspective])
  ], Neighbourhood);
  let NeighbourhoodExpression = class extends ExpressionGeneric() {
  };
  NeighbourhoodExpression = __decorate$2([
    ObjectType()
  ], NeighbourhoodExpression);
  var __decorate$1 = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata$1 = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  }, PerspectiveState;
  (function(Kr) {
    Kr.Private = "Private", Kr.NeighbourhoodJoinInitiated = "NeighbourhoodJoinInitiated", Kr.LinkLanguageFailedToInstall = "LinkLanguageFailedToInstall", Kr.LinkLanguageInstalledButNotSynced = "LinkLanguageInstalledButNotSynced", Kr.Synced = "Synced";
  })(PerspectiveState || (PerspectiveState = {}));
  let PerspectiveHandle = class {
    constructor(kr, qr, ai) {
      this.uuid = kr, this.name = qr, ai ? this.state = ai : this.state = PerspectiveState.Private;
    }
  };
  __decorate$1([
    Field(),
    __metadata$1("design:type", String)
  ], PerspectiveHandle.prototype, "uuid", void 0);
  __decorate$1([
    Field(),
    __metadata$1("design:type", String)
  ], PerspectiveHandle.prototype, "name", void 0);
  __decorate$1([
    Field(),
    __metadata$1("design:type", String)
  ], PerspectiveHandle.prototype, "state", void 0);
  __decorate$1([
    Field(),
    __metadata$1("design:type", String)
  ], PerspectiveHandle.prototype, "sharedUrl", void 0);
  __decorate$1([
    Field(),
    __metadata$1("design:type", Neighbourhood)
  ], PerspectiveHandle.prototype, "neighbourhood", void 0);
  PerspectiveHandle = __decorate$1([
    ObjectType(),
    __metadata$1("design:paramtypes", [String, String, String])
  ], PerspectiveHandle);
  var __decorate = function(Kr, kr, qr, ai) {
    var gi = arguments.length, $i = gi < 3 ? kr : ai === null ? ai = Object.getOwnPropertyDescriptor(kr, qr) : ai, xi;
    if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
      $i = Reflect.decorate(Kr, kr, qr, ai);
    else
      for (var Ai = Kr.length - 1; Ai >= 0; Ai--)
        (xi = Kr[Ai]) && ($i = (gi < 3 ? xi($i) : gi > 3 ? xi(kr, qr, $i) : xi(kr, qr)) || $i);
    return gi > 3 && $i && Object.defineProperty(kr, qr, $i), $i;
  }, __metadata = function(Kr, kr) {
    if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
      return Reflect.metadata(Kr, kr);
  };
  let PerspectiveDiff = class {
  };
  __decorate([
    Field(),
    __metadata("design:type", Array)
  ], PerspectiveDiff.prototype, "additions", void 0);
  __decorate([
    Field(),
    __metadata("design:type", Array)
  ], PerspectiveDiff.prototype, "removals", void 0);
  PerspectiveDiff = __decorate([
    ObjectType()
  ], PerspectiveDiff);
  let PerspectiveDiffExpression = class extends ExpressionGeneric() {
  };
  PerspectiveDiffExpression = __decorate([
    ObjectType()
  ], PerspectiveDiffExpression);
  function subjectProperty(Kr) {
    return function(kr, qr) {
      if (kr.__properties = kr.__properties || {}, kr.__properties[qr] = kr.__properties[qr] || {}, kr.__properties[qr] = { ...kr.__properties[qr], ...Kr }, Kr.writable) {
        const ai = qr;
        kr[`set${capitalize$2(ai)}`] = () => {
        };
      }
      Object.defineProperty(kr, qr, {});
    };
  }
  function subjectFlag(Kr) {
    return function(kr, qr) {
      kr.__properties = kr.__properties || {}, kr.__properties[qr] = kr.__properties[qr] || {}, kr.__properties[qr] = {
        ...kr.__properties[qr],
        through: Kr.through,
        required: !0,
        initial: Kr.value,
        flag: !0
      }, kr[qr] = Kr.value, Object.defineProperty(kr, qr, { configurable: !0 });
    };
  }
  function subjectCollection(Kr) {
    return function(kr, qr) {
      kr.__collections = kr.__collections || {}, kr.__collections[qr] = Kr;
      const ai = qr;
      kr[`add${capitalize$2(ai)}`] = () => {
      }, kr[`setCollection${capitalize$2(ai)}`] = () => {
      }, Object.defineProperty(kr, qr, { configurable: !0 });
    };
  }
  function makeRandomPrologAtom(Kr) {
    let kr = "", qr = "abcdefghijklmnopqrstuvwxyz", ai = qr.length;
    for (let gi = 0; gi < Kr; gi++)
      kr += qr.charAt(Math.floor(Math.random() * ai));
    return kr;
  }
  function SDNAClass(Kr) {
    return function(kr) {
      kr.prototype.className = Kr.name, kr.className = Kr.name, kr.generateSDNA = function() {
        let qr = "", ai = Kr.name, gi = kr.prototype, $i = makeRandomPrologAtom(8);
        qr += `subject_class("${ai}", ${$i}).
`;
        let xi = [];
        gi.subjectConstructor && gi.subjectConstructor.length && (xi = xi.concat(gi.subjectConstructor));
        let Ai = [];
        gi.isSubjectInstance && gi.isSubjectInstance.length && (Ai = Ai.concat(gi.isSubjectInstance));
        let Li = [], Fi = gi.__properties || {};
        for (let Kc in Fi) {
          let Bc = `property(${$i}, "${Kc}").
`, { through: Wc, initial: Vc, required: qc, resolveLanguage: Qc, writable: zc, flag: Yc, getter: Xc, setter: Hc, local: eu = !1 } = Fi[Kc];
          Qc && (Bc += `property_resolve(${$i}, "${Kc}").
`, Bc += `property_resolve_language(${$i}, "${Kc}", "${Qc}").
`), Xc ? Bc += `property_getter(${$i}, Base, "${Kc}", Value) :- ${Xc}.
` : Wc && (Bc += `property_getter(${$i}, Base, "${Kc}", Value) :- triple(Base, "${Wc}", Value).
`, qc && (Yc ? Ai.push(`triple(Base, "${Wc}", "${Vc}")`) : Ai.push(`triple(Base, "${Wc}", _)`))), Hc ? Bc += `property_setter(${$i}, "${Kc}", Actions) :- ${Hc}.
` : zc && typeof gi[propertyNameToSetterName$1(Kc)] == "function" && (Bc += `property_setter(${$i}, "${Kc}", '${stringifyObjectLiteral([{
            action: "setSingleTarget",
            source: "this",
            predicate: Wc,
            target: "value",
            local: eu
          }])}').
`), Li.push(Bc), Vc && xi.push({
            action: "addLink",
            source: "this",
            predicate: Wc,
            target: Vc
          });
        }
        let Oa = [], So = gi.__collections || {};
        for (let Kc in So) {
          let Bc = `collection(${$i}, "${Kc}").
`, { through: Wc, where: Vc, local: qc = !1 } = So[Kc];
          if (Wc) {
            if (Vc) {
              if (!Vc.isInstance && !Vc.condition)
                throw "'where' needs one of 'isInstance' or 'condition'";
              let Yc = [];
              if (Vc.isInstance) {
                let Hc;
                Vc.isInstance.name ? Hc = Vc.isInstance.name : Hc = Vc.isInstance, Yc.push(`instance(OtherClass, Target), subject_class("${Hc}", OtherClass)`);
              }
              Vc.condition && Yc.push(Vc.condition);
              const Xc = Yc.join(", ");
              Bc += `collection_getter(${$i}, Base, "${Kc}", List) :- setof(Target, (triple(Base, "${Wc}", Target), ${Xc}), List).
`;
            } else
              Bc += `collection_getter(${$i}, Base, "${Kc}", List) :- findall(C, triple(Base, "${Wc}", C), List).
`;
            let Qc = [{
              action: "addLink",
              source: "this",
              predicate: Wc,
              target: "value",
              local: qc
            }], zc = [{
              action: "collectionSetter",
              source: "this",
              predicate: Wc,
              target: "value",
              local: qc
            }];
            Bc += `collection_adder(${$i}, "${singularToPlural(Kc)}", '${stringifyObjectLiteral(Qc)}').
`, Bc += `collection_setter(${$i}, "${singularToPlural(Kc)}", '${stringifyObjectLiteral(zc)}').
`;
          }
          Oa.push(Bc);
        }
        let Ns = stringifyObjectLiteral(xi);
        qr += `constructor(${$i}, '${Ns}').
`;
        let Uc = Ai.join(", ");
        return qr += `instance(${$i}, Base) :- ${Uc}.
`, qr += `
`, qr += Li.join(`
`), qr += `
`, qr += Oa.join(`
`), qr;
      }, Object.defineProperty(kr, "type", { configurable: !0 });
    };
  }
  const e = typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : typeof window < "u" ? window : global, t = Object.keys, n = Array.isArray;
  function r(Kr, kr) {
    return typeof kr != "object" || t(kr).forEach(function(qr) {
      Kr[qr] = kr[qr];
    }), Kr;
  }
  typeof Promise > "u" || e.Promise || (e.Promise = Promise);
  const s = Object.getPrototypeOf, i = {}.hasOwnProperty;
  function o(Kr, kr) {
    return i.call(Kr, kr);
  }
  function a(Kr, kr) {
    typeof kr == "function" && (kr = kr(s(Kr))), (typeof Reflect > "u" ? t : Reflect.ownKeys)(kr).forEach((qr) => {
      l(Kr, qr, kr[qr]);
    });
  }
  const u = Object.defineProperty;
  function l(Kr, kr, qr, ai) {
    u(Kr, kr, r(qr && o(qr, "get") && typeof qr.get == "function" ? { get: qr.get, set: qr.set, configurable: !0 } : { value: qr, configurable: !0, writable: !0 }, ai));
  }
  function c(Kr) {
    return { from: function(kr) {
      return Kr.prototype = Object.create(kr.prototype), l(Kr.prototype, "constructor", Kr), { extend: a.bind(null, Kr.prototype) };
    } };
  }
  const h = Object.getOwnPropertyDescriptor;
  function d(Kr, kr) {
    let qr;
    return h(Kr, kr) || (qr = s(Kr)) && d(qr, kr);
  }
  const f = [].slice;
  function p(Kr, kr, qr) {
    return f.call(Kr, kr, qr);
  }
  function y(Kr, kr) {
    return kr(Kr);
  }
  function m(Kr) {
    if (!Kr)
      throw new Error("Assertion Failed");
  }
  function v(Kr) {
    e.setImmediate ? setImmediate(Kr) : setTimeout(Kr, 0);
  }
  function g(Kr, kr) {
    return Kr.reduce((qr, ai, gi) => {
      var $i = kr(ai, gi);
      return $i && (qr[$i[0]] = $i[1]), qr;
    }, {});
  }
  function b(Kr, kr) {
    if (o(Kr, kr))
      return Kr[kr];
    if (!kr)
      return Kr;
    if (typeof kr != "string") {
      for (var qr = [], ai = 0, gi = kr.length; ai < gi; ++ai) {
        var $i = b(Kr, kr[ai]);
        qr.push($i);
      }
      return qr;
    }
    var xi = kr.indexOf(".");
    if (xi !== -1) {
      var Ai = Kr[kr.substr(0, xi)];
      return Ai === void 0 ? void 0 : b(Ai, kr.substr(xi + 1));
    }
  }
  function _(Kr, kr, qr) {
    if (Kr && kr !== void 0 && (!("isFrozen" in Object) || !Object.isFrozen(Kr)))
      if (typeof kr != "string" && "length" in kr) {
        m(typeof qr != "string" && "length" in qr);
        for (var ai = 0, gi = kr.length; ai < gi; ++ai)
          _(Kr, kr[ai], qr[ai]);
      } else {
        var $i = kr.indexOf(".");
        if ($i !== -1) {
          var xi = kr.substr(0, $i), Ai = kr.substr($i + 1);
          if (Ai === "")
            qr === void 0 ? n(Kr) && !isNaN(parseInt(xi)) ? Kr.splice(xi, 1) : delete Kr[xi] : Kr[xi] = qr;
          else {
            var Li = Kr[xi];
            Li && o(Kr, xi) || (Li = Kr[xi] = {}), _(Li, Ai, qr);
          }
        } else
          qr === void 0 ? n(Kr) && !isNaN(parseInt(kr)) ? Kr.splice(kr, 1) : delete Kr[kr] : Kr[kr] = qr;
      }
  }
  function w(Kr) {
    var kr = {};
    for (var qr in Kr)
      o(Kr, qr) && (kr[qr] = Kr[qr]);
    return kr;
  }
  const x = [].concat;
  function k(Kr) {
    return x.apply([], Kr);
  }
  const E = "Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(k([8, 16, 32, 64].map((Kr) => ["Int", "Uint", "Float"].map((kr) => kr + Kr + "Array")))).filter((Kr) => e[Kr]), P = E.map((Kr) => e[Kr]);
  g(E, (Kr) => [Kr, !0]);
  let K = null;
  function O(Kr) {
    K = typeof WeakMap < "u" && /* @__PURE__ */ new WeakMap();
    const kr = S(Kr);
    return K = null, kr;
  }
  function S(Kr) {
    if (!Kr || typeof Kr != "object")
      return Kr;
    let kr = K && K.get(Kr);
    if (kr)
      return kr;
    if (n(Kr)) {
      kr = [], K && K.set(Kr, kr);
      for (var qr = 0, ai = Kr.length; qr < ai; ++qr)
        kr.push(S(Kr[qr]));
    } else if (P.indexOf(Kr.constructor) >= 0)
      kr = Kr;
    else {
      const $i = s(Kr);
      for (var gi in kr = $i === Object.prototype ? {} : Object.create($i), K && K.set(Kr, kr), Kr)
        o(Kr, gi) && (kr[gi] = S(Kr[gi]));
    }
    return kr;
  }
  const { toString: A } = {};
  function C(Kr) {
    return A.call(Kr).slice(8, -1);
  }
  const j = typeof Symbol < "u" ? Symbol.iterator : "@@iterator", D = typeof j == "symbol" ? function(Kr) {
    var kr;
    return Kr != null && (kr = Kr[j]) && kr.apply(Kr);
  } : function() {
    return null;
  }, I = {};
  function B(Kr) {
    var kr, qr, ai, gi;
    if (arguments.length === 1) {
      if (n(Kr))
        return Kr.slice();
      if (this === I && typeof Kr == "string")
        return [Kr];
      if (gi = D(Kr)) {
        for (qr = []; !(ai = gi.next()).done; )
          qr.push(ai.value);
        return qr;
      }
      if (Kr == null)
        return [Kr];
      if (typeof (kr = Kr.length) == "number") {
        for (qr = new Array(kr); kr--; )
          qr[kr] = Kr[kr];
        return qr;
      }
      return [Kr];
    }
    for (kr = arguments.length, qr = new Array(kr); kr--; )
      qr[kr] = arguments[kr];
    return qr;
  }
  const T = typeof Symbol < "u" ? (Kr) => Kr[Symbol.toStringTag] === "AsyncFunction" : () => !1;
  var R = typeof location < "u" && /^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);
  function F(Kr, kr) {
    R = Kr, M = kr;
  }
  var M = () => !0;
  const N = !new Error("").stack;
  function q() {
    if (N)
      try {
        throw q.arguments, new Error();
      } catch (Kr) {
        return Kr;
      }
    return new Error();
  }
  function $(Kr, kr) {
    var qr = Kr.stack;
    return qr ? (kr = kr || 0, qr.indexOf(Kr.name) === 0 && (kr += (Kr.name + Kr.message).split(`
`).length), qr.split(`
`).slice(kr).filter(M).map((ai) => `
` + ai).join("")) : "";
  }
  var U = ["Unknown", "Constraint", "Data", "TransactionInactive", "ReadOnly", "Version", "NotFound", "InvalidState", "InvalidAccess", "Abort", "Timeout", "QuotaExceeded", "Syntax", "DataClone"], L = ["Modify", "Bulk", "OpenFailed", "VersionChange", "Schema", "Upgrade", "InvalidTable", "MissingAPI", "NoSuchDatabase", "InvalidArgument", "SubTransaction", "Unsupported", "Internal", "DatabaseClosed", "PrematureCommit", "ForeignAwait"].concat(U), V = { VersionChanged: "Database version changed by other database connection", DatabaseClosed: "Database has been closed", Abort: "Transaction aborted", TransactionInactive: "Transaction has already completed or failed", MissingAPI: "IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb" };
  function W(Kr, kr) {
    this._e = q(), this.name = Kr, this.message = kr;
  }
  function Y(Kr, kr) {
    return Kr + ". Errors: " + Object.keys(kr).map((qr) => kr[qr].toString()).filter((qr, ai, gi) => gi.indexOf(qr) === ai).join(`
`);
  }
  function z(Kr, kr, qr, ai) {
    this._e = q(), this.failures = kr, this.failedKeys = ai, this.successCount = qr, this.message = Y(Kr, kr);
  }
  function G(Kr, kr) {
    this._e = q(), this.name = "BulkError", this.failures = Object.keys(kr).map((qr) => kr[qr]), this.failuresByPos = kr, this.message = Y(Kr, kr);
  }
  c(W).from(Error).extend({ stack: { get: function() {
    return this._stack || (this._stack = this.name + ": " + this.message + $(this._e, 2));
  } }, toString: function() {
    return this.name + ": " + this.message;
  } }), c(z).from(W), c(G).from(W);
  var H = L.reduce((Kr, kr) => (Kr[kr] = kr + "Error", Kr), {});
  const Q = W;
  var X = L.reduce((Kr, kr) => {
    var qr = kr + "Error";
    function ai(gi, $i) {
      this._e = q(), this.name = qr, gi ? typeof gi == "string" ? (this.message = `${gi}${$i ? `
 ` + $i : ""}`, this.inner = $i || null) : typeof gi == "object" && (this.message = `${gi.name} ${gi.message}`, this.inner = gi) : (this.message = V[kr] || qr, this.inner = null);
    }
    return c(ai).from(Q), Kr[kr] = ai, Kr;
  }, {});
  X.Syntax = SyntaxError, X.Type = TypeError, X.Range = RangeError;
  var J = U.reduce((Kr, kr) => (Kr[kr + "Error"] = X[kr], Kr), {}), Z = L.reduce((Kr, kr) => (["Syntax", "Type", "Range"].indexOf(kr) === -1 && (Kr[kr + "Error"] = X[kr]), Kr), {});
  function ee() {
  }
  function te(Kr) {
    return Kr;
  }
  function ne(Kr, kr) {
    return Kr == null || Kr === te ? kr : function(qr) {
      return kr(Kr(qr));
    };
  }
  function re(Kr, kr) {
    return function() {
      Kr.apply(this, arguments), kr.apply(this, arguments);
    };
  }
  function se(Kr, kr) {
    return Kr === ee ? kr : function() {
      var qr = Kr.apply(this, arguments);
      qr !== void 0 && (arguments[0] = qr);
      var ai = this.onsuccess, gi = this.onerror;
      this.onsuccess = null, this.onerror = null;
      var $i = kr.apply(this, arguments);
      return ai && (this.onsuccess = this.onsuccess ? re(ai, this.onsuccess) : ai), gi && (this.onerror = this.onerror ? re(gi, this.onerror) : gi), $i !== void 0 ? $i : qr;
    };
  }
  function ie(Kr, kr) {
    return Kr === ee ? kr : function() {
      Kr.apply(this, arguments);
      var qr = this.onsuccess, ai = this.onerror;
      this.onsuccess = this.onerror = null, kr.apply(this, arguments), qr && (this.onsuccess = this.onsuccess ? re(qr, this.onsuccess) : qr), ai && (this.onerror = this.onerror ? re(ai, this.onerror) : ai);
    };
  }
  function oe(Kr, kr) {
    return Kr === ee ? kr : function(qr) {
      var ai = Kr.apply(this, arguments);
      r(qr, ai);
      var gi = this.onsuccess, $i = this.onerror;
      this.onsuccess = null, this.onerror = null;
      var xi = kr.apply(this, arguments);
      return gi && (this.onsuccess = this.onsuccess ? re(gi, this.onsuccess) : gi), $i && (this.onerror = this.onerror ? re($i, this.onerror) : $i), ai === void 0 ? xi === void 0 ? void 0 : xi : r(ai, xi);
    };
  }
  function ae(Kr, kr) {
    return Kr === ee ? kr : function() {
      return kr.apply(this, arguments) !== !1 && Kr.apply(this, arguments);
    };
  }
  function ue(Kr, kr) {
    return Kr === ee ? kr : function() {
      var qr = Kr.apply(this, arguments);
      if (qr && typeof qr.then == "function") {
        for (var ai = this, gi = arguments.length, $i = new Array(gi); gi--; )
          $i[gi] = arguments[gi];
        return qr.then(function() {
          return kr.apply(ai, $i);
        });
      }
      return kr.apply(this, arguments);
    };
  }
  Z.ModifyError = z, Z.DexieError = W, Z.BulkError = G;
  var le = {};
  const [ce, he, de] = typeof Promise > "u" ? [] : (() => {
    let Kr = Promise.resolve();
    if (typeof crypto > "u" || !crypto.subtle)
      return [Kr, s(Kr), Kr];
    const kr = crypto.subtle.digest("SHA-512", new Uint8Array([0]));
    return [kr, s(kr), Kr];
  })(), fe = he && he.then, pe = ce && ce.constructor, ye = !!de;
  var me = !1, ve = de ? () => {
    de.then(qe);
  } : e.setImmediate ? setImmediate.bind(null, qe) : e.MutationObserver ? () => {
    var Kr = document.createElement("div");
    new MutationObserver(() => {
      qe(), Kr = null;
    }).observe(Kr, { attributes: !0 }), Kr.setAttribute("i", "1");
  } : () => {
    setTimeout(qe, 0);
  }, ge = function(Kr, kr) {
    Oe.push([Kr, kr]), _e && (ve(), _e = !1);
  }, be = !0, _e = !0, we = [], xe = [], ke = null, Ee = te, Pe = { id: "global", global: !0, ref: 0, unhandleds: [], onunhandled: ct, pgp: !1, env: {}, finalize: function() {
    this.unhandleds.forEach((Kr) => {
      try {
        ct(Kr[0], Kr[1]);
      } catch {
      }
    });
  } }, Ke = Pe, Oe = [], Se = 0, Ae = [];
  function Ce(Kr) {
    if (typeof this != "object")
      throw new TypeError("Promises must be constructed via new");
    this._listeners = [], this.onuncatched = ee, this._lib = !1;
    var kr = this._PSD = Ke;
    if (R && (this._stackHolder = q(), this._prev = null, this._numPrev = 0), typeof Kr != "function") {
      if (Kr !== le)
        throw new TypeError("Not a function");
      return this._state = arguments[1], this._value = arguments[2], void (this._state === !1 && Be(this, this._value));
    }
    this._state = null, this._value = null, ++kr.ref, Ie(this, Kr);
  }
  const je = { get: function() {
    var Kr = Ke, kr = Qe;
    function qr(ai, gi) {
      var $i = !Kr.global && (Kr !== Ke || kr !== Qe);
      const xi = $i && !et();
      var Ai = new Ce((Li, Fi) => {
        Re(this, new De(ut(ai, Kr, $i, xi), ut(gi, Kr, $i, xi), Li, Fi, Kr));
      });
      return R && Ne(Ai, this), Ai;
    }
    return qr.prototype = le, qr;
  }, set: function(Kr) {
    l(this, "then", Kr && Kr.prototype === le ? je : { get: function() {
      return Kr;
    }, set: je.set });
  } };
  function De(Kr, kr, qr, ai, gi) {
    this.onFulfilled = typeof Kr == "function" ? Kr : null, this.onRejected = typeof kr == "function" ? kr : null, this.resolve = qr, this.reject = ai, this.psd = gi;
  }
  function Ie(Kr, kr) {
    try {
      kr((qr) => {
        if (Kr._state === null) {
          if (qr === Kr)
            throw new TypeError("A promise cannot be resolved with itself.");
          var ai = Kr._lib && $e();
          qr && typeof qr.then == "function" ? Ie(Kr, (gi, $i) => {
            qr instanceof Ce ? qr._then(gi, $i) : qr.then(gi, $i);
          }) : (Kr._state = !0, Kr._value = qr, Te(Kr)), ai && Ue();
        }
      }, Be.bind(null, Kr));
    } catch (qr) {
      Be(Kr, qr);
    }
  }
  function Be(Kr, kr) {
    if (xe.push(kr), Kr._state === null) {
      var qr = Kr._lib && $e();
      kr = Ee(kr), Kr._state = !1, Kr._value = kr, R && kr !== null && typeof kr == "object" && !kr._promise && function(ai, gi, $i) {
        try {
          ai.apply(null, $i);
        } catch (xi) {
          gi && gi(xi);
        }
      }(() => {
        var ai = d(kr, "stack");
        kr._promise = Kr, l(kr, "stack", { get: () => me ? ai && (ai.get ? ai.get.apply(kr) : ai.value) : Kr.stack });
      }), function(ai) {
        we.some((gi) => gi._value === ai._value) || we.push(ai);
      }(Kr), Te(Kr), qr && Ue();
    }
  }
  function Te(Kr) {
    var kr = Kr._listeners;
    Kr._listeners = [];
    for (var qr = 0, ai = kr.length; qr < ai; ++qr)
      Re(Kr, kr[qr]);
    var gi = Kr._PSD;
    --gi.ref || gi.finalize(), Se === 0 && (++Se, ge(() => {
      --Se == 0 && Le();
    }, []));
  }
  function Re(Kr, kr) {
    if (Kr._state !== null) {
      var qr = Kr._state ? kr.onFulfilled : kr.onRejected;
      if (qr === null)
        return (Kr._state ? kr.resolve : kr.reject)(Kr._value);
      ++kr.psd.ref, ++Se, ge(Fe, [qr, Kr, kr]);
    } else
      Kr._listeners.push(kr);
  }
  function Fe(Kr, kr, qr) {
    try {
      ke = kr;
      var ai, gi = kr._value;
      kr._state ? ai = Kr(gi) : (xe.length && (xe = []), ai = Kr(gi), xe.indexOf(gi) === -1 && function($i) {
        for (var xi = we.length; xi; )
          if (we[--xi]._value === $i._value)
            return void we.splice(xi, 1);
      }(kr)), qr.resolve(ai);
    } catch ($i) {
      qr.reject($i);
    } finally {
      ke = null, --Se == 0 && Le(), --qr.psd.ref || qr.psd.finalize();
    }
  }
  function Me(Kr, kr, qr) {
    if (kr.length === qr)
      return kr;
    var ai = "";
    if (Kr._state === !1) {
      var gi, $i, xi = Kr._value;
      xi != null ? (gi = xi.name || "Error", $i = xi.message || xi, ai = $(xi, 0)) : (gi = xi, $i = ""), kr.push(gi + ($i ? ": " + $i : "") + ai);
    }
    return R && ((ai = $(Kr._stackHolder, 2)) && kr.indexOf(ai) === -1 && kr.push(ai), Kr._prev && Me(Kr._prev, kr, qr)), kr;
  }
  function Ne(Kr, kr) {
    var qr = kr ? kr._numPrev + 1 : 0;
    qr < 100 && (Kr._prev = kr, Kr._numPrev = qr);
  }
  function qe() {
    $e() && Ue();
  }
  function $e() {
    var Kr = be;
    return be = !1, _e = !1, Kr;
  }
  function Ue() {
    var Kr, kr, qr;
    do
      for (; Oe.length > 0; )
        for (Kr = Oe, Oe = [], qr = Kr.length, kr = 0; kr < qr; ++kr) {
          var ai = Kr[kr];
          ai[0].apply(null, ai[1]);
        }
    while (Oe.length > 0);
    be = !0, _e = !0;
  }
  function Le() {
    var Kr = we;
    we = [], Kr.forEach((ai) => {
      ai._PSD.onunhandled.call(null, ai._value, ai);
    });
    for (var kr = Ae.slice(0), qr = kr.length; qr; )
      kr[--qr]();
  }
  function Ve(Kr) {
    return new Ce(le, !1, Kr);
  }
  function We(Kr, kr) {
    var qr = Ke;
    return function() {
      var ai = $e(), gi = Ke;
      try {
        return st(qr, !0), Kr.apply(this, arguments);
      } catch ($i) {
        kr && kr($i);
      } finally {
        st(gi, !1), ai && Ue();
      }
    };
  }
  a(Ce.prototype, { then: je, _then: function(Kr, kr) {
    Re(this, new De(null, null, Kr, kr, Ke));
  }, catch: function(Kr) {
    if (arguments.length === 1)
      return this.then(null, Kr);
    var kr = arguments[0], qr = arguments[1];
    return typeof kr == "function" ? this.then(null, (ai) => ai instanceof kr ? qr(ai) : Ve(ai)) : this.then(null, (ai) => ai && ai.name === kr ? qr(ai) : Ve(ai));
  }, finally: function(Kr) {
    return this.then((kr) => (Kr(), kr), (kr) => (Kr(), Ve(kr)));
  }, stack: { get: function() {
    if (this._stack)
      return this._stack;
    try {
      me = !0;
      var Kr = Me(this, [], 20).join(`
From previous: `);
      return this._state !== null && (this._stack = Kr), Kr;
    } finally {
      me = !1;
    }
  } }, timeout: function(Kr, kr) {
    return Kr < 1 / 0 ? new Ce((qr, ai) => {
      var gi = setTimeout(() => ai(new X.Timeout(kr)), Kr);
      this.then(qr, ai).finally(clearTimeout.bind(null, gi));
    }) : this;
  } }), typeof Symbol < "u" && Symbol.toStringTag && l(Ce.prototype, Symbol.toStringTag, "Dexie.Promise"), Pe.env = it(), a(Ce, { all: function() {
    var Kr = B.apply(null, arguments).map(tt);
    return new Ce(function(kr, qr) {
      Kr.length === 0 && kr([]);
      var ai = Kr.length;
      Kr.forEach((gi, $i) => Ce.resolve(gi).then((xi) => {
        Kr[$i] = xi, --ai || kr(Kr);
      }, qr));
    });
  }, resolve: (Kr) => {
    if (Kr instanceof Ce)
      return Kr;
    if (Kr && typeof Kr.then == "function")
      return new Ce((qr, ai) => {
        Kr.then(qr, ai);
      });
    var kr = new Ce(le, !0, Kr);
    return Ne(kr, ke), kr;
  }, reject: Ve, race: function() {
    var Kr = B.apply(null, arguments).map(tt);
    return new Ce((kr, qr) => {
      Kr.map((ai) => Ce.resolve(ai).then(kr, qr));
    });
  }, PSD: { get: () => Ke, set: (Kr) => Ke = Kr }, totalEchoes: { get: () => Qe }, newPSD: Je, usePSD: ot, scheduler: { get: () => ge, set: (Kr) => {
    ge = Kr;
  } }, rejectionMapper: { get: () => Ee, set: (Kr) => {
    Ee = Kr;
  } }, follow: (Kr, kr) => new Ce((qr, ai) => Je((gi, $i) => {
    var xi = Ke;
    xi.unhandleds = [], xi.onunhandled = $i, xi.finalize = re(function() {
      (function(Ai) {
        function Li() {
          Ai(), Ae.splice(Ae.indexOf(Li), 1);
        }
        Ae.push(Li), ++Se, ge(() => {
          --Se == 0 && Le();
        }, []);
      })(() => {
        this.unhandleds.length === 0 ? gi() : $i(this.unhandleds[0]);
      });
    }, xi.finalize), Kr();
  }, kr, qr, ai)) }), pe && (pe.allSettled && l(Ce, "allSettled", function() {
    const Kr = B.apply(null, arguments).map(tt);
    return new Ce((kr) => {
      Kr.length === 0 && kr([]);
      let qr = Kr.length;
      const ai = new Array(qr);
      Kr.forEach((gi, $i) => Ce.resolve(gi).then((xi) => ai[$i] = { status: "fulfilled", value: xi }, (xi) => ai[$i] = { status: "rejected", reason: xi }).then(() => --qr || kr(ai)));
    });
  }), pe.any && typeof AggregateError < "u" && l(Ce, "any", function() {
    const Kr = B.apply(null, arguments).map(tt);
    return new Ce((kr, qr) => {
      Kr.length === 0 && qr(new AggregateError([]));
      let ai = Kr.length;
      const gi = new Array(ai);
      Kr.forEach(($i, xi) => Ce.resolve($i).then((Ai) => kr(Ai), (Ai) => {
        gi[xi] = Ai, --ai || qr(new AggregateError(gi));
      }));
    });
  }));
  const Ye = { awaits: 0, echoes: 0, id: 0 };
  var ze = 0, Ge = [], He = 0, Qe = 0, Xe = 0;
  function Je(Kr, kr, qr, ai) {
    var gi = Ke, $i = Object.create(gi);
    $i.parent = gi, $i.ref = 0, $i.global = !1, $i.id = ++Xe;
    var xi = Pe.env;
    $i.env = ye ? { Promise: Ce, PromiseProp: { value: Ce, configurable: !0, writable: !0 }, all: Ce.all, race: Ce.race, allSettled: Ce.allSettled, any: Ce.any, resolve: Ce.resolve, reject: Ce.reject, nthen: lt(xi.nthen, $i), gthen: lt(xi.gthen, $i) } : {}, kr && r($i, kr), ++gi.ref, $i.finalize = function() {
      --this.parent.ref || this.parent.finalize();
    };
    var Ai = ot($i, Kr, qr, ai);
    return $i.ref === 0 && $i.finalize(), Ai;
  }
  function Ze() {
    return Ye.id || (Ye.id = ++ze), ++Ye.awaits, Ye.echoes += 100, Ye.id;
  }
  function et() {
    return !!Ye.awaits && (--Ye.awaits == 0 && (Ye.id = 0), Ye.echoes = 100 * Ye.awaits, !0);
  }
  function tt(Kr) {
    return Ye.echoes && Kr && Kr.constructor === pe ? (Ze(), Kr.then((kr) => (et(), kr), (kr) => (et(), ht(kr)))) : Kr;
  }
  function nt(Kr) {
    ++Qe, Ye.echoes && --Ye.echoes != 0 || (Ye.echoes = Ye.id = 0), Ge.push(Ke), st(Kr, !0);
  }
  function rt() {
    var Kr = Ge[Ge.length - 1];
    Ge.pop(), st(Kr, !1);
  }
  function st(Kr, kr) {
    var qr = Ke;
    if ((kr ? !Ye.echoes || He++ && Kr === Ke : !He || --He && Kr === Ke) || at(kr ? nt.bind(null, Kr) : rt), Kr !== Ke && (Ke = Kr, qr === Pe && (Pe.env = it()), ye)) {
      var ai = Pe.env.Promise, gi = Kr.env;
      he.then = gi.nthen, ai.prototype.then = gi.gthen, (qr.global || Kr.global) && (Object.defineProperty(e, "Promise", gi.PromiseProp), ai.all = gi.all, ai.race = gi.race, ai.resolve = gi.resolve, ai.reject = gi.reject, gi.allSettled && (ai.allSettled = gi.allSettled), gi.any && (ai.any = gi.any));
    }
  }
  function it() {
    var Kr = e.Promise;
    return ye ? { Promise: Kr, PromiseProp: Object.getOwnPropertyDescriptor(e, "Promise"), all: Kr.all, race: Kr.race, allSettled: Kr.allSettled, any: Kr.any, resolve: Kr.resolve, reject: Kr.reject, nthen: he.then, gthen: Kr.prototype.then } : {};
  }
  function ot(Kr, kr, qr, ai, gi) {
    var $i = Ke;
    try {
      return st(Kr, !0), kr(qr, ai, gi);
    } finally {
      st($i, !1);
    }
  }
  function at(Kr) {
    fe.call(ce, Kr);
  }
  function ut(Kr, kr, qr, ai) {
    return typeof Kr != "function" ? Kr : function() {
      var gi = Ke;
      qr && Ze(), st(kr, !0);
      try {
        return Kr.apply(this, arguments);
      } finally {
        st(gi, !1), ai && at(et);
      }
    };
  }
  function lt(Kr, kr) {
    return function(qr, ai) {
      return Kr.call(this, ut(qr, kr), ut(ai, kr));
    };
  }
  ("" + fe).indexOf("[native code]") === -1 && (Ze = et = ee);
  function ct(Kr, kr) {
    var qr;
    try {
      qr = kr.onuncatched(Kr);
    } catch {
    }
    if (qr !== !1)
      try {
        var ai, gi = { promise: kr, reason: Kr };
        if (e.document && document.createEvent ? ((ai = document.createEvent("Event")).initEvent("unhandledrejection", !0, !0), r(ai, gi)) : e.CustomEvent && r(ai = new CustomEvent("unhandledrejection", { detail: gi }), gi), ai && e.dispatchEvent && (dispatchEvent(ai), !e.PromiseRejectionEvent && e.onunhandledrejection))
          try {
            e.onunhandledrejection(ai);
          } catch {
          }
        R && ai && !ai.defaultPrevented && console.warn(`Unhandled rejection: ${Kr.stack || Kr}`);
      } catch {
      }
  }
  var ht = Ce.reject;
  function dt(Kr, kr, qr, ai) {
    if (Kr.idbdb && (Kr._state.openComplete || Ke.letThrough || Kr._vip)) {
      var gi = Kr._createTransaction(kr, qr, Kr._dbSchema);
      try {
        gi.create(), Kr._state.PR1398_maxLoop = 3;
      } catch ($i) {
        return $i.name === H.InvalidState && Kr.isOpen() && --Kr._state.PR1398_maxLoop > 0 ? (console.warn("Dexie: Need to reopen db"), Kr._close(), Kr.open().then(() => dt(Kr, kr, qr, ai))) : ht($i);
      }
      return gi._promise(kr, ($i, xi) => Je(() => (Ke.trans = gi, ai($i, xi, gi)))).then(($i) => gi._completion.then(() => $i));
    }
    if (Kr._state.openComplete)
      return ht(new X.DatabaseClosed(Kr._state.dbOpenError));
    if (!Kr._state.isBeingOpened) {
      if (!Kr._options.autoOpen)
        return ht(new X.DatabaseClosed());
      Kr.open().catch(ee);
    }
    return Kr._state.dbReadyPromise.then(() => dt(Kr, kr, qr, ai));
  }
  const ft = String.fromCharCode(65535), pt = "Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.", yt = [], mt = typeof navigator < "u" && /(MSIE|Trident|Edge)/.test(navigator.userAgent), vt = mt, gt = mt, bt = (Kr) => !/(dexie\.js|dexie\.min\.js)/.test(Kr);
  function _t(Kr, kr) {
    return Kr ? kr ? function() {
      return Kr.apply(this, arguments) && kr.apply(this, arguments);
    } : Kr : kr;
  }
  const wt = { type: 3, lower: -1 / 0, lowerOpen: !1, upper: [[]], upperOpen: !1 };
  function xt(Kr) {
    return typeof Kr != "string" || /\./.test(Kr) ? (kr) => kr : (kr) => (kr[Kr] === void 0 && Kr in kr && delete (kr = O(kr))[Kr], kr);
  }
  class kt {
    _trans(kr, qr, ai) {
      const gi = this._tx || Ke.trans, $i = this.name;
      function xi(Li, Fi, Oa) {
        if (!Oa.schema[$i])
          throw new X.NotFound("Table " + $i + " not part of transaction");
        return qr(Oa.idbtrans, Oa);
      }
      const Ai = $e();
      try {
        return gi && gi.db === this.db ? gi === Ke.trans ? gi._promise(kr, xi, ai) : Je(() => gi._promise(kr, xi, ai), { trans: gi, transless: Ke.transless || Ke }) : dt(this.db, kr, [this.name], xi);
      } finally {
        Ai && Ue();
      }
    }
    get(kr, qr) {
      return kr && kr.constructor === Object ? this.where(kr).first(qr) : this._trans("readonly", (ai) => this.core.get({ trans: ai, key: kr }).then((gi) => this.hook.reading.fire(gi))).then(qr);
    }
    where(kr) {
      if (typeof kr == "string")
        return new this.db.WhereClause(this, kr);
      if (n(kr))
        return new this.db.WhereClause(this, `[${kr.join("+")}]`);
      const qr = t(kr);
      if (qr.length === 1)
        return this.where(qr[0]).equals(kr[qr[0]]);
      const ai = this.schema.indexes.concat(this.schema.primKey).filter((Fi) => Fi.compound && qr.every((Oa) => Fi.keyPath.indexOf(Oa) >= 0) && Fi.keyPath.every((Oa) => qr.indexOf(Oa) >= 0))[0];
      if (ai && this.db._maxKey !== ft)
        return this.where(ai.name).equals(ai.keyPath.map((Fi) => kr[Fi]));
      !ai && R && console.warn(`The query ${JSON.stringify(kr)} on ${this.name} would benefit of a compound index [${qr.join("+")}]`);
      const { idxByName: gi } = this.schema, $i = this.db._deps.indexedDB;
      function xi(Fi, Oa) {
        try {
          return $i.cmp(Fi, Oa) === 0;
        } catch {
          return !1;
        }
      }
      const [Ai, Li] = qr.reduce(([Fi, Oa], So) => {
        const Ns = gi[So], Uc = kr[So];
        return [Fi || Ns, Fi || !Ns ? _t(Oa, Ns && Ns.multi ? (Kc) => {
          const Bc = b(Kc, So);
          return n(Bc) && Bc.some((Wc) => xi(Uc, Wc));
        } : (Kc) => xi(Uc, b(Kc, So))) : Oa];
      }, [null, null]);
      return Ai ? this.where(Ai.name).equals(kr[Ai.keyPath]).filter(Li) : ai ? this.filter(Li) : this.where(qr).equals("");
    }
    filter(kr) {
      return this.toCollection().and(kr);
    }
    count(kr) {
      return this.toCollection().count(kr);
    }
    offset(kr) {
      return this.toCollection().offset(kr);
    }
    limit(kr) {
      return this.toCollection().limit(kr);
    }
    each(kr) {
      return this.toCollection().each(kr);
    }
    toArray(kr) {
      return this.toCollection().toArray(kr);
    }
    toCollection() {
      return new this.db.Collection(new this.db.WhereClause(this));
    }
    orderBy(kr) {
      return new this.db.Collection(new this.db.WhereClause(this, n(kr) ? `[${kr.join("+")}]` : kr));
    }
    reverse() {
      return this.toCollection().reverse();
    }
    mapToClass(kr) {
      this.schema.mappedClass = kr;
      const qr = (ai) => {
        if (!ai)
          return ai;
        const gi = Object.create(kr.prototype);
        for (var $i in ai)
          if (o(ai, $i))
            try {
              gi[$i] = ai[$i];
            } catch {
            }
        return gi;
      };
      return this.schema.readHook && this.hook.reading.unsubscribe(this.schema.readHook), this.schema.readHook = qr, this.hook("reading", qr), kr;
    }
    defineClass() {
      return this.mapToClass(function(kr) {
        r(this, kr);
      });
    }
    add(kr, qr) {
      const { auto: ai, keyPath: gi } = this.schema.primKey;
      let $i = kr;
      return gi && ai && ($i = xt(gi)(kr)), this._trans("readwrite", (xi) => this.core.mutate({ trans: xi, type: "add", keys: qr != null ? [qr] : null, values: [$i] })).then((xi) => xi.numFailures ? Ce.reject(xi.failures[0]) : xi.lastResult).then((xi) => {
        if (gi)
          try {
            _(kr, gi, xi);
          } catch {
          }
        return xi;
      });
    }
    update(kr, qr) {
      if (typeof kr != "object" || n(kr))
        return this.where(":id").equals(kr).modify(qr);
      {
        const ai = b(kr, this.schema.primKey.keyPath);
        if (ai === void 0)
          return ht(new X.InvalidArgument("Given object does not contain its primary key"));
        try {
          typeof qr != "function" ? t(qr).forEach((gi) => {
            _(kr, gi, qr[gi]);
          }) : qr(kr, { value: kr, primKey: ai });
        } catch {
        }
        return this.where(":id").equals(ai).modify(qr);
      }
    }
    put(kr, qr) {
      const { auto: ai, keyPath: gi } = this.schema.primKey;
      let $i = kr;
      return gi && ai && ($i = xt(gi)(kr)), this._trans("readwrite", (xi) => this.core.mutate({ trans: xi, type: "put", values: [$i], keys: qr != null ? [qr] : null })).then((xi) => xi.numFailures ? Ce.reject(xi.failures[0]) : xi.lastResult).then((xi) => {
        if (gi)
          try {
            _(kr, gi, xi);
          } catch {
          }
        return xi;
      });
    }
    delete(kr) {
      return this._trans("readwrite", (qr) => this.core.mutate({ trans: qr, type: "delete", keys: [kr] })).then((qr) => qr.numFailures ? Ce.reject(qr.failures[0]) : void 0);
    }
    clear() {
      return this._trans("readwrite", (kr) => this.core.mutate({ trans: kr, type: "deleteRange", range: wt })).then((kr) => kr.numFailures ? Ce.reject(kr.failures[0]) : void 0);
    }
    bulkGet(kr) {
      return this._trans("readonly", (qr) => this.core.getMany({ keys: kr, trans: qr }).then((ai) => ai.map((gi) => this.hook.reading.fire(gi))));
    }
    bulkAdd(kr, qr, ai) {
      const gi = Array.isArray(qr) ? qr : void 0, $i = (ai = ai || (gi ? void 0 : qr)) ? ai.allKeys : void 0;
      return this._trans("readwrite", (xi) => {
        const { auto: Ai, keyPath: Li } = this.schema.primKey;
        if (Li && gi)
          throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");
        if (gi && gi.length !== kr.length)
          throw new X.InvalidArgument("Arguments objects and keys must have the same length");
        const Fi = kr.length;
        let Oa = Li && Ai ? kr.map(xt(Li)) : kr;
        return this.core.mutate({ trans: xi, type: "add", keys: gi, values: Oa, wantResults: $i }).then(({ numFailures: So, results: Ns, lastResult: Uc, failures: Kc }) => {
          if (So === 0)
            return $i ? Ns : Uc;
          throw new G(`${this.name}.bulkAdd(): ${So} of ${Fi} operations failed`, Kc);
        });
      });
    }
    bulkPut(kr, qr, ai) {
      const gi = Array.isArray(qr) ? qr : void 0, $i = (ai = ai || (gi ? void 0 : qr)) ? ai.allKeys : void 0;
      return this._trans("readwrite", (xi) => {
        const { auto: Ai, keyPath: Li } = this.schema.primKey;
        if (Li && gi)
          throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");
        if (gi && gi.length !== kr.length)
          throw new X.InvalidArgument("Arguments objects and keys must have the same length");
        const Fi = kr.length;
        let Oa = Li && Ai ? kr.map(xt(Li)) : kr;
        return this.core.mutate({ trans: xi, type: "put", keys: gi, values: Oa, wantResults: $i }).then(({ numFailures: So, results: Ns, lastResult: Uc, failures: Kc }) => {
          if (So === 0)
            return $i ? Ns : Uc;
          throw new G(`${this.name}.bulkPut(): ${So} of ${Fi} operations failed`, Kc);
        });
      });
    }
    bulkDelete(kr) {
      const qr = kr.length;
      return this._trans("readwrite", (ai) => this.core.mutate({ trans: ai, type: "delete", keys: kr })).then(({ numFailures: ai, lastResult: gi, failures: $i }) => {
        if (ai === 0)
          return gi;
        throw new G(`${this.name}.bulkDelete(): ${ai} of ${qr} operations failed`, $i);
      });
    }
  }
  function Et(Kr) {
    var kr = {}, qr = function(Ai, Li) {
      if (Li) {
        for (var Fi = arguments.length, Oa = new Array(Fi - 1); --Fi; )
          Oa[Fi - 1] = arguments[Fi];
        return kr[Ai].subscribe.apply(null, Oa), Kr;
      }
      if (typeof Ai == "string")
        return kr[Ai];
    };
    qr.addEventType = $i;
    for (var ai = 1, gi = arguments.length; ai < gi; ++ai)
      $i(arguments[ai]);
    return qr;
    function $i(Ai, Li, Fi) {
      if (typeof Ai == "object")
        return xi(Ai);
      Li || (Li = ae), Fi || (Fi = ee);
      var Oa = { subscribers: [], fire: Fi, subscribe: function(So) {
        Oa.subscribers.indexOf(So) === -1 && (Oa.subscribers.push(So), Oa.fire = Li(Oa.fire, So));
      }, unsubscribe: function(So) {
        Oa.subscribers = Oa.subscribers.filter(function(Ns) {
          return Ns !== So;
        }), Oa.fire = Oa.subscribers.reduce(Li, Fi);
      } };
      return kr[Ai] = qr[Ai] = Oa, Oa;
    }
    function xi(Ai) {
      t(Ai).forEach(function(Li) {
        var Fi = Ai[Li];
        if (n(Fi))
          $i(Li, Ai[Li][0], Ai[Li][1]);
        else {
          if (Fi !== "asap")
            throw new X.InvalidArgument("Invalid event config");
          var Oa = $i(Li, te, function() {
            for (var So = arguments.length, Ns = new Array(So); So--; )
              Ns[So] = arguments[So];
            Oa.subscribers.forEach(function(Uc) {
              v(function() {
                Uc.apply(null, Ns);
              });
            });
          });
        }
      });
    }
  }
  function Pt(Kr, kr) {
    return c(kr).from({ prototype: Kr }), kr;
  }
  function Kt(Kr, kr) {
    return !(Kr.filter || Kr.algorithm || Kr.or) && (kr ? Kr.justLimit : !Kr.replayFilter);
  }
  function Ot(Kr, kr) {
    Kr.filter = _t(Kr.filter, kr);
  }
  function St(Kr, kr, qr) {
    var ai = Kr.replayFilter;
    Kr.replayFilter = ai ? () => _t(ai(), kr()) : kr, Kr.justLimit = qr && !ai;
  }
  function At(Kr, kr) {
    if (Kr.isPrimKey)
      return kr.primaryKey;
    const qr = kr.getIndexByKeyPath(Kr.index);
    if (!qr)
      throw new X.Schema("KeyPath " + Kr.index + " on object store " + kr.name + " is not indexed");
    return qr;
  }
  function Ct(Kr, kr, qr) {
    const ai = At(Kr, kr.schema);
    return kr.openCursor({ trans: qr, values: !Kr.keysOnly, reverse: Kr.dir === "prev", unique: !!Kr.unique, query: { index: ai, range: Kr.range } });
  }
  function jt(Kr, kr, qr, ai) {
    const gi = Kr.replayFilter ? _t(Kr.filter, Kr.replayFilter()) : Kr.filter;
    if (Kr.or) {
      const $i = {}, xi = (Ai, Li, Fi) => {
        if (!gi || gi(Li, Fi, (Ns) => Li.stop(Ns), (Ns) => Li.fail(Ns))) {
          var Oa = Li.primaryKey, So = "" + Oa;
          So === "[object ArrayBuffer]" && (So = "" + new Uint8Array(Oa)), o($i, So) || ($i[So] = !0, kr(Ai, Li, Fi));
        }
      };
      return Promise.all([Kr.or._iterate(xi, qr), Dt(Ct(Kr, ai, qr), Kr.algorithm, xi, !Kr.keysOnly && Kr.valueMapper)]);
    }
    return Dt(Ct(Kr, ai, qr), _t(Kr.algorithm, gi), kr, !Kr.keysOnly && Kr.valueMapper);
  }
  function Dt(Kr, kr, qr, ai) {
    var gi = We(ai ? ($i, xi, Ai) => qr(ai($i), xi, Ai) : qr);
    return Kr.then(($i) => {
      if ($i)
        return $i.start(() => {
          var xi = () => $i.continue();
          kr && !kr($i, (Ai) => xi = Ai, (Ai) => {
            $i.stop(Ai), xi = ee;
          }, (Ai) => {
            $i.fail(Ai), xi = ee;
          }) || gi($i.value, $i, (Ai) => xi = Ai), xi();
        });
    });
  }
  function It(Kr, kr) {
    try {
      const qr = Bt(Kr), ai = Bt(kr);
      if (qr !== ai)
        return qr === "Array" ? 1 : ai === "Array" ? -1 : qr === "binary" ? 1 : ai === "binary" ? -1 : qr === "string" ? 1 : ai === "string" ? -1 : qr === "Date" ? 1 : ai !== "Date" ? NaN : -1;
      switch (qr) {
        case "number":
        case "Date":
        case "string":
          return Kr > kr ? 1 : Kr < kr ? -1 : 0;
        case "binary":
          return function(gi, $i) {
            const xi = gi.length, Ai = $i.length, Li = xi < Ai ? xi : Ai;
            for (let Fi = 0; Fi < Li; ++Fi)
              if (gi[Fi] !== $i[Fi])
                return gi[Fi] < $i[Fi] ? -1 : 1;
            return xi === Ai ? 0 : xi < Ai ? -1 : 1;
          }(Tt(Kr), Tt(kr));
        case "Array":
          return function(gi, $i) {
            const xi = gi.length, Ai = $i.length, Li = xi < Ai ? xi : Ai;
            for (let Fi = 0; Fi < Li; ++Fi) {
              const Oa = It(gi[Fi], $i[Fi]);
              if (Oa !== 0)
                return Oa;
            }
            return xi === Ai ? 0 : xi < Ai ? -1 : 1;
          }(Kr, kr);
      }
    } catch {
    }
    return NaN;
  }
  function Bt(Kr) {
    const kr = typeof Kr;
    if (kr !== "object")
      return kr;
    if (ArrayBuffer.isView(Kr))
      return "binary";
    const qr = C(Kr);
    return qr === "ArrayBuffer" ? "binary" : qr;
  }
  function Tt(Kr) {
    return Kr instanceof Uint8Array ? Kr : ArrayBuffer.isView(Kr) ? new Uint8Array(Kr.buffer, Kr.byteOffset, Kr.byteLength) : new Uint8Array(Kr);
  }
  class Rt {
    _read(kr, qr) {
      var ai = this._ctx;
      return ai.error ? ai.table._trans(null, ht.bind(null, ai.error)) : ai.table._trans("readonly", kr).then(qr);
    }
    _write(kr) {
      var qr = this._ctx;
      return qr.error ? qr.table._trans(null, ht.bind(null, qr.error)) : qr.table._trans("readwrite", kr, "locked");
    }
    _addAlgorithm(kr) {
      var qr = this._ctx;
      qr.algorithm = _t(qr.algorithm, kr);
    }
    _iterate(kr, qr) {
      return jt(this._ctx, kr, qr, this._ctx.table.core);
    }
    clone(kr) {
      var qr = Object.create(this.constructor.prototype), ai = Object.create(this._ctx);
      return kr && r(ai, kr), qr._ctx = ai, qr;
    }
    raw() {
      return this._ctx.valueMapper = null, this;
    }
    each(kr) {
      var qr = this._ctx;
      return this._read((ai) => jt(qr, kr, ai, qr.table.core));
    }
    count(kr) {
      return this._read((qr) => {
        const ai = this._ctx, gi = ai.table.core;
        if (Kt(ai, !0))
          return gi.count({ trans: qr, query: { index: At(ai, gi.schema), range: ai.range } }).then((xi) => Math.min(xi, ai.limit));
        var $i = 0;
        return jt(ai, () => (++$i, !1), qr, gi).then(() => $i);
      }).then(kr);
    }
    sortBy(kr, qr) {
      const ai = kr.split(".").reverse(), gi = ai[0], $i = ai.length - 1;
      function xi(Fi, Oa) {
        return Oa ? xi(Fi[ai[Oa]], Oa - 1) : Fi[gi];
      }
      var Ai = this._ctx.dir === "next" ? 1 : -1;
      function Li(Fi, Oa) {
        var So = xi(Fi, $i), Ns = xi(Oa, $i);
        return So < Ns ? -Ai : So > Ns ? Ai : 0;
      }
      return this.toArray(function(Fi) {
        return Fi.sort(Li);
      }).then(qr);
    }
    toArray(kr) {
      return this._read((qr) => {
        var ai = this._ctx;
        if (ai.dir === "next" && Kt(ai, !0) && ai.limit > 0) {
          const { valueMapper: gi } = ai, $i = At(ai, ai.table.core.schema);
          return ai.table.core.query({ trans: qr, limit: ai.limit, values: !0, query: { index: $i, range: ai.range } }).then(({ result: xi }) => gi ? xi.map(gi) : xi);
        }
        {
          const gi = [];
          return jt(ai, ($i) => gi.push($i), qr, ai.table.core).then(() => gi);
        }
      }, kr);
    }
    offset(kr) {
      var qr = this._ctx;
      return kr <= 0 || (qr.offset += kr, Kt(qr) ? St(qr, () => {
        var ai = kr;
        return (gi, $i) => ai === 0 || (ai === 1 ? (--ai, !1) : ($i(() => {
          gi.advance(ai), ai = 0;
        }), !1));
      }) : St(qr, () => {
        var ai = kr;
        return () => --ai < 0;
      })), this;
    }
    limit(kr) {
      return this._ctx.limit = Math.min(this._ctx.limit, kr), St(this._ctx, () => {
        var qr = kr;
        return function(ai, gi, $i) {
          return --qr <= 0 && gi($i), qr >= 0;
        };
      }, !0), this;
    }
    until(kr, qr) {
      return Ot(this._ctx, function(ai, gi, $i) {
        return !kr(ai.value) || (gi($i), qr);
      }), this;
    }
    first(kr) {
      return this.limit(1).toArray(function(qr) {
        return qr[0];
      }).then(kr);
    }
    last(kr) {
      return this.reverse().first(kr);
    }
    filter(kr) {
      var qr, ai;
      return Ot(this._ctx, function(gi) {
        return kr(gi.value);
      }), qr = this._ctx, ai = kr, qr.isMatch = _t(qr.isMatch, ai), this;
    }
    and(kr) {
      return this.filter(kr);
    }
    or(kr) {
      return new this.db.WhereClause(this._ctx.table, kr, this);
    }
    reverse() {
      return this._ctx.dir = this._ctx.dir === "prev" ? "next" : "prev", this._ondirectionchange && this._ondirectionchange(this._ctx.dir), this;
    }
    desc() {
      return this.reverse();
    }
    eachKey(kr) {
      var qr = this._ctx;
      return qr.keysOnly = !qr.isMatch, this.each(function(ai, gi) {
        kr(gi.key, gi);
      });
    }
    eachUniqueKey(kr) {
      return this._ctx.unique = "unique", this.eachKey(kr);
    }
    eachPrimaryKey(kr) {
      var qr = this._ctx;
      return qr.keysOnly = !qr.isMatch, this.each(function(ai, gi) {
        kr(gi.primaryKey, gi);
      });
    }
    keys(kr) {
      var qr = this._ctx;
      qr.keysOnly = !qr.isMatch;
      var ai = [];
      return this.each(function(gi, $i) {
        ai.push($i.key);
      }).then(function() {
        return ai;
      }).then(kr);
    }
    primaryKeys(kr) {
      var qr = this._ctx;
      if (qr.dir === "next" && Kt(qr, !0) && qr.limit > 0)
        return this._read((gi) => {
          var $i = At(qr, qr.table.core.schema);
          return qr.table.core.query({ trans: gi, values: !1, limit: qr.limit, query: { index: $i, range: qr.range } });
        }).then(({ result: gi }) => gi).then(kr);
      qr.keysOnly = !qr.isMatch;
      var ai = [];
      return this.each(function(gi, $i) {
        ai.push($i.primaryKey);
      }).then(function() {
        return ai;
      }).then(kr);
    }
    uniqueKeys(kr) {
      return this._ctx.unique = "unique", this.keys(kr);
    }
    firstKey(kr) {
      return this.limit(1).keys(function(qr) {
        return qr[0];
      }).then(kr);
    }
    lastKey(kr) {
      return this.reverse().firstKey(kr);
    }
    distinct() {
      var kr = this._ctx, qr = kr.index && kr.table.schema.idxByName[kr.index];
      if (!qr || !qr.multi)
        return this;
      var ai = {};
      return Ot(this._ctx, function(gi) {
        var $i = gi.primaryKey.toString(), xi = o(ai, $i);
        return ai[$i] = !0, !xi;
      }), this;
    }
    modify(kr) {
      var qr = this._ctx;
      return this._write((ai) => {
        var gi;
        if (typeof kr == "function")
          gi = kr;
        else {
          var $i = t(kr), xi = $i.length;
          gi = function(Bc) {
            for (var Wc = !1, Vc = 0; Vc < xi; ++Vc) {
              var qc = $i[Vc], Qc = kr[qc];
              b(Bc, qc) !== Qc && (_(Bc, qc, Qc), Wc = !0);
            }
            return Wc;
          };
        }
        const Ai = qr.table.core, { outbound: Li, extractKey: Fi } = Ai.schema.primaryKey, Oa = this.db._options.modifyChunkSize || 200, So = [];
        let Ns = 0;
        const Uc = [], Kc = (Bc, Wc) => {
          const { failures: Vc, numFailures: qc } = Wc;
          Ns += Bc - qc;
          for (let Qc of t(Vc))
            So.push(Vc[Qc]);
        };
        return this.clone().primaryKeys().then((Bc) => {
          const Wc = (Vc) => {
            const qc = Math.min(Oa, Bc.length - Vc);
            return Ai.getMany({ trans: ai, keys: Bc.slice(Vc, Vc + qc), cache: "immutable" }).then((Qc) => {
              const zc = [], Yc = [], Xc = Li ? [] : null, Hc = [];
              for (let nu = 0; nu < qc; ++nu) {
                const su = Qc[nu], yp = { value: O(su), primKey: Bc[Vc + nu] };
                gi.call(yp, yp.value, yp) !== !1 && (yp.value == null ? Hc.push(Bc[Vc + nu]) : Li || It(Fi(su), Fi(yp.value)) === 0 ? (Yc.push(yp.value), Li && Xc.push(Bc[Vc + nu])) : (Hc.push(Bc[Vc + nu]), zc.push(yp.value)));
              }
              const eu = Kt(qr) && qr.limit === 1 / 0 && (typeof kr != "function" || kr === Ft) && { index: qr.index, range: qr.range };
              return Promise.resolve(zc.length > 0 && Ai.mutate({ trans: ai, type: "add", values: zc }).then((nu) => {
                for (let su in nu.failures)
                  Hc.splice(parseInt(su), 1);
                Kc(zc.length, nu);
              })).then(() => (Yc.length > 0 || eu && typeof kr == "object") && Ai.mutate({ trans: ai, type: "put", keys: Xc, values: Yc, criteria: eu, changeSpec: typeof kr != "function" && kr }).then((nu) => Kc(Yc.length, nu))).then(() => (Hc.length > 0 || eu && kr === Ft) && Ai.mutate({ trans: ai, type: "delete", keys: Hc, criteria: eu }).then((nu) => Kc(Hc.length, nu))).then(() => Bc.length > Vc + qc && Wc(Vc + Oa));
            });
          };
          return Wc(0).then(() => {
            if (So.length > 0)
              throw new z("Error modifying one or more objects", So, Ns, Uc);
            return Bc.length;
          });
        });
      });
    }
    delete() {
      var kr = this._ctx, qr = kr.range;
      return Kt(kr) && (kr.isPrimKey && !gt || qr.type === 3) ? this._write((ai) => {
        const { primaryKey: gi } = kr.table.core.schema, $i = qr;
        return kr.table.core.count({ trans: ai, query: { index: gi, range: $i } }).then((xi) => kr.table.core.mutate({ trans: ai, type: "deleteRange", range: $i }).then(({ failures: Ai, lastResult: Li, results: Fi, numFailures: Oa }) => {
          if (Oa)
            throw new z("Could not delete some values", Object.keys(Ai).map((So) => Ai[So]), xi - Oa);
          return xi - Oa;
        }));
      }) : this.modify(Ft);
    }
  }
  const Ft = (Kr, kr) => kr.value = null;
  function Mt(Kr, kr) {
    return Kr < kr ? -1 : Kr === kr ? 0 : 1;
  }
  function Nt(Kr, kr) {
    return Kr > kr ? -1 : Kr === kr ? 0 : 1;
  }
  function qt(Kr, kr, qr) {
    var ai = Kr instanceof Yt ? new Kr.Collection(Kr) : Kr;
    return ai._ctx.error = qr ? new qr(kr) : new TypeError(kr), ai;
  }
  function $t(Kr) {
    return new Kr.Collection(Kr, () => Wt("")).limit(0);
  }
  function Ut(Kr, kr, qr, ai, gi, $i) {
    for (var xi = Math.min(Kr.length, ai.length), Ai = -1, Li = 0; Li < xi; ++Li) {
      var Fi = kr[Li];
      if (Fi !== ai[Li])
        return gi(Kr[Li], qr[Li]) < 0 ? Kr.substr(0, Li) + qr[Li] + qr.substr(Li + 1) : gi(Kr[Li], ai[Li]) < 0 ? Kr.substr(0, Li) + ai[Li] + qr.substr(Li + 1) : Ai >= 0 ? Kr.substr(0, Ai) + kr[Ai] + qr.substr(Ai + 1) : null;
      gi(Kr[Li], Fi) < 0 && (Ai = Li);
    }
    return xi < ai.length && $i === "next" ? Kr + qr.substr(Kr.length) : xi < Kr.length && $i === "prev" ? Kr.substr(0, qr.length) : Ai < 0 ? null : Kr.substr(0, Ai) + ai[Ai] + qr.substr(Ai + 1);
  }
  function Lt(Kr, kr, qr, ai) {
    var gi, $i, xi, Ai, Li, Fi, Oa, So = qr.length;
    if (!qr.every((Bc) => typeof Bc == "string"))
      return qt(Kr, "String expected.");
    function Ns(Bc) {
      gi = function(Vc) {
        return Vc === "next" ? (qc) => qc.toUpperCase() : (qc) => qc.toLowerCase();
      }(Bc), $i = function(Vc) {
        return Vc === "next" ? (qc) => qc.toLowerCase() : (qc) => qc.toUpperCase();
      }(Bc), xi = Bc === "next" ? Mt : Nt;
      var Wc = qr.map(function(Vc) {
        return { lower: $i(Vc), upper: gi(Vc) };
      }).sort(function(Vc, qc) {
        return xi(Vc.lower, qc.lower);
      });
      Ai = Wc.map(function(Vc) {
        return Vc.upper;
      }), Li = Wc.map(function(Vc) {
        return Vc.lower;
      }), Fi = Bc, Oa = Bc === "next" ? "" : ai;
    }
    Ns("next");
    var Uc = new Kr.Collection(Kr, () => Vt(Ai[0], Li[So - 1] + ai));
    Uc._ondirectionchange = function(Bc) {
      Ns(Bc);
    };
    var Kc = 0;
    return Uc._addAlgorithm(function(Bc, Wc, Vc) {
      var qc = Bc.key;
      if (typeof qc != "string")
        return !1;
      var Qc = $i(qc);
      if (kr(Qc, Li, Kc))
        return !0;
      for (var zc = null, Yc = Kc; Yc < So; ++Yc) {
        var Xc = Ut(qc, Qc, Ai[Yc], Li[Yc], xi, Fi);
        Xc === null && zc === null ? Kc = Yc + 1 : (zc === null || xi(zc, Xc) > 0) && (zc = Xc);
      }
      return Wc(zc !== null ? function() {
        Bc.continue(zc + Oa);
      } : Vc), !1;
    }), Uc;
  }
  function Vt(Kr, kr, qr, ai) {
    return { type: 2, lower: Kr, upper: kr, lowerOpen: qr, upperOpen: ai };
  }
  function Wt(Kr) {
    return { type: 1, lower: Kr, upper: Kr };
  }
  class Yt {
    get Collection() {
      return this._ctx.table.db.Collection;
    }
    between(kr, qr, ai, gi) {
      ai = ai !== !1, gi = gi === !0;
      try {
        return this._cmp(kr, qr) > 0 || this._cmp(kr, qr) === 0 && (ai || gi) && (!ai || !gi) ? $t(this) : new this.Collection(this, () => Vt(kr, qr, !ai, !gi));
      } catch {
        return qt(this, pt);
      }
    }
    equals(kr) {
      return kr == null ? qt(this, pt) : new this.Collection(this, () => Wt(kr));
    }
    above(kr) {
      return kr == null ? qt(this, pt) : new this.Collection(this, () => Vt(kr, void 0, !0));
    }
    aboveOrEqual(kr) {
      return kr == null ? qt(this, pt) : new this.Collection(this, () => Vt(kr, void 0, !1));
    }
    below(kr) {
      return kr == null ? qt(this, pt) : new this.Collection(this, () => Vt(void 0, kr, !1, !0));
    }
    belowOrEqual(kr) {
      return kr == null ? qt(this, pt) : new this.Collection(this, () => Vt(void 0, kr));
    }
    startsWith(kr) {
      return typeof kr != "string" ? qt(this, "String expected.") : this.between(kr, kr + ft, !0, !0);
    }
    startsWithIgnoreCase(kr) {
      return kr === "" ? this.startsWith(kr) : Lt(this, (qr, ai) => qr.indexOf(ai[0]) === 0, [kr], ft);
    }
    equalsIgnoreCase(kr) {
      return Lt(this, (qr, ai) => qr === ai[0], [kr], "");
    }
    anyOfIgnoreCase() {
      var kr = B.apply(I, arguments);
      return kr.length === 0 ? $t(this) : Lt(this, (qr, ai) => ai.indexOf(qr) !== -1, kr, "");
    }
    startsWithAnyOfIgnoreCase() {
      var kr = B.apply(I, arguments);
      return kr.length === 0 ? $t(this) : Lt(this, (qr, ai) => ai.some((gi) => qr.indexOf(gi) === 0), kr, ft);
    }
    anyOf() {
      const kr = B.apply(I, arguments);
      let qr = this._cmp;
      try {
        kr.sort(qr);
      } catch {
        return qt(this, pt);
      }
      if (kr.length === 0)
        return $t(this);
      const ai = new this.Collection(this, () => Vt(kr[0], kr[kr.length - 1]));
      ai._ondirectionchange = ($i) => {
        qr = $i === "next" ? this._ascending : this._descending, kr.sort(qr);
      };
      let gi = 0;
      return ai._addAlgorithm(($i, xi, Ai) => {
        const Li = $i.key;
        for (; qr(Li, kr[gi]) > 0; )
          if (++gi, gi === kr.length)
            return xi(Ai), !1;
        return qr(Li, kr[gi]) === 0 || (xi(() => {
          $i.continue(kr[gi]);
        }), !1);
      }), ai;
    }
    notEqual(kr) {
      return this.inAnyRange([[-(1 / 0), kr], [kr, this.db._maxKey]], { includeLowers: !1, includeUppers: !1 });
    }
    noneOf() {
      const kr = B.apply(I, arguments);
      if (kr.length === 0)
        return new this.Collection(this);
      try {
        kr.sort(this._ascending);
      } catch {
        return qt(this, pt);
      }
      const qr = kr.reduce((ai, gi) => ai ? ai.concat([[ai[ai.length - 1][1], gi]]) : [[-(1 / 0), gi]], null);
      return qr.push([kr[kr.length - 1], this.db._maxKey]), this.inAnyRange(qr, { includeLowers: !1, includeUppers: !1 });
    }
    inAnyRange(kr, qr) {
      const ai = this._cmp, gi = this._ascending, $i = this._descending, xi = this._min, Ai = this._max;
      if (kr.length === 0)
        return $t(this);
      if (!kr.every((qc) => qc[0] !== void 0 && qc[1] !== void 0 && gi(qc[0], qc[1]) <= 0))
        return qt(this, "First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower", X.InvalidArgument);
      const Li = !qr || qr.includeLowers !== !1, Fi = qr && qr.includeUppers === !0;
      let Oa, So = gi;
      function Ns(qc, Qc) {
        return So(qc[0], Qc[0]);
      }
      try {
        Oa = kr.reduce(function(qc, Qc) {
          let zc = 0, Yc = qc.length;
          for (; zc < Yc; ++zc) {
            const Xc = qc[zc];
            if (ai(Qc[0], Xc[1]) < 0 && ai(Qc[1], Xc[0]) > 0) {
              Xc[0] = xi(Xc[0], Qc[0]), Xc[1] = Ai(Xc[1], Qc[1]);
              break;
            }
          }
          return zc === Yc && qc.push(Qc), qc;
        }, []), Oa.sort(Ns);
      } catch {
        return qt(this, pt);
      }
      let Uc = 0;
      const Kc = Fi ? (qc) => gi(qc, Oa[Uc][1]) > 0 : (qc) => gi(qc, Oa[Uc][1]) >= 0, Bc = Li ? (qc) => $i(qc, Oa[Uc][0]) > 0 : (qc) => $i(qc, Oa[Uc][0]) >= 0;
      let Wc = Kc;
      const Vc = new this.Collection(this, () => Vt(Oa[0][0], Oa[Oa.length - 1][1], !Li, !Fi));
      return Vc._ondirectionchange = (qc) => {
        qc === "next" ? (Wc = Kc, So = gi) : (Wc = Bc, So = $i), Oa.sort(Ns);
      }, Vc._addAlgorithm((qc, Qc, zc) => {
        for (var Yc = qc.key; Wc(Yc); )
          if (++Uc, Uc === Oa.length)
            return Qc(zc), !1;
        return !!function(Xc) {
          return !Kc(Xc) && !Bc(Xc);
        }(Yc) || (this._cmp(Yc, Oa[Uc][1]) === 0 || this._cmp(Yc, Oa[Uc][0]) === 0 || Qc(() => {
          So === gi ? qc.continue(Oa[Uc][0]) : qc.continue(Oa[Uc][1]);
        }), !1);
      }), Vc;
    }
    startsWithAnyOf() {
      const kr = B.apply(I, arguments);
      return kr.every((qr) => typeof qr == "string") ? kr.length === 0 ? $t(this) : this.inAnyRange(kr.map((qr) => [qr, qr + ft])) : qt(this, "startsWithAnyOf() only works with strings");
    }
  }
  function zt(Kr) {
    return We(function(kr) {
      return Gt(kr), Kr(kr.target.error), !1;
    });
  }
  function Gt(Kr) {
    Kr.stopPropagation && Kr.stopPropagation(), Kr.preventDefault && Kr.preventDefault();
  }
  const Ht = Et(null, "storagemutated");
  class Qt {
    _lock() {
      return m(!Ke.global), ++this._reculock, this._reculock !== 1 || Ke.global || (Ke.lockOwnerFor = this), this;
    }
    _unlock() {
      if (m(!Ke.global), --this._reculock == 0)
        for (Ke.global || (Ke.lockOwnerFor = null); this._blockedFuncs.length > 0 && !this._locked(); ) {
          var kr = this._blockedFuncs.shift();
          try {
            ot(kr[1], kr[0]);
          } catch {
          }
        }
      return this;
    }
    _locked() {
      return this._reculock && Ke.lockOwnerFor !== this;
    }
    create(kr) {
      if (!this.mode)
        return this;
      const qr = this.db.idbdb, ai = this.db._state.dbOpenError;
      if (m(!this.idbtrans), !kr && !qr)
        switch (ai && ai.name) {
          case "DatabaseClosedError":
            throw new X.DatabaseClosed(ai);
          case "MissingAPIError":
            throw new X.MissingAPI(ai.message, ai);
          default:
            throw new X.OpenFailed(ai);
        }
      if (!this.active)
        throw new X.TransactionInactive();
      return m(this._completion._state === null), (kr = this.idbtrans = kr || (this.db.core ? this.db.core.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability }) : qr.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability }))).onerror = We((gi) => {
        Gt(gi), this._reject(kr.error);
      }), kr.onabort = We((gi) => {
        Gt(gi), this.active && this._reject(new X.Abort(kr.error)), this.active = !1, this.on("abort").fire(gi);
      }), kr.oncomplete = We(() => {
        this.active = !1, this._resolve(), "mutatedParts" in kr && Ht.storagemutated.fire(kr.mutatedParts);
      }), this;
    }
    _promise(kr, qr, ai) {
      if (kr === "readwrite" && this.mode !== "readwrite")
        return ht(new X.ReadOnly("Transaction is readonly"));
      if (!this.active)
        return ht(new X.TransactionInactive());
      if (this._locked())
        return new Ce(($i, xi) => {
          this._blockedFuncs.push([() => {
            this._promise(kr, qr, ai).then($i, xi);
          }, Ke]);
        });
      if (ai)
        return Je(() => {
          var $i = new Ce((xi, Ai) => {
            this._lock();
            const Li = qr(xi, Ai, this);
            Li && Li.then && Li.then(xi, Ai);
          });
          return $i.finally(() => this._unlock()), $i._lib = !0, $i;
        });
      var gi = new Ce(($i, xi) => {
        var Ai = qr($i, xi, this);
        Ai && Ai.then && Ai.then($i, xi);
      });
      return gi._lib = !0, gi;
    }
    _root() {
      return this.parent ? this.parent._root() : this;
    }
    waitFor(kr) {
      var qr = this._root();
      const ai = Ce.resolve(kr);
      if (qr._waitingFor)
        qr._waitingFor = qr._waitingFor.then(() => ai);
      else {
        qr._waitingFor = ai, qr._waitingQueue = [];
        var gi = qr.idbtrans.objectStore(qr.storeNames[0]);
        (function xi() {
          for (++qr._spinCount; qr._waitingQueue.length; )
            qr._waitingQueue.shift()();
          qr._waitingFor && (gi.get(-1 / 0).onsuccess = xi);
        })();
      }
      var $i = qr._waitingFor;
      return new Ce((xi, Ai) => {
        ai.then((Li) => qr._waitingQueue.push(We(xi.bind(null, Li))), (Li) => qr._waitingQueue.push(We(Ai.bind(null, Li)))).finally(() => {
          qr._waitingFor === $i && (qr._waitingFor = null);
        });
      });
    }
    abort() {
      this.active && (this.active = !1, this.idbtrans && this.idbtrans.abort(), this._reject(new X.Abort()));
    }
    table(kr) {
      const qr = this._memoizedTables || (this._memoizedTables = {});
      if (o(qr, kr))
        return qr[kr];
      const ai = this.schema[kr];
      if (!ai)
        throw new X.NotFound("Table " + kr + " not part of transaction");
      const gi = new this.db.Table(kr, ai, this);
      return gi.core = this.db.core.table(kr), qr[kr] = gi, gi;
    }
  }
  function Xt(Kr, kr, qr, ai, gi, $i, xi) {
    return { name: Kr, keyPath: kr, unique: qr, multi: ai, auto: gi, compound: $i, src: (qr && !xi ? "&" : "") + (ai ? "*" : "") + (gi ? "++" : "") + Jt(kr) };
  }
  function Jt(Kr) {
    return typeof Kr == "string" ? Kr : Kr ? "[" + [].join.call(Kr, "+") + "]" : "";
  }
  function Zt(Kr, kr, qr) {
    return { name: Kr, primKey: kr, indexes: qr, mappedClass: null, idxByName: g(qr, (ai) => [ai.name, ai]) };
  }
  let en = (Kr) => {
    try {
      return Kr.only([[]]), en = () => [[]], [[]];
    } catch {
      return en = () => ft, ft;
    }
  };
  function tn(Kr) {
    return Kr == null ? () => {
    } : typeof Kr == "string" ? function(kr) {
      return kr.split(".").length === 1 ? (qr) => qr[kr] : (qr) => b(qr, kr);
    }(Kr) : (kr) => b(kr, Kr);
  }
  function nn(Kr) {
    return [].slice.call(Kr);
  }
  let rn = 0;
  function sn(Kr) {
    return Kr == null ? ":id" : typeof Kr == "string" ? Kr : `[${Kr.join("+")}]`;
  }
  function on(Kr, kr, qr) {
    function ai(Li) {
      if (Li.type === 3)
        return null;
      if (Li.type === 4)
        throw new Error("Cannot convert never type to IDBKeyRange");
      const { lower: Fi, upper: Oa, lowerOpen: So, upperOpen: Ns } = Li;
      return Fi === void 0 ? Oa === void 0 ? null : kr.upperBound(Oa, !!Ns) : Oa === void 0 ? kr.lowerBound(Fi, !!So) : kr.bound(Fi, Oa, !!So, !!Ns);
    }
    const { schema: gi, hasGetAll: $i } = function(Li, Fi) {
      const Oa = nn(Li.objectStoreNames);
      return { schema: { name: Li.name, tables: Oa.map((So) => Fi.objectStore(So)).map((So) => {
        const { keyPath: Ns, autoIncrement: Uc } = So, Kc = n(Ns), Bc = Ns == null, Wc = {}, Vc = { name: So.name, primaryKey: { name: null, isPrimaryKey: !0, outbound: Bc, compound: Kc, keyPath: Ns, autoIncrement: Uc, unique: !0, extractKey: tn(Ns) }, indexes: nn(So.indexNames).map((qc) => So.index(qc)).map((qc) => {
          const { name: Qc, unique: zc, multiEntry: Yc, keyPath: Xc } = qc, Hc = { name: Qc, compound: n(Xc), keyPath: Xc, unique: zc, multiEntry: Yc, extractKey: tn(Xc) };
          return Wc[sn(Xc)] = Hc, Hc;
        }), getIndexByKeyPath: (qc) => Wc[sn(qc)] };
        return Wc[":id"] = Vc.primaryKey, Ns != null && (Wc[sn(Ns)] = Vc.primaryKey), Vc;
      }) }, hasGetAll: Oa.length > 0 && "getAll" in Fi.objectStore(Oa[0]) && !(typeof navigator < "u" && /Safari/.test(navigator.userAgent) && !/(Chrome\/|Edge\/)/.test(navigator.userAgent) && [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604) };
    }(Kr, qr), xi = gi.tables.map((Li) => function(Fi) {
      const Oa = Fi.name;
      return { name: Oa, schema: Fi, mutate: function({ trans: So, type: Ns, keys: Uc, values: Kc, range: Bc }) {
        return new Promise((Wc, Vc) => {
          Wc = We(Wc);
          const qc = So.objectStore(Oa), Qc = qc.keyPath == null, zc = Ns === "put" || Ns === "add";
          if (!zc && Ns !== "delete" && Ns !== "deleteRange")
            throw new Error("Invalid operation type: " + Ns);
          const { length: Yc } = Uc || Kc || { length: 1 };
          if (Uc && Kc && Uc.length !== Kc.length)
            throw new Error("Given keys array must have same length as given values array.");
          if (Yc === 0)
            return Wc({ numFailures: 0, failures: {}, results: [], lastResult: void 0 });
          let Xc;
          const Hc = [], eu = [];
          let nu = 0;
          const su = (Lp) => {
            ++nu, Gt(Lp);
          };
          if (Ns === "deleteRange") {
            if (Bc.type === 4)
              return Wc({ numFailures: nu, failures: eu, results: [], lastResult: void 0 });
            Bc.type === 3 ? Hc.push(Xc = qc.clear()) : Hc.push(Xc = qc.delete(ai(Bc)));
          } else {
            const [Lp, vp] = zc ? Qc ? [Kc, Uc] : [Kc, null] : [Uc, null];
            if (zc)
              for (let au = 0; au < Yc; ++au)
                Hc.push(Xc = vp && vp[au] !== void 0 ? qc[Ns](Lp[au], vp[au]) : qc[Ns](Lp[au])), Xc.onerror = su;
            else
              for (let au = 0; au < Yc; ++au)
                Hc.push(Xc = qc[Ns](Lp[au])), Xc.onerror = su;
          }
          const yp = (Lp) => {
            const vp = Lp.target.result;
            Hc.forEach((au, ou) => au.error != null && (eu[ou] = au.error)), Wc({ numFailures: nu, failures: eu, results: Ns === "delete" ? Uc : Hc.map((au) => au.result), lastResult: vp });
          };
          Xc.onerror = (Lp) => {
            su(Lp), yp(Lp);
          }, Xc.onsuccess = yp;
        });
      }, getMany: ({ trans: So, keys: Ns }) => new Promise((Uc, Kc) => {
        Uc = We(Uc);
        const Bc = So.objectStore(Oa), Wc = Ns.length, Vc = new Array(Wc);
        let qc, Qc = 0, zc = 0;
        const Yc = (Hc) => {
          const eu = Hc.target;
          Vc[eu._pos] = eu.result, ++zc === Qc && Uc(Vc);
        }, Xc = zt(Kc);
        for (let Hc = 0; Hc < Wc; ++Hc)
          Ns[Hc] != null && (qc = Bc.get(Ns[Hc]), qc._pos = Hc, qc.onsuccess = Yc, qc.onerror = Xc, ++Qc);
        Qc === 0 && Uc(Vc);
      }), get: ({ trans: So, key: Ns }) => new Promise((Uc, Kc) => {
        Uc = We(Uc);
        const Bc = So.objectStore(Oa).get(Ns);
        Bc.onsuccess = (Wc) => Uc(Wc.target.result), Bc.onerror = zt(Kc);
      }), query: function(So) {
        return (Ns) => new Promise((Uc, Kc) => {
          Uc = We(Uc);
          const { trans: Bc, values: Wc, limit: Vc, query: qc } = Ns, Qc = Vc === 1 / 0 ? void 0 : Vc, { index: zc, range: Yc } = qc, Xc = Bc.objectStore(Oa), Hc = zc.isPrimaryKey ? Xc : Xc.index(zc.name), eu = ai(Yc);
          if (Vc === 0)
            return Uc({ result: [] });
          if (So) {
            const nu = Wc ? Hc.getAll(eu, Qc) : Hc.getAllKeys(eu, Qc);
            nu.onsuccess = (su) => Uc({ result: su.target.result }), nu.onerror = zt(Kc);
          } else {
            let nu = 0;
            const su = Wc || !("openKeyCursor" in Hc) ? Hc.openCursor(eu) : Hc.openKeyCursor(eu), yp = [];
            su.onsuccess = (Lp) => {
              const vp = su.result;
              return vp ? (yp.push(Wc ? vp.value : vp.primaryKey), ++nu === Vc ? Uc({ result: yp }) : void vp.continue()) : Uc({ result: yp });
            }, su.onerror = zt(Kc);
          }
        });
      }($i), openCursor: function({ trans: So, values: Ns, query: Uc, reverse: Kc, unique: Bc }) {
        return new Promise((Wc, Vc) => {
          Wc = We(Wc);
          const { index: qc, range: Qc } = Uc, zc = So.objectStore(Oa), Yc = qc.isPrimaryKey ? zc : zc.index(qc.name), Xc = Kc ? Bc ? "prevunique" : "prev" : Bc ? "nextunique" : "next", Hc = Ns || !("openKeyCursor" in Yc) ? Yc.openCursor(ai(Qc), Xc) : Yc.openKeyCursor(ai(Qc), Xc);
          Hc.onerror = zt(Vc), Hc.onsuccess = We((eu) => {
            const nu = Hc.result;
            if (!nu)
              return void Wc(null);
            nu.___id = ++rn, nu.done = !1;
            const su = nu.continue.bind(nu);
            let yp = nu.continuePrimaryKey;
            yp && (yp = yp.bind(nu));
            const Lp = nu.advance.bind(nu), vp = () => {
              throw new Error("Cursor not stopped");
            };
            nu.trans = So, nu.stop = nu.continue = nu.continuePrimaryKey = nu.advance = () => {
              throw new Error("Cursor not started");
            }, nu.fail = We(Vc), nu.next = function() {
              let au = 1;
              return this.start(() => au-- ? this.continue() : this.stop()).then(() => this);
            }, nu.start = (au) => {
              const ou = new Promise((cu, Gc) => {
                cu = We(cu), Hc.onerror = zt(Gc), nu.fail = Gc, nu.stop = (Zc) => {
                  nu.stop = nu.continue = nu.continuePrimaryKey = nu.advance = vp, cu(Zc);
                };
              }), rp = () => {
                if (Hc.result)
                  try {
                    au();
                  } catch (cu) {
                    nu.fail(cu);
                  }
                else
                  nu.done = !0, nu.start = () => {
                    throw new Error("Cursor behind last entry");
                  }, nu.stop();
              };
              return Hc.onsuccess = We((cu) => {
                Hc.onsuccess = rp, rp();
              }), nu.continue = su, nu.continuePrimaryKey = yp, nu.advance = Lp, rp(), ou;
            }, Wc(nu);
          }, Vc);
        });
      }, count({ query: So, trans: Ns }) {
        const { index: Uc, range: Kc } = So;
        return new Promise((Bc, Wc) => {
          const Vc = Ns.objectStore(Oa), qc = Uc.isPrimaryKey ? Vc : Vc.index(Uc.name), Qc = ai(Kc), zc = Qc ? qc.count(Qc) : qc.count();
          zc.onsuccess = We((Yc) => Bc(Yc.target.result)), zc.onerror = zt(Wc);
        });
      } };
    }(Li)), Ai = {};
    return xi.forEach((Li) => Ai[Li.name] = Li), { stack: "dbcore", transaction: Kr.transaction.bind(Kr), table(Li) {
      if (!Ai[Li])
        throw new Error(`Table '${Li}' not found`);
      return Ai[Li];
    }, MIN_KEY: -1 / 0, MAX_KEY: en(kr), schema: gi };
  }
  function an({ _novip: Kr }, kr) {
    const qr = kr.db, ai = function(gi, $i, { IDBKeyRange: xi, indexedDB: Ai }, Li) {
      return { dbcore: function(Oa, So) {
        return So.reduce((Ns, { create: Uc }) => ({ ...Ns, ...Uc(Ns) }), Oa);
      }(on($i, xi, Li), gi.dbcore) };
    }(Kr._middlewares, qr, Kr._deps, kr);
    Kr.core = ai.dbcore, Kr.tables.forEach((gi) => {
      const $i = gi.name;
      Kr.core.schema.tables.some((xi) => xi.name === $i) && (gi.core = Kr.core.table($i), Kr[$i] instanceof Kr.Table && (Kr[$i].core = gi.core));
    });
  }
  function un({ _novip: Kr }, kr, qr, ai) {
    qr.forEach((gi) => {
      const $i = ai[gi];
      kr.forEach((xi) => {
        const Ai = d(xi, gi);
        (!Ai || "value" in Ai && Ai.value === void 0) && (xi === Kr.Transaction.prototype || xi instanceof Kr.Transaction ? l(xi, gi, { get() {
          return this.table(gi);
        }, set(Li) {
          u(this, gi, { value: Li, writable: !0, configurable: !0, enumerable: !0 });
        } }) : xi[gi] = new Kr.Table(gi, $i));
      });
    });
  }
  function ln({ _novip: Kr }, kr) {
    kr.forEach((qr) => {
      for (let ai in qr)
        qr[ai] instanceof Kr.Table && delete qr[ai];
    });
  }
  function cn(Kr, kr) {
    return Kr._cfg.version - kr._cfg.version;
  }
  function hn(Kr, kr, qr, ai) {
    const gi = Kr._dbSchema, $i = Kr._createTransaction("readwrite", Kr._storeNames, gi);
    $i.create(qr), $i._completion.catch(ai);
    const xi = $i._reject.bind($i), Ai = Ke.transless || Ke;
    Je(() => {
      Ke.trans = $i, Ke.transless = Ai, kr === 0 ? (t(gi).forEach((Li) => {
        fn(qr, Li, gi[Li].primKey, gi[Li].indexes);
      }), an(Kr, qr), Ce.follow(() => Kr.on.populate.fire($i)).catch(xi)) : function({ _novip: Li }, Fi, Oa, So) {
        const Ns = [], Uc = Li._versions;
        let Kc = Li._dbSchema = yn(Li, Li.idbdb, So), Bc = !1;
        function Wc() {
          return Ns.length ? Ce.resolve(Ns.shift()(Oa.idbtrans)).then(Wc) : Ce.resolve();
        }
        return Uc.filter((Vc) => Vc._cfg.version >= Fi).forEach((Vc) => {
          Ns.push(() => {
            const qc = Kc, Qc = Vc._cfg.dbschema;
            mn(Li, qc, So), mn(Li, Qc, So), Kc = Li._dbSchema = Qc;
            const zc = dn(qc, Qc);
            zc.add.forEach((Xc) => {
              fn(So, Xc[0], Xc[1].primKey, Xc[1].indexes);
            }), zc.change.forEach((Xc) => {
              if (Xc.recreate)
                throw new X.Upgrade("Not yet support for changing primary key");
              {
                const Hc = So.objectStore(Xc.name);
                Xc.add.forEach((eu) => pn(Hc, eu)), Xc.change.forEach((eu) => {
                  Hc.deleteIndex(eu.name), pn(Hc, eu);
                }), Xc.del.forEach((eu) => Hc.deleteIndex(eu));
              }
            });
            const Yc = Vc._cfg.contentUpgrade;
            if (Yc && Vc._cfg.version > Fi) {
              an(Li, So), Oa._memoizedTables = {}, Bc = !0;
              let Xc = w(Qc);
              zc.del.forEach((su) => {
                Xc[su] = qc[su];
              }), ln(Li, [Li.Transaction.prototype]), un(Li, [Li.Transaction.prototype], t(Xc), Xc), Oa.schema = Xc;
              const Hc = T(Yc);
              let eu;
              Hc && Ze();
              const nu = Ce.follow(() => {
                if (eu = Yc(Oa), eu && Hc) {
                  var su = et.bind(null, null);
                  eu.then(su, su);
                }
              });
              return eu && typeof eu.then == "function" ? Ce.resolve(eu) : nu.then(() => eu);
            }
          }), Ns.push((qc) => {
            (!Bc || !vt) && function(Qc, zc) {
              [].slice.call(zc.db.objectStoreNames).forEach((Yc) => Qc[Yc] == null && zc.db.deleteObjectStore(Yc));
            }(Vc._cfg.dbschema, qc), ln(Li, [Li.Transaction.prototype]), un(Li, [Li.Transaction.prototype], Li._storeNames, Li._dbSchema), Oa.schema = Li._dbSchema;
          });
        }), Wc().then(() => {
          var Vc, qc;
          qc = So, t(Vc = Kc).forEach((Qc) => {
            qc.db.objectStoreNames.contains(Qc) || fn(qc, Qc, Vc[Qc].primKey, Vc[Qc].indexes);
          });
        });
      }(Kr, kr, $i, qr).catch(xi);
    });
  }
  function dn(Kr, kr) {
    const qr = { del: [], add: [], change: [] };
    let ai;
    for (ai in Kr)
      kr[ai] || qr.del.push(ai);
    for (ai in kr) {
      const gi = Kr[ai], $i = kr[ai];
      if (gi) {
        const xi = { name: ai, def: $i, recreate: !1, del: [], add: [], change: [] };
        if ("" + (gi.primKey.keyPath || "") != "" + ($i.primKey.keyPath || "") || gi.primKey.auto !== $i.primKey.auto && !mt)
          xi.recreate = !0, qr.change.push(xi);
        else {
          const Ai = gi.idxByName, Li = $i.idxByName;
          let Fi;
          for (Fi in Ai)
            Li[Fi] || xi.del.push(Fi);
          for (Fi in Li) {
            const Oa = Ai[Fi], So = Li[Fi];
            Oa ? Oa.src !== So.src && xi.change.push(So) : xi.add.push(So);
          }
          (xi.del.length > 0 || xi.add.length > 0 || xi.change.length > 0) && qr.change.push(xi);
        }
      } else
        qr.add.push([ai, $i]);
    }
    return qr;
  }
  function fn(Kr, kr, qr, ai) {
    const gi = Kr.db.createObjectStore(kr, qr.keyPath ? { keyPath: qr.keyPath, autoIncrement: qr.auto } : { autoIncrement: qr.auto });
    return ai.forEach(($i) => pn(gi, $i)), gi;
  }
  function pn(Kr, kr) {
    Kr.createIndex(kr.name, kr.keyPath, { unique: kr.unique, multiEntry: kr.multi });
  }
  function yn(Kr, kr, qr) {
    const ai = {};
    return p(kr.objectStoreNames, 0).forEach((gi) => {
      const $i = qr.objectStore(gi);
      let xi = $i.keyPath;
      const Ai = Xt(Jt(xi), xi || "", !1, !1, !!$i.autoIncrement, xi && typeof xi != "string", !0), Li = [];
      for (let Oa = 0; Oa < $i.indexNames.length; ++Oa) {
        const So = $i.index($i.indexNames[Oa]);
        xi = So.keyPath;
        var Fi = Xt(So.name, xi, !!So.unique, !!So.multiEntry, !1, xi && typeof xi != "string", !1);
        Li.push(Fi);
      }
      ai[gi] = Zt(gi, Ai, Li);
    }), ai;
  }
  function mn({ _novip: Kr }, kr, qr) {
    const ai = qr.db.objectStoreNames;
    for (let gi = 0; gi < ai.length; ++gi) {
      const $i = ai[gi], xi = qr.objectStore($i);
      Kr._hasGetAll = "getAll" in xi;
      for (let Ai = 0; Ai < xi.indexNames.length; ++Ai) {
        const Li = xi.indexNames[Ai], Fi = xi.index(Li).keyPath, Oa = typeof Fi == "string" ? Fi : "[" + p(Fi).join("+") + "]";
        if (kr[$i]) {
          const So = kr[$i].idxByName[Oa];
          So && (So.name = Li, delete kr[$i].idxByName[Oa], kr[$i].idxByName[Li] = So);
        }
      }
    }
    typeof navigator < "u" && /Safari/.test(navigator.userAgent) && !/(Chrome\/|Edge\/)/.test(navigator.userAgent) && e.WorkerGlobalScope && e instanceof e.WorkerGlobalScope && [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604 && (Kr._hasGetAll = !1);
  }
  class vn {
    _parseStoresSpec(kr, qr) {
      t(kr).forEach((ai) => {
        if (kr[ai] !== null) {
          var gi = kr[ai].split(",").map((xi, Ai) => {
            const Li = (xi = xi.trim()).replace(/([&*]|\+\+)/g, ""), Fi = /^\[/.test(Li) ? Li.match(/^\[(.*)\]$/)[1].split("+") : Li;
            return Xt(Li, Fi || null, /\&/.test(xi), /\*/.test(xi), /\+\+/.test(xi), n(Fi), Ai === 0);
          }), $i = gi.shift();
          if ($i.multi)
            throw new X.Schema("Primary key cannot be multi-valued");
          gi.forEach((xi) => {
            if (xi.auto)
              throw new X.Schema("Only primary key can be marked as autoIncrement (++)");
            if (!xi.keyPath)
              throw new X.Schema("Index must have a name and cannot be an empty string");
          }), qr[ai] = Zt(ai, $i, gi);
        }
      });
    }
    stores(kr) {
      const qr = this.db;
      this._cfg.storesSource = this._cfg.storesSource ? r(this._cfg.storesSource, kr) : kr;
      const ai = qr._versions, gi = {};
      let $i = {};
      return ai.forEach((xi) => {
        r(gi, xi._cfg.storesSource), $i = xi._cfg.dbschema = {}, xi._parseStoresSpec(gi, $i);
      }), qr._dbSchema = $i, ln(qr, [qr._allTables, qr, qr.Transaction.prototype]), un(qr, [qr._allTables, qr, qr.Transaction.prototype, this._cfg.tables], t($i), $i), qr._storeNames = t($i), this;
    }
    upgrade(kr) {
      return this._cfg.contentUpgrade = ue(this._cfg.contentUpgrade || ee, kr), this;
    }
  }
  function gn(Kr, kr) {
    let qr = Kr._dbNamesDB;
    return qr || (qr = Kr._dbNamesDB = new $n("__dbnames", { addons: [], indexedDB: Kr, IDBKeyRange: kr }), qr.version(1).stores({ dbnames: "name" })), qr.table("dbnames");
  }
  function bn(Kr) {
    return Kr && typeof Kr.databases == "function";
  }
  function _n(Kr) {
    return Je(function() {
      return Ke.letThrough = !0, Kr();
    });
  }
  function wn() {
    var Kr;
    return !navigator.userAgentData && /Safari\//.test(navigator.userAgent) && !/Chrom(e|ium)\//.test(navigator.userAgent) && indexedDB.databases ? new Promise(function(kr) {
      var qr = function() {
        return indexedDB.databases().finally(kr);
      };
      Kr = setInterval(qr, 100), qr();
    }).finally(function() {
      return clearInterval(Kr);
    }) : Promise.resolve();
  }
  function xn(Kr) {
    const kr = Kr._state, { indexedDB: qr } = Kr._deps;
    if (kr.isBeingOpened || Kr.idbdb)
      return kr.dbReadyPromise.then(() => kr.dbOpenError ? ht(kr.dbOpenError) : Kr);
    R && (kr.openCanceller._stackHolder = q()), kr.isBeingOpened = !0, kr.dbOpenError = null, kr.openComplete = !1;
    const ai = kr.openCanceller;
    function gi() {
      if (kr.openCanceller !== ai)
        throw new X.DatabaseClosed("db.open() was cancelled");
    }
    let $i = kr.dbReadyResolve, xi = null, Ai = !1;
    return Ce.race([ai, (typeof navigator > "u" ? Ce.resolve() : wn()).then(() => new Ce((Li, Fi) => {
      if (gi(), !qr)
        throw new X.MissingAPI();
      const Oa = Kr.name, So = kr.autoSchema ? qr.open(Oa) : qr.open(Oa, Math.round(10 * Kr.verno));
      if (!So)
        throw new X.MissingAPI();
      So.onerror = zt(Fi), So.onblocked = We(Kr._fireOnBlocked), So.onupgradeneeded = We((Ns) => {
        if (xi = So.transaction, kr.autoSchema && !Kr._options.allowEmptyDB) {
          So.onerror = Gt, xi.abort(), So.result.close();
          const Kc = qr.deleteDatabase(Oa);
          Kc.onsuccess = Kc.onerror = We(() => {
            Fi(new X.NoSuchDatabase(`Database ${Oa} doesnt exist`));
          });
        } else {
          xi.onerror = zt(Fi);
          var Uc = Ns.oldVersion > Math.pow(2, 62) ? 0 : Ns.oldVersion;
          Ai = Uc < 1, Kr._novip.idbdb = So.result, hn(Kr, Uc / 10, xi, Fi);
        }
      }, Fi), So.onsuccess = We(() => {
        xi = null;
        const Ns = Kr._novip.idbdb = So.result, Uc = p(Ns.objectStoreNames);
        if (Uc.length > 0)
          try {
            const Bc = Ns.transaction((Kc = Uc).length === 1 ? Kc[0] : Kc, "readonly");
            kr.autoSchema ? function({ _novip: Wc }, Vc, qc) {
              Wc.verno = Vc.version / 10;
              const Qc = Wc._dbSchema = yn(0, Vc, qc);
              Wc._storeNames = p(Vc.objectStoreNames, 0), un(Wc, [Wc._allTables], t(Qc), Qc);
            }(Kr, Ns, Bc) : (mn(Kr, Kr._dbSchema, Bc), function(Wc, Vc) {
              const qc = dn(yn(0, Wc.idbdb, Vc), Wc._dbSchema);
              return !(qc.add.length || qc.change.some((Qc) => Qc.add.length || Qc.change.length));
            }(Kr, Bc) || console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")), an(Kr, Bc);
          } catch {
          }
        var Kc;
        yt.push(Kr), Ns.onversionchange = We((Bc) => {
          kr.vcFired = !0, Kr.on("versionchange").fire(Bc);
        }), Ns.onclose = We((Bc) => {
          Kr.on("close").fire(Bc);
        }), Ai && function({ indexedDB: Bc, IDBKeyRange: Wc }, Vc) {
          !bn(Bc) && Vc !== "__dbnames" && gn(Bc, Wc).put({ name: Vc }).catch(ee);
        }(Kr._deps, Oa), Li();
      }, Fi);
    }))]).then(() => (gi(), kr.onReadyBeingFired = [], Ce.resolve(_n(() => Kr.on.ready.fire(Kr.vip))).then(function Li() {
      if (kr.onReadyBeingFired.length > 0) {
        let Fi = kr.onReadyBeingFired.reduce(ue, ee);
        return kr.onReadyBeingFired = [], Ce.resolve(_n(() => Fi(Kr.vip))).then(Li);
      }
    }))).finally(() => {
      kr.onReadyBeingFired = null, kr.isBeingOpened = !1;
    }).then(() => Kr).catch((Li) => {
      kr.dbOpenError = Li;
      try {
        xi && xi.abort();
      } catch {
      }
      return ai === kr.openCanceller && Kr._close(), ht(Li);
    }).finally(() => {
      kr.openComplete = !0, $i();
    });
  }
  function kn(Kr) {
    var kr = ($i) => Kr.next($i), qr = gi(kr), ai = gi(($i) => Kr.throw($i));
    function gi($i) {
      return (xi) => {
        var Ai = $i(xi), Li = Ai.value;
        return Ai.done ? Li : Li && typeof Li.then == "function" ? Li.then(qr, ai) : n(Li) ? Promise.all(Li).then(qr, ai) : qr(Li);
      };
    }
    return gi(kr)();
  }
  function En(Kr, kr, qr) {
    var ai = arguments.length;
    if (ai < 2)
      throw new X.InvalidArgument("Too few arguments");
    for (var gi = new Array(ai - 1); --ai; )
      gi[ai - 1] = arguments[ai];
    qr = gi.pop();
    var $i = k(gi);
    return [Kr, $i, qr];
  }
  function Pn(Kr, kr, qr, ai, gi) {
    return Ce.resolve().then(() => {
      const $i = Ke.transless || Ke, xi = Kr._createTransaction(kr, qr, Kr._dbSchema, ai), Ai = { trans: xi, transless: $i };
      if (ai)
        xi.idbtrans = ai.idbtrans;
      else
        try {
          xi.create(), Kr._state.PR1398_maxLoop = 3;
        } catch (So) {
          return So.name === H.InvalidState && Kr.isOpen() && --Kr._state.PR1398_maxLoop > 0 ? (console.warn("Dexie: Need to reopen db"), Kr._close(), Kr.open().then(() => Pn(Kr, kr, qr, null, gi))) : ht(So);
        }
      const Li = T(gi);
      let Fi;
      Li && Ze();
      const Oa = Ce.follow(() => {
        if (Fi = gi.call(xi, xi), Fi)
          if (Li) {
            var So = et.bind(null, null);
            Fi.then(So, So);
          } else
            typeof Fi.next == "function" && typeof Fi.throw == "function" && (Fi = kn(Fi));
      }, Ai);
      return (Fi && typeof Fi.then == "function" ? Ce.resolve(Fi).then((So) => xi.active ? So : ht(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))) : Oa.then(() => Fi)).then((So) => (ai && xi._resolve(), xi._completion.then(() => So))).catch((So) => (xi._reject(So), ht(So)));
    });
  }
  function Kn(Kr, kr, qr) {
    const ai = n(Kr) ? Kr.slice() : [Kr];
    for (let gi = 0; gi < qr; ++gi)
      ai.push(kr);
    return ai;
  }
  const On = { stack: "dbcore", name: "VirtualIndexMiddleware", level: 1, create: function(Kr) {
    return { ...Kr, table(kr) {
      const qr = Kr.table(kr), { schema: ai } = qr, gi = {}, $i = [];
      function xi(Oa, So, Ns) {
        const Uc = sn(Oa), Kc = gi[Uc] = gi[Uc] || [], Bc = Oa == null ? 0 : typeof Oa == "string" ? 1 : Oa.length, Wc = So > 0, Vc = { ...Ns, isVirtual: Wc, keyTail: So, keyLength: Bc, extractKey: tn(Oa), unique: !Wc && Ns.unique };
        return Kc.push(Vc), Vc.isPrimaryKey || $i.push(Vc), Bc > 1 && xi(Bc === 2 ? Oa[0] : Oa.slice(0, Bc - 1), So + 1, Ns), Kc.sort((qc, Qc) => qc.keyTail - Qc.keyTail), Vc;
      }
      const Ai = xi(ai.primaryKey.keyPath, 0, ai.primaryKey);
      gi[":id"] = [Ai];
      for (const Oa of ai.indexes)
        xi(Oa.keyPath, 0, Oa);
      function Li(Oa) {
        const So = Oa.query.index;
        return So.isVirtual ? { ...Oa, query: { index: So, range: (Ns = Oa.query.range, Uc = So.keyTail, { type: Ns.type === 1 ? 2 : Ns.type, lower: Kn(Ns.lower, Ns.lowerOpen ? Kr.MAX_KEY : Kr.MIN_KEY, Uc), lowerOpen: !0, upper: Kn(Ns.upper, Ns.upperOpen ? Kr.MIN_KEY : Kr.MAX_KEY, Uc), upperOpen: !0 }) } } : Oa;
        var Ns, Uc;
      }
      return { ...qr, schema: { ...ai, primaryKey: Ai, indexes: $i, getIndexByKeyPath: function(Oa) {
        const So = gi[sn(Oa)];
        return So && So[0];
      } }, count: (Oa) => qr.count(Li(Oa)), query: (Oa) => qr.query(Li(Oa)), openCursor(Oa) {
        const { keyTail: So, isVirtual: Ns, keyLength: Uc } = Oa.query.index;
        return Ns ? qr.openCursor(Li(Oa)).then((Kc) => Kc && function(Bc) {
          return Object.create(Bc, { continue: { value: function(Vc) {
            Vc != null ? Bc.continue(Kn(Vc, Oa.reverse ? Kr.MAX_KEY : Kr.MIN_KEY, So)) : Oa.unique ? Bc.continue(Bc.key.slice(0, Uc).concat(Oa.reverse ? Kr.MIN_KEY : Kr.MAX_KEY, So)) : Bc.continue();
          } }, continuePrimaryKey: { value(Vc, qc) {
            Bc.continuePrimaryKey(Kn(Vc, Kr.MAX_KEY, So), qc);
          } }, primaryKey: { get: () => Bc.primaryKey }, key: { get() {
            const Vc = Bc.key;
            return Uc === 1 ? Vc[0] : Vc.slice(0, Uc);
          } }, value: { get: () => Bc.value } });
        }(Kc)) : qr.openCursor(Oa);
      } };
    } };
  } };
  function Sn(Kr, kr, qr, ai) {
    return qr = qr || {}, ai = ai || "", t(Kr).forEach((gi) => {
      if (o(kr, gi)) {
        var $i = Kr[gi], xi = kr[gi];
        if (typeof $i == "object" && typeof xi == "object" && $i && xi) {
          const Ai = C($i);
          Ai !== C(xi) ? qr[ai + gi] = kr[gi] : Ai === "Object" ? Sn($i, xi, qr, ai + gi + ".") : $i !== xi && (qr[ai + gi] = kr[gi]);
        } else
          $i !== xi && (qr[ai + gi] = kr[gi]);
      } else
        qr[ai + gi] = void 0;
    }), t(kr).forEach((gi) => {
      o(Kr, gi) || (qr[ai + gi] = kr[gi]);
    }), qr;
  }
  const An = { stack: "dbcore", name: "HooksMiddleware", level: 2, create: (Kr) => ({ ...Kr, table(kr) {
    const qr = Kr.table(kr), { primaryKey: ai } = qr.schema;
    return { ...qr, mutate($i) {
      const xi = Ke.trans, { deleting: Ai, creating: Li, updating: Fi } = xi.table(kr).hook;
      switch ($i.type) {
        case "add":
          if (Li.fire === ee)
            break;
          return xi._promise("readwrite", () => Oa($i), !0);
        case "put":
          if (Li.fire === ee && Fi.fire === ee)
            break;
          return xi._promise("readwrite", () => Oa($i), !0);
        case "delete":
          if (Ai.fire === ee)
            break;
          return xi._promise("readwrite", () => Oa($i), !0);
        case "deleteRange":
          if (Ai.fire === ee)
            break;
          return xi._promise("readwrite", () => function(Ns) {
            return So(Ns.trans, Ns.range, 1e4);
          }($i), !0);
      }
      return qr.mutate($i);
      function Oa(Ns) {
        const Uc = Ke.trans, Kc = Ns.keys || function(Bc, Wc) {
          return Wc.type === "delete" ? Wc.keys : Wc.keys || Wc.values.map(Bc.extractKey);
        }(ai, Ns);
        if (!Kc)
          throw new Error("Keys missing");
        return (Ns = Ns.type === "add" || Ns.type === "put" ? { ...Ns, keys: Kc } : { ...Ns }).type !== "delete" && (Ns.values = [...Ns.values]), Ns.keys && (Ns.keys = [...Ns.keys]), function(Bc, Wc, Vc) {
          return Wc.type === "add" ? Promise.resolve([]) : Bc.getMany({ trans: Wc.trans, keys: Vc, cache: "immutable" });
        }(qr, Ns, Kc).then((Bc) => {
          const Wc = Kc.map((Vc, qc) => {
            const Qc = Bc[qc], zc = { onerror: null, onsuccess: null };
            if (Ns.type === "delete")
              Ai.fire.call(zc, Vc, Qc, Uc);
            else if (Ns.type === "add" || Qc === void 0) {
              const Yc = Li.fire.call(zc, Vc, Ns.values[qc], Uc);
              Vc == null && Yc != null && (Vc = Yc, Ns.keys[qc] = Vc, ai.outbound || _(Ns.values[qc], ai.keyPath, Vc));
            } else {
              const Yc = Sn(Qc, Ns.values[qc]), Xc = Fi.fire.call(zc, Yc, Vc, Qc, Uc);
              if (Xc) {
                const Hc = Ns.values[qc];
                Object.keys(Xc).forEach((eu) => {
                  o(Hc, eu) ? Hc[eu] = Xc[eu] : _(Hc, eu, Xc[eu]);
                });
              }
            }
            return zc;
          });
          return qr.mutate(Ns).then(({ failures: Vc, results: qc, numFailures: Qc, lastResult: zc }) => {
            for (let Yc = 0; Yc < Kc.length; ++Yc) {
              const Xc = qc ? qc[Yc] : Kc[Yc], Hc = Wc[Yc];
              Xc == null ? Hc.onerror && Hc.onerror(Vc[Yc]) : Hc.onsuccess && Hc.onsuccess(Ns.type === "put" && Bc[Yc] ? Ns.values[Yc] : Xc);
            }
            return { failures: Vc, results: qc, numFailures: Qc, lastResult: zc };
          }).catch((Vc) => (Wc.forEach((qc) => qc.onerror && qc.onerror(Vc)), Promise.reject(Vc)));
        });
      }
      function So(Ns, Uc, Kc) {
        return qr.query({ trans: Ns, values: !1, query: { index: ai, range: Uc }, limit: Kc }).then(({ result: Bc }) => Oa({ type: "delete", keys: Bc, trans: Ns }).then((Wc) => Wc.numFailures > 0 ? Promise.reject(Wc.failures[0]) : Bc.length < Kc ? { failures: [], numFailures: 0, lastResult: void 0 } : So(Ns, { ...Uc, lower: Bc[Bc.length - 1], lowerOpen: !0 }, Kc)));
      }
    } };
  } }) };
  function Cn(Kr, kr, qr) {
    try {
      if (!kr || kr.keys.length < Kr.length)
        return null;
      const ai = [];
      for (let gi = 0, $i = 0; gi < kr.keys.length && $i < Kr.length; ++gi)
        It(kr.keys[gi], Kr[$i]) === 0 && (ai.push(qr ? O(kr.values[gi]) : kr.values[gi]), ++$i);
      return ai.length === Kr.length ? ai : null;
    } catch {
      return null;
    }
  }
  const jn = { stack: "dbcore", level: -1, create: (Kr) => ({ table: (kr) => {
    const qr = Kr.table(kr);
    return { ...qr, getMany: (ai) => {
      if (!ai.cache)
        return qr.getMany(ai);
      const gi = Cn(ai.keys, ai.trans._cache, ai.cache === "clone");
      return gi ? Ce.resolve(gi) : qr.getMany(ai).then(($i) => (ai.trans._cache = { keys: ai.keys, values: ai.cache === "clone" ? O($i) : $i }, $i));
    }, mutate: (ai) => (ai.type !== "add" && (ai.trans._cache = null), qr.mutate(ai)) };
  } }) };
  function Dn(Kr) {
    return !("from" in Kr);
  }
  const In = function(Kr, kr) {
    if (!this) {
      const qr = new In();
      return Kr && "d" in Kr && r(qr, Kr), qr;
    }
    r(this, arguments.length ? { d: 1, from: Kr, to: arguments.length > 1 ? kr : Kr } : { d: 0 });
  };
  function Bn(Kr, kr, qr) {
    const ai = It(kr, qr);
    if (isNaN(ai))
      return;
    if (ai > 0)
      throw RangeError();
    if (Dn(Kr))
      return r(Kr, { from: kr, to: qr, d: 1 });
    const gi = Kr.l, $i = Kr.r;
    if (It(qr, Kr.from) < 0)
      return gi ? Bn(gi, kr, qr) : Kr.l = { from: kr, to: qr, d: 1, l: null, r: null }, Mn(Kr);
    if (It(kr, Kr.to) > 0)
      return $i ? Bn($i, kr, qr) : Kr.r = { from: kr, to: qr, d: 1, l: null, r: null }, Mn(Kr);
    It(kr, Kr.from) < 0 && (Kr.from = kr, Kr.l = null, Kr.d = $i ? $i.d + 1 : 1), It(qr, Kr.to) > 0 && (Kr.to = qr, Kr.r = null, Kr.d = Kr.l ? Kr.l.d + 1 : 1);
    const xi = !Kr.r;
    gi && !Kr.l && Tn(Kr, gi), $i && xi && Tn(Kr, $i);
  }
  function Tn(Kr, kr) {
    Dn(kr) || function qr(ai, { from: gi, to: $i, l: xi, r: Ai }) {
      Bn(ai, gi, $i), xi && qr(ai, xi), Ai && qr(ai, Ai);
    }(Kr, kr);
  }
  function Rn(Kr, kr) {
    const qr = Fn(kr);
    let ai = qr.next();
    if (ai.done)
      return !1;
    let gi = ai.value;
    const $i = Fn(Kr);
    let xi = $i.next(gi.from), Ai = xi.value;
    for (; !ai.done && !xi.done; ) {
      if (It(Ai.from, gi.to) <= 0 && It(Ai.to, gi.from) >= 0)
        return !0;
      It(gi.from, Ai.from) < 0 ? gi = (ai = qr.next(Ai.from)).value : Ai = (xi = $i.next(gi.from)).value;
    }
    return !1;
  }
  function Fn(Kr) {
    let kr = Dn(Kr) ? null : { s: 0, n: Kr };
    return { next(qr) {
      const ai = arguments.length > 0;
      for (; kr; )
        switch (kr.s) {
          case 0:
            if (kr.s = 1, ai)
              for (; kr.n.l && It(qr, kr.n.from) < 0; )
                kr = { up: kr, n: kr.n.l, s: 1 };
            else
              for (; kr.n.l; )
                kr = { up: kr, n: kr.n.l, s: 1 };
          case 1:
            if (kr.s = 2, !ai || It(qr, kr.n.to) <= 0)
              return { value: kr.n, done: !1 };
          case 2:
            if (kr.n.r) {
              kr.s = 3, kr = { up: kr, n: kr.n.r, s: 0 };
              continue;
            }
          case 3:
            kr = kr.up;
        }
      return { done: !0 };
    } };
  }
  function Mn(Kr) {
    var kr, qr;
    const ai = (((kr = Kr.r) === null || kr === void 0 ? void 0 : kr.d) || 0) - (((qr = Kr.l) === null || qr === void 0 ? void 0 : qr.d) || 0), gi = ai > 1 ? "r" : ai < -1 ? "l" : "";
    if (gi) {
      const $i = gi === "r" ? "l" : "r", xi = { ...Kr }, Ai = Kr[gi];
      Kr.from = Ai.from, Kr.to = Ai.to, Kr[gi] = Ai[gi], xi[gi] = Ai[$i], Kr[$i] = xi, xi.d = Nn(xi);
    }
    Kr.d = Nn(Kr);
  }
  function Nn({ r: Kr, l: kr }) {
    return (Kr ? kr ? Math.max(Kr.d, kr.d) : Kr.d : kr ? kr.d : 0) + 1;
  }
  a(In.prototype, { add(Kr) {
    return Tn(this, Kr), this;
  }, addKey(Kr) {
    return Bn(this, Kr, Kr), this;
  }, addKeys(Kr) {
    return Kr.forEach((kr) => Bn(this, kr, kr)), this;
  }, [j]() {
    return Fn(this);
  } });
  const qn = { stack: "dbcore", level: 0, create: (Kr) => {
    const kr = Kr.schema.name, qr = new In(Kr.MIN_KEY, Kr.MAX_KEY);
    return { ...Kr, table: (ai) => {
      const gi = Kr.table(ai), { schema: $i } = gi, { primaryKey: xi } = $i, { extractKey: Ai, outbound: Li } = xi, Fi = { ...gi, mutate: (Ns) => {
        const Uc = Ns.trans, Kc = Uc.mutatedParts || (Uc.mutatedParts = {}), Bc = (Xc) => {
          const Hc = `idb://${kr}/${ai}/${Xc}`;
          return Kc[Hc] || (Kc[Hc] = new In());
        }, Wc = Bc(""), Vc = Bc(":dels"), { type: qc } = Ns;
        let [Qc, zc] = Ns.type === "deleteRange" ? [Ns.range] : Ns.type === "delete" ? [Ns.keys] : Ns.values.length < 50 ? [[], Ns.values] : [];
        const Yc = Ns.trans._cache;
        return gi.mutate(Ns).then((Xc) => {
          if (n(Qc)) {
            qc !== "delete" && (Qc = Xc.results), Wc.addKeys(Qc);
            const Hc = Cn(Qc, Yc);
            Hc || qc === "add" || Vc.addKeys(Qc), (Hc || zc) && function(eu, nu, su, yp) {
              function Lp(vp) {
                const au = eu(vp.name || "");
                function ou(cu) {
                  return cu != null ? vp.extractKey(cu) : null;
                }
                const rp = (cu) => vp.multiEntry && n(cu) ? cu.forEach((Gc) => au.addKey(Gc)) : au.addKey(cu);
                (su || yp).forEach((cu, Gc) => {
                  const Zc = su && ou(su[Gc]), Jc = yp && ou(yp[Gc]);
                  It(Zc, Jc) !== 0 && (Zc != null && rp(Zc), Jc != null && rp(Jc));
                });
              }
              nu.indexes.forEach(Lp);
            }(Bc, $i, Hc, zc);
          } else if (Qc) {
            const Hc = { from: Qc.lower, to: Qc.upper };
            Vc.add(Hc), Wc.add(Hc);
          } else
            Wc.add(qr), Vc.add(qr), $i.indexes.forEach((Hc) => Bc(Hc.name).add(qr));
          return Xc;
        });
      } }, Oa = ({ query: { index: Ns, range: Uc } }) => {
        var Kc, Bc;
        return [Ns, new In((Kc = Uc.lower) !== null && Kc !== void 0 ? Kc : Kr.MIN_KEY, (Bc = Uc.upper) !== null && Bc !== void 0 ? Bc : Kr.MAX_KEY)];
      }, So = { get: (Ns) => [xi, new In(Ns.key)], getMany: (Ns) => [xi, new In().addKeys(Ns.keys)], count: Oa, query: Oa, openCursor: Oa };
      return t(So).forEach((Ns) => {
        Fi[Ns] = function(Uc) {
          const { subscr: Kc } = Ke;
          if (Kc) {
            const Bc = (zc) => {
              const Yc = `idb://${kr}/${ai}/${zc}`;
              return Kc[Yc] || (Kc[Yc] = new In());
            }, Wc = Bc(""), Vc = Bc(":dels"), [qc, Qc] = So[Ns](Uc);
            if (Bc(qc.name || "").add(Qc), !qc.isPrimaryKey) {
              if (Ns !== "count") {
                const zc = Ns === "query" && Li && Uc.values && gi.query({ ...Uc, values: !1 });
                return gi[Ns].apply(this, arguments).then((Yc) => {
                  if (Ns === "query") {
                    if (Li && Uc.values)
                      return zc.then(({ result: Hc }) => (Wc.addKeys(Hc), Yc));
                    const Xc = Uc.values ? Yc.result.map(Ai) : Yc.result;
                    Uc.values ? Wc.addKeys(Xc) : Vc.addKeys(Xc);
                  } else if (Ns === "openCursor") {
                    const Xc = Yc, Hc = Uc.values;
                    return Xc && Object.create(Xc, { key: { get: () => (Vc.addKey(Xc.primaryKey), Xc.key) }, primaryKey: { get() {
                      const eu = Xc.primaryKey;
                      return Vc.addKey(eu), eu;
                    } }, value: { get: () => (Hc && Wc.addKey(Xc.primaryKey), Xc.value) } });
                  }
                  return Yc;
                });
              }
              Vc.add(qr);
            }
          }
          return gi[Ns].apply(this, arguments);
        };
      }), Fi;
    } };
  } };
  class $n {
    constructor(kr, qr) {
      this._middlewares = {}, this.verno = 0;
      const ai = $n.dependencies;
      this._options = qr = { addons: $n.addons, autoOpen: !0, indexedDB: ai.indexedDB, IDBKeyRange: ai.IDBKeyRange, ...qr }, this._deps = { indexedDB: qr.indexedDB, IDBKeyRange: qr.IDBKeyRange };
      const { addons: gi } = qr;
      this._dbSchema = {}, this._versions = [], this._storeNames = [], this._allTables = {}, this.idbdb = null, this._novip = this;
      const $i = { dbOpenError: null, isBeingOpened: !1, onReadyBeingFired: null, openComplete: !1, dbReadyResolve: ee, dbReadyPromise: null, cancelOpen: ee, openCanceller: null, autoSchema: !0, PR1398_maxLoop: 3 };
      var xi;
      $i.dbReadyPromise = new Ce((Ai) => {
        $i.dbReadyResolve = Ai;
      }), $i.openCanceller = new Ce((Ai, Li) => {
        $i.cancelOpen = Li;
      }), this._state = $i, this.name = kr, this.on = Et(this, "populate", "blocked", "versionchange", "close", { ready: [ue, ee] }), this.on.ready.subscribe = y(this.on.ready.subscribe, (Ai) => (Li, Fi) => {
        $n.vip(() => {
          const Oa = this._state;
          if (Oa.openComplete)
            Oa.dbOpenError || Ce.resolve().then(Li), Fi && Ai(Li);
          else if (Oa.onReadyBeingFired)
            Oa.onReadyBeingFired.push(Li), Fi && Ai(Li);
          else {
            Ai(Li);
            const So = this;
            Fi || Ai(function Ns() {
              So.on.ready.unsubscribe(Li), So.on.ready.unsubscribe(Ns);
            });
          }
        });
      }), this.Collection = (xi = this, Pt(Rt.prototype, function(Ai, Li) {
        this.db = xi;
        let Fi = wt, Oa = null;
        if (Li)
          try {
            Fi = Li();
          } catch (Kc) {
            Oa = Kc;
          }
        const So = Ai._ctx, Ns = So.table, Uc = Ns.hook.reading.fire;
        this._ctx = { table: Ns, index: So.index, isPrimKey: !So.index || Ns.schema.primKey.keyPath && So.index === Ns.schema.primKey.name, range: Fi, keysOnly: !1, dir: "next", unique: "", algorithm: null, filter: null, replayFilter: null, justLimit: !0, isMatch: null, offset: 0, limit: 1 / 0, error: Oa, or: So.or, valueMapper: Uc !== te ? Uc : null };
      })), this.Table = function(Ai) {
        return Pt(kt.prototype, function(Li, Fi, Oa) {
          this.db = Ai, this._tx = Oa, this.name = Li, this.schema = Fi, this.hook = Ai._allTables[Li] ? Ai._allTables[Li].hook : Et(null, { creating: [se, ee], reading: [ne, te], updating: [oe, ee], deleting: [ie, ee] });
        });
      }(this), this.Transaction = function(Ai) {
        return Pt(Qt.prototype, function(Li, Fi, Oa, So, Ns) {
          this.db = Ai, this.mode = Li, this.storeNames = Fi, this.schema = Oa, this.chromeTransactionDurability = So, this.idbtrans = null, this.on = Et(this, "complete", "error", "abort"), this.parent = Ns || null, this.active = !0, this._reculock = 0, this._blockedFuncs = [], this._resolve = null, this._reject = null, this._waitingFor = null, this._waitingQueue = null, this._spinCount = 0, this._completion = new Ce((Uc, Kc) => {
            this._resolve = Uc, this._reject = Kc;
          }), this._completion.then(() => {
            this.active = !1, this.on.complete.fire();
          }, (Uc) => {
            var Kc = this.active;
            return this.active = !1, this.on.error.fire(Uc), this.parent ? this.parent._reject(Uc) : Kc && this.idbtrans && this.idbtrans.abort(), ht(Uc);
          });
        });
      }(this), this.Version = function(Ai) {
        return Pt(vn.prototype, function(Li) {
          this.db = Ai, this._cfg = { version: Li, storesSource: null, dbschema: {}, tables: {}, contentUpgrade: null };
        });
      }(this), this.WhereClause = function(Ai) {
        return Pt(Yt.prototype, function(Li, Fi, Oa) {
          this.db = Ai, this._ctx = { table: Li, index: Fi === ":id" ? null : Fi, or: Oa };
          const So = Ai._deps.indexedDB;
          if (!So)
            throw new X.MissingAPI();
          this._cmp = this._ascending = So.cmp.bind(So), this._descending = (Ns, Uc) => So.cmp(Uc, Ns), this._max = (Ns, Uc) => So.cmp(Ns, Uc) > 0 ? Ns : Uc, this._min = (Ns, Uc) => So.cmp(Ns, Uc) < 0 ? Ns : Uc, this._IDBKeyRange = Ai._deps.IDBKeyRange;
        });
      }(this), this.on("versionchange", (Ai) => {
        Ai.newVersion > 0 ? console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`) : console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`), this.close();
      }), this.on("blocked", (Ai) => {
        !Ai.newVersion || Ai.newVersion < Ai.oldVersion ? console.warn(`Dexie.delete('${this.name}') was blocked`) : console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${Ai.oldVersion / 10}`);
      }), this._maxKey = en(qr.IDBKeyRange), this._createTransaction = (Ai, Li, Fi, Oa) => new this.Transaction(Ai, Li, Fi, this._options.chromeTransactionDurability, Oa), this._fireOnBlocked = (Ai) => {
        this.on("blocked").fire(Ai), yt.filter((Li) => Li.name === this.name && Li !== this && !Li._state.vcFired).map((Li) => Li.on("versionchange").fire(Ai));
      }, this.use(On), this.use(An), this.use(qn), this.use(jn), this.vip = Object.create(this, { _vip: { value: !0 } }), gi.forEach((Ai) => Ai(this));
    }
    version(kr) {
      if (isNaN(kr) || kr < 0.1)
        throw new X.Type("Given version is not a positive number");
      if (kr = Math.round(10 * kr) / 10, this.idbdb || this._state.isBeingOpened)
        throw new X.Schema("Cannot add version when database is open");
      this.verno = Math.max(this.verno, kr);
      const qr = this._versions;
      var ai = qr.filter((gi) => gi._cfg.version === kr)[0];
      return ai || (ai = new this.Version(kr), qr.push(ai), qr.sort(cn), ai.stores({}), this._state.autoSchema = !1, ai);
    }
    _whenReady(kr) {
      return this.idbdb && (this._state.openComplete || Ke.letThrough || this._vip) ? kr() : new Ce((qr, ai) => {
        if (this._state.openComplete)
          return ai(new X.DatabaseClosed(this._state.dbOpenError));
        if (!this._state.isBeingOpened) {
          if (!this._options.autoOpen)
            return void ai(new X.DatabaseClosed());
          this.open().catch(ee);
        }
        this._state.dbReadyPromise.then(qr, ai);
      }).then(kr);
    }
    use({ stack: kr, create: qr, level: ai, name: gi }) {
      gi && this.unuse({ stack: kr, name: gi });
      const $i = this._middlewares[kr] || (this._middlewares[kr] = []);
      return $i.push({ stack: kr, create: qr, level: ai ?? 10, name: gi }), $i.sort((xi, Ai) => xi.level - Ai.level), this;
    }
    unuse({ stack: kr, name: qr, create: ai }) {
      return kr && this._middlewares[kr] && (this._middlewares[kr] = this._middlewares[kr].filter((gi) => ai ? gi.create !== ai : !!qr && gi.name !== qr)), this;
    }
    open() {
      return xn(this);
    }
    _close() {
      const kr = this._state, qr = yt.indexOf(this);
      if (qr >= 0 && yt.splice(qr, 1), this.idbdb) {
        try {
          this.idbdb.close();
        } catch {
        }
        this._novip.idbdb = null;
      }
      kr.dbReadyPromise = new Ce((ai) => {
        kr.dbReadyResolve = ai;
      }), kr.openCanceller = new Ce((ai, gi) => {
        kr.cancelOpen = gi;
      });
    }
    close() {
      this._close();
      const kr = this._state;
      this._options.autoOpen = !1, kr.dbOpenError = new X.DatabaseClosed(), kr.isBeingOpened && kr.cancelOpen(kr.dbOpenError);
    }
    delete() {
      const kr = arguments.length > 0, qr = this._state;
      return new Ce((ai, gi) => {
        const $i = () => {
          this.close();
          var xi = this._deps.indexedDB.deleteDatabase(this.name);
          xi.onsuccess = We(() => {
            (function({ indexedDB: Ai, IDBKeyRange: Li }, Fi) {
              !bn(Ai) && Fi !== "__dbnames" && gn(Ai, Li).delete(Fi).catch(ee);
            })(this._deps, this.name), ai();
          }), xi.onerror = zt(gi), xi.onblocked = this._fireOnBlocked;
        };
        if (kr)
          throw new X.InvalidArgument("Arguments not allowed in db.delete()");
        qr.isBeingOpened ? qr.dbReadyPromise.then($i) : $i();
      });
    }
    backendDB() {
      return this.idbdb;
    }
    isOpen() {
      return this.idbdb !== null;
    }
    hasBeenClosed() {
      const kr = this._state.dbOpenError;
      return kr && kr.name === "DatabaseClosed";
    }
    hasFailed() {
      return this._state.dbOpenError !== null;
    }
    dynamicallyOpened() {
      return this._state.autoSchema;
    }
    get tables() {
      return t(this._allTables).map((kr) => this._allTables[kr]);
    }
    transaction() {
      const kr = En.apply(this, arguments);
      return this._transaction.apply(this, kr);
    }
    _transaction(kr, qr, ai) {
      let gi = Ke.trans;
      gi && gi.db === this && kr.indexOf("!") === -1 || (gi = null);
      const $i = kr.indexOf("?") !== -1;
      let xi, Ai;
      kr = kr.replace("!", "").replace("?", "");
      try {
        if (Ai = qr.map((Fi) => {
          var Oa = Fi instanceof this.Table ? Fi.name : Fi;
          if (typeof Oa != "string")
            throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");
          return Oa;
        }), kr == "r" || kr === "readonly")
          xi = "readonly";
        else {
          if (kr != "rw" && kr != "readwrite")
            throw new X.InvalidArgument("Invalid transaction mode: " + kr);
          xi = "readwrite";
        }
        if (gi) {
          if (gi.mode === "readonly" && xi === "readwrite") {
            if (!$i)
              throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");
            gi = null;
          }
          gi && Ai.forEach((Fi) => {
            if (gi && gi.storeNames.indexOf(Fi) === -1) {
              if (!$i)
                throw new X.SubTransaction("Table " + Fi + " not included in parent transaction.");
              gi = null;
            }
          }), $i && gi && !gi.active && (gi = null);
        }
      } catch (Fi) {
        return gi ? gi._promise(null, (Oa, So) => {
          So(Fi);
        }) : ht(Fi);
      }
      const Li = Pn.bind(null, this, xi, Ai, gi, ai);
      return gi ? gi._promise(xi, Li, "lock") : Ke.trans ? ot(Ke.transless, () => this._whenReady(Li)) : this._whenReady(Li);
    }
    table(kr) {
      if (!o(this._allTables, kr))
        throw new X.InvalidTable(`Table ${kr} does not exist`);
      return this._allTables[kr];
    }
  }
  const Un = typeof Symbol < "u" && "observable" in Symbol ? Symbol.observable : "@@observable";
  class Ln {
    constructor(kr) {
      this._subscribe = kr;
    }
    subscribe(kr, qr, ai) {
      return this._subscribe(kr && typeof kr != "function" ? kr : { next: kr, error: qr, complete: ai });
    }
    [Un]() {
      return this;
    }
  }
  function Vn(Kr, kr) {
    return t(kr).forEach((qr) => {
      Tn(Kr[qr] || (Kr[qr] = new In()), kr[qr]);
    }), Kr;
  }
  function Wn(Kr) {
    return new Ln((kr) => {
      const qr = T(Kr);
      let ai = !1, gi = {}, $i = {};
      const xi = { get closed() {
        return ai;
      }, unsubscribe: () => {
        ai = !0, Ht.storagemutated.unsubscribe(Oa);
      } };
      kr.start && kr.start(xi);
      let Ai = !1, Li = !1;
      function Fi() {
        return t($i).some((Ns) => gi[Ns] && Rn(gi[Ns], $i[Ns]));
      }
      const Oa = (Ns) => {
        Vn(gi, Ns), Fi() && So();
      }, So = () => {
        if (Ai || ai)
          return;
        gi = {};
        const Ns = {}, Uc = function(Kc) {
          qr && Ze();
          const Bc = () => Je(Kr, { subscr: Kc, trans: null }), Wc = Ke.trans ? ot(Ke.transless, Bc) : Bc();
          return qr && Wc.then(et, et), Wc;
        }(Ns);
        Li || (Ht("storagemutated", Oa), Li = !0), Ai = !0, Promise.resolve(Uc).then((Kc) => {
          Ai = !1, ai || (Fi() ? So() : (gi = {}, $i = Ns, kr.next && kr.next(Kc)));
        }, (Kc) => {
          Ai = !1, kr.error && kr.error(Kc), xi.unsubscribe();
        });
      };
      return So(), xi;
    });
  }
  let Yn;
  try {
    Yn = { indexedDB: e.indexedDB || e.mozIndexedDB || e.webkitIndexedDB || e.msIndexedDB, IDBKeyRange: e.IDBKeyRange || e.webkitIDBKeyRange };
  } catch (Kr) {
    Yn = { indexedDB: null, IDBKeyRange: null };
  }
  const zn = $n;
  function Gn(Kr) {
    let kr = Hn;
    try {
      Hn = !0, Ht.storagemutated.fire(Kr);
    } finally {
      Hn = kr;
    }
  }
  a(zn, { ...Z, delete: (Kr) => new zn(Kr, { addons: [] }).delete(), exists: (Kr) => new zn(Kr, { addons: [] }).open().then((kr) => (kr.close(), !0)).catch("NoSuchDatabaseError", () => !1), getDatabaseNames(Kr) {
    try {
      return function({ indexedDB: kr, IDBKeyRange: qr }) {
        return bn(kr) ? Promise.resolve(kr.databases()).then((ai) => ai.map((gi) => gi.name).filter((gi) => gi !== "__dbnames")) : gn(kr, qr).toCollection().primaryKeys();
      }(zn.dependencies).then(Kr);
    } catch {
      return ht(new X.MissingAPI());
    }
  }, defineClass: () => function(Kr) {
    r(this, Kr);
  }, ignoreTransaction: (Kr) => Ke.trans ? ot(Ke.transless, Kr) : Kr(), vip: _n, async: function(Kr) {
    return function() {
      try {
        var kr = kn(Kr.apply(this, arguments));
        return kr && typeof kr.then == "function" ? kr : Ce.resolve(kr);
      } catch (qr) {
        return ht(qr);
      }
    };
  }, spawn: function(Kr, kr, qr) {
    try {
      var ai = kn(Kr.apply(qr, kr || []));
      return ai && typeof ai.then == "function" ? ai : Ce.resolve(ai);
    } catch (gi) {
      return ht(gi);
    }
  }, currentTransaction: { get: () => Ke.trans || null }, waitFor: function(Kr, kr) {
    const qr = Ce.resolve(typeof Kr == "function" ? zn.ignoreTransaction(Kr) : Kr).timeout(kr || 6e4);
    return Ke.trans ? Ke.trans.waitFor(qr) : qr;
  }, Promise: Ce, debug: { get: () => R, set: (Kr) => {
    F(Kr, Kr === "dexie" ? () => !0 : bt);
  } }, derive: c, extend: r, props: a, override: y, Events: Et, on: Ht, liveQuery: Wn, extendObservabilitySet: Vn, getByKeyPath: b, setByKeyPath: _, delByKeyPath: function(Kr, kr) {
    typeof kr == "string" ? _(Kr, kr, void 0) : "length" in kr && [].map.call(kr, function(qr) {
      _(Kr, qr, void 0);
    });
  }, shallowClone: w, deepClone: O, getObjectDiff: Sn, cmp: It, asap: v, minKey: -(1 / 0), addons: [], connections: yt, errnames: H, dependencies: Yn, semVer: "3.2.3", version: "3.2.3".split(".").map((Kr) => parseInt(Kr)).reduce((Kr, kr, qr) => Kr + kr / Math.pow(10, 2 * qr)) }), zn.maxKey = en(zn.dependencies.IDBKeyRange), typeof dispatchEvent < "u" && typeof addEventListener < "u" && (Ht("storagemutated", (Kr) => {
    if (!Hn) {
      let kr;
      mt ? (kr = document.createEvent("CustomEvent"), kr.initCustomEvent("x-storagemutated-1", !0, !0, Kr)) : kr = new CustomEvent("x-storagemutated-1", { detail: Kr }), Hn = !0, dispatchEvent(kr), Hn = !1;
    }
  }), addEventListener("x-storagemutated-1", ({ detail: Kr }) => {
    Hn || Gn(Kr);
  }));
  let Hn = !1;
  if (typeof BroadcastChannel < "u") {
    const Kr = new BroadcastChannel("x-storagemutated-1");
    typeof Kr.unref == "function" && Kr.unref(), Ht("storagemutated", (kr) => {
      Hn || Kr.postMessage(kr);
    }), Kr.onmessage = (kr) => {
      kr.data && Gn(kr.data);
    };
  } else if (typeof self < "u" && typeof navigator < "u") {
    Ht("storagemutated", (kr) => {
      try {
        Hn || (typeof localStorage < "u" && localStorage.setItem("x-storagemutated-1", JSON.stringify({ trig: Math.random(), changedParts: kr })), typeof self.clients == "object" && [...self.clients.matchAll({ includeUncontrolled: !0 })].forEach((qr) => qr.postMessage({ type: "x-storagemutated-1", changedParts: kr })));
      } catch {
      }
    }), typeof addEventListener < "u" && addEventListener("storage", (kr) => {
      if (kr.key === "x-storagemutated-1") {
        const qr = JSON.parse(kr.newValue);
        qr && Gn(qr.changedParts);
      }
    });
    const Kr = self.document && navigator.serviceWorker;
    Kr && Kr.addEventListener("message", function({ data: kr }) {
      kr && kr.type === "x-storagemutated-1" && Gn(kr.changedParts);
    });
  }
  Ce.rejectionMapper = function(Kr, kr) {
    if (!Kr || Kr instanceof W || Kr instanceof TypeError || Kr instanceof SyntaxError || !Kr.name || !J[Kr.name])
      return Kr;
    var qr = new J[Kr.name](kr || Kr.message, Kr);
    return "stack" in Kr && l(qr, "stack", { get: function() {
      return this.inner.stack;
    } }), qr;
  }, F(R, bt);
  const DESCRIPTION$3 = "rdf://description", SELF$3 = "ad4m://self", LANGUAGE = "ad4m://language", CREATOR$1 = "rdf://creator", CREATED_AT$2 = "rdf://dateCreated", NAME$4 = "rdf://name", MEMBER = "sioc://has_member", EXPRESSION = "sioc://content_of", EDITED_TO = "temp://edited_to", CHANNEL = "flux://has_channel", CHANNEL_NAME = "flux://has_channel_name", FLUX_APP$1 = "flux://has_app", AD4M_CLASS = "ad4m://has_class", FLUX_CHANNEL = "flux://channel", FLUX_GROUP_NAME = "flux://communityName", FLUX_GROUP_DESCRIPTION = "flux://communityDescription", FLUX_GROUP_IMAGE = "flux://communityImage", FLUX_GROUP_THUMBNAIL = "flux://communityThumbnail", ZOME$1 = "ad4m://has_zome", CARD_HIDDEN = "flux://is_card_hidden", OMIT = "flux://null", REPLY_TO$1 = "flux://has_reply", REACTION = "flux://has_reaction", ENTRY_TYPE$5 = "flux://entry_type", TITLE$1 = "flux://title", BODY$2 = "flux://body", URL$2 = "flux://url", IMAGE$2 = "flux://image", THUMBNAIL$1 = "flux://thumbnail", START_DATE$1 = "flux://start_date", END_DATE$1 = "flux://end_date", SDNA_VERSION$1 = "ad4m://sdna_version", DID = "ad4m://did", community = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
    __proto__: null,
    AD4M_CLASS,
    BODY: BODY$2,
    CARD_HIDDEN,
    CHANNEL,
    CHANNEL_NAME,
    CREATED_AT: CREATED_AT$2,
    CREATOR: CREATOR$1,
    DESCRIPTION: DESCRIPTION$3,
    DID,
    EDITED_TO,
    END_DATE: END_DATE$1,
    ENTRY_TYPE: ENTRY_TYPE$5,
    EXPRESSION,
    FLUX_APP: FLUX_APP$1,
    FLUX_CHANNEL,
    FLUX_GROUP_DESCRIPTION,
    FLUX_GROUP_IMAGE,
    FLUX_GROUP_NAME,
    FLUX_GROUP_THUMBNAIL,
    IMAGE: IMAGE$2,
    LANGUAGE,
    MEMBER,
    NAME: NAME$4,
    OMIT,
    REACTION,
    REPLY_TO: REPLY_TO$1,
    SDNA_VERSION: SDNA_VERSION$1,
    SELF: SELF$3,
    START_DATE: START_DATE$1,
    THUMBNAIL: THUMBNAIL$1,
    TITLE: TITLE$1,
    URL: URL$2,
    ZOME: ZOME$1
  }, Symbol.toStringTag, { value: "Module" })), FILE_STORAGE_LANGUAGE$2 = "QmZ3fQtyttf72ktVuV7eQLczSXmJ4YgxMkVRhJAazhodw9", languages = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
    __proto__: null,
    FILE_STORAGE_LANGUAGE: FILE_STORAGE_LANGUAGE$2
  }, Symbol.toStringTag, { value: "Module" }));
  var EntryType = /* @__PURE__ */ ((Kr) => (Kr.Community = "flux://has_community", Kr.Channel = "flux://has_channel", Kr.Message = "flux://has_message", Kr.Post = "flux://has_post", Kr.Member = "flux://has_member", Kr.App = "flux://has_app", Kr))(EntryType || {});
  const emojiCount$1 = 3, emoji$1 = "1f44d", DEFAULT_LIMIT = 50, LATEST_SDNA_VERSION$1 = 8, SDNA_CREATION_DATE$1 = /* @__PURE__ */ new Date("2022-11-18T17:22:56Z"), SDNA$1 = `
    emojiCount(Message, Count):- 
        aggregate_all(count, link(Message, "${REACTION}", "emoji://$emoji", _, _), Count).

    isPopular(Message) :- emojiCount(Message, Count), Count >= $emojiCount.
    isNotPopular(Message) :- emojiCount(Message, Count), Count < $emojiCount.

    flux_message(Source, Message, Timestamp, Author, Reactions, Replies, AllCardHidden, EditMessages):-
        link(Source, "${EntryType.Message}", Message, Timestamp, Author),
        findall((EditMessage, EditMessageTimestamp, EditMessageAuthor), link(Message, "${EDITED_TO}", EditMessage, EditMessageTimestamp, EditMessageAuthor), EditMessages),
        findall((Reaction, ReactionTimestamp, ReactionAuthor), link(Message, "${REACTION}", Reaction, ReactionTimestamp, ReactionAuthor), Reactions),
        findall((IsHidden, IsHiddenTimestamp, IsHiddenAuthor), link(Message, "${CARD_HIDDEN}", IsHidden, IsHiddenTimestamp, IsHiddenAuthor), AllCardHidden),
        findall((Reply, ReplyTimestamp, ReplyAuthor), link(Reply, "${REPLY_TO$1}", Message, ReplyTimestamp, ReplyAuthor), Replies).
    
    flux_message_query_popular(Source, Message, Timestamp, Author, Reactions, Replies, AllCardHidden, EditMessages, true):- 
        flux_message(Source, Message, Timestamp, Author, Reactions, Replies, AllCardHidden, EditMessages), isPopular(Message).
    
    flux_message_query_popular(Source, Message, Timestamp, Author, Reactions, Replies, AllCardHidden, EditMessages, false):- 
        flux_message(Source, Message, Timestamp, Author, Reactions, Replies, AllCardHidden, EditMessages), isNotPopular(Message). 

`, messageFilteredQuery = 'limit($limit, (order_by([desc(Timestamp)], flux_message_query_popular("$source", Message, Timestamp, Author, Reactions, Replies, AllCardHidden, EditMessages, IsPopular)), Timestamp =< $fromDate)).', messageFilteredQueryBackwards = '(order_by([asc(Timestamp)], flux_message_query_popular("$source", Message, Timestamp, Author, Reactions, Replies, AllCardHidden, EditMessages, IsPopular)), Timestamp >= $fromDate).', messageQuery = 'limit($limit, order_by([desc(Timestamp)], flux_message_query_popular("$source", Message, Timestamp, Author, Reactions, Replies, AllCardHidden, EditMessages, IsPopular))).', sdna = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
    __proto__: null,
    DEFAULT_LIMIT,
    LATEST_SDNA_VERSION: LATEST_SDNA_VERSION$1,
    SDNA: SDNA$1,
    SDNA_CREATION_DATE: SDNA_CREATION_DATE$1,
    emoji: emoji$1,
    emojiCount: emojiCount$1,
    messageFilteredQuery,
    messageFilteredQueryBackwards,
    messageQuery
  }, Symbol.toStringTag, { value: "Module" })), { CREATOR, DESCRIPTION: DESCRIPTION$2, NAME: NAME$3, SELF: SELF$2, CREATED_AT: CREATED_AT$1 } = community;
  async function createNeighbourhoodMeta(Kr, kr, qr) {
    const ai = await v$1(), gi = await ai.perspective.add(`${Kr}-meta`), $i = await ai.expression.create(Kr, "literal"), xi = [];
    if (xi.push(
      new Link({
        source: SELF$2,
        target: $i,
        predicate: NAME$3
      })
    ), xi.push(
      new Link({
        source: SELF$2,
        target: qr,
        predicate: CREATOR
      })
    ), xi.push(
      new Link({
        source: SELF$2,
        target: (/* @__PURE__ */ new Date()).toISOString(),
        predicate: CREATED_AT$1
      })
    ), kr != "") {
      const Fi = await ai.expression.create(
        kr,
        "literal"
      );
      xi.push(
        new Link({
          source: SELF$2,
          target: Fi,
          predicate: DESCRIPTION$2
        })
      );
    }
    await ai.perspective.addLinks(gi.uuid, xi);
    const Ai = await ai.perspective.snapshotByUUID(
      gi.uuid
    );
    await ai.perspective.remove(gi.uuid);
    const Li = [];
    for (const Fi in Ai.links) {
      const Oa = JSON.parse(
        JSON.stringify(Ai.links[Fi])
      );
      Oa.__typename = void 0, Oa.data.__typename = void 0, Oa.proof.__typename = void 0, Li.push(Oa);
    }
    return Li;
  }
  function getPrologQuery(Kr, kr) {
    const qr = /\$\w+/g, ai = Kr.match(qr);
    return ai ? ai.reduce((gi, $i) => {
      const xi = $i.replace("$", ""), Ai = kr[xi];
      return Ai === void 0 && console.error(`${$i} is undefined`), gi.replace($i, Ai);
    }, Kr) : Kr;
  }
  const dataURItoBlob = (Kr) => {
    const kr = Kr.split(",")[0].indexOf("base64") >= 0 ? atob(Kr.split(",")[1]) : unescape(Kr.split(",")[1]), qr = Kr.split(",")[0].split(":")[1].split(";")[0], ai = kr.length, gi = new Uint8Array(ai);
    for (let $i = 0; $i < ai; $i += 1)
      gi[$i] = kr.charCodeAt($i);
    return new Blob([gi], { type: qr });
  }, blobToDataURL = (Kr) => new Promise((kr, qr) => {
    const ai = new FileReader();
    ai.onload = () => {
      const $i = ai.result.split(",")[1];
      kr($i);
    }, ai.onerror = () => qr(ai.error), ai.onabort = () => qr(new Error("Read aborted")), ai.readAsDataURL(Kr);
  }), resizeImage = (Kr, kr, qr = 80) => {
    const ai = new FileReader(), gi = new Image(), $i = document.createElement("canvas"), xi = () => {
      var Oa;
      let { width: Ai, height: Li } = gi;
      Ai <= qr || Li <= qr ? Ai > Li ? Ai > qr && (Li *= qr / Ai, Ai = qr) : Li > qr && (Ai *= qr / Li, Li = qr) : (Li = Li * kr, Ai = Ai * kr), $i.width = Ai, $i.height = Li, (Oa = $i.getContext("2d")) == null || Oa.drawImage(gi, 0, 0, Ai, Li);
      const Fi = $i.toDataURL("image/png");
      return dataURItoBlob(Fi);
    };
    return new Promise((Ai, Li) => {
      if (!Kr.type.match(/image.*/)) {
        Li(new Error("Not an image"));
        return;
      }
      ai.onload = (Fi) => {
        var Oa;
        gi.onload = () => Ai(xi()), gi.src = (Oa = Fi.target) == null ? void 0 : Oa.result;
      }, ai.onerror = (Fi) => {
        gi.onerror = () => Li(Fi);
      }, ai.readAsDataURL(Kr);
    });
  };
  function capitalize$1(Kr) {
    return Kr.charAt(0).toUpperCase() + Kr.slice(1);
  }
  function collectionToAdderName(Kr) {
    return `add${capitalize$1(Kr)}`;
  }
  function collectionToSetterName(Kr) {
    return `setCollection${capitalize$1(Kr)}`;
  }
  class SubjectEntry {
    constructor(kr, qr) {
      this.subject = kr, this.perspective = qr, this.id = kr.baseExpression;
    }
    async load() {
      let kr;
      if (!kr)
        try {
          kr = (await this.perspective.get(
            new LinkQuery({ source: this.subject.baseExpression })
          ))[0] || null;
        } catch (qr) {
          console.log(qr);
        }
      if (!kr)
        throw "Failed to load entry";
      this.author = kr.author, this.timestamp = kr.timestamp;
      try {
        this.type = await this.subject.type;
      } catch (qr) {
        console.error("Failed to get type of subject: ", qr);
      }
      this.data = kr.data;
    }
  }
  const { SELF: SELF$1 } = community;
  function capitalize(Kr) {
    return Kr.charAt(0).toUpperCase() + Kr.slice(1);
  }
  function propertyNameToSetterName(Kr) {
    return `set${capitalize(Kr)}`;
  }
  function setProperties(Kr, kr) {
    const qr = (gi, $i) => {
      const xi = collectionToAdderName(gi), Ai = Kr[xi];
      if (Ai)
        Ai($i);
      else
        throw "No adder function found for collection: " + gi;
    }, ai = (gi, $i) => {
      const xi = collectionToSetterName(gi), Ai = Kr[xi];
      if (Ai)
        Ai($i);
      else
        throw "No adder function found for collection: " + gi;
    };
    Object.keys(kr).forEach((gi) => {
      var $i;
      if (Array.isArray(kr[gi]) || Array.isArray(($i = kr[gi]) == null ? void 0 : $i.value))
        if (kr[gi].action)
          switch (kr[gi].action) {
            case "setter":
              ai(gi, kr[gi].value);
              break;
            case "adder":
              qr(gi, kr[gi].value);
              break;
            default:
              ai(gi, kr[gi].value);
              break;
          }
        else
          ai(gi, kr[gi]);
      else {
        const xi = propertyNameToSetterName(gi), Ai = Kr[xi];
        if (Ai)
          Ai(kr[gi]);
        else
          throw "No setter function found for property: " + gi;
      }
    });
  }
  class SubjectRepository {
    constructor(kr, qr) {
      this.source = SELF$1, this.perspective = qr.perspective, this.source = qr.source || this.source, this.subject = new kr(), this.tempSubject = kr;
    }
    async ensureSubject() {
      await this.perspective.ensureSDNASubjectClass(this.tempSubject);
    }
    async create(kr, qr, ai) {
      await this.ensureSubject();
      const gi = qr || Literal.from(v4()).toUrl();
      let $i = await this.perspective.createSubject(this.subject, gi);
      if (!$i)
        throw "Failed to create new instance of " + this.subject.type;
      return await this.perspective.add(
        new Link({
          source: ai || this.source,
          predicate: await $i.type,
          target: gi
        })
      ), Object.keys(kr).forEach(
        (xi) => kr[xi] === void 0 || kr[xi] === null ? delete kr[xi] : {}
      ), setProperties($i, kr), this.getSubjectData($i);
    }
    async update(kr, qr) {
      await this.ensureSubject();
      const ai = await this.get(kr);
      if (!ai)
        throw "Failed to find instance of " + this.subject.type + " with id " + kr;
      return Object.keys(qr).forEach(
        (gi) => qr[gi] === void 0 ? delete qr[gi] : {}
      ), setProperties(ai, qr), this.getSubjectData(ai);
    }
    async remove(kr) {
      if (this.perspective) {
        const qr = await this.perspective.get(
          new LinkQuery({ source: this.source, target: kr })
        );
        this.perspective.removeLinks(qr);
      }
    }
    async get(kr) {
      return await this.ensureSubject(), kr ? await this.perspective.getSubjectProxy(
        kr,
        this.subject
      ) || null : (await this.getAll())[0] || null;
    }
    async getData(kr) {
      await this.ensureSubject();
      const qr = await this.get(kr);
      return qr ? await this.getSubjectData(qr) : null;
    }
    async getSubjectData(kr) {
      await this.ensureSubject();
      const qr = new SubjectEntry(kr, this.perspective);
      await qr.load();
      const ai = this.tempSubject.prototype.__properties || {}, gi = this.tempSubject.prototype.__collections || {}, $i = {};
      return await Promise.all(
        Object.entries(ai).map(async ([xi, Ai]) => {
          const Li = await kr[xi];
          $i[xi] = Ai != null && Ai.transform ? Ai.transform(Li) : Li;
        })
      ), await Promise.all(
        Object.entries(gi).map(async ([xi, Ai]) => {
          const Li = await kr[xi];
          $i[xi] = Ai != null && Ai.transform ? Ai.transform(Li) : Li;
        })
      ), {
        ...$i,
        id: await kr.baseExpression,
        timestamp: qr.timestamp,
        author: qr.author
      };
    }
    async getAll(kr) {
      await this.ensureSubject();
      const qr = kr || this.source, ai = await this.perspective.stringOrTemplateObjectToSubjectClass(this.subject), gi = await this.perspective.infer(
        `triple("${qr}", ${qr !== SELF$1 ? `"${this.tempSubject.prototype.type}"` : "_"}, X), instance(Class, X), subject_class("${ai}", Class)`
      ), $i = gi && gi.filter(
        (xi, Ai, Li) => Ai === Li.findIndex((Fi) => Fi.X === xi.X)
      );
      return $i ? await Promise.all(
        $i.map(async (xi) => {
          let Ai = new Subject(this.perspective, xi.X, ai);
          return await Ai.init(), Ai;
        })
      ) : [];
    }
    async getAllData(kr) {
      await this.ensureSubject();
      const qr = await this.getAll(kr);
      return await Promise.all(qr.map((ai) => this.getSubjectData(ai)));
    }
  }
  const { emoji, emojiCount, SDNA } = sdna;
  async function generateSDNALiteral(Kr) {
    let kr, qr;
    if (!Kr)
      kr = emoji, qr = emojiCount;
    else {
      if (Kr.emojiCount < 1)
        throw new Error("Emoji count must be greater than 0");
      if (qr = Kr.emojiCount, kr = Kr.emoji.codePointAt(0), !kr)
        throw new Error("Could not parse code point for emoji in getSDNALiteral");
      kr = kr.toString(16);
    }
    const ai = getPrologQuery(SDNA, {
      emoji: kr,
      emojiCount: qr
    });
    return Literal.from(ai);
  }
  const { CREATED_AT, SDNA_VERSION, SELF, ZOME } = community, { LATEST_SDNA_VERSION, SDNA_CREATION_DATE } = sdna;
  function generateSDNALinks(Kr) {
    const kr = Kr.toUrl();
    return [
      new Link({
        source: SELF,
        predicate: ZOME,
        target: kr
      }),
      new Link({
        source: kr,
        predicate: SDNA_VERSION,
        target: `int://${LATEST_SDNA_VERSION}`
      }),
      new Link({
        source: kr,
        predicate: CREATED_AT,
        target: SDNA_CREATION_DATE.toString()
      })
    ];
  }
  async function createSDNALink(Kr, kr) {
    const qr = await v$1(), ai = generateSDNALinks(kr);
    return (await qr.perspective.addLinks(
      Kr,
      ai
    ))[0];
  }
  async function createSDNA(Kr, kr) {
    const qr = await generateSDNALiteral(kr);
    return await createSDNALink(Kr, qr);
  }
  var __defProp$5 = Object.defineProperty, __getOwnPropDesc$5 = Object.getOwnPropertyDescriptor, __decorateClass$5 = (Kr, kr, qr, ai) => {
    for (var gi = ai > 1 ? void 0 : ai ? __getOwnPropDesc$5(kr, qr) : kr, $i = Kr.length - 1, xi; $i >= 0; $i--)
      (xi = Kr[$i]) && (gi = (ai ? xi(kr, qr, gi) : xi(gi)) || gi);
    return ai && gi && __defProp$5(kr, qr, gi), gi;
  };
  const { FILE_STORAGE_LANGUAGE: FILE_STORAGE_LANGUAGE$1 } = languages, { DESCRIPTION: DESCRIPTION$1, IMAGE: IMAGE$1, NAME: NAME$2, THUMBNAIL, ENTRY_TYPE: ENTRY_TYPE$4 } = community;
  let Community = class {
    constructor() {
      this.channels = [];
    }
  };
  __decorateClass$5([
    subjectFlag({ through: ENTRY_TYPE$4, value: EntryType.Community })
  ], Community.prototype, "type", 2);
  __decorateClass$5([
    subjectProperty({
      through: NAME$2,
      writable: !0,
      resolveLanguage: "literal"
    })
  ], Community.prototype, "name", 2);
  __decorateClass$5([
    subjectProperty({
      through: DESCRIPTION$1,
      writable: !0,
      resolveLanguage: "literal"
    })
  ], Community.prototype, "description", 2);
  __decorateClass$5([
    subjectProperty({
      through: IMAGE$1,
      writable: !0,
      resolveLanguage: FILE_STORAGE_LANGUAGE$1,
      transform: (Kr) => Kr ? `data:image/png;base64,${Kr == null ? void 0 : Kr.data_base64}` : void 0
    })
  ], Community.prototype, "image", 2);
  __decorateClass$5([
    subjectProperty({
      through: THUMBNAIL,
      writable: !0,
      resolveLanguage: FILE_STORAGE_LANGUAGE$1,
      transform: (Kr) => Kr ? `data:image/png;base64,${Kr == null ? void 0 : Kr.data_base64}` : void 0
    })
  ], Community.prototype, "thumbnail", 2);
  __decorateClass$5([
    subjectCollection({ through: EntryType.Channel })
  ], Community.prototype, "channels", 2);
  Community = __decorateClass$5([
    SDNAClass({
      name: "Community"
    })
  ], Community);
  async function createCommunity({
    name: Kr,
    description: kr = "",
    image: qr = void 0,
    perspectiveUuid: ai
  }) {
    try {
      const gi = await v$1(), xi = (await gi.agent.me()).did, Ai = ai ? await gi.perspective.byUUID(ai) : await gi.perspective.add(Kr), Li = v4().toString(), Fi = await gi.runtime.knownLinkLanguageTemplates(), Oa = await gi.languages.applyTemplateAndPublish(
        Fi[0],
        JSON.stringify({
          uid: Li,
          name: `${Kr}-link-language`
        })
      ), So = await createNeighbourhoodMeta(Kr, kr, xi);
      let Ns = Ai.sharedUrl;
      Ns || (Ns = await gi.neighbourhood.publishFromPerspective(
        Ai.uuid,
        Oa.address,
        new Perspective(So)
      ));
      let Uc, Kc;
      qr && (Kc = await blobToDataURL(
        await resizeImage(dataURItoBlob(qr), 0.6)
      ), Uc = await blobToDataURL(
        await resizeImage(dataURItoBlob(qr), 0.3)
      ));
      const Bc = new SubjectRepository(Community, {
        perspective: Ai
      }), Wc = {
        name: Kr,
        description: kr,
        image: Kc ? {
          data_base64: Kc,
          name: "community-image",
          file_type: "image/png"
        } : void 0,
        thumbnail: Uc ? {
          data_base64: Uc,
          name: "community-image",
          file_type: "image/png"
        } : void 0
      }, Vc = await Bc.create(Wc, "ad4m://self"), qc = await createSDNA(Ai.uuid);
      return {
        uuid: Ai.uuid,
        author: xi,
        id: Vc.id,
        timestamp: qc.timestamp,
        name: Vc.name,
        description: Vc.description || "",
        image: Vc.image,
        thumbnail: Vc.thumbnail,
        neighbourhoodUrl: Ns,
        members: [xi]
      };
    } catch (gi) {
      throw new Error(gi);
    }
  }
  var __defProp$4 = Object.defineProperty, __getOwnPropDesc$4 = Object.getOwnPropertyDescriptor, __decorateClass$4 = (Kr, kr, qr, ai) => {
    for (var gi = ai > 1 ? void 0 : ai ? __getOwnPropDesc$4(kr, qr) : kr, $i = Kr.length - 1, xi; $i >= 0; $i--)
      (xi = Kr[$i]) && (gi = (ai ? xi(kr, qr, gi) : xi(gi)) || gi);
    return ai && gi && __defProp$4(kr, qr, gi), gi;
  };
  const { DESCRIPTION, NAME: NAME$1, ENTRY_TYPE: ENTRY_TYPE$3 } = community;
  let App = class {
  };
  __decorateClass$4([
    subjectFlag({
      through: ENTRY_TYPE$3,
      value: EntryType.App
    })
  ], App.prototype, "type", 2);
  __decorateClass$4([
    subjectProperty({
      through: NAME$1,
      writable: !0,
      resolveLanguage: "literal"
    })
  ], App.prototype, "name", 2);
  __decorateClass$4([
    subjectProperty({
      through: DESCRIPTION,
      writable: !0,
      resolveLanguage: "literal"
    })
  ], App.prototype, "description", 2);
  __decorateClass$4([
    subjectProperty({
      through: "rdf://icon",
      writable: !0,
      resolveLanguage: "literal"
    })
  ], App.prototype, "icon", 2);
  __decorateClass$4([
    subjectProperty({
      through: "rdf://pkg",
      writable: !0,
      resolveLanguage: "literal"
    })
  ], App.prototype, "pkg", 2);
  App = __decorateClass$4([
    SDNAClass({
      name: "App"
    })
  ], App);
  const App$1 = App;
  var __defProp$3 = Object.defineProperty, __getOwnPropDesc$3 = Object.getOwnPropertyDescriptor, __decorateClass$3 = (Kr, kr, qr, ai) => {
    for (var gi = ai > 1 ? void 0 : ai ? __getOwnPropDesc$3(kr, qr) : kr, $i = Kr.length - 1, xi; $i >= 0; $i--)
      (xi = Kr[$i]) && (gi = (ai ? xi(kr, qr, gi) : xi(gi)) || gi);
    return ai && gi && __defProp$3(kr, qr, gi), gi;
  };
  const { FLUX_APP, NAME, ENTRY_TYPE: ENTRY_TYPE$2 } = community;
  let Channel = class {
    constructor() {
      this.views = [];
    }
  };
  __decorateClass$3([
    subjectFlag({
      through: ENTRY_TYPE$2,
      value: EntryType.Channel
    })
  ], Channel.prototype, "type", 2);
  __decorateClass$3([
    subjectProperty({
      through: NAME,
      writable: !0,
      resolveLanguage: "literal"
    })
  ], Channel.prototype, "name", 2);
  __decorateClass$3([
    subjectCollection({
      through: FLUX_APP,
      where: { isInstance: App$1 }
    })
  ], Channel.prototype, "views", 2);
  Channel = __decorateClass$3([
    SDNAClass({
      name: "Channel"
    })
  ], Channel);
  const Channel$1 = Channel;
  var __defProp$2 = Object.defineProperty, __getOwnPropDesc$2 = Object.getOwnPropertyDescriptor, __decorateClass$2 = (Kr, kr, qr, ai) => {
    for (var gi = ai > 1 ? void 0 : ai ? __getOwnPropDesc$2(kr, qr) : kr, $i = Kr.length - 1, xi; $i >= 0; $i--)
      (xi = Kr[$i]) && (gi = (ai ? xi(kr, qr, gi) : xi(gi)) || gi);
    return ai && gi && __defProp$2(kr, qr, gi), gi;
  };
  const { BODY: BODY$1, REPLY_TO, ENTRY_TYPE: ENTRY_TYPE$1 } = community;
  let Message = class {
    constructor() {
      this.replies = [];
    }
  };
  __decorateClass$2([
    subjectFlag({
      through: ENTRY_TYPE$1,
      value: EntryType.Message
    })
  ], Message.prototype, "type", 2);
  __decorateClass$2([
    subjectProperty({
      through: BODY$1,
      writable: !0,
      resolveLanguage: "literal"
    })
  ], Message.prototype, "body", 2);
  __decorateClass$2([
    subjectCollection({
      through: REPLY_TO
    })
  ], Message.prototype, "replies", 2);
  Message = __decorateClass$2([
    SDNAClass({
      name: "Message"
    })
  ], Message);
  var __defProp$1 = Object.defineProperty, __getOwnPropDesc$1 = Object.getOwnPropertyDescriptor, __decorateClass$1 = (Kr, kr, qr, ai) => {
    for (var gi = ai > 1 ? void 0 : ai ? __getOwnPropDesc$1(kr, qr) : kr, $i = Kr.length - 1, xi; $i >= 0; $i--)
      (xi = Kr[$i]) && (gi = (ai ? xi(kr, qr, gi) : xi(gi)) || gi);
    return ai && gi && __defProp$1(kr, qr, gi), gi;
  };
  const { BODY, END_DATE, IMAGE, START_DATE, TITLE, URL: URL$1, ENTRY_TYPE } = community, { FILE_STORAGE_LANGUAGE } = languages;
  let Post = class {
    constructor() {
      this.comments = [];
    }
  };
  __decorateClass$1([
    subjectFlag({
      through: ENTRY_TYPE,
      value: EntryType.Post
    })
  ], Post.prototype, "type", 2);
  __decorateClass$1([
    subjectProperty({
      through: TITLE,
      writable: !0,
      resolveLanguage: "literal"
    })
  ], Post.prototype, "title", 2);
  __decorateClass$1([
    subjectProperty({
      through: BODY,
      writable: !0,
      resolveLanguage: "literal"
    })
  ], Post.prototype, "body", 2);
  __decorateClass$1([
    subjectProperty({
      through: IMAGE,
      writable: !0,
      resolveLanguage: FILE_STORAGE_LANGUAGE,
      // @ts-ignore
      transform: (Kr) => Kr ? `data:image/png;base64,${Kr == null ? void 0 : Kr.data_base64}` : void 0
    })
  ], Post.prototype, "image", 2);
  __decorateClass$1([
    subjectProperty({ through: URL$1, writable: !0, resolveLanguage: "literal" })
  ], Post.prototype, "url", 2);
  __decorateClass$1([
    subjectCollection({ through: EntryType.Message })
  ], Post.prototype, "comments", 2);
  Post = __decorateClass$1([
    SDNAClass({
      name: "Post"
    })
  ], Post);
  var __defProp = Object.defineProperty, __getOwnPropDesc = Object.getOwnPropertyDescriptor, __decorateClass = (Kr, kr, qr, ai) => {
    for (var gi = ai > 1 ? void 0 : ai ? __getOwnPropDesc(kr, qr) : kr, $i = Kr.length - 1, xi; $i >= 0; $i--)
      (xi = Kr[$i]) && (gi = (ai ? xi(kr, qr, gi) : xi(gi)) || gi);
    return ai && gi && __defProp(kr, qr, gi), gi;
  };
  customElements.get("j-button") || (import("./main-b8da05d2.js"), import("./main-71e6e1ce.js"), import("./dark-8d983aba.js"));
  let MyElement = class extends LitElement {
    constructor() {
      super(), this.client = null, this.perspectives = [], this.perspectiveUuid = "", this.isLoading = !1, this.isCreatingCommunity = !1, this.source = "", this.theme = "", this.channels = [], this.community = null, this.perspectiveUuid = localStorage.getItem("perspectiveUuid") || "", this.source = localStorage.getItem("source") || "ad4m://self", this.theme = localStorage.getItem("theme") || "dark", this.community = null, this.channels = [], this.perspectives = [], document.documentElement.className = this.theme;
    }
    get perspective() {
      return this.perspectives.find((Kr) => Kr.uuid === this.perspectiveUuid);
    }
    get neighbourhoods() {
      return this.perspectives.filter((Kr) => Kr.sharedUrl);
    }
    get appElement() {
      return this.children[0];
    }
    connectedCallback() {
      super.connectedCallback();
      const Kr = O2({
        appName: "Flux App",
        appDesc: "A flux app",
        appDomain: "app.flux.io",
        capabilities: [{ with: { domain: "*", pointers: ["*"] }, can: ["*"] }]
      });
      Kr.connect(), Kr.addEventListener("authstatechange", async () => {
        if (Kr.authState === "authenticated") {
          const kr = await v$1();
          this.client = kr;
          const qr = await kr.perspective.all();
          this.perspectives = qr, kr.perspective.addPerspectiveAddedListener(async (ai) => {
            const gi = await kr.perspective.byUUID(ai.uuid);
            this.perspectives.push(gi);
          }), kr.perspective.addPerspectiveUpdatedListener(async (ai) => {
            const gi = await kr.perspective.byUUID(ai.uuid);
            this.perspectives = this.perspectives.map(
              ($i) => $i.uuid === gi.uuid ? gi : $i
            );
          }), kr.perspective.addPerspectiveRemovedListener((ai) => (this.perspectives = this.perspectives.filter((gi) => gi.uuid !== ai), null)), this.perspectiveUuid && this.setPerspective(this.perspectiveUuid);
        }
      });
    }
    async setPerspective(Kr) {
      const kr = this.perspectives.find((qr) => qr.uuid === Kr);
      if (kr) {
        localStorage.setItem("perspectiveUuid", Kr), this.perspectiveUuid = Kr;
        try {
          this.isLoading = !0;
          const qr = await new SubjectRepository(Channel$1, {
            perspective: kr
          }).getAllData();
          this.channels = qr, this.appElement.perspective = kr, this.appElement.agent || (this.appElement.agent = this.client.agent), this.appElement.getAttribute("source") !== this.source && this.appElement.setAttribute("source", this.source);
        } catch (qr) {
          console.log(qr);
        } finally {
          this.isLoading = !1;
        }
      }
    }
    setChannel(Kr) {
      this.source = Kr, localStorage.setItem("source", Kr), this.appElement.setAttribute("source", Kr), this.requestUpdate();
    }
    setTheme(Kr) {
      const kr = Kr.target;
      document.documentElement.className = kr.value, localStorage.setItem("theme", kr.value);
    }
    async onCreateCommunity() {
      this.isCreatingCommunity = !0;
      try {
        await createCommunity({ name: this.title }), this.title = "";
      } catch (Kr) {
        console.log(Kr);
      } finally {
        this.isCreatingCommunity = !1;
      }
    }
    render() {
      var Kr, kr;
      return html`
      <div class="sidebar-layout" part="layout">
        <aside class="sidebar" part="sidebar">
          <j-flex direction="column" gap="500">
            <div>
              <j-text variant="label">Theme</j-text>
              <select
                @change=${(qr) => this.setTheme(qr)}
                value=${this.theme}
              >
                <option value="light">Light</option>
                <option value="dark">Dark</option>
              </select>
            </div>
            ${this.neighbourhoods.length ? html` <div>
                  <j-text variant="label">Community</j-text>
                  <j-flex gap="200" wrap>
                    ${o$1(
        this.neighbourhoods,
        (qr) => html`<j-tooltip title=${qr.name}>
                        <j-avatar
                          ?selected=${this.perspectiveUuid === qr.uuid}
                          hash=${qr.uuid}
                          @click=${() => this.setPerspective(qr.uuid)}
                          :value=${qr.uuid}
                          ?disabled=${this.isLoading}
                        >
                          ${qr.name}
                        </j-avatar>
                      </j-tooltip>`
      )}
                  </j-flex>
                </div>` : ""}
            ${(Kr = this.perspective) != null && Kr.uuid ? html`<div>
                  <j-text variant="label">Channel</j-text>
                  <select
                    @change=${(qr) => this.setChannel(qr.target.value)}
                  >
                    <option
                      ?selected=${this.source === "ad4m://self"}
                      value="ad4m://self"
                    >
                      Self (ad4m://self)
                    </option>
                    ${o$1(
        this.channels,
        (qr) => html`<option
                          ?selected=${this.source === qr.id}
                          value=${qr.id}
                        >
                          ${qr.name}
                        </option>`
      )}
                  </select>
                </div>` : ""}

            <j-input
              label="New Community"
              placeholder="Name"
              .value=${this.title}
              @change=${(qr) => {
        const ai = qr.target;
        this.title = ai.value;
      }}
            ></j-input>
            <j-button
              variant="primary"
              ?loading=${this.isCreatingCommunity}
              ?disabled=${this.isCreatingCommunity}
              @click=${() => this.onCreateCommunity()}
              full
              size="sm"
            >
              Create community
            </j-button>
          </j-flex>
        </aside>
        <div class="content" part="content">
          ${this.isLoading ? html`<j-box py="900">
                <j-flex a="center" j="center">
                  <j-spinner></j-spinner>
                </j-flex>
              </j-box>` : (kr = this.perspective) != null && kr.uuid ? html`<slot></slot>` : html`<j-box py="900">
                <j-flex a="center" j="center">
                  <j-text>Please select a community</j-text>
                </j-flex>
              </j-box>`}
        </div>
      </div>
    `;
    }
  };
  MyElement.styles = css`
    :host {
      height: calc(100vh - var(--j-size-xl));
      display: block;
      box-sizing: border-box;
    }
    .sidebar-layout {
      display: grid;
      grid-template-columns: 1fr 5fr;
    }
    .sidebar {
      padding: var(--j-space-500);
      height: 100vh;
      background: var(--j-color-ui-50);
      border-radius: var(--j-border-radius);
      border-right: 1px solid var(--j-color-ui-100);
      box-sizing: border-box;
    }
    .content {
    }
    select {
      width: 100%;
      height: var(--j-size-md);
      padding: var(--j-space-300);
      background: var(--j-color-white);
      color: var(--j-color-black);
      font-size: var(--j-font-size-500);
      border-radius: var(--j-border-radius);
      outline: 1px solid var(--j-color-ui-200);
      border: 0;
      border-right: 8px solid transparent;
      padding: var(--j-space-200);
    }
    select:hover {
      background: var(--j-color-ui-50);
    }
    select:focus {
      outline: 2px solid var(--j-color-primary-500);
    }
  `;
  __decorateClass([
    state()
  ], MyElement.prototype, "client", 2);
  __decorateClass([
    state()
  ], MyElement.prototype, "perspectives", 2);
  __decorateClass([
    state()
  ], MyElement.prototype, "perspectiveUuid", 2);
  __decorateClass([
    state()
  ], MyElement.prototype, "isLoading", 2);
  __decorateClass([
    state()
  ], MyElement.prototype, "isCreatingCommunity", 2);
  __decorateClass([
    state()
  ], MyElement.prototype, "source", 2);
  __decorateClass([
    state()
  ], MyElement.prototype, "theme", 2);
  __decorateClass([
    state()
  ], MyElement.prototype, "channels", 2);
  __decorateClass([
    state()
  ], MyElement.prototype, "community", 2);
  MyElement = __decorateClass([
    customElement("flux-container")
  ], MyElement);
});
export default Md();
