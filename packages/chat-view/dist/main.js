var EI=Object.create;var Lc=Object.defineProperty;var kI=Object.getOwnPropertyDescriptor;var CI=Object.getOwnPropertyNames;var DI=Object.getPrototypeOf,TI=Object.prototype.hasOwnProperty;var ob=t=>Lc(t,"__esModule",{value:!0});var El=(t,e)=>()=>(t&&(e=t(t=0)),e);var oe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),OI=(t,e)=>{ob(t);for(var r in e)Lc(t,r,{get:e[r],enumerable:!0})},AI=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of CI(e))!TI.call(t,n)&&n!=="default"&&Lc(t,n,{get:()=>e[n],enumerable:!(r=kI(e,n))||r.enumerable});return t},$r=t=>AI(ob(Lc(t!=null?EI(DI(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);function ii(t,e){for(var r in e)t[r]=e[r];return t}function cb(t){var e=t.parentNode;e&&e.removeChild(t)}function h(t,e,r){var n,i,o,a={};for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?kl.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return Dl(t,a,n,i,null)}function Dl(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++ab};return i==null&&ae.vnode!=null&&ae.vnode(o),o}function Tl(){return{current:null}}function Fragment(t){return t.children}function cr(t,e){this.props=t,this.context=e}function Ol(t,e){if(e==null)return t.__?Ol(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Ol(t):null}function fb(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return fb(t)}}function ih(t){(!t.__d&&(t.__d=!0)&&Cl.push(t)&&!Bc.__r++||sb!==ae.debounceRendering)&&((sb=ae.debounceRendering)||setTimeout)(Bc)}function Bc(){for(var t;Bc.__r=Cl.length;)t=Cl.sort(function(e,r){return e.__v.__b-r.__v.__b}),Cl=[],t.some(function(e){var r,n,i,o,a,s;e.__d&&(a=(o=(r=e).__v).__e,(s=r.__P)&&(n=[],(i=ii({},o)).__v=o.__v+1,oh(s,o,i,r.__n,s.ownerSVGElement!==void 0,o.__h!=null?[a]:null,n,a??Ol(o),o.__h),vb(n,o),o.__e!=a&&fb(o)))})}function db(t,e,r,n,i,o,a,s,l,u){var c,f,d,p,g,m,v,b=n&&n.__k||ub,E=b.length;for(r.__k=[],c=0;c<e.length;c++)if((p=r.__k[c]=(p=e[c])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?Dl(null,p,null,null,p):Array.isArray(p)?Dl(Fragment,{children:p},null,null,null):p.__b>0?Dl(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=r,p.__b=r.__b+1,(d=b[c])===null||d&&p.key==d.key&&p.type===d.type)b[c]=void 0;else for(f=0;f<E;f++){if((d=b[f])&&p.key==d.key&&p.type===d.type){b[f]=void 0;break}d=null}oh(t,p,d=d||$c,i,o,a,s,l,u),g=p.__e,(f=p.ref)&&d.ref!=f&&(v||(v=[]),d.ref&&v.push(d.ref,null,p),v.push(f,p.__c||g,p)),g!=null?(m==null&&(m=g),typeof p.type=="function"&&p.__k===d.__k?p.__d=l=pb(p,l,t):l=hb(t,p,d,b,g,l),typeof r.type=="function"&&(r.__d=l)):l&&d.__e==l&&l.parentNode!=t&&(l=Ol(d))}for(r.__e=m,c=E;c--;)b[c]!=null&&bb(b[c],b[c]);if(v)for(c=0;c<v.length;c++)_b(v[c],v[++c],v[++c])}function pb(t,e,r){for(var n,i=t.__k,o=0;i&&o<i.length;o++)(n=i[o])&&(n.__=t,e=typeof n.type=="function"?pb(n,e,r):hb(r,n,n,i,n.__e,e));return e}function jn(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){jn(r,e)}):e.push(t)),e}function hb(t,e,r,n,i,o){var a,s,l;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(r==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),a=null;else{for(s=o,l=0;(s=s.nextSibling)&&l<n.length;l+=2)if(s==i)break e;t.insertBefore(i,o),a=o}return a!==void 0?a:i.nextSibling}function MI(t,e,r,n,i){var o;for(o in r)o==="children"||o==="key"||o in e||qc(t,o,null,r[o],n);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===e[o]||qc(t,o,e[o],r[o],n)}function mb(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||PI.test(e)?r:r+"px"}function qc(t,e,r,n,i){var o;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||mb(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||mb(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n||t.addEventListener(e,o?yb:gb,o):t.removeEventListener(e,o?yb:gb,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function gb(t){this.l[t.type+!1](ae.event?ae.event(t):t)}function yb(t){this.l[t.type+!0](ae.event?ae.event(t):t)}function oh(t,e,r,n,i,o,a,s,l){var u,c,f,d,p,g,m,v,b,E,w,_,S,x=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(l=r.__h,s=e.__e=r.__e,e.__h=null,o=[s]),(u=ae.__b)&&u(e);try{e:if(typeof x=="function"){for(v=e.props,b=(u=x.contextType)&&n[u.__c],E=u?b?b.props.value:u.__:n,r.__c?m=(c=e.__c=r.__c).__=c.__E:("prototype"in x&&x.prototype.render?e.__c=c=new x(v,E):(e.__c=c=new cr(v,E),c.constructor=x,c.render=jI),b&&b.sub(c),c.props=v,c.state||(c.state={}),c.context=E,c.__n=n,f=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),x.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=ii({},c.__s)),ii(c.__s,x.getDerivedStateFromProps(v,c.__s))),d=c.props,p=c.state,u=0;u<c._sb.length;u++)c.__h.push(c._sb[u]),c._sb=[];if(f)x.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(x.getDerivedStateFromProps==null&&v!==d&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(v,E),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(v,c.__s,E)===!1||e.__v===r.__v){c.props=v,c.state=c.__s,e.__v!==r.__v&&(c.__d=!1),c.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(k){k&&(k.__=e)}),c.__h.length&&a.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(v,c.__s,E),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(d,p,g)})}if(c.context=E,c.props=v,c.__v=e,c.__P=t,w=ae.__r,_=0,"prototype"in x&&x.prototype.render)c.state=c.__s,c.__d=!1,w&&w(e),u=c.render(c.props,c.state,c.context);else do c.__d=!1,w&&w(e),u=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++_<25);c.state=c.__s,c.getChildContext!=null&&(n=ii(ii({},n),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(g=c.getSnapshotBeforeUpdate(d,p)),S=u!=null&&u.type===Fragment&&u.key==null?u.props.children:u,db(t,Array.isArray(S)?S:[S],e,r,n,i,o,a,s,l),c.base=e.__e,e.__h=null,c.__h.length&&a.push(c),m&&(c.__E=c.__=null),c.__e=!1}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=FI(r.__e,e,r,n,i,o,a,l);(u=ae.diffed)&&u(e)}catch(k){e.__v=null,(l||o!=null)&&(e.__e=s,e.__h=!!l,o[o.indexOf(s)]=null),ae.__e(k,e,r)}}function vb(t,e){ae.__c&&ae.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){ae.__e(n,r.__v)}})}function FI(t,e,r,n,i,o,a,s){var l,u,c,f=r.props,d=e.props,p=e.type,g=0;if(p==="svg"&&(i=!0),o!=null){for(;g<o.length;g++)if((l=o[g])&&"setAttribute"in l==!!p&&(p?l.localName===p:l.nodeType===3)){t=l,o[g]=null;break}}if(t==null){if(p===null)return document.createTextNode(d);t=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,d.is&&d),o=null,s=!1}if(p===null)f===d||s&&t.data===d||(t.data=d);else{if(o=o&&kl.call(t.childNodes),u=(f=r.props||$c).dangerouslySetInnerHTML,c=d.dangerouslySetInnerHTML,!s){if(o!=null)for(f={},g=0;g<t.attributes.length;g++)f[t.attributes[g].name]=t.attributes[g].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(MI(t,d,f,i,s),c)e.__k=[];else if(g=e.props.children,db(t,Array.isArray(g)?g:[g],e,r,n,i&&p!=="foreignObject",o,a,o?o[0]:r.__k&&Ol(r,0),s),o!=null)for(g=o.length;g--;)o[g]!=null&&cb(o[g]);s||("value"in d&&(g=d.value)!==void 0&&(g!==t.value||p==="progress"&&!g||p==="option"&&g!==f.value)&&qc(t,"value",g,f.value,!1),"checked"in d&&(g=d.checked)!==void 0&&g!==t.checked&&qc(t,"checked",g,f.checked,!1))}return t}function _b(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){ae.__e(n,r)}}function bb(t,e,r){var n,i;if(ae.unmount&&ae.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||_b(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){ae.__e(o,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&bb(n[i],e,r||typeof t.type!="function");r||t.__e==null||cb(t.__e),t.__=t.__e=t.__d=void 0}function jI(t,e,r){return this.constructor(t,r)}function Rn(t,e,r){var n,i,o;ae.__&&ae.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,o=[],oh(e,t=(!n&&r||e).__k=h(Fragment,null,[t]),i||$c,$c,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?kl.call(e.childNodes):null,o,!n&&r?r:i?i.__e:e.firstChild,n),vb(o,t)}function Al(t,e){Rn(t,e,Al)}function Il(t,e,r){var n,i,o,a=ii({},t.props);for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:a[o]=e[o];return arguments.length>2&&(a.children=arguments.length>3?kl.call(arguments,2):r),Dl(t.type,a,n||t.key,i||t.ref,null)}function rr(t,e){var r={__c:e="__cC"+lb++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(ih)},this.sub=function(a){i.push(a);var s=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),s&&s.call(a)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}var kl,ae,ab,II,Cl,sb,lb,$c,ub,PI,oi=El(()=>{y();$c={},ub=[],PI=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;kl=ub.slice,ae={__e:function(t,e,r,n){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),a=i.__d),a)return i.__E=i}catch(s){t=s}throw t}},ab=0,II=function(t){return t!=null&&t.constructor===void 0},cr.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ii({},this.state),typeof t=="function"&&(t=t(ii({},r),this.props)),t&&ii(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),ih(this))},cr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ih(this))},cr.prototype.render=Fragment,Cl=[],Bc.__r=0,lb=0});var y=El(()=>{oi()});var hn=oe((exports,module)=>{y();"use strict";var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e}var src={},Ad4mClient$1={},AgentClient$1={},extendStatics$1=function(t,e){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},extendStatics$1(t,e)};function __extends$1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics$1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var genericMessage="Invariant Violation",_a$3=Object.setPrototypeOf,setPrototypeOf=_a$3===void 0?function(t,e){return t.__proto__=e,t}:_a$3,InvariantError=function(t){__extends$1(e,t);function e(r){r===void 0&&(r=genericMessage);var n=t.call(this,typeof r=="number"?genericMessage+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=genericMessage,setPrototypeOf(n,e.prototype),n}return e}(Error);function invariant$1(t,e){if(!t)throw new InvariantError(e)}var verbosityLevels=["debug","log","warn","error","silent"],verbosityLevel=verbosityLevels.indexOf("log");function wrapConsoleMethod(t){return function(){if(verbosityLevels.indexOf(t)>=verbosityLevel){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=wrapConsoleMethod("debug"),t.log=wrapConsoleMethod("log"),t.warn=wrapConsoleMethod("warn"),t.error=wrapConsoleMethod("error")})(invariant$1||(invariant$1={}));function setVerbosity(t){var e=verbosityLevels[verbosityLevel];return verbosityLevel=Math.max(0,verbosityLevels.indexOf(t)),e}function maybe$1(t){try{return t()}catch{}}var global$1=maybe$1(function(){return globalThis})||maybe$1(function(){return window})||maybe$1(function(){return self})||maybe$1(function(){return global})||maybe$1(function(){return maybe$1.constructor("return this")()}),__="__",GLOBAL_KEY=[__,__].join("DEV");function getDEV(){try{return Boolean(__DEV__)}catch{return Object.defineProperty(global$1,GLOBAL_KEY,{value:maybe$1(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),global$1[GLOBAL_KEY]}}var DEV=getDEV();function maybe(t){try{return t()}catch{}}var safeGlobal=maybe(function(){return globalThis})||maybe(function(){return window})||maybe(function(){return self})||maybe(function(){return global})||maybe(function(){return maybe.constructor("return this")()}),needToRemove=!1;function install(){safeGlobal&&!maybe(function(){return"production"})&&!maybe(function(){return process})&&(Object.defineProperty(safeGlobal,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),needToRemove=!0)}install();function remove(){needToRemove&&(delete safeGlobal.process,needToRemove=!1)}function _typeof$3(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(r){return typeof r}:_typeof$3=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$3(t)}function isObjectLike(t){return _typeof$3(t)=="object"&&t!==null}var SYMBOL_TO_STRING_TAG=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function getLocation(t,e){for(var r=/\r\n|[\n\r]/g,n=1,i=e+1,o;(o=r.exec(t.body))&&o.index<e;)n+=1,i=e+1-(o.index+o[0].length);return{line:n,column:i}}function printLocation(t){return printSourceLocation(t.source,getLocation(t.source,t.start))}function printSourceLocation(t,e){var r=t.locationOffset.column-1,n=whitespace(r)+t.body,i=e.line-1,o=t.locationOffset.line-1,a=e.line+o,s=e.line===1?r:0,l=e.column+s,u="".concat(t.name,":").concat(a,":").concat(l,`
`),c=n.split(/\r\n|[\n\r]/g),f=c[i];if(f.length>120){for(var d=Math.floor(l/80),p=l%80,g=[],m=0;m<f.length;m+=80)g.push(f.slice(m,m+80));return u+printPrefixedLines([["".concat(a),g[0]]].concat(g.slice(1,d+1).map(function(v){return["",v]}),[[" ",whitespace(p-1)+"^"],["",g[d+1]]]))}return u+printPrefixedLines([["".concat(a-1),c[i-1]],["".concat(a),f],["",whitespace(l-1)+"^"],["".concat(a+1),c[i+1]]])}function printPrefixedLines(t){var e=t.filter(function(n){n[0];var i=n[1];return i!==void 0}),r=Math.max.apply(Math,e.map(function(n){var i=n[0];return i.length}));return e.map(function(n){var i=n[0],o=n[1];return leftPad(r,i)+(o?" | "+o:" |")}).join(`
`)}function whitespace(t){return Array(t+1).join(" ")}function leftPad(t,e){return whitespace(t-e.length)+e}function _typeof$2(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(r){return typeof r}:_typeof$2=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$2(t)}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(n){_defineProperty(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass$2(t,e,r){return e&&_defineProperties$2(t.prototype,e),r&&_defineProperties$2(t,r),t}function _inherits(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n=_getPrototypeOf(t),i;if(e){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,e){return e&&(_typeof$2(e)==="object"||typeof e=="function")?e:_assertThisInitialized(t)}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var e=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(n){if(n===null||!_isNativeFunction(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return _construct(n,arguments,_getPrototypeOf(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(i,n)},_wrapNativeSuper(t)}function _construct(t,e,r){return _isNativeReflectConstruct()?_construct=Reflect.construct:_construct=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),u=new l;return a&&_setPrototypeOf(u,a.prototype),u},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _isNativeFunction(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf(t)}var GraphQLError=function(t){_inherits(r,t);var e=_createSuper(r);function r(n,i,o,a,s,l,u){var c,f,d,p;_classCallCheck(this,r),p=e.call(this,n),p.name="GraphQLError",p.originalError=l??void 0,p.nodes=undefinedIfEmpty(Array.isArray(i)?i:i?[i]:void 0);for(var g=[],m=0,v=(b=p.nodes)!==null&&b!==void 0?b:[];m<v.length;m++){var b,E=v[m],w=E.loc;w!=null&&g.push(w)}g=undefinedIfEmpty(g),p.source=o??((c=g)===null||c===void 0?void 0:c[0].source),p.positions=a??((f=g)===null||f===void 0?void 0:f.map(function(S){return S.start})),p.locations=a&&o?a.map(function(S){return getLocation(o,S)}):(d=g)===null||d===void 0?void 0:d.map(function(S){return getLocation(S.source,S.start)}),p.path=s??void 0;var _=l==null?void 0:l.extensions;return u==null&&isObjectLike(_)?p.extensions=_objectSpread({},_):p.extensions=u??{},Object.defineProperties(_assertThisInitialized(p),{message:{enumerable:!0},locations:{enumerable:p.locations!=null},path:{enumerable:p.path!=null},extensions:{enumerable:p.extensions!=null&&Object.keys(p.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?(Object.defineProperty(_assertThisInitialized(p),"stack",{value:l.stack,writable:!0,configurable:!0}),_possibleConstructorReturn(p)):(Error.captureStackTrace?Error.captureStackTrace(_assertThisInitialized(p),r):Object.defineProperty(_assertThisInitialized(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return _createClass$2(r,[{key:"toString",value:function(){return printError(this)}},{key:SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}]),r}(_wrapNativeSuper(Error));function undefinedIfEmpty(t){return t===void 0||t.length===0?void 0:t}function printError(t){var e=t.message;if(t.nodes)for(var r=0,n=t.nodes;r<n.length;r++){var i=n[r];i.loc&&(e+=`

`+printLocation(i.loc))}else if(t.source&&t.locations)for(var o=0,a=t.locations;o<a.length;o++){var s=a[o];e+=`

`+printSourceLocation(t.source,s)}return e}function syntaxError(t,e,r){return new GraphQLError("Syntax Error: ".concat(r),void 0,t,[e])}var Kind=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function invariant(t,e){var r=Boolean(t);if(!r)throw new Error(e??"Unexpected invariant triggered.")}var nodejsCustomInspectSymbol=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,nodejsCustomInspectSymbol$1=nodejsCustomInspectSymbol;function defineInspect(t){var e=t.prototype.toJSON;typeof e=="function"||invariant(0),t.prototype.inspect=e,nodejsCustomInspectSymbol$1&&(t.prototype[nodejsCustomInspectSymbol$1]=e)}var Location=function(){function t(r,n,i){this.start=r.start,this.end=n.end,this.startToken=r,this.endToken=n,this.source=i}var e=t.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},t}();defineInspect(Location);var Token=function(){function t(r,n,i,o,a,s,l){this.kind=r,this.start=n,this.end=i,this.line=o,this.column=a,this.value=l,this.prev=s,this.next=null}var e=t.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();defineInspect(Token);function isNode(t){return t!=null&&typeof t.kind=="string"}var TokenKind=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function _typeof$1(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(r){return typeof r}:_typeof$1=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$1(t)}var MAX_ARRAY_LENGTH=10,MAX_RECURSIVE_DEPTH=2;function inspect(t){return formatValue(t,[])}function formatValue(t,e){switch(_typeof$1(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return t===null?"null":formatObjectValue(t,e);default:return String(t)}}function formatObjectValue(t,e){if(e.indexOf(t)!==-1)return"[Circular]";var r=[].concat(e,[t]),n=getCustomFn(t);if(n!==void 0){var i=n.call(t);if(i!==t)return typeof i=="string"?i:formatValue(i,r)}else if(Array.isArray(t))return formatArray(t,r);return formatObject(t,r)}function formatObject(t,e){var r=Object.keys(t);if(r.length===0)return"{}";if(e.length>MAX_RECURSIVE_DEPTH)return"["+getObjectTag(t)+"]";var n=r.map(function(i){var o=formatValue(t[i],e);return i+": "+o});return"{ "+n.join(", ")+" }"}function formatArray(t,e){if(t.length===0)return"[]";if(e.length>MAX_RECURSIVE_DEPTH)return"[Array]";for(var r=Math.min(MAX_ARRAY_LENGTH,t.length),n=t.length-r,i=[],o=0;o<r;++o)i.push(formatValue(t[o],e));return n===1?i.push("... 1 more item"):n>1&&i.push("... ".concat(n," more items")),"["+i.join(", ")+"]"}function getCustomFn(t){var e=t[String(nodejsCustomInspectSymbol$1)];if(typeof e=="function")return e;if(typeof t.inspect=="function")return t.inspect}function getObjectTag(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){var r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}function devAssert(t,e){var r=Boolean(t);if(!r)throw new Error(e)}function _typeof(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(r){return typeof r}:_typeof=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(t)}var instanceOf=function(e,r){return e instanceof r};function _defineProperties$1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass$1(t,e,r){return e&&_defineProperties$1(t.prototype,e),r&&_defineProperties$1(t,r),t}var Source=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||devAssert(0,"Body must be a string. Received: ".concat(inspect(e),".")),this.body=e,this.name=r,this.locationOffset=n,this.locationOffset.line>0||devAssert(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||devAssert(0,"column in locationOffset is 1-indexed and must be positive.")}return _createClass$1(t,[{key:SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}]),t}();function isSource(t){return instanceOf(t,Source)}var DirectiveLocation=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function dedentBlockStringValue(t){var e=t.split(/\r\n|[\n\r]/g),r=getBlockStringIndentation(t);if(r!==0)for(var n=1;n<e.length;n++)e[n]=e[n].slice(r);for(var i=0;i<e.length&&isBlank(e[i]);)++i;for(var o=e.length;o>i&&isBlank(e[o-1]);)--o;return e.slice(i,o).join(`
`)}function isBlank(t){for(var e=0;e<t.length;++e)if(t[e]!==" "&&t[e]!=="	")return!1;return!0}function getBlockStringIndentation(t){for(var e,r=!0,n=!0,i=0,o=null,a=0;a<t.length;++a)switch(t.charCodeAt(a)){case 13:t.charCodeAt(a+1)===10&&++a;case 10:r=!1,n=!0,i=0;break;case 9:case 32:++i;break;default:n&&!r&&(o===null||i<o)&&(o=i),n=!1}return(e=o)!==null&&e!==void 0?e:0}function printBlockString(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=t.indexOf(`
`)===-1,i=t[0]===" "||t[0]==="	",o=t[t.length-1]==='"',a=t[t.length-1]==="\\",s=!n||o||a||r,l="";return s&&!(n&&i)&&(l+=`
`+e),l+=e?t.replace(/\n/g,`
`+e):t,s&&(l+=`
`),'"""'+l.replace(/"""/g,'\\"""')+'"""'}var Lexer=function(){function t(r){var n=new Token(TokenKind.SOF,0,0,0,0,null);this.source=r,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){this.lastToken=this.token;var n=this.token=this.lookahead();return n},e.lookahead=function(){var n=this.token;if(n.kind!==TokenKind.EOF)do{var i;n=(i=n.next)!==null&&i!==void 0?i:n.next=readToken(this,n)}while(n.kind===TokenKind.COMMENT);return n},t}();function isPunctuatorTokenKind(t){return t===TokenKind.BANG||t===TokenKind.DOLLAR||t===TokenKind.AMP||t===TokenKind.PAREN_L||t===TokenKind.PAREN_R||t===TokenKind.SPREAD||t===TokenKind.COLON||t===TokenKind.EQUALS||t===TokenKind.AT||t===TokenKind.BRACKET_L||t===TokenKind.BRACKET_R||t===TokenKind.BRACE_L||t===TokenKind.PIPE||t===TokenKind.BRACE_R}function printCharCode(t){return isNaN(t)?TokenKind.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function readToken(t,e){for(var r=t.source,n=r.body,i=n.length,o=e.end;o<i;){var a=n.charCodeAt(o),s=t.line,l=1+o-t.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++t.line,t.lineStart=o;continue;case 13:n.charCodeAt(o+1)===10?o+=2:++o,++t.line,t.lineStart=o;continue;case 33:return new Token(TokenKind.BANG,o,o+1,s,l,e);case 35:return readComment(r,o,s,l,e);case 36:return new Token(TokenKind.DOLLAR,o,o+1,s,l,e);case 38:return new Token(TokenKind.AMP,o,o+1,s,l,e);case 40:return new Token(TokenKind.PAREN_L,o,o+1,s,l,e);case 41:return new Token(TokenKind.PAREN_R,o,o+1,s,l,e);case 46:if(n.charCodeAt(o+1)===46&&n.charCodeAt(o+2)===46)return new Token(TokenKind.SPREAD,o,o+3,s,l,e);break;case 58:return new Token(TokenKind.COLON,o,o+1,s,l,e);case 61:return new Token(TokenKind.EQUALS,o,o+1,s,l,e);case 64:return new Token(TokenKind.AT,o,o+1,s,l,e);case 91:return new Token(TokenKind.BRACKET_L,o,o+1,s,l,e);case 93:return new Token(TokenKind.BRACKET_R,o,o+1,s,l,e);case 123:return new Token(TokenKind.BRACE_L,o,o+1,s,l,e);case 124:return new Token(TokenKind.PIPE,o,o+1,s,l,e);case 125:return new Token(TokenKind.BRACE_R,o,o+1,s,l,e);case 34:return n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34?readBlockString(r,o,s,l,e,t):readString(r,o,s,l,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return readNumber(r,o,a,s,l,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return readName(r,o,s,l,e)}throw syntaxError(r,o,unexpectedCharacterMessage(a))}var u=t.line,c=1+o-t.lineStart;return new Token(TokenKind.EOF,i,i,u,c,e)}function unexpectedCharacterMessage(t){return t<32&&t!==9&&t!==10&&t!==13?"Cannot contain the invalid character ".concat(printCharCode(t),"."):t===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(printCharCode(t),".")}function readComment(t,e,r,n,i){var o=t.body,a,s=e;do a=o.charCodeAt(++s);while(!isNaN(a)&&(a>31||a===9));return new Token(TokenKind.COMMENT,e,s,r,n,i,o.slice(e+1,s))}function readNumber(t,e,r,n,i,o){var a=t.body,s=r,l=e,u=!1;if(s===45&&(s=a.charCodeAt(++l)),s===48){if(s=a.charCodeAt(++l),s>=48&&s<=57)throw syntaxError(t,l,"Invalid number, unexpected digit after 0: ".concat(printCharCode(s),"."))}else l=readDigits(t,l,s),s=a.charCodeAt(l);if(s===46&&(u=!0,s=a.charCodeAt(++l),l=readDigits(t,l,s),s=a.charCodeAt(l)),(s===69||s===101)&&(u=!0,s=a.charCodeAt(++l),(s===43||s===45)&&(s=a.charCodeAt(++l)),l=readDigits(t,l,s),s=a.charCodeAt(l)),s===46||isNameStart(s))throw syntaxError(t,l,"Invalid number, expected digit but got: ".concat(printCharCode(s),"."));return new Token(u?TokenKind.FLOAT:TokenKind.INT,e,l,n,i,o,a.slice(e,l))}function readDigits(t,e,r){var n=t.body,i=e,o=r;if(o>=48&&o<=57){do o=n.charCodeAt(++i);while(o>=48&&o<=57);return i}throw syntaxError(t,i,"Invalid number, expected digit but got: ".concat(printCharCode(o),"."))}function readString(t,e,r,n,i){for(var o=t.body,a=e+1,s=a,l=0,u="";a<o.length&&!isNaN(l=o.charCodeAt(a))&&l!==10&&l!==13;){if(l===34)return u+=o.slice(s,a),new Token(TokenKind.STRING,e,a+1,r,n,i,u);if(l<32&&l!==9)throw syntaxError(t,a,"Invalid character within String: ".concat(printCharCode(l),"."));if(++a,l===92){switch(u+=o.slice(s,a-1),l=o.charCodeAt(a),l){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+=`
`;break;case 114:u+="\r";break;case 116:u+="	";break;case 117:{var c=uniCharCode(o.charCodeAt(a+1),o.charCodeAt(a+2),o.charCodeAt(a+3),o.charCodeAt(a+4));if(c<0){var f=o.slice(a+1,a+5);throw syntaxError(t,a,"Invalid character escape sequence: \\u".concat(f,"."))}u+=String.fromCharCode(c),a+=4;break}default:throw syntaxError(t,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(l),"."))}++a,s=a}}throw syntaxError(t,a,"Unterminated string.")}function readBlockString(t,e,r,n,i,o){for(var a=t.body,s=e+3,l=s,u=0,c="";s<a.length&&!isNaN(u=a.charCodeAt(s));){if(u===34&&a.charCodeAt(s+1)===34&&a.charCodeAt(s+2)===34)return c+=a.slice(l,s),new Token(TokenKind.BLOCK_STRING,e,s+3,r,n,i,dedentBlockStringValue(c));if(u<32&&u!==9&&u!==10&&u!==13)throw syntaxError(t,s,"Invalid character within String: ".concat(printCharCode(u),"."));u===10?(++s,++o.line,o.lineStart=s):u===13?(a.charCodeAt(s+1)===10?s+=2:++s,++o.line,o.lineStart=s):u===92&&a.charCodeAt(s+1)===34&&a.charCodeAt(s+2)===34&&a.charCodeAt(s+3)===34?(c+=a.slice(l,s)+'"""',s+=4,l=s):++s}throw syntaxError(t,s,"Unterminated string.")}function uniCharCode(t,e,r,n){return char2hex(t)<<12|char2hex(e)<<8|char2hex(r)<<4|char2hex(n)}function char2hex(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function readName(t,e,r,n,i){for(var o=t.body,a=o.length,s=e+1,l=0;s!==a&&!isNaN(l=o.charCodeAt(s))&&(l===95||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++s;return new Token(TokenKind.NAME,e,s,r,n,i,o.slice(e,s))}function isNameStart(t){return t===95||t>=65&&t<=90||t>=97&&t<=122}function parse(t,e){var r=new Parser(t,e);return r.parseDocument()}var Parser=function(){function t(r,n){var i=isSource(r)?r:new Source(r);this._lexer=new Lexer(i),this._options=n}var e=t.prototype;return e.parseName=function(){var n=this.expectToken(TokenKind.NAME);return{kind:Kind.NAME,value:n.value,loc:this.loc(n)}},e.parseDocument=function(){var n=this._lexer.token;return{kind:Kind.DOCUMENT,definitions:this.many(TokenKind.SOF,this.parseDefinition,TokenKind.EOF),loc:this.loc(n)}},e.parseDefinition=function(){if(this.peek(TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(TokenKind.BRACE_L))return{kind:Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var i=this.parseOperationType(),o;return this.peek(TokenKind.NAME)&&(o=this.parseName()),{kind:Kind.OPERATION_DEFINITION,operation:i,name:o,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseOperationType=function(){var n=this.expectToken(TokenKind.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},e.parseVariableDefinitions=function(){return this.optionalMany(TokenKind.PAREN_L,this.parseVariableDefinition,TokenKind.PAREN_R)},e.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},e.parseVariable=function(){var n=this._lexer.token;return this.expectToken(TokenKind.DOLLAR),{kind:Kind.VARIABLE,name:this.parseName(),loc:this.loc(n)}},e.parseSelectionSet=function(){var n=this._lexer.token;return{kind:Kind.SELECTION_SET,selections:this.many(TokenKind.BRACE_L,this.parseSelection,TokenKind.BRACE_R),loc:this.loc(n)}},e.parseSelection=function(){return this.peek(TokenKind.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var n=this._lexer.token,i=this.parseName(),o,a;return this.expectOptionalToken(TokenKind.COLON)?(o=i,a=this.parseName()):a=i,{kind:Kind.FIELD,alias:o,name:a,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},e.parseArguments=function(n){var i=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(TokenKind.PAREN_L,i,TokenKind.PAREN_R)},e.parseArgument=function(){var n=this._lexer.token,i=this.parseName();return this.expectToken(TokenKind.COLON),{kind:Kind.ARGUMENT,name:i,value:this.parseValueLiteral(!1),loc:this.loc(n)}},e.parseConstArgument=function(){var n=this._lexer.token;return{kind:Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},e.parseFragment=function(){var n=this._lexer.token;this.expectToken(TokenKind.SPREAD);var i=this.expectOptionalKeyword("on");return!i&&this.peek(TokenKind.NAME)?{kind:Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:Kind.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseFragmentDefinition=function(){var n,i=this._lexer.token;return this.expectKeyword("fragment"),((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===!0?{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}:{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},e.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(n){var i=this._lexer.token;switch(i.kind){case TokenKind.BRACKET_L:return this.parseList(n);case TokenKind.BRACE_L:return this.parseObject(n);case TokenKind.INT:return this._lexer.advance(),{kind:Kind.INT,value:i.value,loc:this.loc(i)};case TokenKind.FLOAT:return this._lexer.advance(),{kind:Kind.FLOAT,value:i.value,loc:this.loc(i)};case TokenKind.STRING:case TokenKind.BLOCK_STRING:return this.parseStringLiteral();case TokenKind.NAME:switch(this._lexer.advance(),i.value){case"true":return{kind:Kind.BOOLEAN,value:!0,loc:this.loc(i)};case"false":return{kind:Kind.BOOLEAN,value:!1,loc:this.loc(i)};case"null":return{kind:Kind.NULL,loc:this.loc(i)};default:return{kind:Kind.ENUM,value:i.value,loc:this.loc(i)}}case TokenKind.DOLLAR:if(!n)return this.parseVariable();break}throw this.unexpected()},e.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:Kind.STRING,value:n.value,block:n.kind===TokenKind.BLOCK_STRING,loc:this.loc(n)}},e.parseList=function(n){var i=this,o=this._lexer.token,a=function(){return i.parseValueLiteral(n)};return{kind:Kind.LIST,values:this.any(TokenKind.BRACKET_L,a,TokenKind.BRACKET_R),loc:this.loc(o)}},e.parseObject=function(n){var i=this,o=this._lexer.token,a=function(){return i.parseObjectField(n)};return{kind:Kind.OBJECT,fields:this.any(TokenKind.BRACE_L,a,TokenKind.BRACE_R),loc:this.loc(o)}},e.parseObjectField=function(n){var i=this._lexer.token,o=this.parseName();return this.expectToken(TokenKind.COLON),{kind:Kind.OBJECT_FIELD,name:o,value:this.parseValueLiteral(n),loc:this.loc(i)}},e.parseDirectives=function(n){for(var i=[];this.peek(TokenKind.AT);)i.push(this.parseDirective(n));return i},e.parseDirective=function(n){var i=this._lexer.token;return this.expectToken(TokenKind.AT),{kind:Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(i)}},e.parseTypeReference=function(){var n=this._lexer.token,i;return this.expectOptionalToken(TokenKind.BRACKET_L)?(i=this.parseTypeReference(),this.expectToken(TokenKind.BRACKET_R),i={kind:Kind.LIST_TYPE,type:i,loc:this.loc(n)}):i=this.parseNamedType(),this.expectOptionalToken(TokenKind.BANG)?{kind:Kind.NON_NULL_TYPE,type:i,loc:this.loc(n)}:i},e.parseNamedType=function(){var n=this._lexer.token;return{kind:Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},e.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===TokenKind.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},e.peekDescription=function(){return this.peek(TokenKind.STRING)||this.peek(TokenKind.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("schema");var o=this.parseDirectives(!0),a=this.many(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);return{kind:Kind.SCHEMA_DEFINITION,description:i,directives:o,operationTypes:a,loc:this.loc(n)}},e.parseOperationTypeDefinition=function(){var n=this._lexer.token,i=this.parseOperationType();this.expectToken(TokenKind.COLON);var o=this.parseNamedType();return{kind:Kind.OPERATION_TYPE_DEFINITION,operation:i,type:o,loc:this.loc(n)}},e.parseScalarTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");var o=this.parseName(),a=this.parseDirectives(!0);return{kind:Kind.SCALAR_TYPE_DEFINITION,description:i,name:o,directives:a,loc:this.loc(n)}},e.parseObjectTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");var o=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:Kind.OBJECT_TYPE_DEFINITION,description:i,name:o,interfaces:a,directives:s,fields:l,loc:this.loc(n)}},e.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===!0){var i=[];this.expectOptionalToken(TokenKind.AMP);do i.push(this.parseNamedType());while(this.expectOptionalToken(TokenKind.AMP)||this.peek(TokenKind.NAME));return i}return this.delimitedMany(TokenKind.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var n;return((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===!0&&this.peek(TokenKind.BRACE_L)&&this._lexer.lookahead().kind===TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(TokenKind.BRACE_L,this.parseFieldDefinition,TokenKind.BRACE_R)},e.parseFieldDefinition=function(){var n=this._lexer.token,i=this.parseDescription(),o=this.parseName(),a=this.parseArgumentDefs();this.expectToken(TokenKind.COLON);var s=this.parseTypeReference(),l=this.parseDirectives(!0);return{kind:Kind.FIELD_DEFINITION,description:i,name:o,arguments:a,type:s,directives:l,loc:this.loc(n)}},e.parseArgumentDefs=function(){return this.optionalMany(TokenKind.PAREN_L,this.parseInputValueDef,TokenKind.PAREN_R)},e.parseInputValueDef=function(){var n=this._lexer.token,i=this.parseDescription(),o=this.parseName();this.expectToken(TokenKind.COLON);var a=this.parseTypeReference(),s;this.expectOptionalToken(TokenKind.EQUALS)&&(s=this.parseValueLiteral(!0));var l=this.parseDirectives(!0);return{kind:Kind.INPUT_VALUE_DEFINITION,description:i,name:o,type:a,defaultValue:s,directives:l,loc:this.loc(n)}},e.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");var o=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:Kind.INTERFACE_TYPE_DEFINITION,description:i,name:o,interfaces:a,directives:s,fields:l,loc:this.loc(n)}},e.parseUnionTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseUnionMemberTypes();return{kind:Kind.UNION_TYPE_DEFINITION,description:i,name:o,directives:a,types:s,loc:this.loc(n)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(TokenKind.EQUALS)?this.delimitedMany(TokenKind.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();return{kind:Kind.ENUM_TYPE_DEFINITION,description:i,name:o,directives:a,values:s,loc:this.loc(n)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(TokenKind.BRACE_L,this.parseEnumValueDefinition,TokenKind.BRACE_R)},e.parseEnumValueDefinition=function(){var n=this._lexer.token,i=this.parseDescription(),o=this.parseName(),a=this.parseDirectives(!0);return{kind:Kind.ENUM_VALUE_DEFINITION,description:i,name:o,directives:a,loc:this.loc(n)}},e.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();return{kind:Kind.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:o,directives:a,fields:s,loc:this.loc(n)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(TokenKind.BRACE_L,this.parseInputValueDef,TokenKind.BRACE_R)},e.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===TokenKind.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},e.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var i=this.parseDirectives(!0),o=this.optionalMany(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);if(i.length===0&&o.length===0)throw this.unexpected();return{kind:Kind.SCHEMA_EXTENSION,directives:i,operationTypes:o,loc:this.loc(n)}},e.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var i=this.parseName(),o=this.parseDirectives(!0);if(o.length===0)throw this.unexpected();return{kind:Kind.SCALAR_TYPE_EXTENSION,name:i,directives:o,loc:this.loc(n)}},e.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var i=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(o.length===0&&a.length===0&&s.length===0)throw this.unexpected();return{kind:Kind.OBJECT_TYPE_EXTENSION,name:i,interfaces:o,directives:a,fields:s,loc:this.loc(n)}},e.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var i=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(o.length===0&&a.length===0&&s.length===0)throw this.unexpected();return{kind:Kind.INTERFACE_TYPE_EXTENSION,name:i,interfaces:o,directives:a,fields:s,loc:this.loc(n)}},e.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var i=this.parseName(),o=this.parseDirectives(!0),a=this.parseUnionMemberTypes();if(o.length===0&&a.length===0)throw this.unexpected();return{kind:Kind.UNION_TYPE_EXTENSION,name:i,directives:o,types:a,loc:this.loc(n)}},e.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var i=this.parseName(),o=this.parseDirectives(!0),a=this.parseEnumValuesDefinition();if(o.length===0&&a.length===0)throw this.unexpected();return{kind:Kind.ENUM_TYPE_EXTENSION,name:i,directives:o,values:a,loc:this.loc(n)}},e.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var i=this.parseName(),o=this.parseDirectives(!0),a=this.parseInputFieldsDefinition();if(o.length===0&&a.length===0)throw this.unexpected();return{kind:Kind.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:o,fields:a,loc:this.loc(n)}},e.parseDirectiveDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(TokenKind.AT);var o=this.parseName(),a=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var l=this.parseDirectiveLocations();return{kind:Kind.DIRECTIVE_DEFINITION,description:i,name:o,arguments:a,repeatable:s,locations:l,loc:this.loc(n)}},e.parseDirectiveLocations=function(){return this.delimitedMany(TokenKind.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var n=this._lexer.token,i=this.parseName();if(DirectiveLocation[i.value]!==void 0)return i;throw this.unexpected(n)},e.loc=function(n){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0)return new Location(n,this._lexer.lastToken,this._lexer.source)},e.peek=function(n){return this._lexer.token.kind===n},e.expectToken=function(n){var i=this._lexer.token;if(i.kind===n)return this._lexer.advance(),i;throw syntaxError(this._lexer.source,i.start,"Expected ".concat(getTokenKindDesc(n),", found ").concat(getTokenDesc(i),"."))},e.expectOptionalToken=function(n){var i=this._lexer.token;if(i.kind===n)return this._lexer.advance(),i},e.expectKeyword=function(n){var i=this._lexer.token;if(i.kind===TokenKind.NAME&&i.value===n)this._lexer.advance();else throw syntaxError(this._lexer.source,i.start,'Expected "'.concat(n,'", found ').concat(getTokenDesc(i),"."))},e.expectOptionalKeyword=function(n){var i=this._lexer.token;return i.kind===TokenKind.NAME&&i.value===n?(this._lexer.advance(),!0):!1},e.unexpected=function(n){var i=n??this._lexer.token;return syntaxError(this._lexer.source,i.start,"Unexpected ".concat(getTokenDesc(i),"."))},e.any=function(n,i,o){this.expectToken(n);for(var a=[];!this.expectOptionalToken(o);)a.push(i.call(this));return a},e.optionalMany=function(n,i,o){if(this.expectOptionalToken(n)){var a=[];do a.push(i.call(this));while(!this.expectOptionalToken(o));return a}return[]},e.many=function(n,i,o){this.expectToken(n);var a=[];do a.push(i.call(this));while(!this.expectOptionalToken(o));return a},e.delimitedMany=function(n,i){this.expectOptionalToken(n);var o=[];do o.push(i.call(this));while(this.expectOptionalToken(n));return o},t}();function getTokenDesc(t){var e=t.value;return getTokenKindDesc(t.kind)+(e!=null?' "'.concat(e,'"'):"")}function getTokenKindDesc(t){return isPunctuatorTokenKind(t)?'"'.concat(t,'"'):t}var QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},BREAK=Object.freeze({});function visit(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:QueryDocumentKeys,n=void 0,i=Array.isArray(t),o=[t],a=-1,s=[],l=void 0,u=void 0,c=void 0,f=[],d=[],p=t;do{a++;var g=a===o.length,m=g&&s.length!==0;if(g){if(u=d.length===0?void 0:f[f.length-1],l=c,c=d.pop(),m){if(i)l=l.slice();else{for(var v={},b=0,E=Object.keys(l);b<E.length;b++){var w=E[b];v[w]=l[w]}l=v}for(var _=0,S=0;S<s.length;S++){var x=s[S][0],k=s[S][1];i&&(x-=_),i&&k===null?(l.splice(x,1),_++):l[x]=k}}a=n.index,o=n.keys,s=n.edits,i=n.inArray,n=n.prev}else{if(u=c?i?a:o[a]:void 0,l=c?c[u]:p,l==null)continue;c&&f.push(u)}var C=void 0;if(!Array.isArray(l)){if(!isNode(l))throw new Error("Invalid AST Node: ".concat(inspect(l),"."));var D=getVisitFn(e,l.kind,g);if(D){if(C=D.call(e,l,u,c,f,d),C===BREAK)break;if(C===!1){if(!g){f.pop();continue}}else if(C!==void 0&&(s.push([u,C]),!g))if(isNode(C))l=C;else{f.pop();continue}}}if(C===void 0&&m&&s.push([u,l]),g)f.pop();else{var T;n={inArray:i,index:a,keys:o,edits:s,prev:n},i=Array.isArray(l),o=i?l:(T=r[l.kind])!==null&&T!==void 0?T:[],a=-1,s=[],c&&d.push(c),c=l}}while(n!==void 0);return s.length!==0&&(p=s[s.length-1][1]),p}function getVisitFn(t,e,r){var n=t[e];if(n){if(!r&&typeof n=="function")return n;var i=r?n.leave:n.enter;if(typeof i=="function")return i}else{var o=r?t.leave:t.enter;if(o){if(typeof o=="function")return o;var a=o[e];if(typeof a=="function")return a}}}function print(t){return visit(t,{leave:printDocASTReducer})}var MAX_LINE_LENGTH=80,printDocASTReducer={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return join(e.definitions,`

`)+`
`},OperationDefinition:function(e){var r=e.operation,n=e.name,i=wrap$1("(",join(e.variableDefinitions,", "),")"),o=join(e.directives," "),a=e.selectionSet;return!n&&!o&&!i&&r==="query"?a:join([r,join([n,i]),o,a]," ")},VariableDefinition:function(e){var r=e.variable,n=e.type,i=e.defaultValue,o=e.directives;return r+": "+n+wrap$1(" = ",i)+wrap$1(" ",join(o," "))},SelectionSet:function(e){var r=e.selections;return block(r)},Field:function(e){var r=e.alias,n=e.name,i=e.arguments,o=e.directives,a=e.selectionSet,s=wrap$1("",r,": ")+n,l=s+wrap$1("(",join(i,", "),")");return l.length>MAX_LINE_LENGTH&&(l=s+wrap$1(`(
`,indent(join(i,`
`)),`
)`)),join([l,join(o," "),a]," ")},Argument:function(e){var r=e.name,n=e.value;return r+": "+n},FragmentSpread:function(e){var r=e.name,n=e.directives;return"..."+r+wrap$1(" ",join(n," "))},InlineFragment:function(e){var r=e.typeCondition,n=e.directives,i=e.selectionSet;return join(["...",wrap$1("on ",r),join(n," "),i]," ")},FragmentDefinition:function(e){var r=e.name,n=e.typeCondition,i=e.variableDefinitions,o=e.directives,a=e.selectionSet;return"fragment ".concat(r).concat(wrap$1("(",join(i,", "),")")," ")+"on ".concat(n," ").concat(wrap$1("",join(o," ")," "))+a},IntValue:function(e){var r=e.value;return r},FloatValue:function(e){var r=e.value;return r},StringValue:function(e,r){var n=e.value,i=e.block;return i?printBlockString(n,r==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(e){var r=e.value;return r?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){var r=e.value;return r},ListValue:function(e){var r=e.values;return"["+join(r,", ")+"]"},ObjectValue:function(e){var r=e.fields;return"{"+join(r,", ")+"}"},ObjectField:function(e){var r=e.name,n=e.value;return r+": "+n},Directive:function(e){var r=e.name,n=e.arguments;return"@"+r+wrap$1("(",join(n,", "),")")},NamedType:function(e){var r=e.name;return r},ListType:function(e){var r=e.type;return"["+r+"]"},NonNullType:function(e){var r=e.type;return r+"!"},SchemaDefinition:addDescription(function(t){var e=t.directives,r=t.operationTypes;return join(["schema",join(e," "),block(r)]," ")}),OperationTypeDefinition:function(e){var r=e.operation,n=e.type;return r+": "+n},ScalarTypeDefinition:addDescription(function(t){var e=t.name,r=t.directives;return join(["scalar",e,join(r," ")]," ")}),ObjectTypeDefinition:addDescription(function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return join(["type",e,wrap$1("implements ",join(r," & ")),join(n," "),block(i)]," ")}),FieldDefinition:addDescription(function(t){var e=t.name,r=t.arguments,n=t.type,i=t.directives;return e+(hasMultilineItems(r)?wrap$1(`(
`,indent(join(r,`
`)),`
)`):wrap$1("(",join(r,", "),")"))+": "+n+wrap$1(" ",join(i," "))}),InputValueDefinition:addDescription(function(t){var e=t.name,r=t.type,n=t.defaultValue,i=t.directives;return join([e+": "+r,wrap$1("= ",n),join(i," ")]," ")}),InterfaceTypeDefinition:addDescription(function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return join(["interface",e,wrap$1("implements ",join(r," & ")),join(n," "),block(i)]," ")}),UnionTypeDefinition:addDescription(function(t){var e=t.name,r=t.directives,n=t.types;return join(["union",e,join(r," "),n&&n.length!==0?"= "+join(n," | "):""]," ")}),EnumTypeDefinition:addDescription(function(t){var e=t.name,r=t.directives,n=t.values;return join(["enum",e,join(r," "),block(n)]," ")}),EnumValueDefinition:addDescription(function(t){var e=t.name,r=t.directives;return join([e,join(r," ")]," ")}),InputObjectTypeDefinition:addDescription(function(t){var e=t.name,r=t.directives,n=t.fields;return join(["input",e,join(r," "),block(n)]," ")}),DirectiveDefinition:addDescription(function(t){var e=t.name,r=t.arguments,n=t.repeatable,i=t.locations;return"directive @"+e+(hasMultilineItems(r)?wrap$1(`(
`,indent(join(r,`
`)),`
)`):wrap$1("(",join(r,", "),")"))+(n?" repeatable":"")+" on "+join(i," | ")}),SchemaExtension:function(e){var r=e.directives,n=e.operationTypes;return join(["extend schema",join(r," "),block(n)]," ")},ScalarTypeExtension:function(e){var r=e.name,n=e.directives;return join(["extend scalar",r,join(n," ")]," ")},ObjectTypeExtension:function(e){var r=e.name,n=e.interfaces,i=e.directives,o=e.fields;return join(["extend type",r,wrap$1("implements ",join(n," & ")),join(i," "),block(o)]," ")},InterfaceTypeExtension:function(e){var r=e.name,n=e.interfaces,i=e.directives,o=e.fields;return join(["extend interface",r,wrap$1("implements ",join(n," & ")),join(i," "),block(o)]," ")},UnionTypeExtension:function(e){var r=e.name,n=e.directives,i=e.types;return join(["extend union",r,join(n," "),i&&i.length!==0?"= "+join(i," | "):""]," ")},EnumTypeExtension:function(e){var r=e.name,n=e.directives,i=e.values;return join(["extend enum",r,join(n," "),block(i)]," ")},InputObjectTypeExtension:function(e){var r=e.name,n=e.directives,i=e.fields;return join(["extend input",r,join(n," "),block(i)]," ")}};function addDescription(t){return function(e){return join([e.description,t(e)],`
`)}}function join(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(e=t==null?void 0:t.filter(function(n){return n}).join(r))!==null&&e!==void 0?e:""}function block(t){return wrap$1(`{
`,indent(join(t,`
`)),`
}`)}function wrap$1(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e!=null&&e!==""?t+e+r:""}function indent(t){return wrap$1("  ",t.replace(/\n/g,`
  `))}function isMultiline(t){return t.indexOf(`
`)!==-1}function hasMultilineItems(t){return t!=null&&t.some(isMultiline)}function removeTemporaryGlobals(){return remove()}function checkDEV(){__DEV__?invariant$1(typeof DEV=="boolean",DEV):invariant$1(typeof DEV=="boolean",36)}removeTemporaryGlobals();checkDEV();var extendStatics=function(t,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},extendStatics(t,e)};function __extends(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var __assign$1=function(){return __assign$1=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},__assign$1.apply(this,arguments)};function __rest(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function __awaiter(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(f){a(f)}}function l(c){try{u(n.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})}function __generator(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function __spreadArray(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function shouldInclude(t,e){var r=t.directives;return!r||!r.length?!0:getInclusionDirectives(r).every(function(n){var i=n.directive,o=n.ifArgument,a=!1;return o.value.kind==="Variable"?(a=e&&e[o.value.name.value],__DEV__?invariant$1(a!==void 0,"Invalid variable referenced in @".concat(i.name.value," directive.")):invariant$1(a!==void 0,37)):a=o.value.value,i.name.value==="skip"?!a:a})}function getDirectiveNames(t){var e=[];return visit(t,{Directive:function(r){e.push(r.name.value)}}),e}function hasDirectives(t,e){return getDirectiveNames(e).some(function(r){return t.indexOf(r)>-1})}function hasClientExports(t){return t&&hasDirectives(["client"],t)&&hasDirectives(["export"],t)}function isInclusionDirective(t){var e=t.name.value;return e==="skip"||e==="include"}function getInclusionDirectives(t){var e=[];return t&&t.length&&t.forEach(function(r){if(!!isInclusionDirective(r)){var n=r.arguments,i=r.name.value;__DEV__?invariant$1(n&&n.length===1,"Incorrect number of arguments for the @".concat(i," directive.")):invariant$1(n&&n.length===1,38);var o=n[0];__DEV__?invariant$1(o.name&&o.name.value==="if","Invalid argument for the @".concat(i," directive.")):invariant$1(o.name&&o.name.value==="if",39);var a=o.value;__DEV__?invariant$1(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),"Argument for the @".concat(i," directive must be a variable or a boolean value.")):invariant$1(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),40),e.push({directive:r,ifArgument:o})}}),e}function getFragmentQueryDocument(t,e){var r=e,n=[];t.definitions.forEach(function(o){if(o.kind==="OperationDefinition")throw __DEV__?new InvariantError("Found a ".concat(o.operation," operation").concat(o.name?" named '".concat(o.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new InvariantError(41);o.kind==="FragmentDefinition"&&n.push(o)}),typeof r=="undefined"&&(__DEV__?invariant$1(n.length===1,"Found ".concat(n.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):invariant$1(n.length===1,42),r=n[0].name.value);var i=__assign$1(__assign$1({},t),{definitions:__spreadArray([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],t.definitions,!0)});return i}function createFragmentMap(t){t===void 0&&(t=[]);var e={};return t.forEach(function(r){e[r.name.value]=r}),e}function getFragmentFromSelection(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var r=e&&e[t.name.value];return __DEV__?invariant$1(r,"No fragment named ".concat(t.name.value,".")):invariant$1(r,43),r}default:return null}}function isNonNullObject(t){return t!==null&&typeof t=="object"}function makeReference(t){return{__ref:String(t)}}function isReference(t){return Boolean(t&&typeof t=="object"&&typeof t.__ref=="string")}function isDocumentNode(t){return isNonNullObject(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function isStringValue(t){return t.kind==="StringValue"}function isBooleanValue(t){return t.kind==="BooleanValue"}function isIntValue(t){return t.kind==="IntValue"}function isFloatValue(t){return t.kind==="FloatValue"}function isVariable(t){return t.kind==="Variable"}function isObjectValue(t){return t.kind==="ObjectValue"}function isListValue(t){return t.kind==="ListValue"}function isEnumValue(t){return t.kind==="EnumValue"}function isNullValue(t){return t.kind==="NullValue"}function valueToObjectRepresentation(t,e,r,n){if(isIntValue(r)||isFloatValue(r))t[e.value]=Number(r.value);else if(isBooleanValue(r)||isStringValue(r))t[e.value]=r.value;else if(isObjectValue(r)){var i={};r.fields.map(function(a){return valueToObjectRepresentation(i,a.name,a.value,n)}),t[e.value]=i}else if(isVariable(r)){var o=(n||{})[r.name.value];t[e.value]=o}else if(isListValue(r))t[e.value]=r.values.map(function(a){var s={};return valueToObjectRepresentation(s,e,a,n),s[e.value]});else if(isEnumValue(r))t[e.value]=r.value;else if(isNullValue(r))t[e.value]=null;else throw __DEV__?new InvariantError('The inline argument "'.concat(e.value,'" of kind "').concat(r.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new InvariantError(52)}function storeKeyNameFromField(t,e){var r=null;t.directives&&(r={},t.directives.forEach(function(i){r[i.name.value]={},i.arguments&&i.arguments.forEach(function(o){var a=o.name,s=o.value;return valueToObjectRepresentation(r[i.name.value],a,s,e)})}));var n=null;return t.arguments&&t.arguments.length&&(n={},t.arguments.forEach(function(i){var o=i.name,a=i.value;return valueToObjectRepresentation(n,o,a,e)})),getStoreKeyName(t.name.value,n,r)}var KNOWN_DIRECTIVES=["connection","include","skip","client","rest","export"],getStoreKeyName=Object.assign(function(t,e,r){if(e&&r&&r.connection&&r.connection.key)if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var i={};return n.forEach(function(s){i[s]=e[s]}),"".concat(r.connection.key,"(").concat(stringify(i),")")}else return r.connection.key;var o=t;if(e){var a=stringify(e);o+="(".concat(a,")")}return r&&Object.keys(r).forEach(function(s){KNOWN_DIRECTIVES.indexOf(s)===-1&&(r[s]&&Object.keys(r[s]).length?o+="@".concat(s,"(").concat(stringify(r[s]),")"):o+="@".concat(s))}),o},{setStringify:function(t){var e=stringify;return stringify=t,e}}),stringify=function(e){return JSON.stringify(e,stringifyReplacer)};function stringifyReplacer(t,e){return isNonNullObject(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(r,n){return r[n]=e[n],r},{})),e}function argumentsObjectFromField(t,e){if(t.arguments&&t.arguments.length){var r={};return t.arguments.forEach(function(n){var i=n.name,o=n.value;return valueToObjectRepresentation(r,i,o,e)}),r}return null}function resultKeyNameFromField(t){return t.alias?t.alias.value:t.name.value}function getTypenameFromResult(t,e,r){if(typeof t.__typename=="string")return t.__typename;for(var n=0,i=e.selections;n<i.length;n++){var o=i[n];if(isField(o)){if(o.name.value==="__typename")return t[resultKeyNameFromField(o)]}else{var a=getTypenameFromResult(t,getFragmentFromSelection(o,r).selectionSet,r);if(typeof a=="string")return a}}}function isField(t){return t.kind==="Field"}function isInlineFragment(t){return t.kind==="InlineFragment"}function checkDocument(t){__DEV__?invariant$1(t&&t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):invariant$1(t&&t.kind==="Document",44);var e=t.definitions.filter(function(r){return r.kind!=="FragmentDefinition"}).map(function(r){if(r.kind!=="OperationDefinition")throw __DEV__?new InvariantError('Schema type definitions not allowed in queries. Found: "'.concat(r.kind,'"')):new InvariantError(45);return r});return __DEV__?invariant$1(e.length<=1,"Ambiguous GraphQL document: contains ".concat(e.length," operations")):invariant$1(e.length<=1,46),t}function getOperationDefinition(t){return checkDocument(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function getOperationName(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function getFragmentDefinitions(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function getQueryDefinition(t){var e=getOperationDefinition(t);return __DEV__?invariant$1(e&&e.operation==="query","Must contain a query definition."):invariant$1(e&&e.operation==="query",47),e}function getFragmentDefinition(t){__DEV__?invariant$1(t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):invariant$1(t.kind==="Document",48),__DEV__?invariant$1(t.definitions.length<=1,"Fragment must have exactly one definition."):invariant$1(t.definitions.length<=1,49);var e=t.definitions[0];return __DEV__?invariant$1(e.kind==="FragmentDefinition","Must be a fragment definition."):invariant$1(e.kind==="FragmentDefinition",50),e}function getMainDefinition(t){checkDocument(t);for(var e,r=0,n=t.definitions;r<n.length;r++){var i=n[r];if(i.kind==="OperationDefinition"){var o=i.operation;if(o==="query"||o==="mutation"||o==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw __DEV__?new InvariantError("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new InvariantError(51)}function getDefaultValues(t){var e=Object.create(null),r=t&&t.variableDefinitions;return r&&r.length&&r.forEach(function(n){n.defaultValue&&valueToObjectRepresentation(e,n.variable.name,n.defaultValue)}),e}function filterInPlace(t,e,r){var n=0;return t.forEach(function(i,o){e.call(this,i,o,t)&&(t[n++]=i)},r),t.length=n,t}var TYPENAME_FIELD={kind:"Field",name:{kind:"Name",value:"__typename"}};function isEmpty(t,e){return t.selectionSet.selections.every(function(r){return r.kind==="FragmentSpread"&&isEmpty(e[r.name.value],e)})}function nullIfDocIsEmpty(t){return isEmpty(getOperationDefinition(t)||getFragmentDefinition(t),createFragmentMap(getFragmentDefinitions(t)))?null:t}function getDirectiveMatcher(t){return function(r){return t.some(function(n){return n.name&&n.name===r.name.value||n.test&&n.test(r)})}}function removeDirectivesFromDocument(t,e){var r=Object.create(null),n=[],i=Object.create(null),o=[],a=nullIfDocIsEmpty(visit(e,{Variable:{enter:function(s,l,u){u.kind!=="VariableDefinition"&&(r[s.name.value]=!0)}},Field:{enter:function(s){if(t&&s.directives){var l=t.some(function(u){return u.remove});if(l&&s.directives&&s.directives.some(getDirectiveMatcher(t)))return s.arguments&&s.arguments.forEach(function(u){u.value.kind==="Variable"&&n.push({name:u.value.name.value})}),s.selectionSet&&getAllFragmentSpreadsFromSelectionSet(s.selectionSet).forEach(function(u){o.push({name:u.name.value})}),null}}},FragmentSpread:{enter:function(s){i[s.name.value]=!0}},Directive:{enter:function(s){if(getDirectiveMatcher(t)(s))return null}}}));return a&&filterInPlace(n,function(s){return!!s.name&&!r[s.name]}).length&&(a=removeArgumentsFromDocument(n,a)),a&&filterInPlace(o,function(s){return!!s.name&&!i[s.name]}).length&&(a=removeFragmentSpreadFromDocument(o,a)),a}var addTypenameToDocument=Object.assign(function(t){return visit(t,{SelectionSet:{enter:function(e,r,n){if(!(n&&n.kind==="OperationDefinition")){var i=e.selections;if(!!i){var o=i.some(function(s){return isField(s)&&(s.name.value==="__typename"||s.name.value.lastIndexOf("__",0)===0)});if(!o){var a=n;if(!(isField(a)&&a.directives&&a.directives.some(function(s){return s.name.value==="export"})))return __assign$1(__assign$1({},e),{selections:__spreadArray(__spreadArray([],i,!0),[TYPENAME_FIELD],!1)})}}}}}})},{added:function(t){return t===TYPENAME_FIELD}}),connectionRemoveConfig={test:function(t){var e=t.name.value==="connection";return e&&(!t.arguments||!t.arguments.some(function(r){return r.name.value==="key"}))&&__DEV__&&invariant$1.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),e}};function removeConnectionDirectiveFromDocument(t){return removeDirectivesFromDocument([connectionRemoveConfig],checkDocument(t))}function getArgumentMatcher(t){return function(r){return t.some(function(n){return r.value&&r.value.kind==="Variable"&&r.value.name&&(n.name===r.value.name.value||n.test&&n.test(r))})}}function removeArgumentsFromDocument(t,e){var r=getArgumentMatcher(t);return nullIfDocIsEmpty(visit(e,{OperationDefinition:{enter:function(n){return __assign$1(__assign$1({},n),{variableDefinitions:n.variableDefinitions?n.variableDefinitions.filter(function(i){return!t.some(function(o){return o.name===i.variable.name.value})}):[]})}},Field:{enter:function(n){var i=t.some(function(a){return a.remove});if(i){var o=0;if(n.arguments&&n.arguments.forEach(function(a){r(a)&&(o+=1)}),o===1)return null}}},Argument:{enter:function(n){if(r(n))return null}}}))}function removeFragmentSpreadFromDocument(t,e){function r(n){if(t.some(function(i){return i.name===n.name.value}))return null}return nullIfDocIsEmpty(visit(e,{FragmentSpread:{enter:r},FragmentDefinition:{enter:r}}))}function getAllFragmentSpreadsFromSelectionSet(t){var e=[];return t.selections.forEach(function(r){(isField(r)||isInlineFragment(r))&&r.selectionSet?getAllFragmentSpreadsFromSelectionSet(r.selectionSet).forEach(function(n){return e.push(n)}):r.kind==="FragmentSpread"&&e.push(r)}),e}function buildQueryFromSelectionSet(t){var e=getMainDefinition(t),r=e.operation;if(r==="query")return t;var n=visit(t,{OperationDefinition:{enter:function(i){return __assign$1(__assign$1({},i),{operation:"query"})}}});return n}function removeClientSetsFromDocument(t){checkDocument(t);var e=removeDirectivesFromDocument([{test:function(r){return r.name.value==="client"},remove:!0}],t);return e&&(e=visit(e,{FragmentDefinition:{enter:function(r){if(r.selectionSet){var n=r.selectionSet.selections.every(function(i){return isField(i)&&i.name.value==="__typename"});if(n)return null}}}})),e}var hasOwnProperty$5=Object.prototype.hasOwnProperty;function mergeDeep(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return mergeDeepArray(t)}function mergeDeepArray(t){var e=t[0]||{},r=t.length;if(r>1)for(var n=new DeepMerger,i=1;i<r;++i)e=n.merge(e,t[i]);return e}var defaultReconciler=function(t,e,r){return this.merge(t[r],e[r])},DeepMerger=function(){function t(e){e===void 0&&(e=defaultReconciler),this.reconciler=e,this.isObject=isNonNullObject,this.pastCopies=new Set}return t.prototype.merge=function(e,r){for(var n=this,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return isNonNullObject(r)&&isNonNullObject(e)?(Object.keys(r).forEach(function(a){if(hasOwnProperty$5.call(e,a)){var s=e[a];if(r[a]!==s){var l=n.reconciler.apply(n,__spreadArray([e,r,a],i,!1));l!==s&&(e=n.shallowCopyForMerge(e),e[a]=l)}}else e=n.shallowCopyForMerge(e),e[a]=r[a]}),e):r},t.prototype.shallowCopyForMerge=function(e){return isNonNullObject(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=__assign$1({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();function _createForOfIteratorHelperLoose(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,e){if(!!t){if(typeof t=="string")return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var hasSymbols=function(){return typeof Symbol=="function"},hasSymbol=function(t){return hasSymbols()&&Boolean(Symbol[t])},getSymbol=function(t){return hasSymbol(t)?Symbol[t]:"@@"+t};hasSymbols()&&!hasSymbol("observable")&&(Symbol.observable=Symbol("observable"));var SymbolIterator=getSymbol("iterator"),SymbolObservable=getSymbol("observable"),SymbolSpecies=getSymbol("species");function getMethod(t,e){var r=t[e];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function getSpecies(t){var e=t.constructor;return e!==void 0&&(e=e[SymbolSpecies],e===null&&(e=void 0)),e!==void 0?e:Observable}function isObservable(t){return t instanceof Observable}function hostReportError(t){hostReportError.log?hostReportError.log(t):setTimeout(function(){throw t})}function enqueue(t){Promise.resolve().then(function(){try{t()}catch(e){hostReportError(e)}})}function cleanupSubscription(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var r=getMethod(e,"unsubscribe");r&&r.call(e)}}catch(n){hostReportError(n)}}function closeSubscription(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function flushSubscription(t){var e=t._queue;if(!!e){t._queue=void 0,t._state="ready";for(var r=0;r<e.length&&(notifySubscription(t,e[r].type,e[r].value),t._state!=="closed");++r);}}function notifySubscription(t,e,r){t._state="running";var n=t._observer;try{var i=getMethod(n,e);switch(e){case"next":i&&i.call(n,r);break;case"error":if(closeSubscription(t),i)i.call(n,r);else throw r;break;case"complete":closeSubscription(t),i&&i.call(n);break}}catch(o){hostReportError(o)}t._state==="closed"?cleanupSubscription(t):t._state==="running"&&(t._state="ready")}function onNotify(t,e,r){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:r});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:r}],enqueue(function(){return flushSubscription(t)});return}notifySubscription(t,e,r)}}var Subscription=function(){function t(r,n){this._cleanup=void 0,this._observer=r,this._queue=void 0,this._state="initializing";var i=new SubscriptionObserver(this);try{this._cleanup=n.call(void 0,i)}catch(o){i.error(o)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(closeSubscription(this),cleanupSubscription(this))},_createClass(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),SubscriptionObserver=function(){function t(r){this._subscription=r}var e=t.prototype;return e.next=function(n){onNotify(this._subscription,"next",n)},e.error=function(n){onNotify(this._subscription,"error",n)},e.complete=function(){onNotify(this._subscription,"complete")},_createClass(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),Observable=function(){function t(r){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof r!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=r}var e=t.prototype;return e.subscribe=function(n){return(typeof n!="object"||n===null)&&(n={next:n,error:arguments[1],complete:arguments[2]}),new Subscription(n,this._subscriber)},e.forEach=function(n){var i=this;return new Promise(function(o,a){if(typeof n!="function"){a(new TypeError(n+" is not a function"));return}function s(){l.unsubscribe(),o()}var l=i.subscribe({next:function(u){try{n(u,s)}catch(c){a(c),l.unsubscribe()}},error:a,complete:o})})},e.map=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=getSpecies(this);return new o(function(a){return i.subscribe({next:function(s){try{s=n(s)}catch(l){return a.error(l)}a.next(s)},error:function(s){a.error(s)},complete:function(){a.complete()}})})},e.filter=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=getSpecies(this);return new o(function(a){return i.subscribe({next:function(s){try{if(!n(s))return}catch(l){return a.error(l)}a.next(s)},error:function(s){a.error(s)},complete:function(){a.complete()}})})},e.reduce=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=getSpecies(this),a=arguments.length>1,s=!1,l=arguments[1],u=l;return new o(function(c){return i.subscribe({next:function(f){var d=!s;if(s=!0,!d||a)try{u=n(u,f)}catch(p){return c.error(p)}else u=f},error:function(f){c.error(f)},complete:function(){if(!s&&!a)return c.error(new TypeError("Cannot reduce an empty sequence"));c.next(u),c.complete()}})})},e.concat=function(){for(var n=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=getSpecies(this);return new s(function(l){var u,c=0;function f(d){u=d.subscribe({next:function(p){l.next(p)},error:function(p){l.error(p)},complete:function(){c===o.length?(u=void 0,l.complete()):f(s.from(o[c++]))}})}return f(n),function(){u&&(u.unsubscribe(),u=void 0)}})},e.flatMap=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=getSpecies(this);return new o(function(a){var s=[],l=i.subscribe({next:function(c){if(n)try{c=n(c)}catch(d){return a.error(d)}var f=o.from(c).subscribe({next:function(d){a.next(d)},error:function(d){a.error(d)},complete:function(){var d=s.indexOf(f);d>=0&&s.splice(d,1),u()}});s.push(f)},error:function(c){a.error(c)},complete:function(){u()}});function u(){l.closed&&s.length===0&&a.complete()}return function(){s.forEach(function(c){return c.unsubscribe()}),l.unsubscribe()}})},e[SymbolObservable]=function(){return this},t.from=function(n){var i=typeof this=="function"?this:t;if(n==null)throw new TypeError(n+" is not an object");var o=getMethod(n,SymbolObservable);if(o){var a=o.call(n);if(Object(a)!==a)throw new TypeError(a+" is not an object");return isObservable(a)&&a.constructor===i?a:new i(function(s){return a.subscribe(s)})}if(hasSymbol("iterator")&&(o=getMethod(n,SymbolIterator),o))return new i(function(s){enqueue(function(){if(!s.closed){for(var l=_createForOfIteratorHelperLoose(o.call(n)),u;!(u=l()).done;){var c=u.value;if(s.next(c),s.closed)return}s.complete()}})});if(Array.isArray(n))return new i(function(s){enqueue(function(){if(!s.closed){for(var l=0;l<n.length;++l)if(s.next(n[l]),s.closed)return;s.complete()}})});throw new TypeError(n+" is not observable")},t.of=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=typeof this=="function"?this:t;return new a(function(s){enqueue(function(){if(!s.closed){for(var l=0;l<i.length;++l)if(s.next(i[l]),s.closed)return;s.complete()}})})},_createClass(t,null,[{key:SymbolSpecies,get:function(){return this}}]),t}();hasSymbols()&&Object.defineProperty(Observable,Symbol("extensions"),{value:{symbol:SymbolObservable,hostReportError},configurable:!0});var toString$1=Object.prototype.toString;function cloneDeep(t){return cloneDeepHelper(t)}function cloneDeepHelper(t,e){switch(toString$1.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var r=t.slice(0);return e.set(t,r),r.forEach(function(i,o){r[o]=cloneDeepHelper(i,e)}),r}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var n=Object.create(Object.getPrototypeOf(t));return e.set(t,n),Object.keys(t).forEach(function(i){n[i]=cloneDeepHelper(t[i],e)}),n}default:return t}}function deepFreeze(t){var e=new Set([t]);return e.forEach(function(r){isNonNullObject(r)&&shallowFreeze(r)===r&&Object.getOwnPropertyNames(r).forEach(function(n){isNonNullObject(r[n])&&e.add(r[n])})}),t}function shallowFreeze(t){if(__DEV__&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function maybeDeepFreeze(t){return __DEV__&&deepFreeze(t),t}function iterateObserversSafely(t,e,r){var n=[];t.forEach(function(i){return i[e]&&n.push(i)}),n.forEach(function(i){return i[e](r)})}function asyncMap(t,e,r){return new Observable(function(n){var i=n.next,o=n.error,a=n.complete,s=0,l=!1,u={then:function(p){return new Promise(function(g){return g(p())})}};function c(p,g){return p?function(m){++s;var v=function(){return p(m)};u=u.then(v,v).then(function(b){--s,i&&i.call(n,b),l&&f.complete()},function(b){throw--s,b}).catch(function(b){o&&o.call(n,b)})}:function(m){return g&&g.call(n,m)}}var f={next:c(e,i),error:c(r,o),complete:function(){l=!0,s||a&&a.call(n)}},d=t.subscribe(f);return function(){return d.unsubscribe()}})}var canUseWeakMap=typeof WeakMap=="function"&&maybe$1(function(){return navigator.product})!=="ReactNative",canUseWeakSet=typeof WeakSet=="function",canUseSymbol=typeof Symbol=="function"&&typeof Symbol.for=="function";maybe$1(function(){return window.document.createElement});maybe$1(function(){return navigator.userAgent.indexOf("jsdom")>=0});function fixObservableSubclass(t){function e(r){Object.defineProperty(t,r,{value:Observable})}return canUseSymbol&&Symbol.species&&e(Symbol.species),e("@@species"),t}function isPromiseLike(t){return t&&typeof t.then=="function"}var Concast=function(t){__extends(e,t);function e(r){var n=t.call(this,function(i){return n.addObserver(i),function(){return n.removeObserver(i)}})||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise(function(i,o){n.resolve=i,n.reject=o}),n.handlers={next:function(i){n.sub!==null&&(n.latest=["next",i],iterateObserversSafely(n.observers,"next",i))},error:function(i){var o=n.sub;o!==null&&(o&&setTimeout(function(){return o.unsubscribe()}),n.sub=null,n.latest=["error",i],n.reject(i),iterateObserversSafely(n.observers,"error",i))},complete:function(){var i=n.sub;if(i!==null){var o=n.sources.shift();o?isPromiseLike(o)?o.then(function(a){return n.sub=a.subscribe(n.handlers)}):n.sub=o.subscribe(n.handlers):(i&&setTimeout(function(){return i.unsubscribe()}),n.sub=null,n.latest&&n.latest[0]==="next"?n.resolve(n.latest[1]):n.resolve(),iterateObserversSafely(n.observers,"complete"))}}},n.cancel=function(i){n.reject(i),n.sources=[],n.handlers.complete()},n.promise.catch(function(i){}),typeof r=="function"&&(r=[new Observable(r)]),isPromiseLike(r)?r.then(function(i){return n.start(i)},n.handlers.error):n.start(r),n}return e.prototype.start=function(r){this.sub===void 0&&(this.sources=Array.from(r),this.handlers.complete())},e.prototype.deliverLastMessage=function(r){if(this.latest){var n=this.latest[0],i=r[n];i&&i.call(r,this.latest[1]),this.sub===null&&n==="next"&&r.complete&&r.complete()}},e.prototype.addObserver=function(r){this.observers.has(r)||(this.deliverLastMessage(r),this.observers.add(r),++this.addCount)},e.prototype.removeObserver=function(r,n){this.observers.delete(r)&&--this.addCount<1&&!n&&this.handlers.complete()},e.prototype.cleanup=function(r){var n=this,i=!1,o=function(){i||(i=!0,n.observers.delete(a),r())},a={next:o,error:o,complete:o},s=this.addCount;this.addObserver(a),this.addCount=s},e}(Observable);fixObservableSubclass(Concast);function isNonEmptyArray(t){return Array.isArray(t)&&t.length>0}function graphQLResultHasError(t){return t.errors&&t.errors.length>0||!1}function compact(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object.create(null);return t.forEach(function(n){!n||Object.keys(n).forEach(function(i){var o=n[i];o!==void 0&&(r[i]=o)})}),r}var prefixCounts=new Map;function makeUniqueId(t){var e=prefixCounts.get(t)||1;return prefixCounts.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function stringifyForDisplay(t){var e=makeUniqueId("stringifyForDisplay");return JSON.stringify(t,function(r,n){return n===void 0?e:n}).split(JSON.stringify(e)).join("<undefined>")}function mergeOptions(t,e){return compact(t,e,e.variables&&{variables:__assign$1(__assign$1({},t&&t.variables),e.variables)})}function fromError(t){return new Observable(function(e){e.error(t)})}function toPromise(t){var e=!1;return new Promise(function(r,n){t.subscribe({next:function(i){e?__DEV__&&invariant$1.warn("Promise Wrapper does not support multiple results from Observable"):(e=!0,r(i))},error:n})})}function fromPromise(t){return new Observable(function(e){t.then(function(r){e.next(r),e.complete()}).catch(e.error.bind(e))})}var throwServerError=function(t,e,r){var n=new Error(r);throw n.name="ServerError",n.response=t,n.statusCode=t.status,n.result=e,n};function validateOperation(t){for(var e=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];if(e.indexOf(i)<0)throw __DEV__?new InvariantError("illegal argument: ".concat(i)):new InvariantError(24)}return t}function createOperation(t,e){var r=__assign$1({},t),n=function(o){typeof o=="function"?r=__assign$1(__assign$1({},r),o(r)):r=__assign$1(__assign$1({},r),o)},i=function(){return __assign$1({},r)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:n}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function transformOperation(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?getOperationName(e.query)||void 0:""),e}function passthrough(t,e){return e?e(t):Observable.of()}function toLink(t){return typeof t=="function"?new ApolloLink(t):t}function isTerminating(t){return t.request.length<=1}var LinkError=function(t){__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.link=n,i}return e}(Error),ApolloLink=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return Observable.of()})},t.from=function(e){return e.length===0?t.empty():e.map(toLink).reduce(function(r,n){return r.concat(n)})},t.split=function(e,r,n){var i=toLink(r),o=toLink(n||new t(passthrough));return isTerminating(i)&&isTerminating(o)?new t(function(a){return e(a)?i.request(a)||Observable.of():o.request(a)||Observable.of()}):new t(function(a,s){return e(a)?i.request(a,s)||Observable.of():o.request(a,s)||Observable.of()})},t.execute=function(e,r){return e.request(createOperation(r.context,transformOperation(validateOperation(r))))||Observable.of()},t.concat=function(e,r){var n=toLink(e);if(isTerminating(n))return __DEV__&&invariant$1.warn(new LinkError("You are calling concat on a terminating link, which will have no effect",n)),n;var i=toLink(r);return isTerminating(i)?new t(function(o){return n.request(o,function(a){return i.request(a)||Observable.of()})||Observable.of()}):new t(function(o,a){return n.request(o,function(s){return i.request(s,a)||Observable.of()})||Observable.of()})},t.prototype.split=function(e,r,n){return this.concat(t.split(e,r,n||new t(passthrough)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,r){throw __DEV__?new InvariantError("request is not implemented"):new InvariantError(19)},t.prototype.onError=function(e,r){if(r&&r.error)return r.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}(),empty=ApolloLink.empty,from=ApolloLink.from,split=ApolloLink.split,concat=ApolloLink.concat,execute=ApolloLink.execute,version="3.6.9",hasOwnProperty$4=Object.prototype.hasOwnProperty;function parseAndCheckHttpResponse(t){return function(e){return e.text().then(function(r){try{return JSON.parse(r)}catch(i){var n=i;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=r,n}}).then(function(r){return e.status>=300&&throwServerError(e,r,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(r)&&!hasOwnProperty$4.call(r,"data")&&!hasOwnProperty$4.call(r,"errors")&&throwServerError(e,r,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(n){return n.operationName}):t.operationName,"'.")),r})}}var serializeFetchParameter=function(t,e){var r;try{r=JSON.stringify(t)}catch(i){var n=__DEV__?new InvariantError("Network request failed. ".concat(e," is not serializable: ").concat(i.message)):new InvariantError(21);throw n.parseError=i,n}return r},defaultHttpOptions={includeQuery:!0,includeExtensions:!1},defaultHeaders={accept:"*/*","content-type":"application/json"},defaultOptions={method:"POST"},fallbackHttpConfig={http:defaultHttpOptions,headers:defaultHeaders,options:defaultOptions},defaultPrinter=function(t,e){return e(t)};function selectHttpOptionsAndBody(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return r.unshift(e),selectHttpOptionsAndBodyInternal.apply(void 0,__spreadArray([t,defaultPrinter],r,!1))}function selectHttpOptionsAndBodyInternal(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={},o={};r.forEach(function(f){i=__assign$1(__assign$1(__assign$1({},i),f.options),{headers:__assign$1(__assign$1({},i.headers),headersToLowerCase(f.headers))}),f.credentials&&(i.credentials=f.credentials),o=__assign$1(__assign$1({},o),f.http)});var a=t.operationName,s=t.extensions,l=t.variables,u=t.query,c={operationName:a,variables:l};return o.includeExtensions&&(c.extensions=s),o.includeQuery&&(c.query=e(u,print)),{options:i,body:c}}function headersToLowerCase(t){if(t){var e=Object.create(null);return Object.keys(Object(t)).forEach(function(r){e[r.toLowerCase()]=t[r]}),e}return t}var checkFetcher=function(t){if(!t&&typeof fetch=="undefined")throw __DEV__?new InvariantError(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new InvariantError(20)},createSignalIfSupported=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var t=new AbortController,e=t.signal;return{controller:t,signal:e}},selectURI=function(t,e){var r=t.getContext(),n=r.uri;return n||(typeof e=="function"?e(t):e||"/graphql")};function rewriteURIForGET(t,e){var r=[],n=function(f,d){r.push("".concat(f,"=").concat(encodeURIComponent(d)))};if("query"in e&&n("query",e.query),e.operationName&&n("operationName",e.operationName),e.variables){var i=void 0;try{i=serializeFetchParameter(e.variables,"Variables map")}catch(f){return{parseError:f}}n("variables",i)}if(e.extensions){var o=void 0;try{o=serializeFetchParameter(e.extensions,"Extensions map")}catch(f){return{parseError:f}}n("extensions",o)}var a="",s=t,l=t.indexOf("#");l!==-1&&(a=t.substr(l),s=t.substr(0,l));var u=s.indexOf("?")===-1?"?":"&",c=s+u+r.join("&")+a;return{newURI:c}}var backupFetch=maybe$1(function(){return fetch}),createHttpLink=function(t){t===void 0&&(t={});var e=t.uri,r=e===void 0?"/graphql":e,n=t.fetch,i=t.print,o=i===void 0?defaultPrinter:i,a=t.includeExtensions,s=t.useGETForQueries,l=t.includeUnusedVariables,u=l===void 0?!1:l,c=__rest(t,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&checkFetcher(n||backupFetch);var f={http:{includeExtensions:a},options:c.fetchOptions,credentials:c.credentials,headers:c.headers};return new ApolloLink(function(d){var p=selectURI(d,r),g=d.getContext(),m={};if(g.clientAwareness){var v=g.clientAwareness,b=v.name,E=v.version;b&&(m["apollographql-client-name"]=b),E&&(m["apollographql-client-version"]=E)}var w=__assign$1(__assign$1({},m),g.headers),_={http:g.http,options:g.fetchOptions,credentials:g.credentials,headers:w},S=selectHttpOptionsAndBodyInternal(d,o,fallbackHttpConfig,f,_),x=S.options,k=S.body;if(k.variables&&!u){var C=new Set(Object.keys(k.variables));visit(d.query,{Variable:function(O,$,q){q&&q.kind!=="VariableDefinition"&&C.delete(O.name.value)}}),C.size&&(k.variables=__assign$1({},k.variables),C.forEach(function(O){delete k.variables[O]}))}var D;if(!x.signal){var T=createSignalIfSupported(),A=T.controller,R=T.signal;D=A,D&&(x.signal=R)}var M=function(O){return O.kind==="OperationDefinition"&&O.operation==="mutation"};if(s&&!d.query.definitions.some(M)&&(x.method="GET"),x.method==="GET"){var j=rewriteURIForGET(p,k),I=j.newURI,L=j.parseError;if(L)return fromError(L);p=I}else try{x.body=serializeFetchParameter(k,"Payload")}catch(O){return fromError(O)}return new Observable(function(O){var $=n||maybe$1(function(){return fetch})||backupFetch;return $(p,x).then(function(q){return d.setContext({response:q}),q}).then(parseAndCheckHttpResponse(d)).then(function(q){return O.next(q),O.complete(),q}).catch(function(q){q.name!=="AbortError"&&(q.result&&q.result.errors&&q.result.data&&O.next(q.result),O.error(q))}),function(){D&&D.abort()}})})},HttpLink=function(t){__extends(e,t);function e(r){r===void 0&&(r={});var n=t.call(this,createHttpLink(r).request)||this;return n.options=r,n}return e}(ApolloLink),_a$2=Object.prototype,toString=_a$2.toString,hasOwnProperty$3=_a$2.hasOwnProperty,fnToStr=Function.prototype.toString,previousComparisons=new Map;function equal(t,e){try{return check(t,e)}finally{previousComparisons.clear()}}function check(t,e){if(t===e)return!0;var r=toString.call(t),n=toString.call(e);if(r!==n)return!1;switch(r){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(previouslyCompared(t,e))return!0;var i=definedKeys(t),o=definedKeys(e),a=i.length;if(a!==o.length)return!1;for(var s=0;s<a;++s)if(!hasOwnProperty$3.call(e,i[s]))return!1;for(var s=0;s<a;++s){var l=i[s];if(!check(t[l],e[l]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==""+e;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(previouslyCompared(t,e))return!0;for(var u=t.entries(),c=r==="[object Map]";;){var f=u.next();if(f.done)break;var d=f.value,p=d[0],g=d[1];if(!e.has(p)||c&&!check(g,e.get(p)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{var m=t.byteLength;if(m===e.byteLength)for(;m--&&t[m]===e[m];);return m===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var v=fnToStr.call(t);return v!==fnToStr.call(e)?!1:!endsWith(v,nativeCodeSuffix)}}return!1}function definedKeys(t){return Object.keys(t).filter(isDefinedKey,t)}function isDefinedKey(t){return this[t]!==void 0}var nativeCodeSuffix="{ [native code] }";function endsWith(t,e){var r=t.length-e.length;return r>=0&&t.indexOf(e,r)===r}function previouslyCompared(t,e){var r=previousComparisons.get(t);if(r){if(r.has(e))return!0}else previousComparisons.set(t,r=new Set);return r.add(e),!1}var defaultMakeData=function(){return Object.create(null)},_a$1=Array.prototype,forEach=_a$1.forEach,slice=_a$1.slice,Trie=function(){function t(e,r){e===void 0&&(e=!0),r===void 0&&(r=defaultMakeData),this.weakness=e,this.makeData=r}return t.prototype.lookup=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var r=this;return forEach.call(e,function(n){return r=r.getChildTrie(n)}),r.data||(r.data=this.makeData(slice.call(e)))},t.prototype.getChildTrie=function(e){var r=this.weakness&&isObjRef(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=r.get(e);return n||r.set(e,n=new t(this.weakness,this.makeData)),n},t}();function isObjRef(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var currentContext=null,MISSING_VALUE={},idCounter=1,makeSlotClass=function(){return function(){function t(){this.id=["slot",idCounter++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var e=currentContext;e;e=e.parent)if(this.id in e.slots){var r=e.slots[this.id];if(r===MISSING_VALUE)break;return e!==currentContext&&(currentContext.slots[this.id]=r),!0}return currentContext&&(currentContext.slots[this.id]=MISSING_VALUE),!1},t.prototype.getValue=function(){if(this.hasValue())return currentContext.slots[this.id]},t.prototype.withValue=function(e,r,n,i){var o,a=(o={__proto__:null},o[this.id]=e,o),s=currentContext;currentContext={parent:s,slots:a};try{return r.apply(i,n)}finally{currentContext=s}},t.bind=function(e){var r=currentContext;return function(){var n=currentContext;try{return currentContext=r,e.apply(this,arguments)}finally{currentContext=n}}},t.noContext=function(e,r,n){if(currentContext){var i=currentContext;try{return currentContext=null,e.apply(n,r)}finally{currentContext=i}}else return e.apply(n,r)},t}()},globalKey="@wry/context:Slot",host=Array,Slot=host[globalKey]||function(){var t=makeSlotClass();try{Object.defineProperty(host,globalKey,{value:host[globalKey]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}();Slot.bind;Slot.noContext;function defaultDispose(){}var Cache$1=function(){function t(e,r){e===void 0&&(e=1/0),r===void 0&&(r=defaultDispose),this.max=e,this.dispose=r,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var r=this.getNode(e);return r&&r.value},t.prototype.getNode=function(e){var r=this.map.get(e);if(r&&r!==this.newest){var n=r.older,i=r.newer;i&&(i.older=n),n&&(n.newer=i),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=i)}return r},t.prototype.set=function(e,r){var n=this.getNode(e);return n?n.value=r:(n={key:e,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var r=this.map.get(e);return r?(r===this.newest&&(this.newest=r.older),r===this.oldest&&(this.oldest=r.newer),r.newer&&(r.newer.older=r.older),r.older&&(r.older.newer=r.newer),this.map.delete(e),this.dispose(r.value,e),!0):!1},t}(),parentEntrySlot=new Slot,_a,hasOwnProperty$2=Object.prototype.hasOwnProperty,toArray=(_a=Array.from,_a===void 0?function(t){var e=[];return t.forEach(function(r){return e.push(r)}),e}:_a);function maybeUnsubscribe(t){var e=t.unsubscribe;typeof e=="function"&&(t.unsubscribe=void 0,e())}var emptySetPool=[],POOL_TARGET_SIZE=100;function assert(t,e){if(!t)throw new Error(e||"assertion failure")}function valueIs(t,e){var r=t.length;return r>0&&r===e.length&&t[r-1]===e[r-1]}function valueGet(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function valueCopy(t){return t.slice(0)}var Entry=function(){function t(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}return t.prototype.peek=function(){if(this.value.length===1&&!mightBeDirty(this))return rememberParent(this),this.value[0]},t.prototype.recompute=function(e){return assert(!this.recomputing,"already recomputing"),rememberParent(this),mightBeDirty(this)?reallyRecompute(this,e):valueGet(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,reportDirty(this),maybeUnsubscribe(this))},t.prototype.dispose=function(){var e=this;this.setDirty(),forgetChildren(this),eachParent(this,function(r,n){r.setDirty(),forgetChild(r,e)})},t.prototype.forget=function(){this.dispose()},t.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=emptySetPool.pop()||new Set),this.deps.add(e)},t.prototype.forgetDeps=function(){var e=this;this.deps&&(toArray(this.deps).forEach(function(r){return r.delete(e)}),this.deps.clear(),emptySetPool.push(this.deps),this.deps=null)},t.count=0,t}();function rememberParent(t){var e=parentEntrySlot.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),mightBeDirty(t)?reportDirtyChild(e,t):reportCleanChild(e,t),e}function reallyRecompute(t,e){return forgetChildren(t),parentEntrySlot.withValue(t,recomputeNewValue,[t,e]),maybeSubscribe(t,e)&&setClean(t),valueGet(t.value)}function recomputeNewValue(t,e){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,e)}catch(r){t.value[1]=r}t.recomputing=!1}function mightBeDirty(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function setClean(t){t.dirty=!1,!mightBeDirty(t)&&reportClean(t)}function reportDirty(t){eachParent(t,reportDirtyChild)}function reportClean(t){eachParent(t,reportCleanChild)}function eachParent(t,e){var r=t.parents.size;if(r)for(var n=toArray(t.parents),i=0;i<r;++i)e(n[i],t)}function reportDirtyChild(t,e){assert(t.childValues.has(e)),assert(mightBeDirty(e));var r=!mightBeDirty(t);if(!t.dirtyChildren)t.dirtyChildren=emptySetPool.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),r&&reportDirty(t)}function reportCleanChild(t,e){assert(t.childValues.has(e)),assert(!mightBeDirty(e));var r=t.childValues.get(e);r.length===0?t.childValues.set(e,valueCopy(e.value)):valueIs(r,e.value)||t.setDirty(),removeDirtyChild(t,e),!mightBeDirty(t)&&reportClean(t)}function removeDirtyChild(t,e){var r=t.dirtyChildren;r&&(r.delete(e),r.size===0&&(emptySetPool.length<POOL_TARGET_SIZE&&emptySetPool.push(r),t.dirtyChildren=null))}function forgetChildren(t){t.childValues.size>0&&t.childValues.forEach(function(e,r){forgetChild(t,r)}),t.forgetDeps(),assert(t.dirtyChildren===null)}function forgetChild(t,e){e.parents.delete(t),t.childValues.delete(e),removeDirtyChild(t,e)}function maybeSubscribe(t,e){if(typeof t.subscribe=="function")try{maybeUnsubscribe(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}var EntryMethods={setDirty:!0,dispose:!0,forget:!0};function dep(t){var e=new Map,r=t&&t.subscribe;function n(i){var o=parentEntrySlot.getValue();if(o){var a=e.get(i);a||e.set(i,a=new Set),o.dependOn(a),typeof r=="function"&&(maybeUnsubscribe(a),a.unsubscribe=r(i))}}return n.dirty=function(o,a){var s=e.get(o);if(s){var l=a&&hasOwnProperty$2.call(EntryMethods,a)?a:"setDirty";toArray(s).forEach(function(u){return u[l]()}),e.delete(o),maybeUnsubscribe(s)}},n}function makeDefaultMakeCacheKeyFunction(){var t=new Trie(typeof WeakMap=="function");return function(){return t.lookupArray(arguments)}}makeDefaultMakeCacheKeyFunction();var caches=new Set;function wrap(t,e){e===void 0&&(e=Object.create(null));var r=new Cache$1(e.max||Math.pow(2,16),function(u){return u.dispose()}),n=e.keyArgs,i=e.makeCacheKey||makeDefaultMakeCacheKeyFunction(),o=function(){var u=i.apply(null,n?n.apply(null,arguments):arguments);if(u===void 0)return t.apply(null,arguments);var c=r.get(u);c||(r.set(u,c=new Entry(t)),c.subscribe=e.subscribe,c.forget=function(){return r.delete(u)});var f=c.recompute(Array.prototype.slice.call(arguments));return r.set(u,c),caches.add(r),parentEntrySlot.hasValue()||(caches.forEach(function(d){return d.clean()}),caches.clear()),f};Object.defineProperty(o,"size",{get:function(){return r.map.size},configurable:!1,enumerable:!1});function a(u){var c=r.get(u);c&&c.setDirty()}o.dirtyKey=a,o.dirty=function(){a(i.apply(null,arguments))};function s(u){var c=r.get(u);if(c)return c.peek()}o.peekKey=s,o.peek=function(){return s(i.apply(null,arguments))};function l(u){return r.delete(u)}return o.forgetKey=l,o.forget=function(){return l(i.apply(null,arguments))},o.makeCacheKey=i,o.getKey=n?function(){return i.apply(null,n.apply(null,arguments))}:i,Object.freeze(o)}var ApolloCache=function(){function t(){this.getFragmentDoc=wrap(getFragmentQueryDocument)}return t.prototype.batch=function(e){var r=this,n=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(r)},n),i},t.prototype.recordOptimisticTransaction=function(e,r){this.performTransaction(e,r)},t.prototype.transformDocument=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.transformForLink=function(e){return e},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!!e.optimistic),this.read(__assign$1(__assign$1({},e),{rootId:e.id||"ROOT_QUERY",optimistic:r}))},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!!e.optimistic),this.read(__assign$1(__assign$1({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:r}))},t.prototype.writeQuery=function(e){var r=e.id,n=e.data,i=__rest(e,["id","data"]);return this.write(Object.assign(i,{dataId:r||"ROOT_QUERY",result:n}))},t.prototype.writeFragment=function(e){var r=e.id,n=e.data,i=e.fragment,o=e.fragmentName,a=__rest(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(a,{query:this.getFragmentDoc(i,o),dataId:r,result:n}))},t.prototype.updateQuery=function(e,r){return this.batch({update:function(n){var i=n.readQuery(e),o=r(i);return o==null?i:(n.writeQuery(__assign$1(__assign$1({},e),{data:o})),o)}})},t.prototype.updateFragment=function(e,r){return this.batch({update:function(n){var i=n.readFragment(e),o=r(i);return o==null?i:(n.writeFragment(__assign$1(__assign$1({},e),{data:o})),o)}})},t}(),Cache;(function(t){})(Cache||(Cache={}));var MissingFieldError=function(){function t(e,r,n,i){this.message=e,this.path=r,this.query=n,this.variables=i}return t}(),hasOwn=Object.prototype.hasOwnProperty;function defaultDataIdFromObject(t,e){var r=t.__typename,n=t.id,i=t._id;if(typeof r=="string"&&(e&&(e.keyObject=n!==void 0?{id:n}:i!==void 0?{_id:i}:void 0),n===void 0&&(n=i),n!==void 0))return"".concat(r,":").concat(typeof n=="number"||typeof n=="string"?n:JSON.stringify(n))}var defaultConfig={dataIdFromObject:defaultDataIdFromObject,addTypename:!0,resultCaching:!0,canonizeResults:!1};function normalizeConfig(t){return compact(defaultConfig,t)}function shouldCanonizeResults(t){var e=t.canonizeResults;return e===void 0?defaultConfig.canonizeResults:e}function getTypenameFromStoreObject(t,e){return isReference(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var TypeOrFieldNameRegExp=/^[_a-z][_0-9a-z]*/i;function fieldNameFromStoreName(t){var e=t.match(TypeOrFieldNameRegExp);return e?e[0]:t}function selectionSetMatchesResult(t,e,r){return isNonNullObject(e)?isArray(e)?e.every(function(n){return selectionSetMatchesResult(t,n,r)}):t.selections.every(function(n){if(isField(n)&&shouldInclude(n,r)){var i=resultKeyNameFromField(n);return hasOwn.call(e,i)&&(!n.selectionSet||selectionSetMatchesResult(n.selectionSet,e[i],r))}return!0}):!1}function storeValueIsStoreObject(t){return isNonNullObject(t)&&!isReference(t)&&!isArray(t)}function makeProcessedFieldsMerger(){return new DeepMerger}var isArray=function(t){return Array.isArray(t)},DELETE=Object.create(null),delModifier=function(){return DELETE},INVALIDATE=Object.create(null),EntityStore=function(){function t(e,r){var n=this;this.policies=e,this.group=r,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,o){return maybeDeepFreeze(isReference(i)?n.get(i.__ref,o):i&&i[o])},this.canRead=function(i){return isReference(i)?n.has(i.__ref):typeof i=="object"},this.toReference=function(i,o){if(typeof i=="string")return makeReference(i);if(isReference(i))return i;var a=n.policies.identify(i)[0];if(a){var s=makeReference(a);return o&&n.merge(a,i),s}}}return t.prototype.toObject=function(){return __assign$1({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,r){if(this.group.depend(e,r),hasOwn.call(this.data,e)){var n=this.data[e];if(n&&hasOwn.call(n,r))return n[r]}if(r==="__typename"&&hasOwn.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof Layer)return this.parent.get(e,r)},t.prototype.lookup=function(e,r){if(r&&this.group.depend(e,"__exists"),hasOwn.call(this.data,e))return this.data[e];if(this instanceof Layer)return this.parent.lookup(e,r);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,r){var n=this,i;isReference(e)&&(e=e.__ref),isReference(r)&&(r=r.__ref);var o=typeof e=="string"?this.lookup(i=e):e,a=typeof r=="string"?this.lookup(i=r):r;if(!!a){__DEV__?invariant$1(typeof i=="string","store.merge expects a string ID"):invariant$1(typeof i=="string",1);var s=new DeepMerger(storeObjectReconciler).merge(o,a);if(this.data[i]=s,s!==o&&(delete this.refs[i],this.group.caching)){var l=Object.create(null);o||(l.__exists=1),Object.keys(a).forEach(function(u){if(!o||o[u]!==s[u]){l[u]=1;var c=fieldNameFromStoreName(u);c!==u&&!n.policies.hasKeyArgs(s.__typename,c)&&(l[c]=1),s[u]===void 0&&!(n instanceof Layer)&&delete s[u]}}),l.__typename&&!(o&&o.__typename)&&this.policies.rootTypenamesById[i]===s.__typename&&delete l.__typename,Object.keys(l).forEach(function(u){return n.group.dirty(i,u)})}}},t.prototype.modify=function(e,r){var n=this,i=this.lookup(e);if(i){var o=Object.create(null),a=!1,s=!0,l={DELETE,INVALIDATE,isReference,toReference:this.toReference,canRead:this.canRead,readField:function(u,c){return n.policies.readField(typeof u=="string"?{fieldName:u,from:c||makeReference(e)}:u,{store:n})}};if(Object.keys(i).forEach(function(u){var c=fieldNameFromStoreName(u),f=i[u];if(f!==void 0){var d=typeof r=="function"?r:r[u]||r[c];if(d){var p=d===delModifier?DELETE:d(maybeDeepFreeze(f),__assign$1(__assign$1({},l),{fieldName:c,storeFieldName:u,storage:n.getStorage(e,u)}));p===INVALIDATE?n.group.dirty(e,u):(p===DELETE&&(p=void 0),p!==f&&(o[u]=p,a=!0,f=p))}f!==void 0&&(s=!1)}}),a)return this.merge(e,o),s&&(this instanceof Layer?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,r,n){var i,o=this.lookup(e);if(o){var a=this.getFieldValue(o,"__typename"),s=r&&n?this.policies.getStoreFieldName({typename:a,fieldName:r,args:n}):r;return this.modify(e,s?(i={},i[s]=delModifier,i):delModifier)}return!1},t.prototype.evict=function(e,r){var n=!1;return e.id&&(hasOwn.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof Layer&&this!==r&&(n=this.parent.evict(e,r)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,r=this.toObject(),n=[];return this.getRootIdSet().forEach(function(i){hasOwn.call(e.policies.rootTypenamesById,i)||n.push(i)}),n.length&&(r.__META={extraRootIds:n.sort()}),r},t.prototype.replace=function(e){var r=this;if(Object.keys(this.data).forEach(function(o){e&&hasOwn.call(e,o)||r.delete(o)}),e){var n=e.__META,i=__rest(e,["__META"]);Object.keys(i).forEach(function(o){r.merge(o,i[o])}),n&&n.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var r=--this.rootIds[e];return r||delete this.rootIds[e],r}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Layer?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,r=this.getRootIdSet(),n=this.toObject();r.forEach(function(a){hasOwn.call(n,a)&&(Object.keys(e.findChildRefIds(a)).forEach(r.add,r),delete n[a])});var i=Object.keys(n);if(i.length){for(var o=this;o instanceof Layer;)o=o.parent;i.forEach(function(a){return o.delete(a)})}return i},t.prototype.findChildRefIds=function(e){if(!hasOwn.call(this.refs,e)){var r=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return r;var i=new Set([n]);i.forEach(function(o){isReference(o)&&(r[o.__ref]=!0),isNonNullObject(o)&&Object.keys(o).forEach(function(a){var s=o[a];isNonNullObject(s)&&i.add(s)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}(),CacheGroup=function(){function t(e,r){r===void 0&&(r=null),this.caching=e,this.parent=r,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?dep():null,this.keyMaker=new Trie(canUseWeakMap)},t.prototype.depend=function(e,r){if(this.d){this.d(makeDepKey(e,r));var n=fieldNameFromStoreName(r);n!==r&&this.d(makeDepKey(e,n)),this.parent&&this.parent.depend(e,r)}},t.prototype.dirty=function(e,r){this.d&&this.d.dirty(makeDepKey(e,r),r==="__exists"?"forget":"setDirty")},t}();function makeDepKey(t,e){return e+"#"+t}function maybeDependOnExistenceOfEntity(t,e){supportsResultCaching(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(r){__extends(n,r);function n(i){var o=i.policies,a=i.resultCaching,s=a===void 0?!0:a,l=i.seed,u=r.call(this,o,new CacheGroup(s))||this;return u.stump=new Stump(u),u.storageTrie=new Trie(canUseWeakMap),l&&u.replace(l),u}return n.prototype.addLayer=function(i,o){return this.stump.addLayer(i,o)},n.prototype.removeLayer=function(){return this},n.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},n}(t);t.Root=e})(EntityStore||(EntityStore={}));var Layer=function(t){__extends(e,t);function e(r,n,i,o){var a=t.call(this,n.policies,o)||this;return a.id=r,a.parent=n,a.replay=i,a.group=o,i(a),a}return e.prototype.addLayer=function(r,n){return new e(r,this,n,this.group)},e.prototype.removeLayer=function(r){var n=this,i=this.parent.removeLayer(r);return r===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(o){var a=n.data[o],s=i.lookup(o);s?a?a!==s&&Object.keys(a).forEach(function(l){equal(a[l],s[l])||n.group.dirty(o,l)}):(n.group.dirty(o,"__exists"),Object.keys(s).forEach(function(l){n.group.dirty(o,l)})):n.delete(o)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return __assign$1(__assign$1({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(r){var n=this.parent.findChildRefIds(r);return hasOwn.call(this.data,r)?__assign$1(__assign$1({},n),t.prototype.findChildRefIds.call(this,r)):n},e.prototype.getStorage=function(){for(var r=this.parent;r.parent;)r=r.parent;return r.getStorage.apply(r,arguments)},e}(EntityStore),Stump=function(t){__extends(e,t);function e(r){return t.call(this,"EntityStore.Stump",r,function(){},new CacheGroup(r.group.caching,r.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(Layer);function storeObjectReconciler(t,e,r){var n=t[r],i=e[r];return equal(n,i)?n:i}function supportsResultCaching(t){return!!(t instanceof EntityStore&&t.group.caching)}function shallowCopy(t){return isNonNullObject(t)?isArray(t)?t.slice(0):__assign$1({__proto__:Object.getPrototypeOf(t)},t):t}var ObjectCanon=function(){function t(){this.known=new(canUseWeakSet?WeakSet:Set),this.pool=new Trie(canUseWeakMap),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return isNonNullObject(e)&&this.known.has(e)},t.prototype.pass=function(e){if(isNonNullObject(e)){var r=shallowCopy(e);return this.passes.set(r,e),r}return e},t.prototype.admit=function(e){var r=this;if(isNonNullObject(e)){var n=this.passes.get(e);if(n)return n;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var o=e.map(this.admit,this),a=this.pool.lookupArray(o);return a.array||(this.known.add(a.array=o),__DEV__&&Object.freeze(o)),a.array}case null:case Object.prototype:{if(this.known.has(e))return e;var s=Object.getPrototypeOf(e),l=[s],u=this.sortedKeys(e);l.push(u.json);var c=l.length;u.sorted.forEach(function(p){l.push(r.admit(e[p]))});var a=this.pool.lookupArray(l);if(!a.object){var f=a.object=Object.create(s);this.known.add(f),u.sorted.forEach(function(p,g){f[p]=l[c+g]}),__DEV__&&Object.freeze(f)}return a.object}}}return e},t.prototype.sortedKeys=function(e){var r=Object.keys(e),n=this.pool.lookupArray(r);if(!n.keys){r.sort();var i=JSON.stringify(r);(n.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,n.keys={sorted:r,json:i})}return n.keys},t}(),canonicalStringify=Object.assign(function(t){if(isNonNullObject(t)){stringifyCanon===void 0&&resetCanonicalStringify();var e=stringifyCanon.admit(t),r=stringifyCache.get(e);return r===void 0&&stringifyCache.set(e,r=JSON.stringify(e)),r}return JSON.stringify(t)},{reset:resetCanonicalStringify}),stringifyCanon,stringifyCache;function resetCanonicalStringify(){stringifyCanon=new ObjectCanon,stringifyCache=new(canUseWeakMap?WeakMap:Map)}function execSelectionSetKeyArgs(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var StoreReader=function(){function t(e){var r=this;this.knownResults=new(canUseWeakMap?WeakMap:Map),this.config=compact(e,{addTypename:e.addTypename!==!1,canonizeResults:shouldCanonizeResults(e)}),this.canon=e.canon||new ObjectCanon,this.executeSelectionSet=wrap(function(n){var i,o=n.context.canonizeResults,a=execSelectionSetKeyArgs(n);a[3]=!o;var s=(i=r.executeSelectionSet).peek.apply(i,a);return s?o?__assign$1(__assign$1({},s),{result:r.canon.admit(s.result)}):s:(maybeDependOnExistenceOfEntity(n.context.store,n.enclosingRef.__ref),r.execSelectionSetImpl(n))},{max:this.config.resultCacheMaxSize,keyArgs:execSelectionSetKeyArgs,makeCacheKey:function(n,i,o,a){if(supportsResultCaching(o.store))return o.store.makeCacheKey(n,isReference(i)?i.__ref:i,o.varString,a)}}),this.executeSubSelectedArray=wrap(function(n){return maybeDependOnExistenceOfEntity(n.context.store,n.enclosingRef.__ref),r.execSubSelectedArrayImpl(n)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(n){var i=n.field,o=n.array,a=n.context;if(supportsResultCaching(a.store))return a.store.makeCacheKey(i,o,a.varString)}})}return t.prototype.resetCanon=function(){this.canon=new ObjectCanon},t.prototype.diffQueryAgainstStore=function(e){var r=e.store,n=e.query,i=e.rootId,o=i===void 0?"ROOT_QUERY":i,a=e.variables,s=e.returnPartialData,l=s===void 0?!0:s,u=e.canonizeResults,c=u===void 0?this.config.canonizeResults:u,f=this.config.cache.policies;a=__assign$1(__assign$1({},getDefaultValues(getQueryDefinition(n))),a);var d=makeReference(o),p=this.executeSelectionSet({selectionSet:getMainDefinition(n).selectionSet,objectOrReference:d,enclosingRef:d,context:{store:r,query:n,policies:f,variables:a,varString:canonicalStringify(a),canonizeResults:c,fragmentMap:createFragmentMap(getFragmentDefinitions(n))}}),g;if(p.missing&&(g=[new MissingFieldError(firstMissing(p.missing),p.missing,n,a)],!l))throw g[0];return{result:p.result,complete:!g,missing:g}},t.prototype.isFresh=function(e,r,n,i){if(supportsResultCaching(i.store)&&this.knownResults.get(e)===n){var o=this.executeSelectionSet.peek(n,r,i,this.canon.isKnown(e));if(o&&e===o.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var r=this,n=e.selectionSet,i=e.objectOrReference,o=e.enclosingRef,a=e.context;if(isReference(i)&&!a.policies.rootTypenamesById[i.__ref]&&!a.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var s=a.variables,l=a.policies,u=a.store,c=u.getFieldValue(i,"__typename"),f=[],d,p=new DeepMerger;this.config.addTypename&&typeof c=="string"&&!l.rootIdsByTypename[c]&&f.push({__typename:c});function g(w,_){var S;return w.missing&&(d=p.merge(d,(S={},S[_]=w.missing,S))),w.result}var m=new Set(n.selections);m.forEach(function(w){var _,S;if(!!shouldInclude(w,s))if(isField(w)){var x=l.readField({fieldName:w.name.value,field:w,variables:a.variables,from:i},a),k=resultKeyNameFromField(w);x===void 0?addTypenameToDocument.added(w)||(d=p.merge(d,(_={},_[k]="Can't find field '".concat(w.name.value,"' on ").concat(isReference(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),_))):isArray(x)?x=g(r.executeSubSelectedArray({field:w,array:x,enclosingRef:o,context:a}),k):w.selectionSet?x!=null&&(x=g(r.executeSelectionSet({selectionSet:w.selectionSet,objectOrReference:x,enclosingRef:isReference(x)?x:o,context:a}),k)):a.canonizeResults&&(x=r.canon.pass(x)),x!==void 0&&f.push((S={},S[k]=x,S))}else{var C=getFragmentFromSelection(w,a.fragmentMap);C&&l.fragmentMatches(C,c)&&C.selectionSet.selections.forEach(m.add,m)}});var v=mergeDeepArray(f),b={result:v,missing:d},E=a.canonizeResults?this.canon.admit(b):maybeDeepFreeze(b);return E.result&&this.knownResults.set(E.result,n),E},t.prototype.execSubSelectedArrayImpl=function(e){var r=this,n=e.field,i=e.array,o=e.enclosingRef,a=e.context,s,l=new DeepMerger;function u(c,f){var d;return c.missing&&(s=l.merge(s,(d={},d[f]=c.missing,d))),c.result}return n.selectionSet&&(i=i.filter(a.store.canRead)),i=i.map(function(c,f){return c===null?null:isArray(c)?u(r.executeSubSelectedArray({field:n,array:c,enclosingRef:o,context:a}),f):n.selectionSet?u(r.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:c,enclosingRef:isReference(c)?c:o,context:a}),f):(__DEV__&&assertSelectionSetForIdValue(a.store,n,c),c)}),{result:a.canonizeResults?this.canon.admit(i):i,missing:s}},t}();function firstMissing(t){try{JSON.stringify(t,function(e,r){if(typeof r=="string")throw r;return r})}catch(e){return e}}function assertSelectionSetForIdValue(t,e,r){if(!e.selectionSet){var n=new Set([r]);n.forEach(function(i){isNonNullObject(i)&&(__DEV__?invariant$1(!isReference(i),"Missing selection set for object of type ".concat(getTypenameFromStoreObject(t,i)," returned for query field ").concat(e.name.value)):invariant$1(!isReference(i),5),Object.values(i).forEach(n.add,n))})}}var cacheSlot=new Slot,cacheInfoMap=new WeakMap;function getCacheInfo(t){var e=cacheInfoMap.get(t);return e||cacheInfoMap.set(t,e={vars:new Set,dep:dep()}),e}function forgetCache(t){getCacheInfo(t).vars.forEach(function(e){return e.forgetCache(t)})}function recallCache(t){getCacheInfo(t).vars.forEach(function(e){return e.attachCache(t)})}function makeVar(t){var e=new Set,r=new Set,n=function(o){if(arguments.length>0){if(t!==o){t=o,e.forEach(function(l){getCacheInfo(l).dep.dirty(n),broadcast(l)});var a=Array.from(r);r.clear(),a.forEach(function(l){return l(t)})}}else{var s=cacheSlot.getValue();s&&(i(s),getCacheInfo(s).dep(n))}return t};n.onNextChange=function(o){return r.add(o),function(){r.delete(o)}};var i=n.attachCache=function(o){return e.add(o),getCacheInfo(o).vars.add(n),n};return n.forgetCache=function(o){return e.delete(o)},n}function broadcast(t){t.broadcastWatches&&t.broadcastWatches()}var specifierInfoCache=Object.create(null);function lookupSpecifierInfo(t){var e=JSON.stringify(t);return specifierInfoCache[e]||(specifierInfoCache[e]=Object.create(null))}function keyFieldsFnFromSpecifier(t){var e=lookupSpecifierInfo(t);return e.keyFieldsFn||(e.keyFieldsFn=function(r,n){var i=function(a,s){return n.readField(s,a)},o=n.keyObject=collectSpecifierPaths(t,function(a){var s=extractKeyPath(n.storeObject,a,i);return s===void 0&&r!==n.storeObject&&hasOwn.call(r,a[0])&&(s=extractKeyPath(r,a,extractKey)),__DEV__?invariant$1(s!==void 0,"Missing field '".concat(a.join("."),"' while extracting keyFields from ").concat(JSON.stringify(r))):invariant$1(s!==void 0,2),s});return"".concat(n.typename,":").concat(JSON.stringify(o))})}function keyArgsFnFromSpecifier(t){var e=lookupSpecifierInfo(t);return e.keyArgsFn||(e.keyArgsFn=function(r,n){var i=n.field,o=n.variables,a=n.fieldName,s=collectSpecifierPaths(t,function(u){var c=u[0],f=c.charAt(0);if(f==="@"){if(i&&isNonEmptyArray(i.directives)){var d=c.slice(1),p=i.directives.find(function(b){return b.name.value===d}),g=p&&argumentsObjectFromField(p,o);return g&&extractKeyPath(g,u.slice(1))}return}if(f==="$"){var m=c.slice(1);if(o&&hasOwn.call(o,m)){var v=u.slice(0);return v[0]=m,extractKeyPath(o,v)}return}if(r)return extractKeyPath(r,u)}),l=JSON.stringify(s);return(r||l!=="{}")&&(a+=":"+l),a})}function collectSpecifierPaths(t,e){var r=new DeepMerger;return getSpecifierPaths(t).reduce(function(n,i){var o,a=e(i);if(a!==void 0){for(var s=i.length-1;s>=0;--s)a=(o={},o[i[s]]=a,o);n=r.merge(n,a)}return n},Object.create(null))}function getSpecifierPaths(t){var e=lookupSpecifierInfo(t);if(!e.paths){var r=e.paths=[],n=[];t.forEach(function(i,o){isArray(i)?(getSpecifierPaths(i).forEach(function(a){return r.push(n.concat(a))}),n.length=0):(n.push(i),isArray(t[o+1])||(r.push(n.slice(0)),n.length=0))})}return e.paths}function extractKey(t,e){return t[e]}function extractKeyPath(t,e,r){return r=r||extractKey,normalize$1(e.reduce(function n(i,o){return isArray(i)?i.map(function(a){return n(a,o)}):i&&r(i,o)},t))}function normalize$1(t){return isNonNullObject(t)?isArray(t)?t.map(normalize$1):collectSpecifierPaths(Object.keys(t).sort(),function(e){return extractKeyPath(t,e)}):t}getStoreKeyName.setStringify(canonicalStringify);function argsFromFieldSpecifier(t){return t.args!==void 0?t.args:t.field?argumentsObjectFromField(t.field,t.variables):null}var nullKeyFieldsFn=function(){},simpleKeyArgsFn=function(t,e){return e.fieldName},mergeTrueFn=function(t,e,r){var n=r.mergeObjects;return n(t,e)},mergeFalseFn=function(t,e){return e},Policies=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=__assign$1({dataIdFromObject:defaultDataIdFromObject},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,r){var n,i=this,o=r&&(r.typename||((n=r.storeObject)===null||n===void 0?void 0:n.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var a=r&&r.storeObject||e,s=__assign$1(__assign$1({},r),{typename:o,storeObject:a,readField:r&&r.readField||function(){var d=normalizeReadFieldOptions(arguments,a);return i.readField(d,{store:i.cache.data,variables:d.variables})}}),l,u=o&&this.getTypePolicy(o),c=u&&u.keyFn||this.config.dataIdFromObject;c;){var f=c(e,s);if(isArray(f))c=keyFieldsFnFromSpecifier(f);else{l=f;break}}return l=l?String(l):void 0,s.keyObject?[l,s.keyObject]:[l]},t.prototype.addTypePolicies=function(e){var r=this;Object.keys(e).forEach(function(n){var i=e[n],o=i.queryType,a=i.mutationType,s=i.subscriptionType,l=__rest(i,["queryType","mutationType","subscriptionType"]);o&&r.setRootTypename("Query",n),a&&r.setRootTypename("Mutation",n),s&&r.setRootTypename("Subscription",n),hasOwn.call(r.toBeAdded,n)?r.toBeAdded[n].push(l):r.toBeAdded[n]=[l]})},t.prototype.updateTypePolicy=function(e,r){var n=this,i=this.getTypePolicy(e),o=r.keyFields,a=r.fields;function s(l,u){l.merge=typeof u=="function"?u:u===!0?mergeTrueFn:u===!1?mergeFalseFn:l.merge}s(i,r.merge),i.keyFn=o===!1?nullKeyFieldsFn:isArray(o)?keyFieldsFnFromSpecifier(o):typeof o=="function"?o:i.keyFn,a&&Object.keys(a).forEach(function(l){var u=n.getFieldPolicy(e,l,!0),c=a[l];if(typeof c=="function")u.read=c;else{var f=c.keyArgs,d=c.read,p=c.merge;u.keyFn=f===!1?simpleKeyArgsFn:isArray(f)?keyArgsFnFromSpecifier(f):typeof f=="function"?f:u.keyFn,typeof d=="function"&&(u.read=d),s(u,p)}u.read&&u.merge&&(u.keyFn=u.keyFn||simpleKeyArgsFn)})},t.prototype.setRootTypename=function(e,r){r===void 0&&(r=e);var n="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[n];r!==i&&(__DEV__?invariant$1(!i||i===e,"Cannot change root ".concat(e," __typename more than once")):invariant$1(!i||i===e,3),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[r]=n,this.rootTypenamesById[n]=r)},t.prototype.addPossibleTypes=function(e){var r=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(n){r.getSupertypeSet(n,!0),e[n].forEach(function(i){r.getSupertypeSet(i,!0).add(n);var o=i.match(TypeOrFieldNameRegExp);(!o||o[0]!==i)&&r.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var r=this;if(!hasOwn.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var i=this.supertypeMap.get(e);i&&i.size&&i.forEach(function(a){var s=r.getTypePolicy(a),l=s.fields,u=__rest(s,["fields"]);Object.assign(n,u),Object.assign(n.fields,l)})}var o=this.toBeAdded[e];return o&&o.length&&o.splice(0).forEach(function(a){r.updateTypePolicy(e,a)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,r,n){if(e){var i=this.getTypePolicy(e).fields;return i[r]||n&&(i[r]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,r){var n=this.supertypeMap.get(e);return!n&&r&&this.supertypeMap.set(e,n=new Set),n},t.prototype.fragmentMatches=function(e,r,n,i){var o=this;if(!e.typeCondition)return!0;if(!r)return!1;var a=e.typeCondition.name.value;if(r===a)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(a))for(var s=this.getSupertypeSet(r,!0),l=[s],u=function(g){var m=o.getSupertypeSet(g,!1);m&&m.size&&l.indexOf(m)<0&&l.push(m)},c=!!(n&&this.fuzzySubtypes.size),f=!1,d=0;d<l.length;++d){var p=l[d];if(p.has(a))return s.has(a)||(f&&__DEV__&&invariant$1.warn("Inferring subtype ".concat(r," of supertype ").concat(a)),s.add(a)),!0;p.forEach(u),c&&d===l.length-1&&selectionSetMatchesResult(e.selectionSet,n,i)&&(c=!1,f=!0,this.fuzzySubtypes.forEach(function(g,m){var v=r.match(g);v&&v[0]===r&&u(m)}))}return!1},t.prototype.hasKeyArgs=function(e,r){var n=this.getFieldPolicy(e,r,!1);return!!(n&&n.keyFn)},t.prototype.getStoreFieldName=function(e){var r=e.typename,n=e.fieldName,i=this.getFieldPolicy(r,n,!1),o,a=i&&i.keyFn;if(a&&r)for(var s={typename:r,fieldName:n,field:e.field||null,variables:e.variables},l=argsFromFieldSpecifier(e);a;){var u=a(l,s);if(isArray(u))a=keyArgsFnFromSpecifier(u);else{o=u||n;break}}return o===void 0&&(o=e.field?storeKeyNameFromField(e.field,e.variables):getStoreKeyName(n,argsFromFieldSpecifier(e))),o===!1?n:n===fieldNameFromStoreName(o)?o:n+":"+o},t.prototype.readField=function(e,r){var n=e.from;if(!!n){var i=e.field||e.fieldName;if(!!i){if(e.typename===void 0){var o=r.store.getFieldValue(n,"__typename");o&&(e.typename=o)}var a=this.getStoreFieldName(e),s=fieldNameFromStoreName(a),l=r.store.getFieldValue(n,a),u=this.getFieldPolicy(e.typename,s,!1),c=u&&u.read;if(c){var f=makeFieldFunctionOptions(this,n,e,r,r.store.getStorage(isReference(n)?n.__ref:n,a));return cacheSlot.withValue(this.cache,c,[l,f])}return l}}},t.prototype.getReadFunction=function(e,r){var n=this.getFieldPolicy(e,r,!1);return n&&n.read},t.prototype.getMergeFunction=function(e,r,n){var i=this.getFieldPolicy(e,r,!1),o=i&&i.merge;return!o&&n&&(i=this.getTypePolicy(n),o=i&&i.merge),o},t.prototype.runMergeFunction=function(e,r,n,i,o){var a=n.field,s=n.typename,l=n.merge;return l===mergeTrueFn?makeMergeObjectsFunction(i.store)(e,r):l===mergeFalseFn?r:(i.overwrite&&(e=void 0),l(e,r,makeFieldFunctionOptions(this,void 0,{typename:s,fieldName:a.name.value,field:a,variables:i.variables},i,o||Object.create(null))))},t}();function makeFieldFunctionOptions(t,e,r,n,i){var o=t.getStoreFieldName(r),a=fieldNameFromStoreName(o),s=r.variables||n.variables,l=n.store,u=l.toReference,c=l.canRead;return{args:argsFromFieldSpecifier(r),field:r.field||null,fieldName:a,storeFieldName:o,variables:s,isReference,toReference:u,storage:i,cache:t.cache,canRead:c,readField:function(){return t.readField(normalizeReadFieldOptions(arguments,e,s),n)},mergeObjects:makeMergeObjectsFunction(n.store)}}function normalizeReadFieldOptions(t,e,r){var n=t[0],i=t[1],o=t.length,a;return typeof n=="string"?a={fieldName:n,from:o>1?i:e}:(a=__assign$1({},n),hasOwn.call(a,"from")||(a.from=e)),__DEV__&&a.from===void 0&&__DEV__&&invariant$1.warn("Undefined 'from' passed to readField with arguments ".concat(stringifyForDisplay(Array.from(t)))),a.variables===void 0&&(a.variables=r),a}function makeMergeObjectsFunction(t){return function(r,n){if(isArray(r)||isArray(n))throw __DEV__?new InvariantError("Cannot automatically merge arrays"):new InvariantError(4);if(isNonNullObject(r)&&isNonNullObject(n)){var i=t.getFieldValue(r,"__typename"),o=t.getFieldValue(n,"__typename"),a=i&&o&&i!==o;if(a)return n;if(isReference(r)&&storeValueIsStoreObject(n))return t.merge(r.__ref,n),r;if(storeValueIsStoreObject(r)&&isReference(n))return t.merge(r,n.__ref),n;if(storeValueIsStoreObject(r)&&storeValueIsStoreObject(n))return __assign$1(__assign$1({},r),n)}return n}}function getContextFlavor(t,e,r){var n="".concat(e).concat(r),i=t.flavors.get(n);return i||t.flavors.set(n,i=t.clientOnly===e&&t.deferred===r?t:__assign$1(__assign$1({},t),{clientOnly:e,deferred:r})),i}var StoreWriter=function(){function t(e,r){this.cache=e,this.reader=r}return t.prototype.writeToStore=function(e,r){var n=this,i=r.query,o=r.result,a=r.dataId,s=r.variables,l=r.overwrite,u=getOperationDefinition(i),c=makeProcessedFieldsMerger();s=__assign$1(__assign$1({},getDefaultValues(u)),s);var f={store:e,written:Object.create(null),merge:function(p,g){return c.merge(p,g)},variables:s,varString:canonicalStringify(s),fragmentMap:createFragmentMap(getFragmentDefinitions(i)),overwrite:!!l,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},d=this.processSelectionSet({result:o||Object.create(null),dataId:a,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:f});if(!isReference(d))throw __DEV__?new InvariantError("Could not identify object ".concat(JSON.stringify(o))):new InvariantError(6);return f.incomingById.forEach(function(p,g){var m=p.storeObject,v=p.mergeTree,b=p.fieldNodeSet,E=makeReference(g);if(v&&v.map.size){var w=n.applyMerges(v,E,m,f);if(isReference(w))return;m=w}if(__DEV__&&!f.overwrite){var _=Object.create(null);b.forEach(function(k){k.selectionSet&&(_[k.name.value]=!0)});var S=function(k){return _[fieldNameFromStoreName(k)]===!0},x=function(k){var C=v&&v.map.get(k);return Boolean(C&&C.info&&C.info.merge)};Object.keys(m).forEach(function(k){S(k)&&!x(k)&&warnAboutDataLoss(E,m,k,f.store)})}e.merge(g,m)}),e.retain(d.__ref),d},t.prototype.processSelectionSet=function(e){var r=this,n=e.dataId,i=e.result,o=e.selectionSet,a=e.context,s=e.mergeTree,l=this.cache.policies,u=Object.create(null),c=n&&l.rootTypenamesById[n]||getTypenameFromResult(i,o,a.fragmentMap)||n&&a.store.get(n,"__typename");typeof c=="string"&&(u.__typename=c);var f=function(){var w=normalizeReadFieldOptions(arguments,u,a.variables);if(isReference(w.from)){var _=a.incomingById.get(w.from.__ref);if(_){var S=l.readField(__assign$1(__assign$1({},w),{from:_.storeObject}),a);if(S!==void 0)return S}}return l.readField(w,a)},d=new Set;this.flattenFields(o,i,a,c).forEach(function(w,_){var S,x=resultKeyNameFromField(_),k=i[x];if(d.add(_),k!==void 0){var C=l.getStoreFieldName({typename:c,fieldName:_.name.value,field:_,variables:w.variables}),D=getChildMergeTree(s,C),T=r.processFieldValue(k,_,_.selectionSet?getContextFlavor(w,!1,!1):w,D),A=void 0;_.selectionSet&&(isReference(T)||storeValueIsStoreObject(T))&&(A=f("__typename",T));var R=l.getMergeFunction(c,_.name.value,A);R?D.info={field:_,typename:c,merge:R}:maybeRecycleChildMergeTree(s,C),u=w.merge(u,(S={},S[C]=T,S))}else __DEV__&&!w.clientOnly&&!w.deferred&&!addTypenameToDocument.added(_)&&!l.getReadFunction(c,_.name.value)&&__DEV__&&invariant$1.error("Missing field '".concat(resultKeyNameFromField(_),"' while writing result ").concat(JSON.stringify(i,null,2)).substring(0,1e3))});try{var p=l.identify(i,{typename:c,selectionSet:o,fragmentMap:a.fragmentMap,storeObject:u,readField:f}),g=p[0],m=p[1];n=n||g,m&&(u=a.merge(u,m))}catch(w){if(!n)throw w}if(typeof n=="string"){var v=makeReference(n),b=a.written[n]||(a.written[n]=[]);if(b.indexOf(o)>=0||(b.push(o),this.reader&&this.reader.isFresh(i,v,o,a)))return v;var E=a.incomingById.get(n);return E?(E.storeObject=a.merge(E.storeObject,u),E.mergeTree=mergeMergeTrees(E.mergeTree,s),d.forEach(function(w){return E.fieldNodeSet.add(w)})):a.incomingById.set(n,{storeObject:u,mergeTree:mergeTreeIsEmpty(s)?void 0:s,fieldNodeSet:d}),v}return u},t.prototype.processFieldValue=function(e,r,n,i){var o=this;return!r.selectionSet||e===null?__DEV__?cloneDeep(e):e:isArray(e)?e.map(function(a,s){var l=o.processFieldValue(a,r,n,getChildMergeTree(i,s));return maybeRecycleChildMergeTree(i,s),l}):this.processSelectionSet({result:e,selectionSet:r.selectionSet,context:n,mergeTree:i})},t.prototype.flattenFields=function(e,r,n,i){i===void 0&&(i=getTypenameFromResult(r,e,n.fragmentMap));var o=new Map,a=this.cache.policies,s=new Trie(!1);return function l(u,c){var f=s.lookup(u,c.clientOnly,c.deferred);f.visited||(f.visited=!0,u.selections.forEach(function(d){if(!!shouldInclude(d,n.variables)){var p=c.clientOnly,g=c.deferred;if(!(p&&g)&&isNonEmptyArray(d.directives)&&d.directives.forEach(function(b){var E=b.name.value;if(E==="client"&&(p=!0),E==="defer"){var w=argumentsObjectFromField(b,n.variables);(!w||w.if!==!1)&&(g=!0)}}),isField(d)){var m=o.get(d);m&&(p=p&&m.clientOnly,g=g&&m.deferred),o.set(d,getContextFlavor(n,p,g))}else{var v=getFragmentFromSelection(d,n.fragmentMap);v&&a.fragmentMatches(v,i,r,n.variables)&&l(v.selectionSet,getContextFlavor(n,p,g))}}}))}(e,n),o},t.prototype.applyMerges=function(e,r,n,i,o){var a,s=this;if(e.map.size&&!isReference(n)){var l=!isArray(n)&&(isReference(r)||storeValueIsStoreObject(r))?r:void 0,u=n;l&&!o&&(o=[isReference(l)?l.__ref:l]);var c,f=function(d,p){return isArray(d)?typeof p=="number"?d[p]:void 0:i.store.getFieldValue(d,String(p))};e.map.forEach(function(d,p){var g=f(l,p),m=f(u,p);if(m!==void 0){o&&o.push(p);var v=s.applyMerges(d,g,m,i,o);v!==m&&(c=c||new Map,c.set(p,v)),o&&invariant$1(o.pop()===p)}}),c&&(n=isArray(u)?u.slice(0):__assign$1({},u),c.forEach(function(d,p){n[p]=d}))}return e.info?this.cache.policies.runMergeFunction(r,n,e.info,i,o&&(a=i.store).getStorage.apply(a,o)):n},t}(),emptyMergeTreePool=[];function getChildMergeTree(t,e){var r=t.map;return r.has(e)||r.set(e,emptyMergeTreePool.pop()||{map:new Map}),r.get(e)}function mergeMergeTrees(t,e){if(t===e||!e||mergeTreeIsEmpty(e))return t;if(!t||mergeTreeIsEmpty(t))return e;var r=t.info&&e.info?__assign$1(__assign$1({},t.info),e.info):t.info||e.info,n=t.map.size&&e.map.size,i=n?new Map:t.map.size?t.map:e.map,o={info:r,map:i};if(n){var a=new Set(e.map.keys());t.map.forEach(function(s,l){o.map.set(l,mergeMergeTrees(s,e.map.get(l))),a.delete(l)}),a.forEach(function(s){o.map.set(s,mergeMergeTrees(e.map.get(s),t.map.get(s)))})}return o}function mergeTreeIsEmpty(t){return!t||!(t.info||t.map.size)}function maybeRecycleChildMergeTree(t,e){var r=t.map,n=r.get(e);n&&mergeTreeIsEmpty(n)&&(emptyMergeTreePool.push(n),r.delete(e))}var warnings=new Set;function warnAboutDataLoss(t,e,r,n){var i=function(f){var d=n.getFieldValue(f,r);return typeof d=="object"&&d},o=i(t);if(!!o){var a=i(e);if(!!a&&!isReference(o)&&!equal(o,a)&&!Object.keys(o).every(function(f){return n.getFieldValue(a,f)!==void 0})){var s=n.getFieldValue(t,"__typename")||n.getFieldValue(e,"__typename"),l=fieldNameFromStoreName(r),u="".concat(s,".").concat(l);if(!warnings.has(u)){warnings.add(u);var c=[];!isArray(o)&&!isArray(a)&&[o,a].forEach(function(f){var d=n.getFieldValue(f,"__typename");typeof d=="string"&&!c.includes(d)&&c.push(d)}),__DEV__&&invariant$1.warn("Cache data may be lost when replacing the ".concat(l," field of a ").concat(s,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(c.length?"either ensure all objects of type "+c.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(u,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(o).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(a).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var InMemoryCache=function(t){__extends(e,t);function e(r){r===void 0&&(r={});var n=t.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=makeVar,n.txCount=0,n.config=normalizeConfig(r),n.addTypename=!!n.config.addTypename,n.policies=new Policies({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return e.prototype.init=function(){var r=this.data=new EntityStore.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=r.stump,this.resetResultCache()},e.prototype.resetResultCache=function(r){var n=this,i=this.storeReader;this.storeWriter=new StoreWriter(this,this.storeReader=new StoreReader({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:shouldCanonizeResults(this.config),canon:r?void 0:i&&i.canon})),this.maybeBroadcastWatch=wrap(function(o,a){return n.broadcastWatch(o,a)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(o){var a=o.optimistic?n.optimisticData:n.data;if(supportsResultCaching(a)){var s=o.optimistic,l=o.rootId,u=o.variables;return a.makeCacheKey(o.query,o.callback,canonicalStringify({optimistic:s,rootId:l,variables:u}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(o){return o.resetCaching()})},e.prototype.restore=function(r){return this.init(),r&&this.data.replace(r),this},e.prototype.extract=function(r){return r===void 0&&(r=!1),(r?this.optimisticData:this.data).extract()},e.prototype.read=function(r){var n=r.returnPartialData,i=n===void 0?!1:n;try{return this.storeReader.diffQueryAgainstStore(__assign$1(__assign$1({},r),{store:r.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(o){if(o instanceof MissingFieldError)return null;throw o}},e.prototype.write=function(r){try{return++this.txCount,this.storeWriter.writeToStore(this.data,r)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(r){if(hasOwn.call(r,"id")&&!r.id)return!1;var n=r.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(r.id||"ROOT_QUERY",r.fields)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(r){return this.storeReader.diffQueryAgainstStore(__assign$1(__assign$1({},r),{store:r.optimistic?this.optimisticData:this.data,rootId:r.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(r){var n=this;return this.watches.size||recallCache(this),this.watches.add(r),r.immediate&&this.maybeBroadcastWatch(r),function(){n.watches.delete(r)&&!n.watches.size&&forgetCache(n),n.maybeBroadcastWatch.forget(r)}},e.prototype.gc=function(r){canonicalStringify.reset();var n=this.optimisticData.gc();return r&&!this.txCount&&(r.resetResultCache?this.resetResultCache(r.resetResultIdentities):r.resetResultIdentities&&this.storeReader.resetCanon()),n},e.prototype.retain=function(r,n){return(n?this.optimisticData:this.data).retain(r)},e.prototype.release=function(r,n){return(n?this.optimisticData:this.data).release(r)},e.prototype.identify=function(r){if(isReference(r))return r.__ref;try{return this.policies.identify(r)[0]}catch(n){__DEV__&&invariant$1.warn(n)}},e.prototype.evict=function(r){if(!r.id){if(hasOwn.call(r,"id"))return!1;r=__assign$1(__assign$1({},r),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(r,this.data)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(r){var n=this;return this.init(),canonicalStringify.reset(),r&&r.discardWatches?(this.watches.forEach(function(i){return n.maybeBroadcastWatch.forget(i)}),this.watches.clear(),forgetCache(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(r){var n=this.optimisticData.removeLayer(r);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())},e.prototype.batch=function(r){var n=this,i=r.update,o=r.optimistic,a=o===void 0?!0:o,s=r.removeOptimistic,l=r.onWatchUpdated,u,c=function(d){var p=n,g=p.data,m=p.optimisticData;++n.txCount,d&&(n.data=n.optimisticData=d);try{return u=i(n)}finally{--n.txCount,n.data=g,n.optimisticData=m}},f=new Set;return l&&!this.txCount&&this.broadcastWatches(__assign$1(__assign$1({},r),{onWatchUpdated:function(d){return f.add(d),!1}})),typeof a=="string"?this.optimisticData=this.optimisticData.addLayer(a,c):a===!1?c(this.data):c(),typeof s=="string"&&(this.optimisticData=this.optimisticData.removeLayer(s)),l&&f.size?(this.broadcastWatches(__assign$1(__assign$1({},r),{onWatchUpdated:function(d,p){var g=l.call(this,d,p);return g!==!1&&f.delete(d),g}})),f.size&&f.forEach(function(d){return n.maybeBroadcastWatch.dirty(d)})):this.broadcastWatches(r),u},e.prototype.performTransaction=function(r,n){return this.batch({update:r,optimistic:n||n!==null})},e.prototype.transformDocument=function(r){if(this.addTypename){var n=this.typenameDocumentCache.get(r);return n||(n=addTypenameToDocument(r),this.typenameDocumentCache.set(r,n),this.typenameDocumentCache.set(n,n)),n}return r},e.prototype.broadcastWatches=function(r){var n=this;this.txCount||this.watches.forEach(function(i){return n.maybeBroadcastWatch(i,r)})},e.prototype.broadcastWatch=function(r,n){var i=r.lastDiff,o=this.diff(r);n&&(r.optimistic&&typeof n.optimistic=="string"&&(o.fromOptimisticTransaction=!0),n.onWatchUpdated&&n.onWatchUpdated.call(this,r,o,i)===!1)||(!i||!equal(i.result,o.result))&&r.callback(r.lastDiff=o,i)},e}(ApolloCache);function isApolloError(t){return t.hasOwnProperty("graphQLErrors")}var generateErrorMessage=function(t){var e="";if(isNonEmptyArray(t.graphQLErrors)||isNonEmptyArray(t.clientErrors)){var r=(t.graphQLErrors||[]).concat(t.clientErrors||[]);r.forEach(function(n){var i=n?n.message:"Error message not found.";e+="".concat(i,`
`)})}return t.networkError&&(e+="".concat(t.networkError.message,`
`)),e=e.replace(/\n$/,""),e},ApolloError=function(t){__extends(e,t);function e(r){var n=r.graphQLErrors,i=r.clientErrors,o=r.networkError,a=r.errorMessage,s=r.extraInfo,l=t.call(this,a)||this;return l.graphQLErrors=n||[],l.clientErrors=i||[],l.networkError=o||null,l.message=a||generateErrorMessage(l),l.extraInfo=s,l.__proto__=e.prototype,l}return e}(Error),NetworkStatus;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(NetworkStatus||(NetworkStatus={}));function isNetworkRequestInFlight(t){return t?t<7:!1}var assign=Object.assign,hasOwnProperty$1=Object.hasOwnProperty,ObservableQuery=function(t){__extends(e,t);function e(r){var n=r.queryManager,i=r.queryInfo,o=r.options,a=t.call(this,function(v){try{var b=v._subscription._observer;b&&!b.error&&(b.error=defaultSubscriptionObserverErrorCallback)}catch{}var E=!a.observers.size;a.observers.add(v);var w=a.last;return w&&w.error?v.error&&v.error(w.error):w&&w.result&&v.next&&v.next(w.result),E&&a.reobserve().catch(function(){}),function(){a.observers.delete(v)&&!a.observers.size&&a.tearDownQuery()}})||this;a.observers=new Set,a.subscriptions=new Set,a.queryInfo=i,a.queryManager=n,a.isTornDown=!1;var s=n.defaultOptions.watchQuery,l=s===void 0?{}:s,u=l.fetchPolicy,c=u===void 0?"cache-first":u,f=o.fetchPolicy,d=f===void 0?c:f,p=o.initialFetchPolicy,g=p===void 0?d==="standby"?c:d:p;a.options=__assign$1(__assign$1({},o),{initialFetchPolicy:g,fetchPolicy:d}),a.queryId=i.queryId||n.generateQueryId();var m=getOperationDefinition(a.query);return a.queryName=m&&m.name&&m.name.value,a}return Object.defineProperty(e.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var r=this;return new Promise(function(n,i){var o={next:function(s){n(s),r.observers.delete(o),r.observers.size||r.queryManager.removeQuery(r.queryId),setTimeout(function(){a.unsubscribe()},0)},error:i},a=r.subscribe(o)})},e.prototype.getCurrentResult=function(r){r===void 0&&(r=!0);var n=this.getLastResult(!0),i=this.queryInfo.networkStatus||n&&n.networkStatus||NetworkStatus.ready,o=__assign$1(__assign$1({},n),{loading:isNetworkRequestInFlight(i),networkStatus:i}),a=this.options.fetchPolicy,s=a===void 0?"cache-first":a;if(!(s==="network-only"||s==="no-cache"||s==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var l=this.queryInfo.getDiff();(l.complete||this.options.returnPartialData)&&(o.data=l.result),equal(o.data,{})&&(o.data=void 0),l.complete?(delete o.partial,l.complete&&o.networkStatus===NetworkStatus.loading&&(s==="cache-first"||s==="cache-only")&&(o.networkStatus=NetworkStatus.ready,o.loading=!1)):o.partial=!0,__DEV__&&!l.complete&&!this.options.partialRefetch&&!o.loading&&!o.data&&!o.error&&logMissingFieldErrors(l.missing)}return r&&this.updateLastResult(o),o},e.prototype.isDifferentFromLastResult=function(r){return!this.last||!equal(this.last.result,r)},e.prototype.getLast=function(r,n){var i=this.last;if(i&&i[r]&&(!n||equal(i.variables,this.variables)))return i[r]},e.prototype.getLastResult=function(r){return this.getLast("result",r)},e.prototype.getLastError=function(r){return this.getLast("error",r)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(r){var n,i={pollInterval:0},o=this.options.fetchPolicy;if(o==="cache-and-network"?i.fetchPolicy=o:o==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",__DEV__&&r&&hasOwnProperty$1.call(r,"variables")){var a=getQueryDefinition(this.query),s=a.variableDefinitions;(!s||!s.some(function(l){return l.variable.name.value==="variables"}))&&__DEV__&&invariant$1.warn("Called refetch(".concat(JSON.stringify(r),") for query ").concat(((n=a.name)===null||n===void 0?void 0:n.value)||JSON.stringify(a),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return r&&!equal(this.options.variables,r)&&(i.variables=this.options.variables=__assign$1(__assign$1({},this.options.variables),r)),this.queryInfo.resetLastWrite(),this.reobserve(i,NetworkStatus.refetch)},e.prototype.fetchMore=function(r){var n=this,i=__assign$1(__assign$1({},r.query?r:__assign$1(__assign$1(__assign$1(__assign$1({},this.options),{query:this.query}),r),{variables:__assign$1(__assign$1({},this.options.variables),r.variables)})),{fetchPolicy:"no-cache"}),o=this.queryManager.generateQueryId(),a=this.queryInfo,s=a.networkStatus;a.networkStatus=NetworkStatus.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var l=new Set;return this.queryManager.fetchQuery(o,i,NetworkStatus.fetchMore).then(function(u){return n.queryManager.removeQuery(o),a.networkStatus===NetworkStatus.fetchMore&&(a.networkStatus=s),n.queryManager.cache.batch({update:function(c){var f=r.updateQuery;f?c.updateQuery({query:n.query,variables:n.variables,returnPartialData:!0,optimistic:!1},function(d){return f(d,{fetchMoreResult:u.data,variables:i.variables})}):c.writeQuery({query:i.query,variables:i.variables,data:u.data})},onWatchUpdated:function(c){l.add(c.query)}}),u}).finally(function(){l.has(n.query)||reobserveCacheFirst(n)})},e.prototype.subscribeToMore=function(r){var n=this,i=this.queryManager.startGraphQLSubscription({query:r.document,variables:r.variables,context:r.context}).subscribe({next:function(o){var a=r.updateQuery;a&&n.updateQuery(function(s,l){var u=l.variables;return a(s,{subscriptionData:o,variables:u})})},error:function(o){if(r.onError){r.onError(o);return}__DEV__&&invariant$1.error("Unhandled GraphQL subscription error",o)}});return this.subscriptions.add(i),function(){n.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(r){return this.reobserve(r)},e.prototype.setVariables=function(r){return equal(this.variables,r)?this.observers.size?this.result():Promise.resolve():(this.options.variables=r,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:r},NetworkStatus.setVariables):Promise.resolve())},e.prototype.updateQuery=function(r){var n=this.queryManager,i=n.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,o=r(i,{variables:this.variables});o&&(n.cache.writeQuery({query:this.options.query,data:o,variables:this.variables}),n.broadcastQueries())},e.prototype.startPolling=function(r){this.options.pollInterval=r,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(r,n){if(n.nextFetchPolicy){var i=n.fetchPolicy,o=i===void 0?"cache-first":i,a=n.initialFetchPolicy,s=a===void 0?o:a;o==="standby"||(typeof n.nextFetchPolicy=="function"?n.fetchPolicy=n.nextFetchPolicy(o,{reason:r,options:n,observable:this,initialFetchPolicy:s}):r==="variables-changed"?n.fetchPolicy=s:n.fetchPolicy=n.nextFetchPolicy)}return n.fetchPolicy},e.prototype.fetch=function(r,n){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,r,n)},e.prototype.updatePolling=function(){var r=this;if(!this.queryManager.ssrMode){var n=this,i=n.pollingInfo,o=n.options.pollInterval;if(!o){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===o)){__DEV__?invariant$1(o,"Attempted to start a polling query without a polling interval."):invariant$1(o,10);var a=i||(this.pollingInfo={});a.interval=o;var s=function(){r.pollingInfo&&(isNetworkRequestInFlight(r.queryInfo.networkStatus)?l():r.reobserve({fetchPolicy:"network-only"},NetworkStatus.poll).then(l,l))},l=function(){var u=r.pollingInfo;u&&(clearTimeout(u.timeout),u.timeout=setTimeout(s,u.interval))};l()}}},e.prototype.updateLastResult=function(r,n){return n===void 0&&(n=this.variables),this.last=__assign$1(__assign$1({},this.last),{result:this.queryManager.assumeImmutableResults?r:cloneDeep(r),variables:n}),isNonEmptyArray(r.errors)||delete this.last.error,this.last},e.prototype.reobserve=function(r,n){var i=this;this.isTornDown=!1;var o=n===NetworkStatus.refetch||n===NetworkStatus.fetchMore||n===NetworkStatus.poll,a=this.options.variables,s=this.options.fetchPolicy,l=compact(this.options,r||{}),u=o?l:assign(this.options,l);o||(this.updatePolling(),r&&r.variables&&!equal(r.variables,a)&&u.fetchPolicy!=="standby"&&u.fetchPolicy===s&&(this.applyNextFetchPolicy("variables-changed",u),n===void 0&&(n=NetworkStatus.setVariables)));var c=u.variables&&__assign$1({},u.variables),f=this.fetch(u,n),d={next:function(p){i.reportResult(p,c)},error:function(p){i.reportError(p,c)}};return o||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=f,this.observer=d),f.addObserver(d),f.promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(r,n){var i=this.getLastError();(i||this.isDifferentFromLastResult(r))&&((i||!r.partial||this.options.returnPartialData)&&this.updateLastResult(r,n),iterateObserversSafely(this.observers,"next",r))},e.prototype.reportError=function(r,n){var i=__assign$1(__assign$1({},this.getLastResult()),{error:r,errors:r.graphQLErrors,networkStatus:NetworkStatus.error,loading:!1});this.updateLastResult(i,n),iterateObserversSafely(this.observers,"error",this.last.error=r)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(r){return r.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(Observable);fixObservableSubclass(ObservableQuery);function reobserveCacheFirst(t){var e=t.options,r=e.fetchPolicy,n=e.nextFetchPolicy;return r==="cache-and-network"||r==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=n,typeof n=="function"?n.apply(this,arguments):r}}):t.reobserve()}function defaultSubscriptionObserverErrorCallback(t){__DEV__&&invariant$1.error("Unhandled error",t.message,t.stack)}function logMissingFieldErrors(t){__DEV__&&t&&__DEV__&&invariant$1.debug("Missing cache result fields: ".concat(JSON.stringify(t)),t)}var LocalState=function(){function t(e){var r=e.cache,n=e.client,i=e.resolvers,o=e.fragmentMatcher;this.cache=r,n&&(this.client=n),i&&this.addResolvers(i),o&&this.setFragmentMatcher(o)}return t.prototype.addResolvers=function(e){var r=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(n){r.resolvers=mergeDeep(r.resolvers,n)}):this.resolvers=mergeDeep(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var r=e.document,n=e.remoteResult,i=e.context,o=e.variables,a=e.onlyRunForcedResolvers,s=a===void 0?!1:a;return __awaiter(this,void 0,void 0,function(){return __generator(this,function(l){return r?[2,this.resolveDocument(r,n.data,i,o,this.fragmentMatcher,s).then(function(u){return __assign$1(__assign$1({},n),{data:u.result})})]:[2,n]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return hasDirectives(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return removeClientSetsFromDocument(e)},t.prototype.prepareContext=function(e){var r=this.cache;return __assign$1(__assign$1({},e),{cache:r,getCacheKey:function(n){return r.identify(n)}})},t.prototype.addExportedVariables=function(e,r,n){return r===void 0&&(r={}),n===void 0&&(n={}),__awaiter(this,void 0,void 0,function(){return __generator(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,r)||{},this.prepareContext(n),r).then(function(o){return __assign$1(__assign$1({},r),o.exportedVariables)})]:[2,__assign$1({},r)]})})},t.prototype.shouldForceResolvers=function(e){var r=!1;return visit(e,{Directive:{enter:function(n){if(n.name.value==="client"&&n.arguments&&(r=n.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),r))return BREAK}}}),r},t.prototype.buildRootValueFromCache=function(e,r){return this.cache.diff({query:buildQueryFromSelectionSet(e),variables:r,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,r,n,i,o,a){return n===void 0&&(n={}),i===void 0&&(i={}),o===void 0&&(o=function(){return!0}),a===void 0&&(a=!1),__awaiter(this,void 0,void 0,function(){var s,l,u,c,f,d,p,g,m;return __generator(this,function(v){return s=getMainDefinition(e),l=getFragmentDefinitions(e),u=createFragmentMap(l),c=s.operation,f=c?c.charAt(0).toUpperCase()+c.slice(1):"Query",d=this,p=d.cache,g=d.client,m={fragmentMap:u,context:__assign$1(__assign$1({},n),{cache:p,client:g}),variables:i,fragmentMatcher:o,defaultOperationType:f,exportedVariables:{},onlyRunForcedResolvers:a},[2,this.resolveSelectionSet(s.selectionSet,r,m).then(function(b){return{result:b,exportedVariables:m.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,r,n){return __awaiter(this,void 0,void 0,function(){var i,o,a,s,l,u=this;return __generator(this,function(c){return i=n.fragmentMap,o=n.context,a=n.variables,s=[r],l=function(f){return __awaiter(u,void 0,void 0,function(){var d,p;return __generator(this,function(g){return shouldInclude(f,a)?isField(f)?[2,this.resolveField(f,r,n).then(function(m){var v;typeof m!="undefined"&&s.push((v={},v[resultKeyNameFromField(f)]=m,v))})]:(isInlineFragment(f)?d=f:(d=i[f.name.value],__DEV__?invariant$1(d,"No fragment named ".concat(f.name.value)):invariant$1(d,9)),d&&d.typeCondition&&(p=d.typeCondition.name.value,n.fragmentMatcher(r,p,o))?[2,this.resolveSelectionSet(d.selectionSet,r,n).then(function(m){s.push(m)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(l)).then(function(){return mergeDeepArray(s)})]})})},t.prototype.resolveField=function(e,r,n){return __awaiter(this,void 0,void 0,function(){var i,o,a,s,l,u,c,f,d,p=this;return __generator(this,function(g){return i=n.variables,o=e.name.value,a=resultKeyNameFromField(e),s=o!==a,l=r[a]||r[o],u=Promise.resolve(l),(!n.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(c=r.__typename||n.defaultOperationType,f=this.resolvers&&this.resolvers[c],f&&(d=f[s?o:a],d&&(u=Promise.resolve(cacheSlot.withValue(this.cache,d,[r,argumentsObjectFromField(e,i),n.context,{field:e,fragmentMap:n.fragmentMap}]))))),[2,u.then(function(m){if(m===void 0&&(m=l),e.directives&&e.directives.forEach(function(v){v.name.value==="export"&&v.arguments&&v.arguments.forEach(function(b){b.name.value==="as"&&b.value.kind==="StringValue"&&(n.exportedVariables[b.value.value]=m)})}),!e.selectionSet||m==null)return m;if(Array.isArray(m))return p.resolveSubSelectedArray(e,m,n);if(e.selectionSet)return p.resolveSelectionSet(e.selectionSet,m,n)})]})})},t.prototype.resolveSubSelectedArray=function(e,r,n){var i=this;return Promise.all(r.map(function(o){if(o===null)return null;if(Array.isArray(o))return i.resolveSubSelectedArray(e,o,n);if(e.selectionSet)return i.resolveSelectionSet(e.selectionSet,o,n)}))},t}(),destructiveMethodCounts=new(canUseWeakMap?WeakMap:Map);function wrapDestructiveCacheMethod(t,e){var r=t[e];typeof r=="function"&&(t[e]=function(){return destructiveMethodCounts.set(t,(destructiveMethodCounts.get(t)+1)%1e15),r.apply(this,arguments)})}function cancelNotifyTimeout(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var QueryInfo=function(){function t(e,r){r===void 0&&(r=e.generateQueryId()),this.queryId=r,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;destructiveMethodCounts.has(n)||(destructiveMethodCounts.set(n,0),wrapDestructiveCacheMethod(n,"evict"),wrapDestructiveCacheMethod(n,"modify"),wrapDestructiveCacheMethod(n,"reset"))}return t.prototype.init=function(e){var r=e.networkStatus||NetworkStatus.loading;return this.variables&&this.networkStatus!==NetworkStatus.loading&&!equal(this.variables,e.variables)&&(r=NetworkStatus.setVariables),equal(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:r}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){cancelNotifyTimeout(this),this.lastDiff=void 0,this.dirty=!1},t.prototype.getDiff=function(e){e===void 0&&(e=this.variables);var r=this.getDiffOptions(e);if(this.lastDiff&&equal(r,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&n.options.fetchPolicy==="no-cache")return{complete:!1};var i=this.cache.diff(r);return this.updateLastDiff(i,r),i},t.prototype.updateLastDiff=function(e,r){this.lastDiff=e?{diff:e,options:r||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var r;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(r=this.observableQuery)===null||r===void 0?void 0:r.options.canonizeResults}},t.prototype.setDiff=function(e){var r=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!equal(n&&n.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return r.notify()},0)))},t.prototype.setObservableQuery=function(e){var r=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var n=r.getDiff();n.fromOptimisticTransaction?e.observe():reobserveCacheFirst(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;cancelNotifyTimeout(this),this.shouldNotify()&&this.listeners.forEach(function(r){return r(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(isNetworkRequestInFlight(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel,this.subscriptions.forEach(function(r){return r.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var r=this;e===void 0&&(e=this.variables);var n=this.observableQuery;if(!(n&&n.options.fetchPolicy==="no-cache")){var i=__assign$1(__assign$1({},this.getDiffOptions(e)),{watcher:this,callback:function(o){return r.setDiff(o)}});(!this.lastWatch||!equal(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,r){var n=this.lastWrite;return!(n&&n.dmCount===destructiveMethodCounts.get(this.cache)&&equal(r,n.variables)&&equal(e.data,n.result.data))},t.prototype.markResult=function(e,r,n){var i=this;this.graphQLErrors=isNonEmptyArray(e.errors)?e.errors:[],this.reset(),r.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):n!==0&&(shouldWriteResult(e,r.errorPolicy)?this.cache.performTransaction(function(o){if(i.shouldWrite(e,r.variables))o.writeQuery({query:i.document,data:e.data,variables:r.variables,overwrite:n===1}),i.lastWrite={result:e,variables:r.variables,dmCount:destructiveMethodCounts.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete){e.data=i.lastDiff.diff.result;return}var a=i.getDiffOptions(r.variables),s=o.diff(a);i.stopped||i.updateWatch(r.variables),i.updateLastDiff(s,a),s.complete&&(e.data=s.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=NetworkStatus.ready},t.prototype.markError=function(e){return this.networkStatus=NetworkStatus.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function shouldWriteResult(t,e){e===void 0&&(e="none");var r=e==="ignore"||e==="all",n=!graphQLResultHasError(t);return!n&&r&&t.data&&(n=!0),n}var hasOwnProperty=Object.prototype.hasOwnProperty,QueryManager=function(){function t(e){var r=e.cache,n=e.link,i=e.defaultOptions,o=e.queryDeduplication,a=o===void 0?!1:o,s=e.onBroadcast,l=e.ssrMode,u=l===void 0?!1:l,c=e.clientAwareness,f=c===void 0?{}:c,d=e.localState,p=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(canUseWeakMap?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=r,this.link=n,this.defaultOptions=i||Object.create(null),this.queryDeduplication=a,this.clientAwareness=f,this.localState=d||new LocalState({cache:r}),this.ssrMode=u,this.assumeImmutableResults=!!p,(this.onBroadcast=s)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(r,n){e.stopQueryNoBroadcast(n)}),this.cancelPendingFetches(__DEV__?new InvariantError("QueryManager stopped while query was in flight"):new InvariantError(11))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(r){return r(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){var r,n,i=e.mutation,o=e.variables,a=e.optimisticResponse,s=e.updateQueries,l=e.refetchQueries,u=l===void 0?[]:l,c=e.awaitRefetchQueries,f=c===void 0?!1:c,d=e.update,p=e.onQueryUpdated,g=e.fetchPolicy,m=g===void 0?((r=this.defaultOptions.mutate)===null||r===void 0?void 0:r.fetchPolicy)||"network-only":g,v=e.errorPolicy,b=v===void 0?((n=this.defaultOptions.mutate)===null||n===void 0?void 0:n.errorPolicy)||"none":v,E=e.keepRootFields,w=e.context;return __awaiter(this,void 0,void 0,function(){var _,S,x;return __generator(this,function(k){switch(k.label){case 0:return __DEV__?invariant$1(i,"mutation option is required. You must specify your GraphQL document in the mutation option."):invariant$1(i,12),__DEV__?invariant$1(m==="network-only"||m==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):invariant$1(m==="network-only"||m==="no-cache",13),_=this.generateMutationId(),i=this.transform(i).document,o=this.getVariables(i,o),this.transform(i).hasClientExports?[4,this.localState.addExportedVariables(i,o,w)]:[3,2];case 1:o=k.sent(),k.label=2;case 2:return S=this.mutationStore&&(this.mutationStore[_]={mutation:i,variables:o,loading:!0,error:null}),a&&this.markMutationOptimistic(a,{mutationId:_,document:i,variables:o,fetchPolicy:m,errorPolicy:b,context:w,updateQueries:s,update:d,keepRootFields:E}),this.broadcastQueries(),x=this,[2,new Promise(function(C,D){return asyncMap(x.getObservableFromLink(i,__assign$1(__assign$1({},w),{optimisticResponse:a}),o,!1),function(T){if(graphQLResultHasError(T)&&b==="none")throw new ApolloError({graphQLErrors:T.errors});S&&(S.loading=!1,S.error=null);var A=__assign$1({},T);return typeof u=="function"&&(u=u(A)),b==="ignore"&&graphQLResultHasError(A)&&delete A.errors,x.markMutationResult({mutationId:_,result:A,document:i,variables:o,fetchPolicy:m,errorPolicy:b,context:w,update:d,updateQueries:s,awaitRefetchQueries:f,refetchQueries:u,removeOptimistic:a?_:void 0,onQueryUpdated:p,keepRootFields:E})}).subscribe({next:function(T){x.broadcastQueries(),C(T)},error:function(T){S&&(S.loading=!1,S.error=T),a&&x.cache.removeOptimistic(_),x.broadcastQueries(),D(T instanceof ApolloError?T:new ApolloError({networkError:T}))}})})]}})})},t.prototype.markMutationResult=function(e,r){var n=this;r===void 0&&(r=this.cache);var i=e.result,o=[],a=e.fetchPolicy==="no-cache";if(!a&&shouldWriteResult(i,e.errorPolicy)){o.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables});var s=e.updateQueries;s&&this.queries.forEach(function(u,c){var f=u.observableQuery,d=f&&f.queryName;if(!(!d||!hasOwnProperty.call(s,d))){var p=s[d],g=n.queries.get(c),m=g.document,v=g.variables,b=r.diff({query:m,variables:v,returnPartialData:!0,optimistic:!1}),E=b.result,w=b.complete;if(w&&E){var _=p(E,{mutationResult:i,queryName:m&&getOperationName(m)||void 0,queryVariables:v});_&&o.push({result:_,dataId:"ROOT_QUERY",query:m,variables:v})}}})}if(o.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var l=[];if(this.refetchQueries({updateCache:function(u){a||o.forEach(function(d){return u.write(d)});var c=e.update;if(c){if(!a){var f=u.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});f.complete&&(i=__assign$1(__assign$1({},i),{data:f.result}))}c(u,i,{context:e.context,variables:e.variables})}!a&&!e.keepRootFields&&u.modify({id:"ROOT_MUTATION",fields:function(d,p){var g=p.fieldName,m=p.DELETE;return g==="__typename"?d:m}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(u){return l.push(u)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(l).then(function(){return i})}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(e,r){var n=this,i=typeof e=="function"?e(r.variables):e;return this.cache.recordOptimisticTransaction(function(o){try{n.markMutationResult(__assign$1(__assign$1({},r),{result:{data:i}}),o)}catch(a){__DEV__&&invariant$1.error(a)}},r.mutationId)},t.prototype.fetchQuery=function(e,r,n){return this.fetchQueryObservable(e,r,n).promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(r,n){e[n]={variables:r.variables,networkStatus:r.networkStatus,networkError:r.networkError,graphQLErrors:r.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var r=this.queries.get(e);r&&(r.networkError=void 0,r.graphQLErrors=[])},t.prototype.transform=function(e){var r=this.transformCache;if(!r.has(e)){var n=this.cache.transformDocument(e),i=removeConnectionDirectiveFromDocument(this.cache.transformForLink(n)),o=this.localState.clientQuery(n),a=i&&this.localState.serverQuery(i),s={document:n,hasClientExports:hasClientExports(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:o,serverQuery:a,defaultVars:getDefaultValues(getOperationDefinition(n)),asQuery:__assign$1(__assign$1({},n),{definitions:n.definitions.map(function(u){return u.kind==="OperationDefinition"&&u.operation!=="query"?__assign$1(__assign$1({},u),{operation:"query"}):u})})},l=function(u){u&&!r.has(u)&&r.set(u,s)};l(e),l(n),l(o),l(a)}return r.get(e)},t.prototype.getVariables=function(e,r){return __assign$1(__assign$1({},this.transform(e).defaultVars),r)},t.prototype.watchQuery=function(e){e=__assign$1(__assign$1({},e),{variables:this.getVariables(e.query,e.variables)}),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var r=new QueryInfo(this),n=new ObservableQuery({queryManager:this,queryInfo:r,options:e});return this.queries.set(n.queryId,r),r.init({document:n.query,observableQuery:n,variables:n.variables}),n},t.prototype.query=function(e,r){var n=this;return r===void 0&&(r=this.generateQueryId()),__DEV__?invariant$1(e.query,"query option is required. You must specify your GraphQL document in the query option."):invariant$1(e.query,14),__DEV__?invariant$1(e.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):invariant$1(e.query.kind==="Document",15),__DEV__?invariant$1(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):invariant$1(!e.returnPartialData,16),__DEV__?invariant$1(!e.pollInterval,"pollInterval option only supported on watchQuery."):invariant$1(!e.pollInterval,17),this.fetchQuery(r,e).finally(function(){return n.stopQuery(r)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var r=this.queries.get(e);r&&r.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new InvariantError("Store reset while query was in flight (not completed in link chain)"):new InvariantError(18)),this.queries.forEach(function(r){r.observableQuery?r.networkStatus=NetworkStatus.loading:r.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var r=this;e===void 0&&(e="active");var n=new Map,i=new Map,o=new Set;return Array.isArray(e)&&e.forEach(function(a){typeof a=="string"?i.set(a,!1):isDocumentNode(a)?i.set(r.transform(a).document,!1):isNonNullObject(a)&&a.query&&o.add(a)}),this.queries.forEach(function(a,s){var l=a.observableQuery,u=a.document;if(l){if(e==="all"){n.set(s,l);return}var c=l.queryName,f=l.options.fetchPolicy;if(f==="standby"||e==="active"&&!l.hasObservers())return;(e==="active"||c&&i.has(c)||u&&i.has(u))&&(n.set(s,l),c&&i.set(c,!0),u&&i.set(u,!0))}}),o.size&&o.forEach(function(a){var s=makeUniqueId("legacyOneTimeQuery"),l=r.getQuery(s).init({document:a.query,variables:a.variables}),u=new ObservableQuery({queryManager:r,queryInfo:l,options:__assign$1(__assign$1({},a),{fetchPolicy:"network-only"})});invariant$1(u.queryId===s),l.setObservableQuery(u),n.set(s,u)}),__DEV__&&i.size&&i.forEach(function(a,s){a||__DEV__&&invariant$1.warn("Unknown query ".concat(typeof s=="string"?"named ":"").concat(JSON.stringify(s,null,2)," requested in refetchQueries options.include array"))}),n},t.prototype.reFetchObservableQueries=function(e){var r=this;e===void 0&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,o){var a=i.options.fetchPolicy;i.resetLastResults(),(e||a!=="standby"&&a!=="cache-only")&&n.push(i.refetch()),r.getQuery(o).setDiff(null)}),this.broadcastQueries(),Promise.all(n)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var r=this,n=e.query,i=e.fetchPolicy,o=e.errorPolicy,a=e.variables,s=e.context,l=s===void 0?{}:s;n=this.transform(n).document,a=this.getVariables(n,a);var u=function(f){return r.getObservableFromLink(n,l,f).map(function(d){if(i!=="no-cache"&&(shouldWriteResult(d,o)&&r.cache.write({query:n,result:d.data,dataId:"ROOT_SUBSCRIPTION",variables:f}),r.broadcastQueries()),graphQLResultHasError(d))throw new ApolloError({graphQLErrors:d.errors});return d})};if(this.transform(n).hasClientExports){var c=this.localState.addExportedVariables(n,a,l).then(u);return new Observable(function(f){var d=null;return c.then(function(p){return d=p.subscribe(f)},f.error),function(){return d&&d.unsubscribe()}})}return u(a)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,r,n,i){var o=this,a;i===void 0&&(i=(a=r==null?void 0:r.queryDeduplication)!==null&&a!==void 0?a:this.queryDeduplication);var s,l=this.transform(e).serverQuery;if(l){var u=this,c=u.inFlightLinkObservables,f=u.link,d={query:l,variables:n,operationName:getOperationName(l)||void 0,context:this.prepareContext(__assign$1(__assign$1({},r),{forceFetch:!i}))};if(r=d.context,i){var p=c.get(l)||new Map;c.set(l,p);var g=canonicalStringify(n);if(s=p.get(g),!s){var m=new Concast([execute(f,d)]);p.set(g,s=m),m.cleanup(function(){p.delete(g)&&p.size<1&&c.delete(l)})}}else s=new Concast([execute(f,d)])}else s=new Concast([Observable.of({data:{}})]),r=this.prepareContext(r);var v=this.transform(e).clientQuery;return v&&(s=asyncMap(s,function(b){return o.localState.runResolvers({document:v,remoteResult:b,context:r,variables:n})})),s},t.prototype.getResultsFromLink=function(e,r,n){var i=e.lastRequestId=this.generateRequestId();return asyncMap(this.getObservableFromLink(e.document,n.context,n.variables),function(o){var a=isNonEmptyArray(o.errors);if(i>=e.lastRequestId){if(a&&n.errorPolicy==="none")throw e.markError(new ApolloError({graphQLErrors:o.errors}));e.markResult(o,n,r),e.markReady()}var s={data:o.data,loading:!1,networkStatus:NetworkStatus.ready};return a&&n.errorPolicy!=="ignore"&&(s.errors=o.errors,s.networkStatus=NetworkStatus.error),s},function(o){var a=isApolloError(o)?o:new ApolloError({networkError:o});throw i>=e.lastRequestId&&e.markError(a),a})},t.prototype.fetchQueryObservable=function(e,r,n){var i=this;n===void 0&&(n=NetworkStatus.loading);var o=this.transform(r.query).document,a=this.getVariables(o,r.variables),s=this.getQuery(e),l=this.defaultOptions.watchQuery,u=r.fetchPolicy,c=u===void 0?l&&l.fetchPolicy||"cache-first":u,f=r.errorPolicy,d=f===void 0?l&&l.errorPolicy||"none":f,p=r.returnPartialData,g=p===void 0?!1:p,m=r.notifyOnNetworkStatusChange,v=m===void 0?!1:m,b=r.context,E=b===void 0?{}:b,w=Object.assign({},r,{query:o,variables:a,fetchPolicy:c,errorPolicy:d,returnPartialData:g,notifyOnNetworkStatusChange:v,context:E}),_=function(k){w.variables=k;var C=i.fetchQueryByPolicy(s,w,n);return w.fetchPolicy!=="standby"&&C.length>0&&s.observableQuery&&s.observableQuery.applyNextFetchPolicy("after-fetch",r),C},S=function(){return i.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(k){S(),setTimeout(function(){return x.cancel(k)})});var x=new Concast(this.transform(w.query).hasClientExports?this.localState.addExportedVariables(w.query,w.variables,w.context).then(_):_(w.variables));return x.promise.then(S,S),x},t.prototype.refetchQueries=function(e){var r=this,n=e.updateCache,i=e.include,o=e.optimistic,a=o===void 0?!1:o,s=e.removeOptimistic,l=s===void 0?a?makeUniqueId("refetchQueries"):void 0:s,u=e.onQueryUpdated,c=new Map;i&&this.getObservableQueries(i).forEach(function(d,p){c.set(p,{oq:d,lastDiff:r.getQuery(p).getDiff()})});var f=new Map;return n&&this.cache.batch({update:n,optimistic:a&&l||!1,removeOptimistic:l,onWatchUpdated:function(d,p,g){var m=d.watcher instanceof QueryInfo&&d.watcher.observableQuery;if(m){if(u){c.delete(m.queryId);var v=u(m,p,g);return v===!0&&(v=m.refetch()),v!==!1&&f.set(m,v),v}u!==null&&c.set(m.queryId,{oq:m,lastDiff:g,diff:p})}}}),c.size&&c.forEach(function(d,p){var g=d.oq,m=d.lastDiff,v=d.diff,b;if(u){if(!v){var E=g.queryInfo;E.reset(),v=E.getDiff()}b=u(g,v,m)}(!u||b===!0)&&(b=g.refetch()),b!==!1&&f.set(g,b),p.indexOf("legacyOneTimeQuery")>=0&&r.stopQueryNoBroadcast(p)}),l&&this.cache.removeOptimistic(l),f},t.prototype.fetchQueryByPolicy=function(e,r,n){var i=this,o=r.query,a=r.variables,s=r.fetchPolicy,l=r.refetchWritePolicy,u=r.errorPolicy,c=r.returnPartialData,f=r.context,d=r.notifyOnNetworkStatusChange,p=e.networkStatus;e.init({document:this.transform(o).document,variables:a,networkStatus:n});var g=function(){return e.getDiff(a)},m=function(_,S){S===void 0&&(S=e.networkStatus||NetworkStatus.loading);var x=_.result;__DEV__&&!c&&!equal(x,{})&&logMissingFieldErrors(_.missing);var k=function(C){return Observable.of(__assign$1({data:C,loading:isNetworkRequestInFlight(S),networkStatus:S},_.complete?null:{partial:!0}))};return x&&i.transform(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:x},context:f,variables:a,onlyRunForcedResolvers:!0}).then(function(C){return k(C.data||void 0)}):k(x)},v=s==="no-cache"?0:n===NetworkStatus.refetch&&l!=="merge"?1:2,b=function(){return i.getResultsFromLink(e,v,{variables:a,context:f,fetchPolicy:s,errorPolicy:u})},E=d&&typeof p=="number"&&p!==n&&isNetworkRequestInFlight(n);switch(s){default:case"cache-first":{var w=g();return w.complete?[m(w,e.markReady())]:c||E?[m(w),b()]:[b()]}case"cache-and-network":{var w=g();return w.complete||c||E?[m(w),b()]:[b()]}case"cache-only":return[m(g(),e.markReady())];case"network-only":return E?[m(g()),b()]:[b()];case"no-cache":return E?[m(e.getDiff()),b()]:[b()];case"standby":return[]}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new QueryInfo(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var r=this.localState.prepareContext(e);return __assign$1(__assign$1({},r),{clientAwareness:this.clientAwareness})},t}(),hasSuggestedDevtools=!1,ApolloClient=function(){function t(e){var r=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,i=e.credentials,o=e.headers,a=e.cache,s=e.ssrMode,l=s===void 0?!1:s,u=e.ssrForceFetchDelay,c=u===void 0?0:u,f=e.connectToDevTools,d=f===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:f,p=e.queryDeduplication,g=p===void 0?!0:p,m=e.defaultOptions,v=e.assumeImmutableResults,b=v===void 0?!1:v,E=e.resolvers,w=e.typeDefs,_=e.fragmentMatcher,S=e.name,x=e.version,k=e.link;if(k||(k=n?new HttpLink({uri:n,credentials:i,headers:o}):ApolloLink.empty()),!a)throw __DEV__?new InvariantError(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new InvariantError(7);if(this.link=k,this.cache=a,this.disableNetworkFetches=l||c>0,this.queryDeduplication=g,this.defaultOptions=m||Object.create(null),this.typeDefs=w,c&&setTimeout(function(){return r.disableNetworkFetches=!1},c),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),d&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!hasSuggestedDevtools&&__DEV__&&(hasSuggestedDevtools=!0,typeof window!="undefined"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var C=window.navigator,D=C&&C.userAgent,T=void 0;typeof D=="string"&&(D.indexOf("Chrome/")>-1?T="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":D.indexOf("Firefox/")>-1&&(T="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),T&&__DEV__&&invariant$1.log("Download the Apollo DevTools for a better development experience: "+T)}this.version=version,this.localState=new LocalState({cache:a,client:this,resolvers:E,fragmentMatcher:_}),this.queryManager=new QueryManager({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:g,ssrMode:l,clientAwareness:{name:S,version:x},localState:this.localState,assumeImmutableResults:b,onBroadcast:d?function(){r.devToolsHookCb&&r.devToolsHookCb({action:{},state:{queries:r.queryManager.getQueryStore(),mutations:r.queryManager.mutationStore||{}},dataWithOptimisticResults:r.cache.extract(!0)})}:void 0})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=mergeOptions(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=__assign$1(__assign$1({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=mergeOptions(this.defaultOptions.query,e)),__DEV__?invariant$1(e.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):invariant$1(e.fetchPolicy!=="cache-and-network",8),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=__assign$1(__assign$1({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=mergeOptions(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!1),this.cache.readQuery(e,r)},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!1),this.cache.readFragment(e,r)},t.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},t.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return execute(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(r){return r()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(r){return r()}))})},t.prototype.onResetStore=function(e){var r=this;return this.resetStoreCallbacks.push(e),function(){r.resetStoreCallbacks=r.resetStoreCallbacks.filter(function(n){return n!==e})}},t.prototype.onClearStore=function(e){var r=this;return this.clearStoreCallbacks.push(e),function(){r.clearStoreCallbacks=r.clearStoreCallbacks.filter(function(n){return n!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var r=this.queryManager.refetchQueries(e),n=[],i=[];r.forEach(function(a,s){n.push(s),i.push(a)});var o=Promise.all(i);return o.queries=n,o.results=i,o.catch(function(a){__DEV__&&invariant$1.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(a))}),o},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},t}();var __assign=function(){return __assign=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},__assign.apply(this,arguments)},docCache=new Map,fragmentSourceMap=new Map,printFragmentWarnings=!0,experimentalFragmentVariables=!1;function normalize(t){return t.replace(/[\s,]+/g," ").trim()}function cacheKeyFromLoc(t){return normalize(t.source.body.substring(t.start,t.end))}function processFragments(t){var e=new Set,r=[];return t.definitions.forEach(function(n){if(n.kind==="FragmentDefinition"){var i=n.name.value,o=cacheKeyFromLoc(n.loc),a=fragmentSourceMap.get(i);a&&!a.has(o)?printFragmentWarnings&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):a||fragmentSourceMap.set(i,a=new Set),a.add(o),e.has(o)||(e.add(o),r.push(n))}else r.push(n)}),__assign(__assign({},t),{definitions:r})}function stripLoc(t){var e=new Set(t.definitions);e.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(i){var o=n[i];o&&typeof o=="object"&&e.add(o)})});var r=t.loc;return r&&(delete r.startToken,delete r.endToken),t}function parseDocument(t){var e=normalize(t);if(!docCache.has(e)){var r=parse(t,{experimentalFragmentVariables,allowLegacyFragmentVariables:experimentalFragmentVariables});if(!r||r.kind!=="Document")throw new Error("Not a valid GraphQL document.");docCache.set(e,stripLoc(processFragments(r)))}return docCache.get(e)}function gql(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];typeof t=="string"&&(t=[t]);var n=t[0];return e.forEach(function(i,o){i&&i.kind==="Document"?n+=i.loc.source.body:n+=i,n+=t[o+1]}),parseDocument(n)}function resetCaches(){docCache.clear(),fragmentSourceMap.clear()}function disableFragmentWarnings(){printFragmentWarnings=!1}function enableExperimentalFragmentVariables(){experimentalFragmentVariables=!0}function disableExperimentalFragmentVariables(){experimentalFragmentVariables=!1}var extras={gql,resetCaches,disableFragmentWarnings,enableExperimentalFragmentVariables,disableExperimentalFragmentVariables};(function(t){t.gql=extras.gql,t.resetCaches=extras.resetCaches,t.disableFragmentWarnings=extras.disableFragmentWarnings,t.enableExperimentalFragmentVariables=extras.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=extras.disableExperimentalFragmentVariables})(gql||(gql={}));gql.default=gql;setVerbosity(DEV?"log":"silent");var core=Object.freeze({__proto__:null,setLogVerbosity:setVerbosity,ApolloClient,mergeOptions,ObservableQuery,get NetworkStatus(){return NetworkStatus},isApolloError,ApolloError,get Cache(){return Cache},ApolloCache,InMemoryCache,MissingFieldError,defaultDataIdFromObject,makeVar,fromError,toPromise,fromPromise,throwServerError,Observable,isReference,makeReference,get gql(){return gql},resetCaches,disableFragmentWarnings,enableExperimentalFragmentVariables,disableExperimentalFragmentVariables,empty,from,split,concat,execute,ApolloLink,parseAndCheckHttpResponse,serializeFetchParameter,fallbackHttpConfig,defaultPrinter,selectHttpOptionsAndBody,selectHttpOptionsAndBodyInternal,checkFetcher,createSignalIfSupported,selectURI,createHttpLink,HttpLink,rewriteURIForGET}),require$$0=getAugmentedNamespace(core),unwrapApolloResult$1={};Object.defineProperty(unwrapApolloResult$1,"__esModule",{value:!0});function unwrapApolloResult(t){if(t.error)throw t.error;if(t.errors)throw t.errors;return t.data}unwrapApolloResult$1.default=unwrapApolloResult;var Agent$1={},typeGraphql$1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLTimestamp=t.GraphQLISODateTime=t.ID=t.Float=t.Int=t.ClassType=t.PubSubEngine=t.UseMiddleware=t.createUnionType=t.Subscription=t.Root=t.Resolver=t.Query=t.PubSub=t.ObjectType=t.Mutation=t.InterfaceType=t.InputType=t.Info=t.FieldResolver=t.Field=t.registerEnumType=t.Ctx=t.Authorized=t.ArgsType=t.Args=t.Arg=t.dummyDecorator=t.dummyFn=t.dummyValue=void 0,t.dummyValue="";function e(){}t.dummyFn=e;function r(){return e}t.dummyDecorator=r,t.Arg=r,t.Args=r,t.ArgsType=r,t.Authorized=r,t.Ctx=r,t.registerEnumType=e,t.Field=r,t.FieldResolver=r,t.Info=r,t.InputType=r,t.InterfaceType=r,t.Mutation=r,t.ObjectType=r,t.PubSub=r,t.Query=r,t.Resolver=r,t.Root=r,t.Subscription=r,t.createUnionType=e,t.UseMiddleware=r,t.PubSubEngine=r;class n{}t.ClassType=n,t.Int=t.dummyValue,t.Float=t.dummyValue,t.ID=t.dummyValue,t.GraphQLISODateTime=t.dummyValue,t.GraphQLTimestamp=t.dummyValue})(typeGraphql$1);var typeGraphql={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLTimestamp=t.GraphQLISODateTime=t.ID=t.Float=t.Int=t.ClassType=t.PubSubEngine=t.UseMiddleware=t.createUnionType=t.Subscription=t.Root=t.Resolver=t.Query=t.PubSub=t.ObjectType=t.Mutation=t.InterfaceType=t.InputType=t.Info=t.FieldResolver=t.Field=t.registerEnumType=t.Ctx=t.Authorized=t.ArgsType=t.Args=t.Arg=t.dummyDecorator=t.dummyFn=t.dummyValue=void 0,t.dummyValue="";function e(){}t.dummyFn=e;function r(){return e}t.dummyDecorator=r,t.Arg=r,t.Args=r,t.ArgsType=r,t.Authorized=r,t.Ctx=r,t.registerEnumType=e,t.Field=r,t.FieldResolver=r,t.Info=r,t.InputType=r,t.InterfaceType=r,t.Mutation=r,t.ObjectType=r,t.PubSub=r,t.Query=r,t.Resolver=r,t.Root=r,t.Subscription=r,t.createUnionType=e,t.UseMiddleware=r,t.PubSubEngine=r;class n{}t.ClassType=n,t.Int=t.dummyValue,t.Float=t.dummyValue,t.ID=t.dummyValue,t.GraphQLISODateTime=t.dummyValue,t.GraphQLTimestamp=t.dummyValue})(typeGraphql);var Perspective$1={},Expression$1={},Icon$1={},__decorate$e=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata$e=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Icon$1,"__esModule",{value:!0});Icon$1.Icon=void 0;var type_graphql_1$e=typeGraphql,Icon=class{constructor(e){this.code=e}};__decorate$e([(0,type_graphql_1$e.Field)(),__metadata$e("design:type",String)],Icon.prototype,"code",void 0);Icon=__decorate$e([(0,type_graphql_1$e.ObjectType)(),__metadata$e("design:paramtypes",[String])],Icon);Icon$1.Icon=Icon;var LanguageRef$1={},__decorate$d=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata$d=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(LanguageRef$1,"__esModule",{value:!0});LanguageRef$1.LanguageRef=void 0;var type_graphql_1$d=typeGraphql,LanguageRef=class{constructor(e,r){this.address=e,this.name=r}};__decorate$d([(0,type_graphql_1$d.Field)(),__metadata$d("design:type",String)],LanguageRef.prototype,"address",void 0);__decorate$d([(0,type_graphql_1$d.Field)(),__metadata$d("design:type",String)],LanguageRef.prototype,"name",void 0);LanguageRef=__decorate$d([(0,type_graphql_1$d.ObjectType)(),__metadata$d("design:paramtypes",[String,String])],LanguageRef);LanguageRef$1.LanguageRef=LanguageRef;var __decorate$c=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata$c=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Expression$1,"__esModule",{value:!0});Expression$1.isExpression=Expression$1.ExpressionRendered=Expression$1.Expression=Expression$1.ExpressionGenericInput=Expression$1.ExpressionGeneric=Expression$1.ExpressionProofInput=Expression$1.ExpressionProof=void 0;var type_graphql_1$c=typeGraphql,Icon_1$1=Icon$1,LanguageRef_1$1=LanguageRef$1,ExpressionProof=class{constructor(e,r){this.key=r,this.signature=e}};__decorate$c([(0,type_graphql_1$c.Field)(),__metadata$c("design:type",String)],ExpressionProof.prototype,"signature",void 0);__decorate$c([(0,type_graphql_1$c.Field)(),__metadata$c("design:type",String)],ExpressionProof.prototype,"key",void 0);__decorate$c([(0,type_graphql_1$c.Field)({nullable:!0}),__metadata$c("design:type",Boolean)],ExpressionProof.prototype,"valid",void 0);__decorate$c([(0,type_graphql_1$c.Field)({nullable:!0}),__metadata$c("design:type",Boolean)],ExpressionProof.prototype,"invalid",void 0);ExpressionProof=__decorate$c([(0,type_graphql_1$c.ObjectType)(),(0,type_graphql_1$c.InputType)(),__metadata$c("design:paramtypes",[String,String])],ExpressionProof);Expression$1.ExpressionProof=ExpressionProof;var ExpressionProofInput=class{};__decorate$c([(0,type_graphql_1$c.Field)(),__metadata$c("design:type",String)],ExpressionProofInput.prototype,"signature",void 0);__decorate$c([(0,type_graphql_1$c.Field)(),__metadata$c("design:type",String)],ExpressionProofInput.prototype,"key",void 0);__decorate$c([(0,type_graphql_1$c.Field)({nullable:!0}),__metadata$c("design:type",Boolean)],ExpressionProofInput.prototype,"valid",void 0);__decorate$c([(0,type_graphql_1$c.Field)({nullable:!0}),__metadata$c("design:type",Boolean)],ExpressionProofInput.prototype,"invalid",void 0);ExpressionProofInput=__decorate$c([(0,type_graphql_1$c.InputType)()],ExpressionProofInput);Expression$1.ExpressionProofInput=ExpressionProofInput;function ExpressionGeneric(t){let e=class{constructor(n,i,o,a){this.author=n,this.timestamp=i,this.data=o,this.proof=a}};return __decorate$c([(0,type_graphql_1$c.Field)(),__metadata$c("design:type",String)],e.prototype,"author",void 0),__decorate$c([(0,type_graphql_1$c.Field)(),__metadata$c("design:type",String)],e.prototype,"timestamp",void 0),__decorate$c([(0,type_graphql_1$c.Field)(r=>t),__metadata$c("design:type",Object)],e.prototype,"data",void 0),__decorate$c([(0,type_graphql_1$c.Field)(),__metadata$c("design:type",ExpressionProof)],e.prototype,"proof",void 0),e=__decorate$c([(0,type_graphql_1$c.ObjectType)(),__metadata$c("design:paramtypes",[String,String,Object,ExpressionProof])],e),e}Expression$1.ExpressionGeneric=ExpressionGeneric;function ExpressionGenericInput(t){let e=class{};return __decorate$c([(0,type_graphql_1$c.Field)(),__metadata$c("design:type",String)],e.prototype,"author",void 0),__decorate$c([(0,type_graphql_1$c.Field)(),__metadata$c("design:type",String)],e.prototype,"timestamp",void 0),__decorate$c([(0,type_graphql_1$c.Field)(r=>t),__metadata$c("design:type",Object)],e.prototype,"data",void 0),__decorate$c([(0,type_graphql_1$c.Field)(),__metadata$c("design:type",ExpressionProofInput)],e.prototype,"proof",void 0),e=__decorate$c([(0,type_graphql_1$c.InputType)()],e),e}Expression$1.ExpressionGenericInput=ExpressionGenericInput;var Expression=class extends ExpressionGeneric(Object){};Expression=__decorate$c([(0,type_graphql_1$c.ObjectType)()],Expression);Expression$1.Expression=Expression;var ExpressionRendered=class extends ExpressionGeneric(String){};__decorate$c([(0,type_graphql_1$c.Field)(),__metadata$c("design:type",LanguageRef_1$1.LanguageRef)],ExpressionRendered.prototype,"language",void 0);__decorate$c([(0,type_graphql_1$c.Field)(),__metadata$c("design:type",Icon_1$1.Icon)],ExpressionRendered.prototype,"icon",void 0);ExpressionRendered=__decorate$c([(0,type_graphql_1$c.ObjectType)()],ExpressionRendered);Expression$1.ExpressionRendered=ExpressionRendered;function isExpression(t){return t&&t.author&&t.timestamp&&t.data}Expression$1.isExpression=isExpression;var Links={},__decorate$b=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata$b=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Links,"__esModule",{value:!0});Links.isLink=Links.linkEqual=Links.LinkExpressionInput=Links.LinkExpression=Links.LinkInput=Links.LinkMutations=Links.Link=void 0;var type_graphql_1$b=typeGraphql,Expression_1$5=Expression$1,Link=class{constructor(e){this.source=e.source?e.source:"",this.target=e.target?e.target:"",this.predicate=e.predicate?e.predicate:""}};__decorate$b([(0,type_graphql_1$b.Field)(),__metadata$b("design:type",String)],Link.prototype,"source",void 0);__decorate$b([(0,type_graphql_1$b.Field)(),__metadata$b("design:type",String)],Link.prototype,"target",void 0);__decorate$b([(0,type_graphql_1$b.Field)({nullable:!0}),__metadata$b("design:type",String)],Link.prototype,"predicate",void 0);Link=__decorate$b([(0,type_graphql_1$b.ObjectType)(),__metadata$b("design:paramtypes",[Object])],Link);Links.Link=Link;var LinkMutations=class{};__decorate$b([(0,type_graphql_1$b.Field)(t=>[LinkInput]),__metadata$b("design:type",Array)],LinkMutations.prototype,"additions",void 0);__decorate$b([(0,type_graphql_1$b.Field)(t=>[LinkExpression]),__metadata$b("design:type",Array)],LinkMutations.prototype,"removals",void 0);LinkMutations=__decorate$b([(0,type_graphql_1$b.InputType)()],LinkMutations);Links.LinkMutations=LinkMutations;var LinkInput=class{};__decorate$b([(0,type_graphql_1$b.Field)(),__metadata$b("design:type",String)],LinkInput.prototype,"source",void 0);__decorate$b([(0,type_graphql_1$b.Field)(),__metadata$b("design:type",String)],LinkInput.prototype,"target",void 0);__decorate$b([(0,type_graphql_1$b.Field)({nullable:!0}),__metadata$b("design:type",String)],LinkInput.prototype,"predicate",void 0);LinkInput=__decorate$b([(0,type_graphql_1$b.InputType)()],LinkInput);Links.LinkInput=LinkInput;var LinkExpression=class extends(0,Expression_1$5.ExpressionGeneric)(Link){hash(){let e=JSON.stringify(this.data,Object.keys(this.data).sort())+JSON.stringify(this.author)+this.timestamp,r=0,n,i;for(n=0;n<e.length;n++)i=e.charCodeAt(n),r=(r<<5)-r+i,r|=0;return r}};LinkExpression=__decorate$b([(0,type_graphql_1$b.ObjectType)()],LinkExpression);Links.LinkExpression=LinkExpression;var LinkExpressionInput=class extends(0,Expression_1$5.ExpressionGenericInput)(LinkInput){};LinkExpressionInput=__decorate$b([(0,type_graphql_1$b.InputType)()],LinkExpressionInput);Links.LinkExpressionInput=LinkExpressionInput;function linkEqual(t,e){return t.author==e.author&&t.timestamp==e.timestamp&&t.data.source==e.data.source&&t.data.predicate==e.data.predicate&&t.data.target==e.data.target}Links.linkEqual=linkEqual;function isLink(t){return t&&t.source&&t.target}Links.isLink=isLink;var __decorate$a=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata$a=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Perspective$1,"__esModule",{value:!0});Perspective$1.PerspectiveExpression=Perspective$1.PerspectiveInput=Perspective$1.Perspective=void 0;var type_graphql_1$a=typeGraphql,Expression_1$4=Expression$1,Links_1$2=Links,Perspective=class{constructor(e){e?this.links=e:this.links=[]}get(e){if(!e||!e.source&&!e.predicate&&!e.target)return this.links;if(e.source){let n=JSON.parse(JSON.stringify(this.links));return e.target&&(n=n.filter(i=>i.data.target===e.target)),e.predicate&&(n=n.filter(i=>i.data.predicate===e.predicate)),e.fromDate&&(n=n.filter(i=>new Date(i.timestamp)>=e.fromDate)),e.untilDate&&(n=n.filter(i=>new Date(i.timestamp)<=e.untilDate)),e.limit&&(n=n.slice(0,e.limit)),n}if(e.target){let n=JSON.parse(JSON.stringify(this.links));return e.predicate&&(n=n.filter(i=>i.data.predicate===e.predicate)),e.fromDate&&(n=n.filter(i=>new Date(i.timestamp)>=e.fromDate)),e.untilDate&&(n=n.filter(i=>new Date(i.timestamp)<=e.untilDate)),e.limit&&(n=n.slice(0,e.limit)),n}let r=JSON.parse(JSON.stringify(this.links));return r=r.filter(n=>n.data.predicate===e.predicate),e.limit&&(r=r.slice(0,e.limit)),r}getSingleTarget(e){delete e.target;let r=this.get(e);return r.length?r[0].data.target:null}};__decorate$a([(0,type_graphql_1$a.Field)(t=>[Links_1$2.LinkExpression]),__metadata$a("design:type",Array)],Perspective.prototype,"links",void 0);Perspective=__decorate$a([(0,type_graphql_1$a.ObjectType)(),__metadata$a("design:paramtypes",[Array])],Perspective);Perspective$1.Perspective=Perspective;var PerspectiveInput=class{};__decorate$a([(0,type_graphql_1$a.Field)(t=>[Links_1$2.LinkExpressionInput]),__metadata$a("design:type",Array)],PerspectiveInput.prototype,"links",void 0);PerspectiveInput=__decorate$a([(0,type_graphql_1$a.InputType)()],PerspectiveInput);Perspective$1.PerspectiveInput=PerspectiveInput;var PerspectiveExpression=class extends(0,Expression_1$4.ExpressionGeneric)(Perspective){};PerspectiveExpression=__decorate$a([(0,type_graphql_1$a.ObjectType)()],PerspectiveExpression);Perspective$1.PerspectiveExpression=PerspectiveExpression;var __decorate$9=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata$9=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Agent$1,"__esModule",{value:!0});Agent$1.EntanglementProofInput=Agent$1.EntanglementProof=Agent$1.AgentExpression=Agent$1.Agent=void 0;var type_graphql_1$9=typeGraphql,Perspective_1$1=Perspective$1,Expression_1$3=Expression$1,Agent=class{constructor(e,r){this.did=e,r?this.perspective=r:this.perspective=new Perspective_1$1.Perspective}};__decorate$9([(0,type_graphql_1$9.Field)(),__metadata$9("design:type",String)],Agent.prototype,"did",void 0);__decorate$9([(0,type_graphql_1$9.Field)(t=>Perspective_1$1.Perspective,{nullable:!0}),__metadata$9("design:type",Perspective_1$1.Perspective)],Agent.prototype,"perspective",void 0);__decorate$9([(0,type_graphql_1$9.Field)({nullable:!0}),__metadata$9("design:type",String)],Agent.prototype,"directMessageLanguage",void 0);Agent=__decorate$9([(0,type_graphql_1$9.ObjectType)(),__metadata$9("design:paramtypes",[String,Perspective_1$1.Perspective])],Agent);Agent$1.Agent=Agent;var AgentExpression=class extends(0,Expression_1$3.ExpressionGeneric)(Agent){};AgentExpression=__decorate$9([(0,type_graphql_1$9.ObjectType)()],AgentExpression);Agent$1.AgentExpression=AgentExpression;var EntanglementProof=class{constructor(e,r,n,i,o,a){this.did=e,this.didSigningKeyId=r,this.deviceKeyType=n,this.deviceKey=i,this.deviceKeySignedByDid=o,this.didSignedByDeviceKey=a}};__decorate$9([(0,type_graphql_1$9.Field)(),__metadata$9("design:type",String)],EntanglementProof.prototype,"did",void 0);__decorate$9([(0,type_graphql_1$9.Field)(),__metadata$9("design:type",String)],EntanglementProof.prototype,"didSigningKeyId",void 0);__decorate$9([(0,type_graphql_1$9.Field)(),__metadata$9("design:type",String)],EntanglementProof.prototype,"deviceKeyType",void 0);__decorate$9([(0,type_graphql_1$9.Field)(),__metadata$9("design:type",String)],EntanglementProof.prototype,"deviceKey",void 0);__decorate$9([(0,type_graphql_1$9.Field)(),__metadata$9("design:type",String)],EntanglementProof.prototype,"deviceKeySignedByDid",void 0);__decorate$9([(0,type_graphql_1$9.Field)({nullable:!0}),__metadata$9("design:type",String)],EntanglementProof.prototype,"didSignedByDeviceKey",void 0);EntanglementProof=__decorate$9([(0,type_graphql_1$9.ObjectType)(),__metadata$9("design:paramtypes",[String,String,String,String,String,String])],EntanglementProof);Agent$1.EntanglementProof=EntanglementProof;var EntanglementProofInput=class{constructor(e,r,n,i,o,a){this.did=e,this.didSigningKeyId=r,this.deviceKeyType=n,this.deviceKey=i,this.deviceKeySignedByDid=o,this.didSignedByDeviceKey=a}};__decorate$9([(0,type_graphql_1$9.Field)(),__metadata$9("design:type",String)],EntanglementProofInput.prototype,"did",void 0);__decorate$9([(0,type_graphql_1$9.Field)(),__metadata$9("design:type",String)],EntanglementProofInput.prototype,"didSigningKeyId",void 0);__decorate$9([(0,type_graphql_1$9.Field)(),__metadata$9("design:type",String)],EntanglementProofInput.prototype,"deviceKeyType",void 0);__decorate$9([(0,type_graphql_1$9.Field)(),__metadata$9("design:type",String)],EntanglementProofInput.prototype,"deviceKey",void 0);__decorate$9([(0,type_graphql_1$9.Field)(),__metadata$9("design:type",String)],EntanglementProofInput.prototype,"deviceKeySignedByDid",void 0);__decorate$9([(0,type_graphql_1$9.Field)(),__metadata$9("design:type",String)],EntanglementProofInput.prototype,"didSignedByDeviceKey",void 0);EntanglementProofInput=__decorate$9([(0,type_graphql_1$9.InputType)(),__metadata$9("design:paramtypes",[String,String,String,String,String,String])],EntanglementProofInput);Agent$1.EntanglementProofInput=EntanglementProofInput;var AgentStatus$1={},__decorate$8=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata$8=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(AgentStatus$1,"__esModule",{value:!0});AgentStatus$1.AgentStatus=void 0;var type_graphql_1$8=typeGraphql,AgentStatus=class{constructor(e){e?(this.isInitialized=e.isInitialized,this.isInitialized||(this.isInitialized=!1),this.isUnlocked=e.isUnlocked,this.isUnlocked||(this.isUnlocked=!1),this.did=e.did,this.didDocument=e.didDocument,this.error=e.error):(this.isInitialized=!1,this.isUnlocked=!1)}};__decorate$8([(0,type_graphql_1$8.Field)(),__metadata$8("design:type",Boolean)],AgentStatus.prototype,"isInitialized",void 0);__decorate$8([(0,type_graphql_1$8.Field)(),__metadata$8("design:type",Boolean)],AgentStatus.prototype,"isUnlocked",void 0);__decorate$8([(0,type_graphql_1$8.Field)({nullable:!0}),__metadata$8("design:type",String)],AgentStatus.prototype,"did",void 0);__decorate$8([(0,type_graphql_1$8.Field)({nullable:!0}),__metadata$8("design:type",String)],AgentStatus.prototype,"didDocument",void 0);__decorate$8([(0,type_graphql_1$8.Field)({nullable:!0}),__metadata$8("design:type",String)],AgentStatus.prototype,"error",void 0);AgentStatus=__decorate$8([(0,type_graphql_1$8.ObjectType)(),__metadata$8("design:paramtypes",[Object])],AgentStatus);AgentStatus$1.AgentStatus=AgentStatus;var PerspectiveClient$1={},PerspectiveProxy$1={},LinkQuery$1={},__decorate$7=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata$7=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(LinkQuery$1,"__esModule",{value:!0});LinkQuery$1.LinkQuery=void 0;var type_graphql_1$7=typeGraphql,LinkQuery=class{constructor(e){e&&(this.source=e.source,this.predicate=e.predicate,this.target=e.target,e.fromDate&&(this.fromDate=e.fromDate),e.untilDate&&(this.untilDate=e.untilDate),e.limit&&(this.limit=e.limit))}isMatch(e){return!(this.source&&this.source!==e.source||this.predicate&&this.predicate!==e.predicate||this.target&&this.target!==e.target)}};__decorate$7([(0,type_graphql_1$7.Field)({nullable:!0}),__metadata$7("design:type",String)],LinkQuery.prototype,"source",void 0);__decorate$7([(0,type_graphql_1$7.Field)({nullable:!0}),__metadata$7("design:type",String)],LinkQuery.prototype,"target",void 0);__decorate$7([(0,type_graphql_1$7.Field)({nullable:!0}),__metadata$7("design:type",String)],LinkQuery.prototype,"predicate",void 0);__decorate$7([(0,type_graphql_1$7.Field)({nullable:!0}),__metadata$7("design:type",Date)],LinkQuery.prototype,"fromDate",void 0);__decorate$7([(0,type_graphql_1$7.Field)({nullable:!0}),__metadata$7("design:type",Date)],LinkQuery.prototype,"untilDate",void 0);__decorate$7([(0,type_graphql_1$7.Field)({nullable:!0}),__metadata$7("design:type",Number)],LinkQuery.prototype,"limit",void 0);LinkQuery=__decorate$7([(0,type_graphql_1$7.ObjectType)(),(0,type_graphql_1$7.InputType)(),__metadata$7("design:paramtypes",[Object])],LinkQuery);LinkQuery$1.LinkQuery=LinkQuery;var __classPrivateFieldSet$8=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},__classPrivateFieldGet$8=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},_PerspectiveProxy_handle,_PerspectiveProxy_client,_PerspectiveProxy_perspectiveLinkAddedCallbacks,_PerspectiveProxy_perspectiveLinkRemovedCallbacks,_PerspectiveProxy_executeAction;Object.defineProperty(PerspectiveProxy$1,"__esModule",{value:!0});PerspectiveProxy$1.PerspectiveProxy=void 0;var Links_1$1=Links,LinkQuery_1=LinkQuery$1,PerspectiveProxy=class{constructor(t,e){_PerspectiveProxy_handle.set(this,void 0),_PerspectiveProxy_client.set(this,void 0),_PerspectiveProxy_perspectiveLinkAddedCallbacks.set(this,void 0),_PerspectiveProxy_perspectiveLinkRemovedCallbacks.set(this,void 0),_PerspectiveProxy_executeAction.set(this,void 0),__classPrivateFieldSet$8(this,_PerspectiveProxy_perspectiveLinkAddedCallbacks,[],"f"),__classPrivateFieldSet$8(this,_PerspectiveProxy_perspectiveLinkRemovedCallbacks,[],"f"),__classPrivateFieldSet$8(this,_PerspectiveProxy_handle,t,"f"),__classPrivateFieldSet$8(this,_PerspectiveProxy_client,e,"f"),__classPrivateFieldGet$8(this,_PerspectiveProxy_client,"f").addPerspectiveLinkAddedListener(__classPrivateFieldGet$8(this,_PerspectiveProxy_handle,"f").uuid,__classPrivateFieldGet$8(this,_PerspectiveProxy_perspectiveLinkAddedCallbacks,"f")),__classPrivateFieldGet$8(this,_PerspectiveProxy_client,"f").addPerspectiveLinkRemovedListener(__classPrivateFieldGet$8(this,_PerspectiveProxy_handle,"f").uuid,__classPrivateFieldGet$8(this,_PerspectiveProxy_perspectiveLinkRemovedCallbacks,"f")),__classPrivateFieldSet$8(this,_PerspectiveProxy_executeAction,async(r,n)=>{console.log("execute:",r);let i=o=>{if(o)return o.replace("this",n)};for(let o of r)switch(o.action){case"addLink":await this.add(new Links_1$1.Link({source:i(o.source),predicate:i(o.predicate),target:i(o.target)}));break;case"removeLink":let a=await this.get(new LinkQuery_1.LinkQuery({source:i(o.source),predicate:i(o.predicate),target:i(o.target)}));for(let s of a)await this.remove(s);break}},"f")}get uuid(){return __classPrivateFieldGet$8(this,_PerspectiveProxy_handle,"f").uuid}get name(){return __classPrivateFieldGet$8(this,_PerspectiveProxy_handle,"f").name}get sharedUrl(){return __classPrivateFieldGet$8(this,_PerspectiveProxy_handle,"f").sharedUrl}get neighbourhood(){return __classPrivateFieldGet$8(this,_PerspectiveProxy_handle,"f").neighbourhood}async get(t){return await __classPrivateFieldGet$8(this,_PerspectiveProxy_client,"f").queryLinks(__classPrivateFieldGet$8(this,_PerspectiveProxy_handle,"f").uuid,t)}async infer(t){return await __classPrivateFieldGet$8(this,_PerspectiveProxy_client,"f").queryProlog(__classPrivateFieldGet$8(this,_PerspectiveProxy_handle,"f").uuid,t)}async add(t){return await __classPrivateFieldGet$8(this,_PerspectiveProxy_client,"f").addLink(__classPrivateFieldGet$8(this,_PerspectiveProxy_handle,"f").uuid,t)}async update(t,e){return await __classPrivateFieldGet$8(this,_PerspectiveProxy_client,"f").updateLink(__classPrivateFieldGet$8(this,_PerspectiveProxy_handle,"f").uuid,t,e)}async remove(t){return await __classPrivateFieldGet$8(this,_PerspectiveProxy_client,"f").removeLink(__classPrivateFieldGet$8(this,_PerspectiveProxy_handle,"f").uuid,t)}async addListener(t,e){t==="link-added"?__classPrivateFieldGet$8(this,_PerspectiveProxy_perspectiveLinkAddedCallbacks,"f").push(e):t==="link-removed"&&__classPrivateFieldGet$8(this,_PerspectiveProxy_perspectiveLinkRemovedCallbacks,"f").push(e)}async removeListener(t,e){if(t==="link-added"){let r=__classPrivateFieldGet$8(this,_PerspectiveProxy_perspectiveLinkAddedCallbacks,"f").indexOf(e);__classPrivateFieldGet$8(this,_PerspectiveProxy_perspectiveLinkAddedCallbacks,"f").splice(r,1)}else if(t==="link-removed"){let r=__classPrivateFieldGet$8(this,_PerspectiveProxy_perspectiveLinkRemovedCallbacks,"f").indexOf(e);__classPrivateFieldGet$8(this,_PerspectiveProxy_perspectiveLinkRemovedCallbacks,"f").splice(r,1)}}async snapshot(){return __classPrivateFieldGet$8(this,_PerspectiveProxy_client,"f").snapshotByUUID(__classPrivateFieldGet$8(this,_PerspectiveProxy_handle,"f").uuid)}async loadSnapshot(t){let e=JSON.parse(JSON.stringify(t));delete e.__typename,e.links.forEach(r=>{delete r.data.__typename});for(let r of e.links)await this.add(r.data)}async getSingleTarget(t){delete t.target;let e=await this.get(t);return e.length?e[0].data.target:null}async setSingleTarget(t){let e=new LinkQuery_1.LinkQuery({source:t.source,predicate:t.predicate}),r=await this.get(e);for(let n of r)delete n.__typename,delete n.data.__typename,delete n.proof.__typename,await this.remove(n);await this.add(t)}async sdnaFlows(){return(await this.infer("register_sdna_flow(X, _)")).map(e=>e.X)}async availableFlows(t){return(await this.infer(`flowable("${t}", F), register_sdna_flow(X, F)`)).map(r=>r.X)}async startFlow(flowName,exprAddr){let startAction=await this.infer(`start_action(Action, F), register_sdna_flow("${flowName}", F)`);startAction=eval(startAction[0].Action),await __classPrivateFieldGet$8(this,_PerspectiveProxy_executeAction,"f").call(this,startAction,exprAddr)}async expressionsInFlowState(t,e){return(await this.infer(`register_sdna_flow("${t}", F), flow_state(X, ${e}, F)`)).map(n=>n.X)}async flowState(t,e){return(await this.infer(`register_sdna_flow("${t}", F), flow_state("${e}", X, F)`))[0].X}async flowActions(t,e){return(await this.infer(`register_sdna_flow("${t}", Flow), flow_state("${e}", State, Flow), action(State, Name, _, _)`)).map(n=>n.Name)}async runFlowAction(flowName,exprAddr,actionName){let action=await this.infer(`register_sdna_flow("${flowName}", Flow), flow_state("${exprAddr}", State, Flow), action(State, "${actionName}", _, Action)`);action=eval(action[0].Action),await __classPrivateFieldGet$8(this,_PerspectiveProxy_executeAction,"f").call(this,action,exprAddr)}};PerspectiveProxy$1.PerspectiveProxy=PerspectiveProxy;_PerspectiveProxy_handle=new WeakMap,_PerspectiveProxy_client=new WeakMap,_PerspectiveProxy_perspectiveLinkAddedCallbacks=new WeakMap,_PerspectiveProxy_perspectiveLinkRemovedCallbacks=new WeakMap,_PerspectiveProxy_executeAction=new WeakMap;var __classPrivateFieldSet$7=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},__classPrivateFieldGet$7=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},_PerspectiveClient_apolloClient,_PerspectiveClient_perspectiveAddedCallbacks,_PerspectiveClient_perspectiveUpdatedCallbacks,_PerspectiveClient_perspectiveRemovedCallbacks;Object.defineProperty(PerspectiveClient$1,"__esModule",{value:!0});var core_1$5=require$$0,unwrapApolloResult_1$5=__importDefault$6(unwrapApolloResult$1),PerspectiveProxy_1=PerspectiveProxy$1,LINK_EXPRESSION_FIELDS=`
author
timestamp
data { source, predicate, target }
proof { valid, invalid, signature, key }
`,PERSPECTIVE_HANDLE_FIELDS=`
uuid
name
sharedUrl
neighbourhood { 
    linkLanguage 
    meta { 
        links
            {
                author
                timestamp
                data { source, predicate, target }
                proof { valid, invalid, signature, key }
            }  
    } 
}
`,PerspectiveClient=class{constructor(e,r=!0){_PerspectiveClient_apolloClient.set(this,void 0),_PerspectiveClient_perspectiveAddedCallbacks.set(this,void 0),_PerspectiveClient_perspectiveUpdatedCallbacks.set(this,void 0),_PerspectiveClient_perspectiveRemovedCallbacks.set(this,void 0),__classPrivateFieldSet$7(this,_PerspectiveClient_apolloClient,e,"f"),__classPrivateFieldSet$7(this,_PerspectiveClient_perspectiveAddedCallbacks,[],"f"),__classPrivateFieldSet$7(this,_PerspectiveClient_perspectiveUpdatedCallbacks,[],"f"),__classPrivateFieldSet$7(this,_PerspectiveClient_perspectiveRemovedCallbacks,[],"f"),r&&(this.subscribePerspectiveAdded(),this.subscribePerspectiveUpdated(),this.subscribePerspectiveRemoved())}async all(){let{perspectives:e}=(0,unwrapApolloResult_1$5.default)(await __classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").query({query:(0,core_1$5.gql)`query perspectives {
                perspectives {
                    ${PERSPECTIVE_HANDLE_FIELDS}
                }
                
            }`}));return e.map(r=>new PerspectiveProxy_1.PerspectiveProxy(r,this))}async byUUID(e){let{perspective:r}=(0,unwrapApolloResult_1$5.default)(await __classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").query({query:(0,core_1$5.gql)`query perspective($uuid: String!) {
                perspective(uuid: $uuid) {
                    ${PERSPECTIVE_HANDLE_FIELDS}
                }
            }`,variables:{uuid:e}}));return r?new PerspectiveProxy_1.PerspectiveProxy(r,this):null}async snapshotByUUID(e){let{perspectiveSnapshot:r}=(0,unwrapApolloResult_1$5.default)(await __classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").query({query:(0,core_1$5.gql)`query perspectiveSnapshot($uuid: String!) {
                perspectiveSnapshot(uuid: $uuid) {
                    links { ${LINK_EXPRESSION_FIELDS} }
                }
            }`,variables:{uuid:e}}));return r}async publishSnapshotByUUID(e){let{perspectivePublishSnapshot:r}=(0,unwrapApolloResult_1$5.default)(await __classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").mutate({mutation:(0,core_1$5.gql)`mutation perspectivePublishSnapshot($uuid: String!) {
                perspectivePublishSnapshot(uuid: $uuid)
            }`,variables:{uuid:e}}));return r}async queryLinks(e,r){let{perspectiveQueryLinks:n}=(0,unwrapApolloResult_1$5.default)(await __classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").query({query:(0,core_1$5.gql)`query perspectiveQueryLinks($uuid: String!, $query: LinkQuery!) {
                perspectiveQueryLinks(query: $query, uuid: $uuid) {
                    ${LINK_EXPRESSION_FIELDS}
                }
            }`,variables:{uuid:e,query:r}}));return n}async queryProlog(e,r){let{perspectiveQueryProlog:n}=(0,unwrapApolloResult_1$5.default)(await __classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").query({query:(0,core_1$5.gql)`query perspectiveQueryProlog($uuid: String!, $query: String!) {
                perspectiveQueryProlog(uuid: $uuid, query: $query)
            }`,variables:{uuid:e,query:r}}));return JSON.parse(n)}async add(e){let{perspectiveAdd:r}=(0,unwrapApolloResult_1$5.default)(await __classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").mutate({mutation:(0,core_1$5.gql)`mutation perspectiveAdd($name: String!) {
                perspectiveAdd(name: $name) {
                    ${PERSPECTIVE_HANDLE_FIELDS}
                }
            }`,variables:{name:e}}));return new PerspectiveProxy_1.PerspectiveProxy(r,this)}async update(e,r){let{perspectiveUpdate:n}=(0,unwrapApolloResult_1$5.default)(await __classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").mutate({mutation:(0,core_1$5.gql)`mutation perspectiveUpdate($uuid: String!, $name: String!) {
                perspectiveUpdate(uuid: $uuid, name: $name) {
                    ${PERSPECTIVE_HANDLE_FIELDS}
                }
            }`,variables:{uuid:e,name:r}}));return new PerspectiveProxy_1.PerspectiveProxy(n,this)}async remove(e){return(0,unwrapApolloResult_1$5.default)(await __classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").mutate({mutation:(0,core_1$5.gql)`mutation perspectiveRemove($uuid: String!) {
                perspectiveRemove(uuid: $uuid)
            }`,variables:{uuid:e}}))}async addLink(e,r){let{perspectiveAddLink:n}=(0,unwrapApolloResult_1$5.default)(await __classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").mutate({mutation:(0,core_1$5.gql)`mutation perspectiveAddLink($uuid: String!, $link: LinkInput!){
                perspectiveAddLink(link: $link, uuid: $uuid) {
                    ${LINK_EXPRESSION_FIELDS}
                }
            }`,variables:{uuid:e,link:r}}));return n}async updateLink(e,r,n){delete r.__typename,delete r.data.__typename,delete r.proof.__typename;let{perspectiveUpdateLink:i}=(0,unwrapApolloResult_1$5.default)(await __classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").mutate({mutation:(0,core_1$5.gql)`mutation perspectiveUpdateLink(
                $uuid: String!, 
                $newLink: LinkInput!
                $oldLink: LinkExpressionInput!
            ){
                perspectiveUpdateLink(
                    newLink: $newLink, 
                    oldLink: $oldLink, 
                    uuid: $uuid
                ) {
                    ${LINK_EXPRESSION_FIELDS}
                }
            }`,variables:{uuid:e,oldLink:r,newLink:n}}));return i}async removeLink(e,r){return delete r.__typename,delete r.data.__typename,delete r.proof.__typename,(0,unwrapApolloResult_1$5.default)(await __classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").mutate({mutation:(0,core_1$5.gql)`mutation perspectiveRemoveLink($link: LinkExpressionInput!, $uuid: String!) {
                perspectiveRemoveLink(link: $link, uuid: $uuid)
            }`,variables:{uuid:e,link:r}}))}addPerspectiveAddedListener(e){__classPrivateFieldGet$7(this,_PerspectiveClient_perspectiveAddedCallbacks,"f").push(e)}subscribePerspectiveAdded(){__classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").subscribe({query:(0,core_1$5.gql)` subscription {
                perspectiveAdded { ${PERSPECTIVE_HANDLE_FIELDS} }
            }   
        `}).subscribe({next:e=>{__classPrivateFieldGet$7(this,_PerspectiveClient_perspectiveAddedCallbacks,"f").forEach(r=>{r(e.data.perspectiveAdded)})},error:e=>console.error(e)})}addPerspectiveUpdatedListener(e){__classPrivateFieldGet$7(this,_PerspectiveClient_perspectiveUpdatedCallbacks,"f").push(e)}subscribePerspectiveUpdated(){__classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").subscribe({query:(0,core_1$5.gql)` subscription {
                perspectiveUpdated { ${PERSPECTIVE_HANDLE_FIELDS} }
            }   
        `}).subscribe({next:e=>{__classPrivateFieldGet$7(this,_PerspectiveClient_perspectiveUpdatedCallbacks,"f").forEach(r=>{r(e.data.perspectiveUpdated)})},error:e=>console.error(e)})}addPerspectiveRemovedListener(e){__classPrivateFieldGet$7(this,_PerspectiveClient_perspectiveRemovedCallbacks,"f").push(e)}subscribePerspectiveRemoved(){__classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").subscribe({query:(0,core_1$5.gql)` subscription {
                perspectiveRemoved
            }   
        `}).subscribe({next:e=>{__classPrivateFieldGet$7(this,_PerspectiveClient_perspectiveRemovedCallbacks,"f").forEach(r=>{r(e.data.perspectiveRemoved)})},error:e=>console.error(e)})}async addPerspectiveLinkAddedListener(e,r){__classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").subscribe({query:(0,core_1$5.gql)` subscription {
                perspectiveLinkAdded(uuid: "${e}") { ${LINK_EXPRESSION_FIELDS} }
            }   
        `}).subscribe({next:n=>{r.forEach(i=>{i(n.data.perspectiveLinkAdded)})},error:n=>console.error(n)}),await new Promise(n=>setTimeout(n,500))}async addPerspectiveLinkRemovedListener(e,r){__classPrivateFieldGet$7(this,_PerspectiveClient_apolloClient,"f").subscribe({query:(0,core_1$5.gql)` subscription {
                perspectiveLinkRemoved(uuid: "${e}") { ${LINK_EXPRESSION_FIELDS} }
            }   
        `}).subscribe({next:n=>{r.forEach(i=>{i(n.data.perspectiveLinkRemoved)})},error:n=>console.error(n)}),await new Promise(n=>setTimeout(n,500))}};PerspectiveClient$1.default=PerspectiveClient;_PerspectiveClient_apolloClient=new WeakMap,_PerspectiveClient_perspectiveAddedCallbacks=new WeakMap,_PerspectiveClient_perspectiveUpdatedCallbacks=new WeakMap,_PerspectiveClient_perspectiveRemovedCallbacks=new WeakMap;var __classPrivateFieldSet$6=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},__classPrivateFieldGet$6=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},_AgentClient_apolloClient,_AgentClient_updatedCallbacks,_AgentClient_agentStatusChangedCallbacks;Object.defineProperty(AgentClient$1,"__esModule",{value:!0});var core_1$4=require$$0,unwrapApolloResult_1$4=__importDefault$5(unwrapApolloResult$1),Agent_1=Agent$1,AgentStatus_1=AgentStatus$1,PerspectiveClient_1$1=__importDefault$5(PerspectiveClient$1),AGENT_SUBITEMS=`
    did
    directMessageLanguage
    perspective { 
        links {
            author, timestamp, 
            proof {
                signature, key, valid, invalid
            }
            data {
                source, predicate, target
            }
        }
    }
`,AGENT_STATUS_FIELDS=`
    isInitialized
    isUnlocked
    did
    didDocument
    error
`,ENTANGLEMENT_PROOF_FIELDS=`
    did
    didSigningKeyId
    deviceKeyType
    deviceKey
    deviceKeySignedByDid
    didSignedByDeviceKey
`,AgentClient=class{constructor(e,r=!0){_AgentClient_apolloClient.set(this,void 0),_AgentClient_updatedCallbacks.set(this,void 0),_AgentClient_agentStatusChangedCallbacks.set(this,void 0),__classPrivateFieldSet$6(this,_AgentClient_apolloClient,e,"f"),__classPrivateFieldSet$6(this,_AgentClient_updatedCallbacks,[],"f"),__classPrivateFieldSet$6(this,_AgentClient_agentStatusChangedCallbacks,[],"f"),r&&(this.subscribeAgentUpdated(),this.subscribeAgentStatusChanged())}async me(){let{agent:e}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").query({query:(0,core_1$4.gql)`query agent { agent { ${AGENT_SUBITEMS} } }`})),r=new Agent_1.Agent(e.did,e.perspective);return r.directMessageLanguage=e.directMessageLanguage,r}async status(){let{agentStatus:e}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").query({query:(0,core_1$4.gql)`query agentStatus {
                agentStatus {
                    ${AGENT_STATUS_FIELDS}
                }
            }`}));return new AgentStatus_1.AgentStatus(e)}async generate(e){let{agentGenerate:r}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").mutate({mutation:(0,core_1$4.gql)`mutation agentGenerate(
                $passphrase: String!
            ) {
                agentGenerate(passphrase: $passphrase) {
                    ${AGENT_STATUS_FIELDS}
                }
            }`,variables:{passphrase:e}}));return new AgentStatus_1.AgentStatus(r)}async import(e){let{did:r,didDocument:n,keystore:i,passphrase:o}=e,{agentImport:a}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").mutate({mutation:(0,core_1$4.gql)`mutation agentImport(
                $did: String!,
                $didDocument: String!,
                $keystore: String!,
                $passphrase: String!
            ) {
                agentImport(did: $did, didDocument: $didDocument, keystore: $keystore, passphrase: $passphrase) {
                    ${AGENT_STATUS_FIELDS}
                }
            }`,variables:{did:r,didDocument:n,keystore:i,passphrase:o}}));return new AgentStatus_1.AgentStatus(a)}async lock(e){let{agentLock:r}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").mutate({mutation:(0,core_1$4.gql)`mutation agentLock($passphrase: String!) {
                agentLock(passphrase: $passphrase) {
                    ${AGENT_STATUS_FIELDS}
                }
            }`,variables:{passphrase:e}}));return new AgentStatus_1.AgentStatus(r)}async unlock(e){let{agentUnlock:r}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").mutate({mutation:(0,core_1$4.gql)`mutation agentUnlock($passphrase: String!) {
                agentUnlock(passphrase: $passphrase) {
                    ${AGENT_STATUS_FIELDS}
                }
            }`,variables:{passphrase:e}}));return new AgentStatus_1.AgentStatus(r)}async byDID(e){let{agentByDID:r}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").query({query:(0,core_1$4.gql)`query agentByDID($did: String!) {
                agentByDID(did: $did) {
                    ${AGENT_SUBITEMS}
                }
            }`,variables:{did:e}}));return r}async updatePublicPerspective(e){let r=JSON.parse(JSON.stringify(e));delete r.__typename,r.links.forEach(a=>{delete a.__typename,delete a.data.__typename,delete a.proof.__typename});let{agentUpdatePublicPerspective:n}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").mutate({mutation:(0,core_1$4.gql)`mutation agentUpdatePublicPerspective($perspective: PerspectiveInput!) {
                agentUpdatePublicPerspective(perspective: $perspective) {
                    ${AGENT_SUBITEMS}
                }
            }`,variables:{perspective:r}})),i=n,o=new Agent_1.Agent(i.did,i.perspective);return o.directMessageLanguage=i.directMessageLanguage,o}async mutatePublicPerspective(e){let r=new PerspectiveClient_1$1.default(__classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f")),n=new AgentClient(__classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f")),i=await r.add("Agent Perspective Proxy"),o=await n.me();o.perspective&&await i.loadSnapshot(o.perspective);for(let l of e.additions)await i.add(l);for(let l of e.removals)await i.remove(l);let a=await i.snapshot(),s=await this.updatePublicPerspective(a);return await r.remove(i.uuid),s}async updateDirectMessageLanguage(e){let{agentUpdateDirectMessageLanguage:r}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").mutate({mutation:(0,core_1$4.gql)`mutation agentUpdateDirectMessageLanguage($directMessageLanguage: String!) {
                agentUpdateDirectMessageLanguage(directMessageLanguage: $directMessageLanguage) {
                    ${AGENT_SUBITEMS}
                }
            }`,variables:{directMessageLanguage:e}})),n=r,i=new Agent_1.Agent(n.did,n.perspective);return i.directMessageLanguage=n.directMessageLanguage,i}async addEntanglementProofs(e){let{agentAddEntanglementProofs:r}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").mutate({mutation:(0,core_1$4.gql)`mutation agentAddEntanglementProofs($proofs: [EntanglementProofInput!]!) {
                agentAddEntanglementProofs(proofs: $proofs) {
                    ${ENTANGLEMENT_PROOF_FIELDS}
                }
            }`,variables:{proofs:e}}));return r}async deleteEntanglementProofs(e){let{agentDeleteEntanglementProofs:r}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").mutate({mutation:(0,core_1$4.gql)`mutation agentDeleteEntanglementProofs($proofs: [EntanglementProofInput!]!) {
                agentDeleteEntanglementProofs(proofs: $proofs) {
                    ${ENTANGLEMENT_PROOF_FIELDS}
                }
            }`,variables:{proofs:e}}));return r}async getEntanglementProofs(){let{agentGetEntanglementProofs:e}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").query({query:(0,core_1$4.gql)`query agentGetEntanglementProofs {
                agentGetEntanglementProofs {
                    ${ENTANGLEMENT_PROOF_FIELDS}
                }
            }`}));return e}async entanglementProofPreFlight(e,r){let{agentEntanglementProofPreFlight:n}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").mutate({mutation:(0,core_1$4.gql)`mutation agentEntanglementProofPreFlight($deviceKey: String!, $deviceKeyType: String!) {
                agentEntanglementProofPreFlight(deviceKey: $deviceKey, deviceKeyType: $deviceKeyType) {
                    ${ENTANGLEMENT_PROOF_FIELDS}
                }
            }`,variables:{deviceKey:e,deviceKeyType:r}}));return n}addUpdatedListener(e){__classPrivateFieldGet$6(this,_AgentClient_updatedCallbacks,"f").push(e)}subscribeAgentUpdated(){__classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").subscribe({query:(0,core_1$4.gql)` subscription {
                agentUpdated { ${AGENT_SUBITEMS} }
            }   
        `}).subscribe({next:e=>{let r=e.data.agentUpdated;__classPrivateFieldGet$6(this,_AgentClient_updatedCallbacks,"f").forEach(n=>{n(r)})},error:e=>console.error(e)})}addAgentStatusChangedListener(e){__classPrivateFieldGet$6(this,_AgentClient_agentStatusChangedCallbacks,"f").push(e)}subscribeAgentStatusChanged(){__classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").subscribe({query:(0,core_1$4.gql)` subscription {
                agentStatusChanged { ${AGENT_STATUS_FIELDS} }
            }   
        `}).subscribe({next:e=>{let r=e.data.agentStatusChanged;__classPrivateFieldGet$6(this,_AgentClient_agentStatusChangedCallbacks,"f").forEach(n=>{n(r)})},error:e=>console.error(e)})}async requestCapability(e,r,n,i){let{agentRequestCapability:o}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").mutate({mutation:(0,core_1$4.gql)`mutation agentRequestCapability($appName: String!, $appDesc: String!, $appUrl: String!, $capabilities: String!) {
                agentRequestCapability(appName: $appName, appDesc: $appDesc, appUrl: $appUrl, capabilities: $capabilities)
            }`,variables:{appName:e,appDesc:r,appUrl:n,capabilities:i}}));return o}async permitCapability(e){let{agentPermitCapability:r}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").mutate({mutation:(0,core_1$4.gql)`mutation agentPermitCapability($auth: String!) {
                agentPermitCapability(auth: $auth)
            }`,variables:{auth:e}}));return r}async generateJwt(e,r){let{agentGenerateJwt:n}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").mutate({mutation:(0,core_1$4.gql)`mutation agentGenerateJwt($requestId: String!, $rand: String!) {
                agentGenerateJwt(requestId: $requestId, rand: $rand)
            }`,variables:{requestId:e,rand:r}}));return n}async isLocked(){let{agentIsLocked:e}=(0,unwrapApolloResult_1$4.default)(await __classPrivateFieldGet$6(this,_AgentClient_apolloClient,"f").mutate({mutation:(0,core_1$4.gql)`query agentIsLocked {
                agentIsLocked
            }`}));return e}};AgentClient$1.default=AgentClient;_AgentClient_apolloClient=new WeakMap,_AgentClient_updatedCallbacks=new WeakMap,_AgentClient_agentStatusChangedCallbacks=new WeakMap;var LanguageClient$1={},__classPrivateFieldSet$5=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},__classPrivateFieldGet$5=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},_LanguageClient_apolloClient;Object.defineProperty(LanguageClient$1,"__esModule",{value:!0});LanguageClient$1.LanguageClient=void 0;var core_1$3=require$$0,unwrapApolloResult_1$3=__importDefault$4(unwrapApolloResult$1),LANGUAGE_COMPLETE=`
    name
    address
    settings
    icon { code }
    constructorIcon { code }
    settingsIcon { code }
`,LANGUAGE_META=`
    name
    address
    description
    author
    templated
    templateSourceLanguageAddress
    templateAppliedParams
    possibleTemplateParams
    sourceCodeLink
`,LanguageClient=class{constructor(e){_LanguageClient_apolloClient.set(this,void 0),__classPrivateFieldSet$5(this,_LanguageClient_apolloClient,e,"f")}async byAddress(e){let{language:r}=(0,unwrapApolloResult_1$3.default)(await __classPrivateFieldGet$5(this,_LanguageClient_apolloClient,"f").query({query:(0,core_1$3.gql)`query byAddress($address: String!) {
                language(address: $address) {
                    ${LANGUAGE_COMPLETE}
                }
            }`,variables:{address:e}}));return r}async byFilter(e){let{languages:r}=(0,unwrapApolloResult_1$3.default)(await __classPrivateFieldGet$5(this,_LanguageClient_apolloClient,"f").query({query:(0,core_1$3.gql)`query byFilter($filter: String!) {
                languages(filter: $filter) {
                    ${LANGUAGE_COMPLETE}
                }
            }`,variables:{filter:e}}));return r}async all(){return this.byFilter("")}async writeSettings(e,r){let{languageWriteSettings:n}=(0,unwrapApolloResult_1$3.default)(await __classPrivateFieldGet$5(this,_LanguageClient_apolloClient,"f").mutate({mutation:(0,core_1$3.gql)`mutation writeSettings($languageAddress: String!, $settings: String!) {
                languageWriteSettings(languageAddress: $languageAddress, settings: $settings)
            }`,variables:{languageAddress:e,settings:r}}));return n}async applyTemplateAndPublish(e,r){let{languageApplyTemplateAndPublish:n}=(0,unwrapApolloResult_1$3.default)(await __classPrivateFieldGet$5(this,_LanguageClient_apolloClient,"f").mutate({mutation:(0,core_1$3.gql)`mutation languageApplyTemplateAndPublish(
                $sourceLanguageHash: String!,
                $templateData: String!,
            ) {
                languageApplyTemplateAndPublish(sourceLanguageHash: $sourceLanguageHash, templateData: $templateData) {
                    name, address
                }
            }`,variables:{sourceLanguageHash:e,templateData:r}}));return n}async publish(e,r){let{languagePublish:n}=(0,unwrapApolloResult_1$3.default)(await __classPrivateFieldGet$5(this,_LanguageClient_apolloClient,"f").mutate({mutation:(0,core_1$3.gql)`mutation languagePublish(
                $languagePath: String!,
                $languageMeta: LanguageMetaInput!,
            ) {
                languagePublish(languagePath: $languagePath, languageMeta: $languageMeta) {
                    ${LANGUAGE_META}
                }
            }`,variables:{languagePath:e,languageMeta:r}}));return n}async meta(e){let{languageMeta:r}=(0,unwrapApolloResult_1$3.default)(await __classPrivateFieldGet$5(this,_LanguageClient_apolloClient,"f").query({query:(0,core_1$3.gql)`query languageMeta(
                $address: String!,
            ) {
                languageMeta(address: $address) {
                    ${LANGUAGE_META}
                }
            }`,variables:{address:e}}));return r}async source(e){let{languageSource:r}=(0,unwrapApolloResult_1$3.default)(await __classPrivateFieldGet$5(this,_LanguageClient_apolloClient,"f").query({query:(0,core_1$3.gql)`query languageSource(
                $address: String!,
            ) {
                languageSource(address: $address)
            }`,variables:{address:e}}));return r}async remove(e){let{languageRemove:r}=(0,unwrapApolloResult_1$3.default)(await __classPrivateFieldGet$5(this,_LanguageClient_apolloClient,"f").mutate({mutation:(0,core_1$3.gql)`mutation languageRemove(
                $address: String!,
            ) {
                languageRemove(address: $address)
            }`,variables:{address:e}}));return r}};LanguageClient$1.LanguageClient=LanguageClient;_LanguageClient_apolloClient=new WeakMap;var NeighbourhoodClient$1={},__classPrivateFieldSet$4=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},__classPrivateFieldGet$4=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},_NeighbourhoodClient_apolloClient;Object.defineProperty(NeighbourhoodClient$1,"__esModule",{value:!0});var core_1$2=require$$0,unwrapApolloResult_1$2=__importDefault$3(unwrapApolloResult$1),NeighbourhoodClient=class{constructor(e){_NeighbourhoodClient_apolloClient.set(this,void 0),__classPrivateFieldSet$4(this,_NeighbourhoodClient_apolloClient,e,"f")}async publishFromPerspective(e,r,n){let{neighbourhoodPublishFromPerspective:i}=(0,unwrapApolloResult_1$2.default)(await __classPrivateFieldGet$4(this,_NeighbourhoodClient_apolloClient,"f").mutate({mutation:(0,core_1$2.gql)`mutation neighbourhoodPublishFromPerspective(
                $linkLanguage: String!,
                $meta: PerspectiveInput!,
                $perspectiveUUID: String!
            ) {
                neighbourhoodPublishFromPerspective(
                    linkLanguage: $linkLanguage,
                    meta: $meta,
                    perspectiveUUID: $perspectiveUUID
                )
            }`,variables:{perspectiveUUID:e,linkLanguage:r,meta:n}}));return i}async joinFromUrl(e){let{neighbourhoodJoinFromUrl:r}=(0,unwrapApolloResult_1$2.default)(await __classPrivateFieldGet$4(this,_NeighbourhoodClient_apolloClient,"f").mutate({mutation:(0,core_1$2.gql)`    mutation neighbourhoodJoinFromUrl($url: String!) {
                neighbourhoodJoinFromUrl(url: $url) {
                    uuid
                    name
                    sharedUrl
                    neighbourhood { 
                        linkLanguage 
                        meta { 
                            links
                                {
                                    author
                                    timestamp
                                    data { source, predicate, target }
                                    proof { valid, invalid, signature, key }
                                }  
                        } 
                    }
                }
            }`,variables:{url:e}}));return r}};NeighbourhoodClient$1.default=NeighbourhoodClient;_NeighbourhoodClient_apolloClient=new WeakMap;var RuntimeClient$1={},__classPrivateFieldSet$3=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},__classPrivateFieldGet$3=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},_RuntimeClient_apolloClient,_RuntimeClient_messageReceivedCallbacks,_RuntimeClient_exceptionOccurredCallbacks;Object.defineProperty(RuntimeClient$1,"__esModule",{value:!0});var core_1$1=require$$0,unwrapApolloResult_1$1=__importDefault$2(unwrapApolloResult$1),PERSPECTIVE_EXPRESSION_FIELDS=`
author
timestamp
data { 
    links {
        author
        timestamp
        data { source, predicate, target }
        proof { valid, invalid, signature, key }
    }  
}
proof { valid, invalid, signature, key }
`,RuntimeClient=class{constructor(e,r=!0){_RuntimeClient_apolloClient.set(this,void 0),_RuntimeClient_messageReceivedCallbacks.set(this,void 0),_RuntimeClient_exceptionOccurredCallbacks.set(this,void 0),__classPrivateFieldSet$3(this,_RuntimeClient_apolloClient,e,"f"),__classPrivateFieldSet$3(this,_RuntimeClient_messageReceivedCallbacks,[],"f"),__classPrivateFieldSet$3(this,_RuntimeClient_exceptionOccurredCallbacks,[],"f"),r&&(this.subscribeMessageReceived(),this.subscribeExceptionOccurred())}async info(){let{runtimeInfo:e}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").query({query:(0,core_1$1.gql)`query runtimeInfo {
                runtimeInfo {
                    ad4mExecutorVersion
                }
            }`}));return e}async quit(){return(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").mutate({mutation:(0,core_1$1.gql)`mutation runtimeQuit { runtimeQuit }`})).runtimeQuit}async openLink(e){let{runtimeOpenLink:r}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").mutate({mutation:(0,core_1$1.gql)`mutation runtimeOpenLink($url: String!) {
                runtimeOpenLink(url: $url)
            }`,variables:{url:e}}));return r}async addTrustedAgents(e){let{addTrustedAgents:r}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").mutate({mutation:(0,core_1$1.gql)`mutation addTrustedAgents($agents: [String!]!) {
                addTrustedAgents(agents: $agents)
            }`,variables:{agents:e}}));return r}async deleteTrustedAgents(e){let{deleteTrustedAgents:r}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").mutate({mutation:(0,core_1$1.gql)`mutation deleteTrustedAgents($agents: [String!]!) {
                deleteTrustedAgents(agents: $agents)
            }`,variables:{agents:e}}));return r}async getTrustedAgents(){let{getTrustedAgents:e}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").query({query:(0,core_1$1.gql)`query getTrustedAgents {
                getTrustedAgents
            }`}));return e}async addKnownLinkLanguageTemplates(e){let{runtimeAddKnownLinkLanguageTemplates:r}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").mutate({mutation:(0,core_1$1.gql)`mutation runtimeAddKnownLinkLanguageTemplates($addresses: [String!]!) {
                runtimeAddKnownLinkLanguageTemplates(addresses: $addresses)
            }`,variables:{addresses:e}}));return r}async removeKnownLinkLanguageTemplates(e){let{runtimeRemoveKnownLinkLanguageTemplates:r}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").mutate({mutation:(0,core_1$1.gql)`mutation runtimeRemoveKnownLinkLanguageTemplates($addresses: [String!]!) {
                runtimeRemoveKnownLinkLanguageTemplates(addresses: $addresses)
            }`,variables:{addresses:e}}));return r}async knownLinkLanguageTemplates(){let{runtimeKnownLinkLanguageTemplates:e}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").query({query:(0,core_1$1.gql)`query runtimeKnownLinkLanguageTemplates {
                runtimeKnownLinkLanguageTemplates
            }`}));return e}async addFriends(e){let{runtimeAddFriends:r}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").mutate({mutation:(0,core_1$1.gql)`mutation runtimeAddFriends($dids: [String!]!) {
                runtimeAddFriends(dids: $dids)
            }`,variables:{dids:e}}));return r}async removeFriends(e){let{runtimeRemoveFriends:r}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").mutate({mutation:(0,core_1$1.gql)`mutation runtimeRemoveFriends($dids: [String!]!) {
                runtimeRemoveFriends(dids: $dids)
            }`,variables:{dids:e}}));return r}async friends(){let{runtimeFriends:e}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").query({query:(0,core_1$1.gql)`query runtimeFriends {
                runtimeFriends
            }`}));return e}async hcAgentInfos(){let{runtimeHcAgentInfos:e}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").query({query:(0,core_1$1.gql)`query runtimeHcAgentInfos {
                runtimeHcAgentInfos
            }`}));return e}async hcAddAgentInfos(e){let{runtimeHcAddAgentInfos:r}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").mutate({mutation:(0,core_1$1.gql)`mutation runtimeHcAddAgentInfos($agentInfos: String!) {
                runtimeHcAddAgentInfos(agentInfos: $agentInfos)
            }`,variables:{agentInfos:e}}));return r}async verifyStringSignedByDid(e,r,n,i){let{runtimeVerifyStringSignedByDid:o}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").mutate({mutation:(0,core_1$1.gql)`query runtimeVerifyStringSignedByDid($did: String!, $didSigningKeyId: String!, $data: String!, $signedData: String!) {
                runtimeVerifyStringSignedByDid(did: $did, didSigningKeyId: $didSigningKeyId, data: $data, signedData: $signedData)
            }`,variables:{did:e,didSigningKeyId:r,data:n,signedData:i}}));return o}async setStatus(e){let{runtimeSetStatus:r}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").mutate({mutation:(0,core_1$1.gql)`mutation runtimeSetStatus($status: PerspectiveInput!) {
                runtimeSetStatus(status: $status)
            }`,variables:{status:e}}));return r}async friendStatus(e){let{runtimeFriendStatus:r}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").query({query:(0,core_1$1.gql)`query runtimeFriendStatus($did: String!) {
                runtimeFriendStatus(did: $did) { ${PERSPECTIVE_EXPRESSION_FIELDS} }
            }`,variables:{did:e}}));return r}async friendSendMessage(e,r){let{runtimeFriendSendMessage:n}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").mutate({mutation:(0,core_1$1.gql)`mutation runtimeFriendSendMessage($did: String!, $message: PerspectiveInput!) {
                runtimeFriendSendMessage(did: $did, message: $message)
            }`,variables:{did:e,message:r}}));return n}async messageInbox(e){let{runtimeMessageInbox:r}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").query({query:(0,core_1$1.gql)`query runtimeMessageInbox($filter: String) {
                runtimeMessageInbox(filter: $filter) { ${PERSPECTIVE_EXPRESSION_FIELDS} }
            }`,variables:{filter:e}}));return r}async messageOutbox(e){let{runtimeMessageOutbox:r}=(0,unwrapApolloResult_1$1.default)(await __classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").query({query:(0,core_1$1.gql)`query runtimeMessageOutbox($filter: String) {
                runtimeMessageOutbox(filter: $filter) { 
                    recipient,
                    message {
                        ${PERSPECTIVE_EXPRESSION_FIELDS} 
                    }
                }
            }`,variables:{filter:e}}));return r}addMessageCallback(e){__classPrivateFieldGet$3(this,_RuntimeClient_messageReceivedCallbacks,"f").push(e)}subscribeMessageReceived(){__classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").subscribe({query:(0,core_1$1.gql)` subscription {
                runtimeMessageReceived { ${PERSPECTIVE_EXPRESSION_FIELDS} }
            }   
        `}).subscribe({next:e=>{__classPrivateFieldGet$3(this,_RuntimeClient_messageReceivedCallbacks,"f").forEach(r=>{r(e.data.runtimeMessageReceived)})},error:e=>console.error(e)})}addExceptionCallback(e){__classPrivateFieldGet$3(this,_RuntimeClient_exceptionOccurredCallbacks,"f").push(e)}subscribeExceptionOccurred(){__classPrivateFieldGet$3(this,_RuntimeClient_apolloClient,"f").subscribe({query:(0,core_1$1.gql)` subscription {
                exceptionOccurred {
                    title
                    message
                    type
                    addon
                }
            }`}).subscribe({next:e=>{__classPrivateFieldGet$3(this,_RuntimeClient_exceptionOccurredCallbacks,"f").forEach(r=>{r(e.data.exceptionOccurred)})},error:e=>console.error(e)})}};RuntimeClient$1.default=RuntimeClient;_RuntimeClient_apolloClient=new WeakMap,_RuntimeClient_messageReceivedCallbacks=new WeakMap,_RuntimeClient_exceptionOccurredCallbacks=new WeakMap;var ExpressionClient$1={},__classPrivateFieldSet$2=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},__classPrivateFieldGet$2=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},_ExpressionClient_apolloClient;Object.defineProperty(ExpressionClient$1,"__esModule",{value:!0});var core_1=require$$0,unwrapApolloResult_1=__importDefault$1(unwrapApolloResult$1),ExpressionClient=class{constructor(e){_ExpressionClient_apolloClient.set(this,void 0),__classPrivateFieldSet$2(this,_ExpressionClient_apolloClient,e,"f")}async get(e){let{expression:r}=(0,unwrapApolloResult_1.default)(await __classPrivateFieldGet$2(this,_ExpressionClient_apolloClient,"f").query({query:(0,core_1.gql)`query expression($url: String!) {
                expression(url: $url) {
                    author
                    timestamp
                    data
                    language {
                        address
                    }
                    proof {
                        valid
                        invalid
                    }
                }
            }`,variables:{url:e}}));return r}async getMany(e){let{expressionMany:r}=(0,unwrapApolloResult_1.default)(await __classPrivateFieldGet$2(this,_ExpressionClient_apolloClient,"f").query({query:(0,core_1.gql)`query expressionMany($urls: [String!]!) {
                expressionMany(urls: $urls) {
                    author
                    timestamp
                    data
                    language {
                        address
                    }
                    proof {
                        valid
                        invalid
                    }
                }
            }`,variables:{urls:e}}));return r}async getRaw(e){let{expressionRaw:r}=(0,unwrapApolloResult_1.default)(await __classPrivateFieldGet$2(this,_ExpressionClient_apolloClient,"f").query({query:(0,core_1.gql)`query expressionRaw($url: String!) {
                expressionRaw(url: $url)
            }`,variables:{url:e}}));return r}async create(e,r){e=JSON.stringify(e);let{expressionCreate:n}=(0,unwrapApolloResult_1.default)(await __classPrivateFieldGet$2(this,_ExpressionClient_apolloClient,"f").mutate({mutation:(0,core_1.gql)`mutation expressionCreate($content: String!, $languageAddress: String!){
                expressionCreate(content: $content, languageAddress: $languageAddress)
            }`,variables:{content:e,languageAddress:r}}));return n}async interactions(e){let{expressionInteractions:r}=(0,unwrapApolloResult_1.default)(await __classPrivateFieldGet$2(this,_ExpressionClient_apolloClient,"f").query({query:(0,core_1.gql)`query expressionInteractions($url: String!) {
                expressionInteractions(url: $url) { 
                    label
                    name
                    parameters { name, type }
                }
            }`,variables:{url:e}}));return r}async interact(e,r){let{expressionInteract:n}=(0,unwrapApolloResult_1.default)(await __classPrivateFieldGet$2(this,_ExpressionClient_apolloClient,"f").mutate({mutation:(0,core_1.gql)`mutation expressionInteract($url: String!, $interactionCall: InteractionCall!){
                expressionInteract(url: $url, interactionCall: $interactionCall)
            }`,variables:{url:e,interactionCall:r}}));return n}};ExpressionClient$1.default=ExpressionClient;_ExpressionClient_apolloClient=new WeakMap;var __classPrivateFieldSet$1=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},__classPrivateFieldGet$1=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},_Ad4mClient_apolloClient,_Ad4mClient_agentClient,_Ad4mClient_expressionClient,_Ad4mClient_languageClient,_Ad4mClient_neighbourhoodClient,_Ad4mClient_perspectiveClient,_Ad4mClient_runtimeClient;Object.defineProperty(Ad4mClient$1,"__esModule",{value:!0});Ad4mClient$1.Ad4mClient=void 0;var AgentClient_1=__importDefault(AgentClient$1),LanguageClient_1=LanguageClient$1,NeighbourhoodClient_1=__importDefault(NeighbourhoodClient$1),PerspectiveClient_1=__importDefault(PerspectiveClient$1),RuntimeClient_1=__importDefault(RuntimeClient$1),ExpressionClient_1=__importDefault(ExpressionClient$1),Ad4mClient=class{constructor(e,r=!0){_Ad4mClient_apolloClient.set(this,void 0),_Ad4mClient_agentClient.set(this,void 0),_Ad4mClient_expressionClient.set(this,void 0),_Ad4mClient_languageClient.set(this,void 0),_Ad4mClient_neighbourhoodClient.set(this,void 0),_Ad4mClient_perspectiveClient.set(this,void 0),_Ad4mClient_runtimeClient.set(this,void 0),__classPrivateFieldSet$1(this,_Ad4mClient_apolloClient,e,"f"),__classPrivateFieldSet$1(this,_Ad4mClient_agentClient,new AgentClient_1.default(e,r),"f"),__classPrivateFieldSet$1(this,_Ad4mClient_expressionClient,new ExpressionClient_1.default(e),"f"),__classPrivateFieldSet$1(this,_Ad4mClient_languageClient,new LanguageClient_1.LanguageClient(e),"f"),__classPrivateFieldSet$1(this,_Ad4mClient_neighbourhoodClient,new NeighbourhoodClient_1.default(e),"f"),__classPrivateFieldSet$1(this,_Ad4mClient_perspectiveClient,new PerspectiveClient_1.default(e,r),"f"),__classPrivateFieldSet$1(this,_Ad4mClient_runtimeClient,new RuntimeClient_1.default(e,r),"f")}get agent(){return __classPrivateFieldGet$1(this,_Ad4mClient_agentClient,"f")}get expression(){return __classPrivateFieldGet$1(this,_Ad4mClient_expressionClient,"f")}get languages(){return __classPrivateFieldGet$1(this,_Ad4mClient_languageClient,"f")}get neighbourhood(){return __classPrivateFieldGet$1(this,_Ad4mClient_neighbourhoodClient,"f")}get perspective(){return __classPrivateFieldGet$1(this,_Ad4mClient_perspectiveClient,"f")}get runtime(){return __classPrivateFieldGet$1(this,_Ad4mClient_runtimeClient,"f")}};Ad4mClient$1.Ad4mClient=Ad4mClient;_Ad4mClient_apolloClient=new WeakMap,_Ad4mClient_agentClient=new WeakMap,_Ad4mClient_expressionClient=new WeakMap,_Ad4mClient_languageClient=new WeakMap,_Ad4mClient_neighbourhoodClient=new WeakMap,_Ad4mClient_perspectiveClient=new WeakMap,_Ad4mClient_runtimeClient=new WeakMap;var Address={};Object.defineProperty(Address,"__esModule",{value:!0});var Exception={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionType=void 0,function(e){e[e.LanguageIsNotLoaded=0]="LanguageIsNotLoaded",e[e.ExpressionIsNotVerified=1]="ExpressionIsNotVerified",e[e.AgentIsUntrusted=2]="AgentIsUntrusted",e[e.CapabilityRequested=3]="CapabilityRequested"}(t.ExceptionType||(t.ExceptionType={}))})(Exception);var ExpressionRef$1={},__decorate$6=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata$6=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(ExpressionRef$1,"__esModule",{value:!0});ExpressionRef$1.parseExprUrl=ExpressionRef$1.exprRef2String=ExpressionRef$1.ExpressionRef=void 0;var LanguageRef_1=LanguageRef$1,type_graphql_1$6=typeGraphql,ExpressionRef=class{constructor(e,r){this.language=e,this.expression=r}};__decorate$6([(0,type_graphql_1$6.Field)(),__metadata$6("design:type",LanguageRef_1.LanguageRef)],ExpressionRef.prototype,"language",void 0);__decorate$6([(0,type_graphql_1$6.Field)(),__metadata$6("design:type",String)],ExpressionRef.prototype,"expression",void 0);ExpressionRef=__decorate$6([(0,type_graphql_1$6.ObjectType)(),__metadata$6("design:paramtypes",[LanguageRef_1.LanguageRef,String])],ExpressionRef);ExpressionRef$1.ExpressionRef=ExpressionRef;function exprRef2String(t){return t.language.address==="did"?t.expression.toString():`${t.language.address}://${t.expression}`}ExpressionRef$1.exprRef2String=exprRef2String;function parseExprUrl(t){if(t.startsWith("literal://")){let o=new LanguageRef_1.LanguageRef;o.address="literal",o.name="literal";let a=t.substring(10);return new ExpressionRef(o,a)}let r=/^([^:^\s]+):\/\/([\s\S]+)$/.exec(t);if(r&&r.length==3){let o=r[1],a=r[2],s=new LanguageRef_1.LanguageRef;return s.address=o,new ExpressionRef(s,a)}let i=/^did:([^\s]+)$/.exec(t);if(i&&i.length==2){let o=new LanguageRef_1.LanguageRef;return o.address="did",new ExpressionRef(o,t)}throw new Error("Couldn't parse string as expression URL or DID: "+t)}ExpressionRef$1.parseExprUrl=parseExprUrl;var Language={},__decorate$5=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata$5=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Language,"__esModule",{value:!0});Language.TelepresenceRpcCall=Language.OnlineAgent=Language.InteractionCall=Language.InteractionMeta=Language.InteractionParameter=void 0;var type_graphql_1$5=typeGraphql,InteractionParameter=class{};__decorate$5([(0,type_graphql_1$5.Field)(),__metadata$5("design:type",String)],InteractionParameter.prototype,"name",void 0);__decorate$5([(0,type_graphql_1$5.Field)(),__metadata$5("design:type",String)],InteractionParameter.prototype,"type",void 0);InteractionParameter=__decorate$5([(0,type_graphql_1$5.ObjectType)()],InteractionParameter);Language.InteractionParameter=InteractionParameter;var InteractionMeta=class{};__decorate$5([(0,type_graphql_1$5.Field)(),__metadata$5("design:type",String)],InteractionMeta.prototype,"label",void 0);__decorate$5([(0,type_graphql_1$5.Field)(),__metadata$5("design:type",String)],InteractionMeta.prototype,"name",void 0);__decorate$5([(0,type_graphql_1$5.Field)(t=>[InteractionParameter]),__metadata$5("design:type",Array)],InteractionMeta.prototype,"parameters",void 0);InteractionMeta=__decorate$5([(0,type_graphql_1$5.ObjectType)()],InteractionMeta);Language.InteractionMeta=InteractionMeta;var InteractionCall=class{constructor(e,r){this.name=e,this.parametersStringified=JSON.stringify(r)}get parameters(){return JSON.parse(this.parametersStringified)}};__decorate$5([(0,type_graphql_1$5.Field)(),__metadata$5("design:type",String)],InteractionCall.prototype,"name",void 0);__decorate$5([(0,type_graphql_1$5.Field)(),__metadata$5("design:type",String)],InteractionCall.prototype,"parametersStringified",void 0);InteractionCall=__decorate$5([(0,type_graphql_1$5.InputType)(),__metadata$5("design:paramtypes",[String,Object])],InteractionCall);Language.InteractionCall=InteractionCall;var OnlineAgent=class{};Language.OnlineAgent=OnlineAgent;var TelepresenceRpcCall=class{};Language.TelepresenceRpcCall=TelepresenceRpcCall;var LanguageContext={};Object.defineProperty(LanguageContext,"__esModule",{value:!0});LanguageContext.Dna=void 0;var Dna=class{};LanguageContext.Dna=Dna;var LanguageHandle$1={},__decorate$4=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata$4=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(LanguageHandle$1,"__esModule",{value:!0});LanguageHandle$1.LanguageHandle=void 0;var type_graphql_1$4=typeGraphql,Icon_1=Icon$1,LanguageHandle=class{};__decorate$4([(0,type_graphql_1$4.Field)(),__metadata$4("design:type",String)],LanguageHandle.prototype,"name",void 0);__decorate$4([(0,type_graphql_1$4.Field)(),__metadata$4("design:type",String)],LanguageHandle.prototype,"address",void 0);__decorate$4([(0,type_graphql_1$4.Field)({nullable:!0}),__metadata$4("design:type",String)],LanguageHandle.prototype,"settings",void 0);__decorate$4([(0,type_graphql_1$4.Field)({nullable:!0}),__metadata$4("design:type",Icon_1.Icon)],LanguageHandle.prototype,"icon",void 0);__decorate$4([(0,type_graphql_1$4.Field)({nullable:!0}),__metadata$4("design:type",Icon_1.Icon)],LanguageHandle.prototype,"constructorIcon",void 0);__decorate$4([(0,type_graphql_1$4.Field)({nullable:!0}),__metadata$4("design:type",Icon_1.Icon)],LanguageHandle.prototype,"settingsIcon",void 0);LanguageHandle=__decorate$4([(0,type_graphql_1$4.ObjectType)()],LanguageHandle);LanguageHandle$1.LanguageHandle=LanguageHandle;var LanguageMeta$1={},__decorate$3=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata$3=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(LanguageMeta$1,"__esModule",{value:!0});LanguageMeta$1.LanguageLanguageInput=LanguageMeta$1.LanguageExpression=LanguageMeta$1.LanguageMetaInternal=LanguageMeta$1.LanguageMetaInput=LanguageMeta$1.LanguageMeta=void 0;var type_graphql_1$3=typeGraphql,Expression_1$2=Expression$1,LanguageMeta=class{};__decorate$3([(0,type_graphql_1$3.Field)(),__metadata$3("design:type",String)],LanguageMeta.prototype,"name",void 0);__decorate$3([(0,type_graphql_1$3.Field)(),__metadata$3("design:type",String)],LanguageMeta.prototype,"address",void 0);__decorate$3([(0,type_graphql_1$3.Field)({nullable:!0}),__metadata$3("design:type",String)],LanguageMeta.prototype,"description",void 0);__decorate$3([(0,type_graphql_1$3.Field)(),__metadata$3("design:type",String)],LanguageMeta.prototype,"author",void 0);__decorate$3([(0,type_graphql_1$3.Field)({nullable:!0}),__metadata$3("design:type",Boolean)],LanguageMeta.prototype,"templated",void 0);__decorate$3([(0,type_graphql_1$3.Field)({nullable:!0}),__metadata$3("design:type",String)],LanguageMeta.prototype,"templateSourceLanguageAddress",void 0);__decorate$3([(0,type_graphql_1$3.Field)({nullable:!0}),__metadata$3("design:type",String)],LanguageMeta.prototype,"templateAppliedParams",void 0);__decorate$3([(0,type_graphql_1$3.Field)(t=>[String],{nullable:!0}),__metadata$3("design:type",Array)],LanguageMeta.prototype,"possibleTemplateParams",void 0);__decorate$3([(0,type_graphql_1$3.Field)({nullable:!0}),__metadata$3("design:type",String)],LanguageMeta.prototype,"sourceCodeLink",void 0);LanguageMeta=__decorate$3([(0,type_graphql_1$3.ObjectType)()],LanguageMeta);LanguageMeta$1.LanguageMeta=LanguageMeta;var LanguageMetaInput=class{constructor(e,r){this.name=e,this.description=r,this.description||(this.description="")}};__decorate$3([(0,type_graphql_1$3.Field)(),__metadata$3("design:type",String)],LanguageMetaInput.prototype,"name",void 0);__decorate$3([(0,type_graphql_1$3.Field)(),__metadata$3("design:type",String)],LanguageMetaInput.prototype,"description",void 0);__decorate$3([(0,type_graphql_1$3.Field)(t=>[String],{nullable:!0}),__metadata$3("design:type",Array)],LanguageMetaInput.prototype,"possibleTemplateParams",void 0);__decorate$3([(0,type_graphql_1$3.Field)({nullable:!0}),__metadata$3("design:type",String)],LanguageMetaInput.prototype,"sourceCodeLink",void 0);LanguageMetaInput=__decorate$3([(0,type_graphql_1$3.InputType)(),__metadata$3("design:paramtypes",[String,String])],LanguageMetaInput);LanguageMeta$1.LanguageMetaInput=LanguageMetaInput;var LanguageMetaInternal=class{};LanguageMeta$1.LanguageMetaInternal=LanguageMetaInternal;var LanguageExpression=class extends(0,Expression_1$2.ExpressionGeneric)(LanguageMetaInternal){};LanguageMeta$1.LanguageExpression=LanguageExpression;var LanguageLanguageInput=class{};LanguageMeta$1.LanguageLanguageInput=LanguageLanguageInput;var Literal$1={},__classPrivateFieldSet=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},__classPrivateFieldGet=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},_Literal_literal,_Literal_url;Object.defineProperty(Literal$1,"__esModule",{value:!0});Literal$1.Literal=void 0;var Literal=class{constructor(){_Literal_literal.set(this,void 0),_Literal_url.set(this,void 0)}static fromUrl(e){if(!e||!e.startsWith("literal://"))throw new Error("Can't create Literal from non-literal URL");let r=new Literal;return __classPrivateFieldSet(r,_Literal_url,e,"f"),r}static from(e){let r=new Literal;return __classPrivateFieldSet(r,_Literal_literal,e,"f"),r}encodeSingleQuote(e){return e=e.split("'").join("\\'"),e}decodeSingleQuote(e){return e=e.split("\\'").join("'"),e}toUrl(){if(__classPrivateFieldGet(this,_Literal_url,"f")&&!__classPrivateFieldGet(this,_Literal_literal,"f"))return __classPrivateFieldGet(this,_Literal_url,"f");if(!__classPrivateFieldGet(this,_Literal_url,"f")&&!__classPrivateFieldGet(this,_Literal_literal,"f"))throw new Error("Can't turn empty Literal into URL");let e;switch(typeof __classPrivateFieldGet(this,_Literal_literal,"f")){case"string":e=`string:${__classPrivateFieldGet(this,_Literal_literal,"f")}`;break;case"number":e=`number:${__classPrivateFieldGet(this,_Literal_literal,"f")}`;break;case"object":e=`json:${JSON.stringify(__classPrivateFieldGet(this,_Literal_literal,"f"))}`;break}return this.encodeSingleQuote(encodeURI(`literal://${e}`))}get(){if(__classPrivateFieldGet(this,_Literal_literal,"f"))return __classPrivateFieldGet(this,_Literal_literal,"f");if(!__classPrivateFieldGet(this,_Literal_url,"f"))throw new Error("Can't render empty Literal");if(!__classPrivateFieldGet(this,_Literal_url,"f").startsWith("literal://"))throw new Error("Can't render Literal from non-literal URL");let e=decodeURI(this.decodeSingleQuote(__classPrivateFieldGet(this,_Literal_url,"f").substring(10)));if(e.startsWith("string:"))return e.substring(7);if(e.startsWith("number:")){let r=e.substring(7);return parseFloat(r)}if(e.startsWith("json:")){let r=e.substring(5);return JSON.parse(r)}throw new Error(`Can't parse unknown literal: ${e}`)}};Literal$1.Literal=Literal;_Literal_literal=new WeakMap,_Literal_url=new WeakMap;var PerspectiveHandle$1={},Neighbourhood$1={},__decorate$2=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata$2=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Neighbourhood$1,"__esModule",{value:!0});Neighbourhood$1.NeighbourhoodExpression=Neighbourhood$1.Neighbourhood=void 0;var type_graphql_1$2=typeGraphql,Expression_1$1=Expression$1,Perspective_1=Perspective$1,Neighbourhood=class{constructor(e,r){this.linkLanguage=e,this.meta=r}};__decorate$2([(0,type_graphql_1$2.Field)(),__metadata$2("design:type",String)],Neighbourhood.prototype,"linkLanguage",void 0);__decorate$2([(0,type_graphql_1$2.Field)(),__metadata$2("design:type",Perspective_1.Perspective)],Neighbourhood.prototype,"meta",void 0);Neighbourhood=__decorate$2([(0,type_graphql_1$2.ObjectType)(),__metadata$2("design:paramtypes",[String,Perspective_1.Perspective])],Neighbourhood);Neighbourhood$1.Neighbourhood=Neighbourhood;var NeighbourhoodExpression=class extends(0,Expression_1$1.ExpressionGeneric)(Neighbourhood){};NeighbourhoodExpression=__decorate$2([(0,type_graphql_1$2.ObjectType)()],NeighbourhoodExpression);Neighbourhood$1.NeighbourhoodExpression=NeighbourhoodExpression;var __decorate$1=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata$1=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(PerspectiveHandle$1,"__esModule",{value:!0});PerspectiveHandle$1.PerspectiveHandle=void 0;var type_graphql_1$1=typeGraphql,Neighbourhood_1=Neighbourhood$1,PerspectiveHandle=class{constructor(e,r){this.uuid=e,this.name=r}};__decorate$1([(0,type_graphql_1$1.Field)(),__metadata$1("design:type",String)],PerspectiveHandle.prototype,"uuid",void 0);__decorate$1([(0,type_graphql_1$1.Field)(),__metadata$1("design:type",String)],PerspectiveHandle.prototype,"name",void 0);__decorate$1([(0,type_graphql_1$1.Field)(t=>String,{nullable:!0}),__metadata$1("design:type",String)],PerspectiveHandle.prototype,"sharedUrl",void 0);__decorate$1([(0,type_graphql_1$1.Field)(t=>Neighbourhood_1.Neighbourhood,{nullable:!0}),__metadata$1("design:type",Neighbourhood_1.Neighbourhood)],PerspectiveHandle.prototype,"neighbourhood",void 0);PerspectiveHandle=__decorate$1([(0,type_graphql_1$1.ObjectType)(),__metadata$1("design:paramtypes",[String,String])],PerspectiveHandle);PerspectiveHandle$1.PerspectiveHandle=PerspectiveHandle;var PerspectiveDiff$1={},__decorate=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},__metadata=commonjsGlobal&&commonjsGlobal.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(PerspectiveDiff$1,"__esModule",{value:!0});PerspectiveDiff$1.PerspectiveDiffExpression=PerspectiveDiff$1.PerspectiveDiff=void 0;var type_graphql_1=typeGraphql,Expression_1=Expression$1,Links_1=Links,PerspectiveDiff=class{};__decorate([(0,type_graphql_1.Field)(t=>[Links_1.LinkExpression]),__metadata("design:type",Array)],PerspectiveDiff.prototype,"additions",void 0);__decorate([(0,type_graphql_1.Field)(t=>[Links_1.LinkExpression]),__metadata("design:type",Array)],PerspectiveDiff.prototype,"removals",void 0);PerspectiveDiff=__decorate([(0,type_graphql_1.ObjectType)()],PerspectiveDiff);PerspectiveDiff$1.PerspectiveDiff=PerspectiveDiff;var PerspectiveDiffExpression=class extends(0,Expression_1.ExpressionGeneric)(PerspectiveDiff){};PerspectiveDiffExpression=__decorate([(0,type_graphql_1.ObjectType)()],PerspectiveDiffExpression);PerspectiveDiff$1.PerspectiveDiffExpression=PerspectiveDiffExpression;var typeDefsString=`
type Agent {
  did: String!
  directMessageLanguage: String
  perspective: Perspective
}

type AgentStatus {
  did: String
  didDocument: String
  error: String
  isInitialized: Boolean!
  isUnlocked: Boolean!
}

scalar DateTime

type EntanglementProof {
  deviceKey: String!
  deviceKeySignedByDid: String!
  deviceKeyType: String!
  did: String!
  didSignedByDeviceKey: String
  didSigningKeyId: String!
}

input EntanglementProofInput {
  deviceKey: String!
  deviceKeySignedByDid: String!
  deviceKeyType: String!
  did: String!
  didSignedByDeviceKey: String!
  didSigningKeyId: String!
}

type ExceptionInfo {
  addon: String
  message: String!
  title: String!
  type: Float!
}

type ExpressionProof {
  invalid: Boolean
  key: String!
  signature: String!
  valid: Boolean
}

input ExpressionProofInput {
  invalid: Boolean
  key: String!
  signature: String!
  valid: Boolean
}

type ExpressionRendered {
  author: String!
  data: String!
  icon: Icon!
  language: LanguageRef!
  proof: ExpressionProof!
  timestamp: String!
}

type Icon {
  code: String!
}

input InteractionCall {
  name: String!
  parametersStringified: String!
}

type InteractionMeta {
  label: String!
  name: String!
  parameters: [InteractionParameter!]!
}

type InteractionParameter {
  name: String!
  type: String!
}

type LanguageHandle {
  address: String!
  constructorIcon: Icon
  icon: Icon
  name: String!
  settings: String
  settingsIcon: Icon
}

type LanguageMeta {
  address: String!
  author: String!
  description: String
  name: String!
  possibleTemplateParams: [String!]
  sourceCodeLink: String
  templateAppliedParams: String
  templateSourceLanguageAddress: String
  templated: Boolean
}

input LanguageMetaInput {
  description: String = ""
  name: String!
  possibleTemplateParams: [String!]
  sourceCodeLink: String
}

type LanguageRef {
  address: String!
  name: String!
}

type Link {
  predicate: String
  source: String!
  target: String!
}

type LinkExpression {
  author: String!
  data: Link!
  proof: ExpressionProof!
  timestamp: String!
}

input LinkExpressionInput {
  author: String!
  data: LinkInput!
  proof: ExpressionProofInput!
  timestamp: String!
}

input LinkInput {
  predicate: String
  source: String!
  target: String!
}

input LinkQuery {
  fromDate: DateTime
  limit: Float
  predicate: String
  source: String
  target: String
  untilDate: DateTime
}

type Mutation {
  addTrustedAgents(agents: [String!]!): [String!]!
  agentAddEntanglementProofs(proofs: [EntanglementProofInput!]!): [EntanglementProof!]!
  agentDeleteEntanglementProofs(proofs: [EntanglementProofInput!]!): [EntanglementProof!]!
  agentEntanglementProofPreFlight(deviceKey: String!, deviceKeyType: String!): EntanglementProof!
  agentGenerate(passphrase: String!): AgentStatus!
  agentGenerateJwt(rand: String!, requestId: String!): String!
  agentImport(did: String!, didDocument: String!, keystore: String!, passphrase: String!): AgentStatus!
  agentLock(passphrase: String!): AgentStatus!
  agentPermitCapability(auth: String!): String!
  agentRequestCapability(appDesc: String!, appName: String!, appUrl: String!, capabilities: String!): String!
  agentUnlock(passphrase: String!): AgentStatus!
  agentUpdateDirectMessageLanguage(directMessageLanguage: String!): Agent!
  agentUpdatePublicPerspective(perspective: PerspectiveInput!): Agent!
  deleteTrustedAgents(agents: [String!]!): [String!]!
  expressionCreate(content: String!, languageAddress: String!): String!
  expressionInteract(interactionCall: InteractionCall!, url: String!): String
  languageApplyTemplateAndPublish(sourceLanguageHash: String!, templateData: String!): LanguageRef!
  languagePublish(languageMeta: LanguageMetaInput!, languagePath: String!): LanguageMeta!
  languageRemove(address: String!): Boolean!
  languageWriteSettings(languageAddress: String!, settings: String!): Boolean!
  neighbourhoodJoinFromUrl(url: String!): PerspectiveHandle!
  neighbourhoodPublishFromPerspective(linkLanguage: String!, meta: PerspectiveInput!, perspectiveUUID: String!): String!
  perspectiveAdd(name: String!): PerspectiveHandle!
  perspectiveAddLink(link: LinkInput!, uuid: String!): LinkExpression!
  perspectivePublishSnapshot(uuid: String!): String
  perspectiveRemove(uuid: String!): Boolean!
  perspectiveRemoveLink(link: LinkExpressionInput!, uuid: String!): Boolean!
  perspectiveUpdate(name: String!, uuid: String!): PerspectiveHandle
  perspectiveUpdateLink(newLink: LinkInput!, oldLink: LinkExpressionInput!, uuid: String!): LinkExpression!
  runtimeAddFriends(dids: [String!]!): [String!]!
  runtimeAddKnownLinkLanguageTemplates(addresses: [String!]!): [String!]!
  runtimeFriendSendMessage(did: String!, message: PerspectiveInput!): Boolean!
  runtimeHcAddAgentInfos(agentInfos: String!): Boolean!
  runtimeOpenLink(url: String!): Boolean!
  runtimeQuit: Boolean!
  runtimeRemoveFriends(dids: [String!]!): [String!]!
  runtimeRemoveKnownLinkLanguageTemplates(addresses: [String!]!): [String!]!
  runtimeSetStatus(status: PerspectiveInput!): Boolean!
}

type Neighbourhood {
  linkLanguage: String!
  meta: Perspective!
}

type Perspective {
  links: [LinkExpression!]!
}

type PerspectiveExpression {
  author: String!
  data: Perspective!
  proof: ExpressionProof!
  timestamp: String!
}

type PerspectiveHandle {
  name: String!
  neighbourhood: Neighbourhood
  sharedUrl: String
  uuid: String!
}

input PerspectiveInput {
  links: [LinkExpressionInput!]!
}

type Query {
  agent: Agent!
  agentByDID(did: String!): Agent
  agentGetEntanglementProofs: [EntanglementProof!]!
  agentIsLocked: Boolean!
  agentStatus: AgentStatus!
  expression(url: String!): ExpressionRendered
  expressionInteractions(url: String!): [InteractionMeta!]!
  expressionMany(urls: [String!]!): [ExpressionRendered]!
  expressionRaw(url: String!): String
  getTrustedAgents: [String!]!
  language(address: String!): LanguageHandle
  languageMeta(address: String!): LanguageMeta!
  languageSource(address: String!): String!
  languages(filter: String): [LanguageHandle!]!
  perspective(uuid: String!): PerspectiveHandle
  perspectiveQueryLinks(query: LinkQuery!, uuid: String!): [LinkExpression!]
  perspectiveQueryProlog(query: String!, uuid: String!): String!
  perspectiveSnapshot(uuid: String!): Perspective
  perspectives: [PerspectiveHandle!]!
  runtimeFriendStatus(did: String!): PerspectiveExpression
  runtimeFriends: [String!]!
  runtimeHcAgentInfos: String!
  runtimeInfo: RuntimeInfo!
  runtimeKnownLinkLanguageTemplates: [String!]!
  runtimeMessageInbox(filter: String): [PerspectiveExpression!]!
  runtimeMessageOutbox(filter: String): [SentMessage!]!
  runtimeVerifyStringSignedByDid(data: String!, did: String!, didSigningKeyId: String!, signedData: String!): Boolean!
}

type RuntimeInfo {
  ad4mExecutorVersion: String!
}

type SentMessage {
  message: PerspectiveExpression!
  recipient: String!
}

type Subscription {
  agentStatusChanged: AgentStatus
  agentUpdated: Agent
  exceptionOccurred: ExceptionInfo
  perspectiveAdded: PerspectiveHandle
  perspectiveLinkAdded(uuid: String!): LinkExpression
  perspectiveLinkRemoved(uuid: String!): LinkExpression
  perspectiveRemoved: String
  perspectiveUpdated: PerspectiveHandle
  runtimeMessageReceived: PerspectiveExpression
}
`,typeDefs={typeDefsString};(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ad4mClient$1,t),r(Address,t),r(Agent$1,t),r(AgentStatus$1,t),r(Exception,t),r(Expression$1,t),r(ExpressionRef$1,t),r(Icon$1,t),r(Language,t),r(LanguageRef$1,t),r(LanguageContext,t),r(LanguageHandle$1,t),r(LanguageMeta$1,t),r(Links,t),r(Literal$1,t),r(Perspective$1,t),r(PerspectiveHandle$1,t),r(PerspectiveProxy$1,t),r(PerspectiveDiff$1,t),r(LinkQuery$1,t),r(Neighbourhood$1,t),r(typeDefs,t)})(src);var index=getDefaultExportFromCjs(src);module.exports=index});var _0=oe((wG,Qc)=>{y();var Xb,Zb,e0,t0,r0,n0,i0,o0,a0,Kc,ph,s0,l0,u0,Ja,c0,f0,d0,p0,h0,m0,g0,y0,v0,Gc;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof Qc=="object"&&typeof Qc.exports=="object"?t(r(e,r(Qc.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,a){return n[o]=i?i(o,a):a}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])};Xb=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},Zb=Object.assign||function(n){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},e0=function(n,i){var o={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(n);s<a.length;s++)i.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(n,a[s])&&(o[a[s]]=n[a[s]]);return o},t0=function(n,i,o,a){var s=arguments.length,l=s<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,i,o,a);else for(var c=n.length-1;c>=0;c--)(u=n[c])&&(l=(s<3?u(l):s>3?u(i,o,l):u(i,o))||l);return s>3&&l&&Object.defineProperty(i,o,l),l},r0=function(n,i){return function(o,a){i(o,a,n)}},n0=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},i0=function(n,i,o,a){function s(l){return l instanceof o?l:new o(function(u){u(l)})}return new(o||(o=Promise))(function(l,u){function c(p){try{d(a.next(p))}catch(g){u(g)}}function f(p){try{d(a.throw(p))}catch(g){u(g)}}function d(p){p.done?l(p.value):s(p.value).then(c,f)}d((a=a.apply(n,i||[])).next())})},o0=function(n,i){var o={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,s,l,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(d){return function(p){return f([d,p])}}function f(d){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,s&&(l=d[0]&2?s.return:d[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,d[1])).done)return l;switch(s=0,l&&(d=[d[0]&2,l.value]),d[0]){case 0:case 1:l=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,s=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(l=o.trys,!(l=l.length>0&&l[l.length-1])&&(d[0]===6||d[0]===2)){o=0;continue}if(d[0]===3&&(!l||d[1]>l[0]&&d[1]<l[3])){o.label=d[1];break}if(d[0]===6&&o.label<l[1]){o.label=l[1],l=d;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(d);break}l[2]&&o.ops.pop(),o.trys.pop();continue}d=i.call(n,o)}catch(p){d=[6,p],s=0}finally{a=l=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},a0=function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&Gc(i,n,o)},Gc=Object.create?function(n,i,o,a){a===void 0&&(a=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,a,s)}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]},Kc=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&n[i],a=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},ph=function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var a=o.call(n),s,l=[],u;try{for(;(i===void 0||i-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(c){u={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(u)throw u.error}}return l},s0=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(ph(arguments[i]));return n},l0=function(){for(var n=0,i=0,o=arguments.length;i<o;i++)n+=arguments[i].length;for(var a=Array(n),s=0,i=0;i<o;i++)for(var l=arguments[i],u=0,c=l.length;u<c;u++,s++)a[s]=l[u];return a},u0=function(n,i,o){if(o||arguments.length===2)for(var a=0,s=i.length,l;a<s;a++)(l||!(a in i))&&(l||(l=Array.prototype.slice.call(i,0,a)),l[a]=i[a]);return n.concat(l||Array.prototype.slice.call(i))},Ja=function(n){return this instanceof Ja?(this.v=n,this):new Ja(n)},c0=function(n,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(n,i||[]),s,l=[];return s={},u("next"),u("throw"),u("return"),s[Symbol.asyncIterator]=function(){return this},s;function u(m){a[m]&&(s[m]=function(v){return new Promise(function(b,E){l.push([m,v,b,E])>1||c(m,v)})})}function c(m,v){try{f(a[m](v))}catch(b){g(l[0][3],b)}}function f(m){m.value instanceof Ja?Promise.resolve(m.value.v).then(d,p):g(l[0][2],m)}function d(m){c("next",m)}function p(m){c("throw",m)}function g(m,v){m(v),l.shift(),l.length&&c(l[0][0],l[0][1])}},f0=function(n){var i,o;return i={},a("next"),a("throw",function(s){throw s}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(s,l){i[s]=n[s]?function(u){return(o=!o)?{value:Ja(n[s](u)),done:s==="return"}:l?l(u):u}:l}},d0=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],o;return i?i.call(n):(n=typeof Kc=="function"?Kc(n):n[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(l){o[l]=n[l]&&function(u){return new Promise(function(c,f){u=n[l](u),s(c,f,u.done,u.value)})}}function s(l,u,c,f){Promise.resolve(f).then(function(d){l({value:d,done:c})},u)}},p0=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};h0=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&Gc(i,n,o);return r(i,n),i},m0=function(n){return n&&n.__esModule?n:{default:n}},g0=function(n,i,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!a:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(n):a?a.value:i.get(n)},y0=function(n,i,o,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(n,o):s?s.value=o:i.set(n,o),o},v0=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},t("__extends",Xb),t("__assign",Zb),t("__rest",e0),t("__decorate",t0),t("__param",r0),t("__metadata",n0),t("__awaiter",i0),t("__generator",o0),t("__exportStar",a0),t("__createBinding",Gc),t("__values",Kc),t("__read",ph),t("__spread",s0),t("__spreadArrays",l0),t("__spreadArray",u0),t("__await",Ja),t("__asyncGenerator",c0),t("__asyncDelegator",f0),t("__asyncValues",d0),t("__makeTemplateObject",p0),t("__importStar",h0),t("__importDefault",m0),t("__classPrivateFieldGet",g0),t("__classPrivateFieldSet",y0),t("__classPrivateFieldIn",v0)})});var $v=oe((Eae,mT)=>{y();var IV=typeof global=="object"&&global&&global.Object===Object&&global;mT.exports=IV});var $i=oe((kae,gT)=>{y();var PV=$v(),MV=typeof self=="object"&&self&&self.Object===Object&&self,FV=PV||MV||Function("return this")();gT.exports=FV});var Ap=oe((Cae,yT)=>{y();var jV=$i(),RV=jV.Symbol;yT.exports=RV});var _T=oe((Dae,vT)=>{y();function NV(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}vT.exports=NV});var ST=oe((Tae,xT)=>{y();var bT=Ap(),wT=Object.prototype,LV=wT.hasOwnProperty,$V=wT.toString,uc=bT?bT.toStringTag:void 0;function BV(t){var e=LV.call(t,uc),r=t[uc];try{t[uc]=void 0;var n=!0}catch{}var i=$V.call(t);return n&&(e?t[uc]=r:delete t[uc]),i}xT.exports=BV});var kT=oe((Oae,ET)=>{y();var qV=Object.prototype,VV=qV.toString;function UV(t){return VV.call(t)}ET.exports=UV});var ol=oe((Aae,TT)=>{y();var CT=Ap(),zV=ST(),HV=kT(),WV="[object Null]",KV="[object Undefined]",DT=CT?CT.toStringTag:void 0;function GV(t){return t==null?t===void 0?KV:WV:DT&&DT in Object(t)?zV(t):HV(t)}TT.exports=GV});var Bv=oe((Iae,OT)=>{y();function QV(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}OT.exports=QV});var qv=oe((Pae,AT)=>{y();var YV=ol(),JV=Bv(),XV="[object AsyncFunction]",ZV="[object Function]",e2="[object GeneratorFunction]",t2="[object Proxy]";function r2(t){if(!JV(t))return!1;var e=YV(t);return e==ZV||e==e2||e==XV||e==t2}AT.exports=r2});var PT=oe((Mae,IT)=>{y();var n2=$i(),i2=n2["__core-js_shared__"];IT.exports=i2});var jT=oe((Fae,FT)=>{y();var Vv=PT(),MT=function(){var t=/[^.]+$/.exec(Vv&&Vv.keys&&Vv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function o2(t){return!!MT&&MT in t}FT.exports=o2});var Uv=oe((jae,RT)=>{y();var a2=Function.prototype,s2=a2.toString;function l2(t){if(t!=null){try{return s2.call(t)}catch{}try{return t+""}catch{}}return""}RT.exports=l2});var LT=oe((Rae,NT)=>{y();var u2=qv(),c2=jT(),f2=Bv(),d2=Uv(),p2=/[\\^$.*+?()[\]{}|]/g,h2=/^\[object .+?Constructor\]$/,m2=Function.prototype,g2=Object.prototype,y2=m2.toString,v2=g2.hasOwnProperty,_2=RegExp("^"+y2.call(v2).replace(p2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b2(t){if(!f2(t)||c2(t))return!1;var e=u2(t)?_2:h2;return e.test(d2(t))}NT.exports=b2});var BT=oe((Nae,$T)=>{y();function w2(t,e){return t==null?void 0:t[e]}$T.exports=w2});var al=oe((Lae,qT)=>{y();var x2=LT(),S2=BT();function E2(t,e){var r=S2(t,e);return x2(r)?r:void 0}qT.exports=E2});var UT=oe(($ae,VT)=>{y();var k2=al(),C2=$i(),D2=k2(C2,"DataView");VT.exports=D2});var HT=oe((Bae,zT)=>{y();var T2=al(),O2=$i(),A2=T2(O2,"Map");zT.exports=A2});var KT=oe((qae,WT)=>{y();var I2=al(),P2=$i(),M2=I2(P2,"Promise");WT.exports=M2});var QT=oe((Vae,GT)=>{y();var F2=al(),j2=$i(),R2=F2(j2,"Set");GT.exports=R2});var JT=oe((Uae,YT)=>{y();var N2=al(),L2=$i(),$2=N2(L2,"WeakMap");YT.exports=$2});var o1=oe((zae,i1)=>{y();var zv=UT(),Hv=HT(),Wv=KT(),Kv=QT(),Gv=JT(),XT=ol(),sl=Uv(),ZT="[object Map]",B2="[object Object]",e1="[object Promise]",t1="[object Set]",r1="[object WeakMap]",n1="[object DataView]",q2=sl(zv),V2=sl(Hv),U2=sl(Wv),z2=sl(Kv),H2=sl(Gv),La=XT;(zv&&La(new zv(new ArrayBuffer(1)))!=n1||Hv&&La(new Hv)!=ZT||Wv&&La(Wv.resolve())!=e1||Kv&&La(new Kv)!=t1||Gv&&La(new Gv)!=r1)&&(La=function(t){var e=XT(t),r=e==B2?t.constructor:void 0,n=r?sl(r):"";if(n)switch(n){case q2:return n1;case V2:return ZT;case U2:return e1;case z2:return t1;case H2:return r1}return e});i1.exports=La});var Qv=oe((Hae,a1)=>{y();var W2=9007199254740991;function K2(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=W2}a1.exports=K2});var Yv=oe((Wae,s1)=>{y();var G2=qv(),Q2=Qv();function Y2(t){return t!=null&&Q2(t.length)&&!G2(t)}s1.exports=Y2});var Jv=oe((Kae,l1)=>{y();var J2=Array.isArray;l1.exports=J2});var cc=oe((Gae,u1)=>{y();function X2(t){return t!=null&&typeof t=="object"}u1.exports=X2});var f1=oe((Qae,c1)=>{y();var Z2=ol(),eU=Jv(),tU=cc(),rU="[object String]";function nU(t){return typeof t=="string"||!eU(t)&&tU(t)&&Z2(t)==rU}c1.exports=nU});var p1=oe((Yae,d1)=>{y();function iU(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}d1.exports=iU});var m1=oe((Jae,h1)=>{y();function oU(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}h1.exports=oU});var y1=oe((Xae,g1)=>{y();function aU(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}g1.exports=aU});var _1=oe((Zae,v1)=>{y();function sU(t){return t.split("")}v1.exports=sU});var w1=oe((ese,b1)=>{y();var lU="\\ud800-\\udfff",uU="\\u0300-\\u036f",cU="\\ufe20-\\ufe2f",fU="\\u20d0-\\u20ff",dU=uU+cU+fU,pU="\\ufe0e\\ufe0f",hU="\\u200d",mU=RegExp("["+hU+lU+dU+pU+"]");function gU(t){return mU.test(t)}b1.exports=gU});var O1=oe((tse,T1)=>{y();var x1="\\ud800-\\udfff",yU="\\u0300-\\u036f",vU="\\ufe20-\\ufe2f",_U="\\u20d0-\\u20ff",bU=yU+vU+_U,wU="\\ufe0e\\ufe0f",xU="["+x1+"]",Xv="["+bU+"]",Zv="\\ud83c[\\udffb-\\udfff]",SU="(?:"+Xv+"|"+Zv+")",S1="[^"+x1+"]",E1="(?:\\ud83c[\\udde6-\\uddff]){2}",k1="[\\ud800-\\udbff][\\udc00-\\udfff]",EU="\\u200d",C1=SU+"?",D1="["+wU+"]?",kU="(?:"+EU+"(?:"+[S1,E1,k1].join("|")+")"+D1+C1+")*",CU=D1+C1+kU,DU="(?:"+[S1+Xv+"?",Xv,E1,k1,xU].join("|")+")",TU=RegExp(Zv+"(?="+Zv+")|"+DU+CU,"g");function OU(t){return t.match(TU)||[]}T1.exports=OU});var I1=oe((rse,A1)=>{y();var AU=_1(),IU=w1(),PU=O1();function MU(t){return IU(t)?PU(t):AU(t)}A1.exports=MU});var M1=oe((nse,P1)=>{y();function FU(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}P1.exports=FU});var j1=oe((ise,F1)=>{y();var jU=M1();function RU(t,e){return jU(e,function(r){return t[r]})}F1.exports=RU});var N1=oe((ose,R1)=>{y();function NU(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}R1.exports=NU});var $1=oe((ase,L1)=>{y();var LU=ol(),$U=cc(),BU="[object Arguments]";function qU(t){return $U(t)&&LU(t)==BU}L1.exports=qU});var U1=oe((sse,V1)=>{y();var B1=$1(),VU=cc(),q1=Object.prototype,UU=q1.hasOwnProperty,zU=q1.propertyIsEnumerable,HU=B1(function(){return arguments}())?B1:function(t){return VU(t)&&UU.call(t,"callee")&&!zU.call(t,"callee")};V1.exports=HU});var H1=oe((lse,z1)=>{y();function WU(){return!1}z1.exports=WU});var Q1=oe((fc,ll)=>{y();var KU=$i(),GU=H1(),W1=typeof fc=="object"&&fc&&!fc.nodeType&&fc,K1=W1&&typeof ll=="object"&&ll&&!ll.nodeType&&ll,QU=K1&&K1.exports===W1,G1=QU?KU.Buffer:void 0,YU=G1?G1.isBuffer:void 0,JU=YU||GU;ll.exports=JU});var J1=oe((use,Y1)=>{y();var XU=9007199254740991,ZU=/^(?:0|[1-9]\d*)$/;function ez(t,e){var r=typeof t;return e=e??XU,!!e&&(r=="number"||r!="symbol"&&ZU.test(t))&&t>-1&&t%1==0&&t<e}Y1.exports=ez});var Z1=oe((cse,X1)=>{y();var tz=ol(),rz=Qv(),nz=cc(),iz="[object Arguments]",oz="[object Array]",az="[object Boolean]",sz="[object Date]",lz="[object Error]",uz="[object Function]",cz="[object Map]",fz="[object Number]",dz="[object Object]",pz="[object RegExp]",hz="[object Set]",mz="[object String]",gz="[object WeakMap]",yz="[object ArrayBuffer]",vz="[object DataView]",_z="[object Float32Array]",bz="[object Float64Array]",wz="[object Int8Array]",xz="[object Int16Array]",Sz="[object Int32Array]",Ez="[object Uint8Array]",kz="[object Uint8ClampedArray]",Cz="[object Uint16Array]",Dz="[object Uint32Array]",pt={};pt[_z]=pt[bz]=pt[wz]=pt[xz]=pt[Sz]=pt[Ez]=pt[kz]=pt[Cz]=pt[Dz]=!0;pt[iz]=pt[oz]=pt[yz]=pt[az]=pt[vz]=pt[sz]=pt[lz]=pt[uz]=pt[cz]=pt[fz]=pt[dz]=pt[pz]=pt[hz]=pt[mz]=pt[gz]=!1;function Tz(t){return nz(t)&&rz(t.length)&&!!pt[tz(t)]}X1.exports=Tz});var tO=oe((fse,eO)=>{y();function Oz(t){return function(e){return t(e)}}eO.exports=Oz});var nO=oe((pc,ul)=>{y();var Az=$v(),rO=typeof pc=="object"&&pc&&!pc.nodeType&&pc,dc=rO&&typeof ul=="object"&&ul&&!ul.nodeType&&ul,Iz=dc&&dc.exports===rO,e_=Iz&&Az.process,Pz=function(){try{var t=dc&&dc.require&&dc.require("util").types;return t||e_&&e_.binding&&e_.binding("util")}catch{}}();ul.exports=Pz});var sO=oe((dse,aO)=>{y();var Mz=Z1(),Fz=tO(),iO=nO(),oO=iO&&iO.isTypedArray,jz=oO?Fz(oO):Mz;aO.exports=jz});var uO=oe((pse,lO)=>{y();var Rz=N1(),Nz=U1(),Lz=Jv(),$z=Q1(),Bz=J1(),qz=sO(),Vz=Object.prototype,Uz=Vz.hasOwnProperty;function zz(t,e){var r=Lz(t),n=!r&&Nz(t),i=!r&&!n&&$z(t),o=!r&&!n&&!i&&qz(t),a=r||n||i||o,s=a?Rz(t.length,String):[],l=s.length;for(var u in t)(e||Uz.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Bz(u,l)))&&s.push(u);return s}lO.exports=zz});var fO=oe((hse,cO)=>{y();var Hz=Object.prototype;function Wz(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Hz;return t===r}cO.exports=Wz});var pO=oe((mse,dO)=>{y();function Kz(t,e){return function(r){return t(e(r))}}dO.exports=Kz});var mO=oe((gse,hO)=>{y();var Gz=pO(),Qz=Gz(Object.keys,Object);hO.exports=Qz});var yO=oe((yse,gO)=>{y();var Yz=fO(),Jz=mO(),Xz=Object.prototype,Zz=Xz.hasOwnProperty;function eH(t){if(!Yz(t))return Jz(t);var e=[];for(var r in Object(t))Zz.call(t,r)&&r!="constructor"&&e.push(r);return e}gO.exports=eH});var _O=oe((vse,vO)=>{y();var tH=uO(),rH=yO(),nH=Yv();function iH(t){return nH(t)?tH(t):rH(t)}vO.exports=iH});var wO=oe((_se,bO)=>{y();var oH=j1(),aH=_O();function sH(t){return t==null?[]:oH(t,aH(t))}bO.exports=sH});var EO=oe((bse,SO)=>{y();var xO=Ap(),lH=_T(),uH=o1(),cH=Yv(),fH=f1(),dH=p1(),pH=m1(),hH=y1(),mH=I1(),gH=wO(),yH="[object Map]",vH="[object Set]",t_=xO?xO.iterator:void 0;function _H(t){if(!t)return[];if(cH(t))return fH(t)?mH(t):lH(t);if(t_&&t[t_])return dH(t[t_]());var e=uH(t),r=e==yH?pH:e==vH?hH:gH;return r(t)}SO.exports=_H});var kO=oe((wse,bH)=>{bH.exports={"100":"\u{1F4AF}","1234":"\u{1F522}",umbrella_with_rain_drops:"\u2614",coffee:"\u2615",aries:"\u2648",taurus:"\u2649",sagittarius:"\u2650",capricorn:"\u2651",aquarius:"\u2652",pisces:"\u2653",anchor:"\u2693",white_check_mark:"\u2705",sparkles:"\u2728",question:"\u2753",grey_question:"\u2754",grey_exclamation:"\u2755",exclamation:"\u2757",heavy_exclamation_mark:"\u2757",heavy_plus_sign:"\u2795",heavy_minus_sign:"\u2796",heavy_division_sign:"\u2797",hash:"#\uFE0F\u20E3",keycap_star:"*\uFE0F\u20E3",zero:"0\uFE0F\u20E3",one:"1\uFE0F\u20E3",two:"2\uFE0F\u20E3",three:"3\uFE0F\u20E3",four:"4\uFE0F\u20E3",five:"5\uFE0F\u20E3",six:"6\uFE0F\u20E3",seven:"7\uFE0F\u20E3",eight:"8\uFE0F\u20E3",nine:"9\uFE0F\u20E3",copyright:"\xA9\uFE0F",registered:"\xAE\uFE0F",mahjong:"\u{1F004}",black_joker:"\u{1F0CF}",a:"\u{1F170}\uFE0F",b:"\u{1F171}\uFE0F",o2:"\u{1F17E}\uFE0F",parking:"\u{1F17F}\uFE0F",ab:"\u{1F18E}",cl:"\u{1F191}",cool:"\u{1F192}",free:"\u{1F193}",id:"\u{1F194}",new:"\u{1F195}",ng:"\u{1F196}",ok:"\u{1F197}",sos:"\u{1F198}",up:"\u{1F199}",vs:"\u{1F19A}","flag-ac":"\u{1F1E6}\u{1F1E8}","flag-ad":"\u{1F1E6}\u{1F1E9}","flag-ae":"\u{1F1E6}\u{1F1EA}","flag-af":"\u{1F1E6}\u{1F1EB}","flag-ag":"\u{1F1E6}\u{1F1EC}","flag-ai":"\u{1F1E6}\u{1F1EE}","flag-al":"\u{1F1E6}\u{1F1F1}","flag-am":"\u{1F1E6}\u{1F1F2}","flag-ao":"\u{1F1E6}\u{1F1F4}","flag-aq":"\u{1F1E6}\u{1F1F6}","flag-ar":"\u{1F1E6}\u{1F1F7}","flag-as":"\u{1F1E6}\u{1F1F8}","flag-at":"\u{1F1E6}\u{1F1F9}","flag-au":"\u{1F1E6}\u{1F1FA}","flag-aw":"\u{1F1E6}\u{1F1FC}","flag-ax":"\u{1F1E6}\u{1F1FD}","flag-az":"\u{1F1E6}\u{1F1FF}","flag-ba":"\u{1F1E7}\u{1F1E6}","flag-bb":"\u{1F1E7}\u{1F1E7}","flag-bd":"\u{1F1E7}\u{1F1E9}","flag-be":"\u{1F1E7}\u{1F1EA}","flag-bf":"\u{1F1E7}\u{1F1EB}","flag-bg":"\u{1F1E7}\u{1F1EC}","flag-bh":"\u{1F1E7}\u{1F1ED}","flag-bi":"\u{1F1E7}\u{1F1EE}","flag-bj":"\u{1F1E7}\u{1F1EF}","flag-bl":"\u{1F1E7}\u{1F1F1}","flag-bm":"\u{1F1E7}\u{1F1F2}","flag-bn":"\u{1F1E7}\u{1F1F3}","flag-bo":"\u{1F1E7}\u{1F1F4}","flag-bq":"\u{1F1E7}\u{1F1F6}","flag-br":"\u{1F1E7}\u{1F1F7}","flag-bs":"\u{1F1E7}\u{1F1F8}","flag-bt":"\u{1F1E7}\u{1F1F9}","flag-bv":"\u{1F1E7}\u{1F1FB}","flag-bw":"\u{1F1E7}\u{1F1FC}","flag-by":"\u{1F1E7}\u{1F1FE}","flag-bz":"\u{1F1E7}\u{1F1FF}","flag-ca":"\u{1F1E8}\u{1F1E6}","flag-cc":"\u{1F1E8}\u{1F1E8}","flag-cd":"\u{1F1E8}\u{1F1E9}","flag-cf":"\u{1F1E8}\u{1F1EB}","flag-cg":"\u{1F1E8}\u{1F1EC}","flag-ch":"\u{1F1E8}\u{1F1ED}","flag-ci":"\u{1F1E8}\u{1F1EE}","flag-ck":"\u{1F1E8}\u{1F1F0}","flag-cl":"\u{1F1E8}\u{1F1F1}","flag-cm":"\u{1F1E8}\u{1F1F2}",cn:"\u{1F1E8}\u{1F1F3}","flag-cn":"\u{1F1E8}\u{1F1F3}","flag-co":"\u{1F1E8}\u{1F1F4}","flag-cp":"\u{1F1E8}\u{1F1F5}","flag-cr":"\u{1F1E8}\u{1F1F7}","flag-cu":"\u{1F1E8}\u{1F1FA}","flag-cv":"\u{1F1E8}\u{1F1FB}","flag-cw":"\u{1F1E8}\u{1F1FC}","flag-cx":"\u{1F1E8}\u{1F1FD}","flag-cy":"\u{1F1E8}\u{1F1FE}","flag-cz":"\u{1F1E8}\u{1F1FF}",de:"\u{1F1E9}\u{1F1EA}","flag-de":"\u{1F1E9}\u{1F1EA}","flag-dg":"\u{1F1E9}\u{1F1EC}","flag-dj":"\u{1F1E9}\u{1F1EF}","flag-dk":"\u{1F1E9}\u{1F1F0}","flag-dm":"\u{1F1E9}\u{1F1F2}","flag-do":"\u{1F1E9}\u{1F1F4}","flag-dz":"\u{1F1E9}\u{1F1FF}","flag-ea":"\u{1F1EA}\u{1F1E6}","flag-ec":"\u{1F1EA}\u{1F1E8}","flag-ee":"\u{1F1EA}\u{1F1EA}","flag-eg":"\u{1F1EA}\u{1F1EC}","flag-eh":"\u{1F1EA}\u{1F1ED}","flag-er":"\u{1F1EA}\u{1F1F7}",es:"\u{1F1EA}\u{1F1F8}","flag-es":"\u{1F1EA}\u{1F1F8}","flag-et":"\u{1F1EA}\u{1F1F9}","flag-eu":"\u{1F1EA}\u{1F1FA}","flag-fi":"\u{1F1EB}\u{1F1EE}","flag-fj":"\u{1F1EB}\u{1F1EF}","flag-fk":"\u{1F1EB}\u{1F1F0}","flag-fm":"\u{1F1EB}\u{1F1F2}","flag-fo":"\u{1F1EB}\u{1F1F4}",fr:"\u{1F1EB}\u{1F1F7}","flag-fr":"\u{1F1EB}\u{1F1F7}","flag-ga":"\u{1F1EC}\u{1F1E6}",gb:"\u{1F1EC}\u{1F1E7}",uk:"\u{1F1EC}\u{1F1E7}","flag-gb":"\u{1F1EC}\u{1F1E7}","flag-gd":"\u{1F1EC}\u{1F1E9}","flag-ge":"\u{1F1EC}\u{1F1EA}","flag-gf":"\u{1F1EC}\u{1F1EB}","flag-gg":"\u{1F1EC}\u{1F1EC}","flag-gh":"\u{1F1EC}\u{1F1ED}","flag-gi":"\u{1F1EC}\u{1F1EE}","flag-gl":"\u{1F1EC}\u{1F1F1}","flag-gm":"\u{1F1EC}\u{1F1F2}","flag-gn":"\u{1F1EC}\u{1F1F3}","flag-gp":"\u{1F1EC}\u{1F1F5}","flag-gq":"\u{1F1EC}\u{1F1F6}","flag-gr":"\u{1F1EC}\u{1F1F7}","flag-gs":"\u{1F1EC}\u{1F1F8}","flag-gt":"\u{1F1EC}\u{1F1F9}","flag-gu":"\u{1F1EC}\u{1F1FA}","flag-gw":"\u{1F1EC}\u{1F1FC}","flag-gy":"\u{1F1EC}\u{1F1FE}","flag-hk":"\u{1F1ED}\u{1F1F0}","flag-hm":"\u{1F1ED}\u{1F1F2}","flag-hn":"\u{1F1ED}\u{1F1F3}","flag-hr":"\u{1F1ED}\u{1F1F7}","flag-ht":"\u{1F1ED}\u{1F1F9}","flag-hu":"\u{1F1ED}\u{1F1FA}","flag-ic":"\u{1F1EE}\u{1F1E8}","flag-id":"\u{1F1EE}\u{1F1E9}","flag-ie":"\u{1F1EE}\u{1F1EA}","flag-il":"\u{1F1EE}\u{1F1F1}","flag-im":"\u{1F1EE}\u{1F1F2}","flag-in":"\u{1F1EE}\u{1F1F3}","flag-io":"\u{1F1EE}\u{1F1F4}","flag-iq":"\u{1F1EE}\u{1F1F6}","flag-ir":"\u{1F1EE}\u{1F1F7}","flag-is":"\u{1F1EE}\u{1F1F8}",it:"\u{1F1EE}\u{1F1F9}","flag-it":"\u{1F1EE}\u{1F1F9}","flag-je":"\u{1F1EF}\u{1F1EA}","flag-jm":"\u{1F1EF}\u{1F1F2}","flag-jo":"\u{1F1EF}\u{1F1F4}",jp:"\u{1F1EF}\u{1F1F5}","flag-jp":"\u{1F1EF}\u{1F1F5}","flag-ke":"\u{1F1F0}\u{1F1EA}","flag-kg":"\u{1F1F0}\u{1F1EC}","flag-kh":"\u{1F1F0}\u{1F1ED}","flag-ki":"\u{1F1F0}\u{1F1EE}","flag-km":"\u{1F1F0}\u{1F1F2}","flag-kn":"\u{1F1F0}\u{1F1F3}","flag-kp":"\u{1F1F0}\u{1F1F5}",kr:"\u{1F1F0}\u{1F1F7}","flag-kr":"\u{1F1F0}\u{1F1F7}","flag-kw":"\u{1F1F0}\u{1F1FC}","flag-ky":"\u{1F1F0}\u{1F1FE}","flag-kz":"\u{1F1F0}\u{1F1FF}","flag-la":"\u{1F1F1}\u{1F1E6}","flag-lb":"\u{1F1F1}\u{1F1E7}","flag-lc":"\u{1F1F1}\u{1F1E8}","flag-li":"\u{1F1F1}\u{1F1EE}","flag-lk":"\u{1F1F1}\u{1F1F0}","flag-lr":"\u{1F1F1}\u{1F1F7}","flag-ls":"\u{1F1F1}\u{1F1F8}","flag-lt":"\u{1F1F1}\u{1F1F9}","flag-lu":"\u{1F1F1}\u{1F1FA}","flag-lv":"\u{1F1F1}\u{1F1FB}","flag-ly":"\u{1F1F1}\u{1F1FE}","flag-ma":"\u{1F1F2}\u{1F1E6}","flag-mc":"\u{1F1F2}\u{1F1E8}","flag-md":"\u{1F1F2}\u{1F1E9}","flag-me":"\u{1F1F2}\u{1F1EA}","flag-mf":"\u{1F1F2}\u{1F1EB}","flag-mg":"\u{1F1F2}\u{1F1EC}","flag-mh":"\u{1F1F2}\u{1F1ED}","flag-mk":"\u{1F1F2}\u{1F1F0}","flag-ml":"\u{1F1F2}\u{1F1F1}","flag-mm":"\u{1F1F2}\u{1F1F2}","flag-mn":"\u{1F1F2}\u{1F1F3}","flag-mo":"\u{1F1F2}\u{1F1F4}","flag-mp":"\u{1F1F2}\u{1F1F5}","flag-mq":"\u{1F1F2}\u{1F1F6}","flag-mr":"\u{1F1F2}\u{1F1F7}","flag-ms":"\u{1F1F2}\u{1F1F8}","flag-mt":"\u{1F1F2}\u{1F1F9}","flag-mu":"\u{1F1F2}\u{1F1FA}","flag-mv":"\u{1F1F2}\u{1F1FB}","flag-mw":"\u{1F1F2}\u{1F1FC}","flag-mx":"\u{1F1F2}\u{1F1FD}","flag-my":"\u{1F1F2}\u{1F1FE}","flag-mz":"\u{1F1F2}\u{1F1FF}","flag-na":"\u{1F1F3}\u{1F1E6}","flag-nc":"\u{1F1F3}\u{1F1E8}","flag-ne":"\u{1F1F3}\u{1F1EA}","flag-nf":"\u{1F1F3}\u{1F1EB}","flag-ng":"\u{1F1F3}\u{1F1EC}","flag-ni":"\u{1F1F3}\u{1F1EE}","flag-nl":"\u{1F1F3}\u{1F1F1}","flag-no":"\u{1F1F3}\u{1F1F4}","flag-np":"\u{1F1F3}\u{1F1F5}","flag-nr":"\u{1F1F3}\u{1F1F7}","flag-nu":"\u{1F1F3}\u{1F1FA}","flag-nz":"\u{1F1F3}\u{1F1FF}","flag-om":"\u{1F1F4}\u{1F1F2}","flag-pa":"\u{1F1F5}\u{1F1E6}","flag-pe":"\u{1F1F5}\u{1F1EA}","flag-pf":"\u{1F1F5}\u{1F1EB}","flag-pg":"\u{1F1F5}\u{1F1EC}","flag-ph":"\u{1F1F5}\u{1F1ED}","flag-pk":"\u{1F1F5}\u{1F1F0}","flag-pl":"\u{1F1F5}\u{1F1F1}","flag-pm":"\u{1F1F5}\u{1F1F2}","flag-pn":"\u{1F1F5}\u{1F1F3}","flag-pr":"\u{1F1F5}\u{1F1F7}","flag-ps":"\u{1F1F5}\u{1F1F8}","flag-pt":"\u{1F1F5}\u{1F1F9}","flag-pw":"\u{1F1F5}\u{1F1FC}","flag-py":"\u{1F1F5}\u{1F1FE}","flag-qa":"\u{1F1F6}\u{1F1E6}","flag-re":"\u{1F1F7}\u{1F1EA}","flag-ro":"\u{1F1F7}\u{1F1F4}","flag-rs":"\u{1F1F7}\u{1F1F8}",ru:"\u{1F1F7}\u{1F1FA}","flag-ru":"\u{1F1F7}\u{1F1FA}","flag-rw":"\u{1F1F7}\u{1F1FC}","flag-sa":"\u{1F1F8}\u{1F1E6}","flag-sb":"\u{1F1F8}\u{1F1E7}","flag-sc":"\u{1F1F8}\u{1F1E8}","flag-sd":"\u{1F1F8}\u{1F1E9}","flag-se":"\u{1F1F8}\u{1F1EA}","flag-sg":"\u{1F1F8}\u{1F1EC}","flag-sh":"\u{1F1F8}\u{1F1ED}","flag-si":"\u{1F1F8}\u{1F1EE}","flag-sj":"\u{1F1F8}\u{1F1EF}","flag-sk":"\u{1F1F8}\u{1F1F0}","flag-sl":"\u{1F1F8}\u{1F1F1}","flag-sm":"\u{1F1F8}\u{1F1F2}","flag-sn":"\u{1F1F8}\u{1F1F3}","flag-so":"\u{1F1F8}\u{1F1F4}","flag-sr":"\u{1F1F8}\u{1F1F7}","flag-ss":"\u{1F1F8}\u{1F1F8}","flag-st":"\u{1F1F8}\u{1F1F9}","flag-sv":"\u{1F1F8}\u{1F1FB}","flag-sx":"\u{1F1F8}\u{1F1FD}","flag-sy":"\u{1F1F8}\u{1F1FE}","flag-sz":"\u{1F1F8}\u{1F1FF}","flag-ta":"\u{1F1F9}\u{1F1E6}","flag-tc":"\u{1F1F9}\u{1F1E8}","flag-td":"\u{1F1F9}\u{1F1E9}","flag-tf":"\u{1F1F9}\u{1F1EB}","flag-tg":"\u{1F1F9}\u{1F1EC}","flag-th":"\u{1F1F9}\u{1F1ED}","flag-tj":"\u{1F1F9}\u{1F1EF}","flag-tk":"\u{1F1F9}\u{1F1F0}","flag-tl":"\u{1F1F9}\u{1F1F1}","flag-tm":"\u{1F1F9}\u{1F1F2}","flag-tn":"\u{1F1F9}\u{1F1F3}","flag-to":"\u{1F1F9}\u{1F1F4}","flag-tr":"\u{1F1F9}\u{1F1F7}","flag-tt":"\u{1F1F9}\u{1F1F9}","flag-tv":"\u{1F1F9}\u{1F1FB}","flag-tw":"\u{1F1F9}\u{1F1FC}","flag-tz":"\u{1F1F9}\u{1F1FF}","flag-ua":"\u{1F1FA}\u{1F1E6}","flag-ug":"\u{1F1FA}\u{1F1EC}","flag-um":"\u{1F1FA}\u{1F1F2}","flag-un":"\u{1F1FA}\u{1F1F3}",us:"\u{1F1FA}\u{1F1F8}","flag-us":"\u{1F1FA}\u{1F1F8}","flag-uy":"\u{1F1FA}\u{1F1FE}","flag-uz":"\u{1F1FA}\u{1F1FF}","flag-va":"\u{1F1FB}\u{1F1E6}","flag-vc":"\u{1F1FB}\u{1F1E8}","flag-ve":"\u{1F1FB}\u{1F1EA}","flag-vg":"\u{1F1FB}\u{1F1EC}","flag-vi":"\u{1F1FB}\u{1F1EE}","flag-vn":"\u{1F1FB}\u{1F1F3}","flag-vu":"\u{1F1FB}\u{1F1FA}","flag-wf":"\u{1F1FC}\u{1F1EB}","flag-ws":"\u{1F1FC}\u{1F1F8}","flag-xk":"\u{1F1FD}\u{1F1F0}","flag-ye":"\u{1F1FE}\u{1F1EA}","flag-yt":"\u{1F1FE}\u{1F1F9}","flag-za":"\u{1F1FF}\u{1F1E6}","flag-zm":"\u{1F1FF}\u{1F1F2}","flag-zw":"\u{1F1FF}\u{1F1FC}",koko:"\u{1F201}",sa:"\u{1F202}\uFE0F",u7121:"\u{1F21A}",u6307:"\u{1F22F}",u7981:"\u{1F232}",u7a7a:"\u{1F233}",u5408:"\u{1F234}",u6e80:"\u{1F235}",u6709:"\u{1F236}",u6708:"\u{1F237}\uFE0F",u7533:"\u{1F238}",u5272:"\u{1F239}",u55b6:"\u{1F23A}",ideograph_advantage:"\u{1F250}",accept:"\u{1F251}",cyclone:"\u{1F300}",foggy:"\u{1F301}",closed_umbrella:"\u{1F302}",night_with_stars:"\u{1F303}",sunrise_over_mountains:"\u{1F304}",sunrise:"\u{1F305}",city_sunset:"\u{1F306}",city_sunrise:"\u{1F307}",rainbow:"\u{1F308}",bridge_at_night:"\u{1F309}",ocean:"\u{1F30A}",volcano:"\u{1F30B}",milky_way:"\u{1F30C}",earth_africa:"\u{1F30D}",earth_americas:"\u{1F30E}",earth_asia:"\u{1F30F}",globe_with_meridians:"\u{1F310}",new_moon:"\u{1F311}",waxing_crescent_moon:"\u{1F312}",first_quarter_moon:"\u{1F313}",moon:"\u{1F314}",waxing_gibbous_moon:"\u{1F314}",full_moon:"\u{1F315}",waning_gibbous_moon:"\u{1F316}",last_quarter_moon:"\u{1F317}",waning_crescent_moon:"\u{1F318}",crescent_moon:"\u{1F319}",new_moon_with_face:"\u{1F31A}",first_quarter_moon_with_face:"\u{1F31B}",last_quarter_moon_with_face:"\u{1F31C}",full_moon_with_face:"\u{1F31D}",sun_with_face:"\u{1F31E}",star2:"\u{1F31F}",stars:"\u{1F320}",thermometer:"\u{1F321}\uFE0F",mostly_sunny:"\u{1F324}\uFE0F",sun_small_cloud:"\u{1F324}\uFE0F",barely_sunny:"\u{1F325}\uFE0F",sun_behind_cloud:"\u{1F325}\uFE0F",partly_sunny_rain:"\u{1F326}\uFE0F",sun_behind_rain_cloud:"\u{1F326}\uFE0F",rain_cloud:"\u{1F327}\uFE0F",snow_cloud:"\u{1F328}\uFE0F",lightning:"\u{1F329}\uFE0F",lightning_cloud:"\u{1F329}\uFE0F",tornado:"\u{1F32A}\uFE0F",tornado_cloud:"\u{1F32A}\uFE0F",fog:"\u{1F32B}\uFE0F",wind_blowing_face:"\u{1F32C}\uFE0F",hotdog:"\u{1F32D}",taco:"\u{1F32E}",burrito:"\u{1F32F}",chestnut:"\u{1F330}",seedling:"\u{1F331}",evergreen_tree:"\u{1F332}",deciduous_tree:"\u{1F333}",palm_tree:"\u{1F334}",cactus:"\u{1F335}",hot_pepper:"\u{1F336}\uFE0F",tulip:"\u{1F337}",cherry_blossom:"\u{1F338}",rose:"\u{1F339}",hibiscus:"\u{1F33A}",sunflower:"\u{1F33B}",blossom:"\u{1F33C}",corn:"\u{1F33D}",ear_of_rice:"\u{1F33E}",herb:"\u{1F33F}",four_leaf_clover:"\u{1F340}",maple_leaf:"\u{1F341}",fallen_leaf:"\u{1F342}",leaves:"\u{1F343}",mushroom:"\u{1F344}",tomato:"\u{1F345}",eggplant:"\u{1F346}",grapes:"\u{1F347}",melon:"\u{1F348}",watermelon:"\u{1F349}",tangerine:"\u{1F34A}",lemon:"\u{1F34B}",banana:"\u{1F34C}",pineapple:"\u{1F34D}",apple:"\u{1F34E}",green_apple:"\u{1F34F}",pear:"\u{1F350}",peach:"\u{1F351}",cherries:"\u{1F352}",strawberry:"\u{1F353}",hamburger:"\u{1F354}",pizza:"\u{1F355}",meat_on_bone:"\u{1F356}",poultry_leg:"\u{1F357}",rice_cracker:"\u{1F358}",rice_ball:"\u{1F359}",rice:"\u{1F35A}",curry:"\u{1F35B}",ramen:"\u{1F35C}",spaghetti:"\u{1F35D}",bread:"\u{1F35E}",fries:"\u{1F35F}",sweet_potato:"\u{1F360}",dango:"\u{1F361}",oden:"\u{1F362}",sushi:"\u{1F363}",fried_shrimp:"\u{1F364}",fish_cake:"\u{1F365}",icecream:"\u{1F366}",shaved_ice:"\u{1F367}",ice_cream:"\u{1F368}",doughnut:"\u{1F369}",cookie:"\u{1F36A}",chocolate_bar:"\u{1F36B}",candy:"\u{1F36C}",lollipop:"\u{1F36D}",custard:"\u{1F36E}",honey_pot:"\u{1F36F}",cake:"\u{1F370}",bento:"\u{1F371}",stew:"\u{1F372}",fried_egg:"\u{1F373}",cooking:"\u{1F373}",fork_and_knife:"\u{1F374}",tea:"\u{1F375}",sake:"\u{1F376}",wine_glass:"\u{1F377}",cocktail:"\u{1F378}",tropical_drink:"\u{1F379}",beer:"\u{1F37A}",beers:"\u{1F37B}",baby_bottle:"\u{1F37C}",knife_fork_plate:"\u{1F37D}\uFE0F",champagne:"\u{1F37E}",popcorn:"\u{1F37F}",ribbon:"\u{1F380}",gift:"\u{1F381}",birthday:"\u{1F382}",jack_o_lantern:"\u{1F383}",christmas_tree:"\u{1F384}",santa:"\u{1F385}",fireworks:"\u{1F386}",sparkler:"\u{1F387}",balloon:"\u{1F388}",tada:"\u{1F389}",confetti_ball:"\u{1F38A}",tanabata_tree:"\u{1F38B}",crossed_flags:"\u{1F38C}",bamboo:"\u{1F38D}",dolls:"\u{1F38E}",flags:"\u{1F38F}",wind_chime:"\u{1F390}",rice_scene:"\u{1F391}",school_satchel:"\u{1F392}",mortar_board:"\u{1F393}",medal:"\u{1F396}\uFE0F",reminder_ribbon:"\u{1F397}\uFE0F",studio_microphone:"\u{1F399}\uFE0F",level_slider:"\u{1F39A}\uFE0F",control_knobs:"\u{1F39B}\uFE0F",film_frames:"\u{1F39E}\uFE0F",admission_tickets:"\u{1F39F}\uFE0F",carousel_horse:"\u{1F3A0}",ferris_wheel:"\u{1F3A1}",roller_coaster:"\u{1F3A2}",fishing_pole_and_fish:"\u{1F3A3}",microphone:"\u{1F3A4}",movie_camera:"\u{1F3A5}",cinema:"\u{1F3A6}",headphones:"\u{1F3A7}",art:"\u{1F3A8}",tophat:"\u{1F3A9}",circus_tent:"\u{1F3AA}",ticket:"\u{1F3AB}",clapper:"\u{1F3AC}",performing_arts:"\u{1F3AD}",video_game:"\u{1F3AE}",dart:"\u{1F3AF}",slot_machine:"\u{1F3B0}","8ball":"\u{1F3B1}",game_die:"\u{1F3B2}",bowling:"\u{1F3B3}",flower_playing_cards:"\u{1F3B4}",musical_note:"\u{1F3B5}",notes:"\u{1F3B6}",saxophone:"\u{1F3B7}",guitar:"\u{1F3B8}",musical_keyboard:"\u{1F3B9}",trumpet:"\u{1F3BA}",violin:"\u{1F3BB}",musical_score:"\u{1F3BC}",running_shirt_with_sash:"\u{1F3BD}",tennis:"\u{1F3BE}",ski:"\u{1F3BF}",basketball:"\u{1F3C0}",checkered_flag:"\u{1F3C1}",snowboarder:"\u{1F3C2}","woman-running":"\u{1F3C3}\u200D\u2640\uFE0F","man-running":"\u{1F3C3}\u200D\u2642\uFE0F",runner:"\u{1F3C3}\u200D\u2642\uFE0F",running:"\u{1F3C3}\u200D\u2642\uFE0F","woman-surfing":"\u{1F3C4}\u200D\u2640\uFE0F","man-surfing":"\u{1F3C4}\u200D\u2642\uFE0F",surfer:"\u{1F3C4}\u200D\u2642\uFE0F",sports_medal:"\u{1F3C5}",trophy:"\u{1F3C6}",horse_racing:"\u{1F3C7}",football:"\u{1F3C8}",rugby_football:"\u{1F3C9}","woman-swimming":"\u{1F3CA}\u200D\u2640\uFE0F","man-swimming":"\u{1F3CA}\u200D\u2642\uFE0F",swimmer:"\u{1F3CA}\u200D\u2642\uFE0F","woman-lifting-weights":"\u{1F3CB}\uFE0F\u200D\u2640\uFE0F","man-lifting-weights":"\u{1F3CB}\uFE0F\u200D\u2642\uFE0F",weight_lifter:"\u{1F3CB}\uFE0F\u200D\u2642\uFE0F","woman-golfing":"\u{1F3CC}\uFE0F\u200D\u2640\uFE0F","man-golfing":"\u{1F3CC}\uFE0F\u200D\u2642\uFE0F",golfer:"\u{1F3CC}\uFE0F\u200D\u2642\uFE0F",racing_motorcycle:"\u{1F3CD}\uFE0F",racing_car:"\u{1F3CE}\uFE0F",cricket_bat_and_ball:"\u{1F3CF}",volleyball:"\u{1F3D0}",field_hockey_stick_and_ball:"\u{1F3D1}",ice_hockey_stick_and_puck:"\u{1F3D2}",table_tennis_paddle_and_ball:"\u{1F3D3}",snow_capped_mountain:"\u{1F3D4}\uFE0F",camping:"\u{1F3D5}\uFE0F",beach_with_umbrella:"\u{1F3D6}\uFE0F",building_construction:"\u{1F3D7}\uFE0F",house_buildings:"\u{1F3D8}\uFE0F",cityscape:"\u{1F3D9}\uFE0F",derelict_house_building:"\u{1F3DA}\uFE0F",classical_building:"\u{1F3DB}\uFE0F",desert:"\u{1F3DC}\uFE0F",desert_island:"\u{1F3DD}\uFE0F",national_park:"\u{1F3DE}\uFE0F",stadium:"\u{1F3DF}\uFE0F",house:"\u{1F3E0}",house_with_garden:"\u{1F3E1}",office:"\u{1F3E2}",post_office:"\u{1F3E3}",european_post_office:"\u{1F3E4}",hospital:"\u{1F3E5}",bank:"\u{1F3E6}",atm:"\u{1F3E7}",hotel:"\u{1F3E8}",love_hotel:"\u{1F3E9}",convenience_store:"\u{1F3EA}",school:"\u{1F3EB}",department_store:"\u{1F3EC}",factory:"\u{1F3ED}",izakaya_lantern:"\u{1F3EE}",lantern:"\u{1F3EE}",japanese_castle:"\u{1F3EF}",european_castle:"\u{1F3F0}","rainbow-flag":"\u{1F3F3}\uFE0F\u200D\u{1F308}",transgender_flag:"\u{1F3F3}\uFE0F\u200D\u26A7\uFE0F",waving_white_flag:"\u{1F3F3}\uFE0F",pirate_flag:"\u{1F3F4}\u200D\u2620\uFE0F","flag-england":"\u{1F3F4}\u{E0067}\u{E0062}\u{E0065}\u{E006E}\u{E0067}\u{E007F}","flag-scotland":"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}","flag-wales":"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}",waving_black_flag:"\u{1F3F4}",rosette:"\u{1F3F5}\uFE0F",label:"\u{1F3F7}\uFE0F",badminton_racquet_and_shuttlecock:"\u{1F3F8}",bow_and_arrow:"\u{1F3F9}",amphora:"\u{1F3FA}","skin-tone-2":"\u{1F3FB}","skin-tone-3":"\u{1F3FC}","skin-tone-4":"\u{1F3FD}","skin-tone-5":"\u{1F3FE}","skin-tone-6":"\u{1F3FF}",rat:"\u{1F400}",mouse2:"\u{1F401}",ox:"\u{1F402}",water_buffalo:"\u{1F403}",cow2:"\u{1F404}",tiger2:"\u{1F405}",leopard:"\u{1F406}",rabbit2:"\u{1F407}",black_cat:"\u{1F408}\u200D\u2B1B",cat2:"\u{1F408}",dragon:"\u{1F409}",crocodile:"\u{1F40A}",whale2:"\u{1F40B}",snail:"\u{1F40C}",snake:"\u{1F40D}",racehorse:"\u{1F40E}",ram:"\u{1F40F}",goat:"\u{1F410}",sheep:"\u{1F411}",monkey:"\u{1F412}",rooster:"\u{1F413}",chicken:"\u{1F414}",service_dog:"\u{1F415}\u200D\u{1F9BA}",dog2:"\u{1F415}",pig2:"\u{1F416}",boar:"\u{1F417}",elephant:"\u{1F418}",octopus:"\u{1F419}",shell:"\u{1F41A}",bug:"\u{1F41B}",ant:"\u{1F41C}",bee:"\u{1F41D}",honeybee:"\u{1F41D}",ladybug:"\u{1F41E}",lady_beetle:"\u{1F41E}",fish:"\u{1F41F}",tropical_fish:"\u{1F420}",blowfish:"\u{1F421}",turtle:"\u{1F422}",hatching_chick:"\u{1F423}",baby_chick:"\u{1F424}",hatched_chick:"\u{1F425}",bird:"\u{1F426}",penguin:"\u{1F427}",koala:"\u{1F428}",poodle:"\u{1F429}",dromedary_camel:"\u{1F42A}",camel:"\u{1F42B}",dolphin:"\u{1F42C}",flipper:"\u{1F42C}",mouse:"\u{1F42D}",cow:"\u{1F42E}",tiger:"\u{1F42F}",rabbit:"\u{1F430}",cat:"\u{1F431}",dragon_face:"\u{1F432}",whale:"\u{1F433}",horse:"\u{1F434}",monkey_face:"\u{1F435}",dog:"\u{1F436}",pig:"\u{1F437}",frog:"\u{1F438}",hamster:"\u{1F439}",wolf:"\u{1F43A}",polar_bear:"\u{1F43B}\u200D\u2744\uFE0F",bear:"\u{1F43B}",panda_face:"\u{1F43C}",pig_nose:"\u{1F43D}",feet:"\u{1F43E}",paw_prints:"\u{1F43E}",chipmunk:"\u{1F43F}\uFE0F",eyes:"\u{1F440}","eye-in-speech-bubble":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F",eye:"\u{1F441}\uFE0F",ear:"\u{1F442}",nose:"\u{1F443}",lips:"\u{1F444}",tongue:"\u{1F445}",point_up_2:"\u{1F446}",point_down:"\u{1F447}",point_left:"\u{1F448}",point_right:"\u{1F449}",facepunch:"\u{1F44A}",punch:"\u{1F44A}",wave:"\u{1F44B}",ok_hand:"\u{1F44C}","+1":"\u{1F44D}",thumbsup:"\u{1F44D}","-1":"\u{1F44E}",thumbsdown:"\u{1F44E}",clap:"\u{1F44F}",open_hands:"\u{1F450}",crown:"\u{1F451}",womans_hat:"\u{1F452}",eyeglasses:"\u{1F453}",necktie:"\u{1F454}",shirt:"\u{1F455}",tshirt:"\u{1F455}",jeans:"\u{1F456}",dress:"\u{1F457}",kimono:"\u{1F458}",bikini:"\u{1F459}",womans_clothes:"\u{1F45A}",purse:"\u{1F45B}",handbag:"\u{1F45C}",pouch:"\u{1F45D}",mans_shoe:"\u{1F45E}",shoe:"\u{1F45E}",athletic_shoe:"\u{1F45F}",high_heel:"\u{1F460}",sandal:"\u{1F461}",boot:"\u{1F462}",footprints:"\u{1F463}",bust_in_silhouette:"\u{1F464}",busts_in_silhouette:"\u{1F465}",boy:"\u{1F466}",girl:"\u{1F467}","male-farmer":"\u{1F468}\u200D\u{1F33E}","male-cook":"\u{1F468}\u200D\u{1F373}",man_feeding_baby:"\u{1F468}\u200D\u{1F37C}","male-student":"\u{1F468}\u200D\u{1F393}","male-singer":"\u{1F468}\u200D\u{1F3A4}","male-artist":"\u{1F468}\u200D\u{1F3A8}","male-teacher":"\u{1F468}\u200D\u{1F3EB}","male-factory-worker":"\u{1F468}\u200D\u{1F3ED}","man-boy-boy":"\u{1F468}\u200D\u{1F466}\u200D\u{1F466}","man-boy":"\u{1F468}\u200D\u{1F466}","man-girl-boy":"\u{1F468}\u200D\u{1F467}\u200D\u{1F466}","man-girl-girl":"\u{1F468}\u200D\u{1F467}\u200D\u{1F467}","man-girl":"\u{1F468}\u200D\u{1F467}","man-man-boy":"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}","man-man-boy-boy":"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}\u200D\u{1F466}","man-man-girl":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}","man-man-girl-boy":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F466}","man-man-girl-girl":"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F467}","man-woman-boy":"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}",family:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}","man-woman-boy-boy":"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}","man-woman-girl":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}","man-woman-girl-boy":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}","man-woman-girl-girl":"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}","male-technologist":"\u{1F468}\u200D\u{1F4BB}","male-office-worker":"\u{1F468}\u200D\u{1F4BC}","male-mechanic":"\u{1F468}\u200D\u{1F527}","male-scientist":"\u{1F468}\u200D\u{1F52C}","male-astronaut":"\u{1F468}\u200D\u{1F680}","male-firefighter":"\u{1F468}\u200D\u{1F692}",man_with_probing_cane:"\u{1F468}\u200D\u{1F9AF}",red_haired_man:"\u{1F468}\u200D\u{1F9B0}",curly_haired_man:"\u{1F468}\u200D\u{1F9B1}",bald_man:"\u{1F468}\u200D\u{1F9B2}",white_haired_man:"\u{1F468}\u200D\u{1F9B3}",man_in_motorized_wheelchair:"\u{1F468}\u200D\u{1F9BC}",man_in_manual_wheelchair:"\u{1F468}\u200D\u{1F9BD}","male-doctor":"\u{1F468}\u200D\u2695\uFE0F","male-judge":"\u{1F468}\u200D\u2696\uFE0F","male-pilot":"\u{1F468}\u200D\u2708\uFE0F","man-heart-man":"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F468}","man-kiss-man":"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}",man:"\u{1F468}","female-farmer":"\u{1F469}\u200D\u{1F33E}","female-cook":"\u{1F469}\u200D\u{1F373}",woman_feeding_baby:"\u{1F469}\u200D\u{1F37C}","female-student":"\u{1F469}\u200D\u{1F393}","female-singer":"\u{1F469}\u200D\u{1F3A4}","female-artist":"\u{1F469}\u200D\u{1F3A8}","female-teacher":"\u{1F469}\u200D\u{1F3EB}","female-factory-worker":"\u{1F469}\u200D\u{1F3ED}","woman-boy-boy":"\u{1F469}\u200D\u{1F466}\u200D\u{1F466}","woman-boy":"\u{1F469}\u200D\u{1F466}","woman-girl-boy":"\u{1F469}\u200D\u{1F467}\u200D\u{1F466}","woman-girl-girl":"\u{1F469}\u200D\u{1F467}\u200D\u{1F467}","woman-girl":"\u{1F469}\u200D\u{1F467}","woman-woman-boy":"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}","woman-woman-boy-boy":"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}","woman-woman-girl":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}","woman-woman-girl-boy":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}","woman-woman-girl-girl":"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}","female-technologist":"\u{1F469}\u200D\u{1F4BB}","female-office-worker":"\u{1F469}\u200D\u{1F4BC}","female-mechanic":"\u{1F469}\u200D\u{1F527}","female-scientist":"\u{1F469}\u200D\u{1F52C}","female-astronaut":"\u{1F469}\u200D\u{1F680}","female-firefighter":"\u{1F469}\u200D\u{1F692}",woman_with_probing_cane:"\u{1F469}\u200D\u{1F9AF}",red_haired_woman:"\u{1F469}\u200D\u{1F9B0}",curly_haired_woman:"\u{1F469}\u200D\u{1F9B1}",bald_woman:"\u{1F469}\u200D\u{1F9B2}",white_haired_woman:"\u{1F469}\u200D\u{1F9B3}",woman_in_motorized_wheelchair:"\u{1F469}\u200D\u{1F9BC}",woman_in_manual_wheelchair:"\u{1F469}\u200D\u{1F9BD}","female-doctor":"\u{1F469}\u200D\u2695\uFE0F","female-judge":"\u{1F469}\u200D\u2696\uFE0F","female-pilot":"\u{1F469}\u200D\u2708\uFE0F","woman-heart-man":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F468}","woman-heart-woman":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F469}","woman-kiss-man":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}","woman-kiss-woman":"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}",woman:"\u{1F469}",man_and_woman_holding_hands:"\u{1F46B}",woman_and_man_holding_hands:"\u{1F46B}",couple:"\u{1F46B}",two_men_holding_hands:"\u{1F46C}",men_holding_hands:"\u{1F46C}",two_women_holding_hands:"\u{1F46D}",women_holding_hands:"\u{1F46D}","female-police-officer":"\u{1F46E}\u200D\u2640\uFE0F","male-police-officer":"\u{1F46E}\u200D\u2642\uFE0F",cop:"\u{1F46E}\u200D\u2642\uFE0F","women-with-bunny-ears-partying":"\u{1F46F}\u200D\u2640\uFE0F","woman-with-bunny-ears-partying":"\u{1F46F}\u200D\u2640\uFE0F",dancers:"\u{1F46F}\u200D\u2640\uFE0F","men-with-bunny-ears-partying":"\u{1F46F}\u200D\u2642\uFE0F","man-with-bunny-ears-partying":"\u{1F46F}\u200D\u2642\uFE0F",woman_with_veil:"\u{1F470}\u200D\u2640\uFE0F",man_with_veil:"\u{1F470}\u200D\u2642\uFE0F",bride_with_veil:"\u{1F470}","blond-haired-woman":"\u{1F471}\u200D\u2640\uFE0F","blond-haired-man":"\u{1F471}\u200D\u2642\uFE0F",person_with_blond_hair:"\u{1F471}\u200D\u2642\uFE0F",man_with_gua_pi_mao:"\u{1F472}","woman-wearing-turban":"\u{1F473}\u200D\u2640\uFE0F","man-wearing-turban":"\u{1F473}\u200D\u2642\uFE0F",man_with_turban:"\u{1F473}\u200D\u2642\uFE0F",older_man:"\u{1F474}",older_woman:"\u{1F475}",baby:"\u{1F476}","female-construction-worker":"\u{1F477}\u200D\u2640\uFE0F","male-construction-worker":"\u{1F477}\u200D\u2642\uFE0F",construction_worker:"\u{1F477}\u200D\u2642\uFE0F",princess:"\u{1F478}",japanese_ogre:"\u{1F479}",japanese_goblin:"\u{1F47A}",ghost:"\u{1F47B}",angel:"\u{1F47C}",alien:"\u{1F47D}",space_invader:"\u{1F47E}",imp:"\u{1F47F}",skull:"\u{1F480}","woman-tipping-hand":"\u{1F481}\u200D\u2640\uFE0F",information_desk_person:"\u{1F481}\u200D\u2640\uFE0F","man-tipping-hand":"\u{1F481}\u200D\u2642\uFE0F","female-guard":"\u{1F482}\u200D\u2640\uFE0F","male-guard":"\u{1F482}\u200D\u2642\uFE0F",guardsman:"\u{1F482}\u200D\u2642\uFE0F",dancer:"\u{1F483}",lipstick:"\u{1F484}",nail_care:"\u{1F485}","woman-getting-massage":"\u{1F486}\u200D\u2640\uFE0F",massage:"\u{1F486}\u200D\u2640\uFE0F","man-getting-massage":"\u{1F486}\u200D\u2642\uFE0F","woman-getting-haircut":"\u{1F487}\u200D\u2640\uFE0F",haircut:"\u{1F487}\u200D\u2640\uFE0F","man-getting-haircut":"\u{1F487}\u200D\u2642\uFE0F",barber:"\u{1F488}",syringe:"\u{1F489}",pill:"\u{1F48A}",kiss:"\u{1F48B}",love_letter:"\u{1F48C}",ring:"\u{1F48D}",gem:"\u{1F48E}",couplekiss:"\u{1F48F}",bouquet:"\u{1F490}",couple_with_heart:"\u{1F491}",wedding:"\u{1F492}",heartbeat:"\u{1F493}",broken_heart:"\u{1F494}",two_hearts:"\u{1F495}",sparkling_heart:"\u{1F496}",heartpulse:"\u{1F497}",cupid:"\u{1F498}",blue_heart:"\u{1F499}",green_heart:"\u{1F49A}",yellow_heart:"\u{1F49B}",purple_heart:"\u{1F49C}",gift_heart:"\u{1F49D}",revolving_hearts:"\u{1F49E}",heart_decoration:"\u{1F49F}",diamond_shape_with_a_dot_inside:"\u{1F4A0}",bulb:"\u{1F4A1}",anger:"\u{1F4A2}",bomb:"\u{1F4A3}",zzz:"\u{1F4A4}",boom:"\u{1F4A5}",collision:"\u{1F4A5}",sweat_drops:"\u{1F4A6}",droplet:"\u{1F4A7}",dash:"\u{1F4A8}",hankey:"\u{1F4A9}",poop:"\u{1F4A9}",shit:"\u{1F4A9}",muscle:"\u{1F4AA}",dizzy:"\u{1F4AB}",speech_balloon:"\u{1F4AC}",thought_balloon:"\u{1F4AD}",white_flower:"\u{1F4AE}",moneybag:"\u{1F4B0}",currency_exchange:"\u{1F4B1}",heavy_dollar_sign:"\u{1F4B2}",credit_card:"\u{1F4B3}",yen:"\u{1F4B4}",dollar:"\u{1F4B5}",euro:"\u{1F4B6}",pound:"\u{1F4B7}",money_with_wings:"\u{1F4B8}",chart:"\u{1F4B9}",seat:"\u{1F4BA}",computer:"\u{1F4BB}",briefcase:"\u{1F4BC}",minidisc:"\u{1F4BD}",floppy_disk:"\u{1F4BE}",cd:"\u{1F4BF}",dvd:"\u{1F4C0}",file_folder:"\u{1F4C1}",open_file_folder:"\u{1F4C2}",page_with_curl:"\u{1F4C3}",page_facing_up:"\u{1F4C4}",date:"\u{1F4C5}",calendar:"\u{1F4C6}",card_index:"\u{1F4C7}",chart_with_upwards_trend:"\u{1F4C8}",chart_with_downwards_trend:"\u{1F4C9}",bar_chart:"\u{1F4CA}",clipboard:"\u{1F4CB}",pushpin:"\u{1F4CC}",round_pushpin:"\u{1F4CD}",paperclip:"\u{1F4CE}",straight_ruler:"\u{1F4CF}",triangular_ruler:"\u{1F4D0}",bookmark_tabs:"\u{1F4D1}",ledger:"\u{1F4D2}",notebook:"\u{1F4D3}",notebook_with_decorative_cover:"\u{1F4D4}",closed_book:"\u{1F4D5}",book:"\u{1F4D6}",open_book:"\u{1F4D6}",green_book:"\u{1F4D7}",blue_book:"\u{1F4D8}",orange_book:"\u{1F4D9}",books:"\u{1F4DA}",name_badge:"\u{1F4DB}",scroll:"\u{1F4DC}",memo:"\u{1F4DD}",pencil:"\u{1F4DD}",telephone_receiver:"\u{1F4DE}",pager:"\u{1F4DF}",fax:"\u{1F4E0}",satellite_antenna:"\u{1F4E1}",loudspeaker:"\u{1F4E2}",mega:"\u{1F4E3}",outbox_tray:"\u{1F4E4}",inbox_tray:"\u{1F4E5}",package:"\u{1F4E6}","e-mail":"\u{1F4E7}",incoming_envelope:"\u{1F4E8}",envelope_with_arrow:"\u{1F4E9}",mailbox_closed:"\u{1F4EA}",mailbox:"\u{1F4EB}",mailbox_with_mail:"\u{1F4EC}",mailbox_with_no_mail:"\u{1F4ED}",postbox:"\u{1F4EE}",postal_horn:"\u{1F4EF}",newspaper:"\u{1F4F0}",iphone:"\u{1F4F1}",calling:"\u{1F4F2}",vibration_mode:"\u{1F4F3}",mobile_phone_off:"\u{1F4F4}",no_mobile_phones:"\u{1F4F5}",signal_strength:"\u{1F4F6}",camera:"\u{1F4F7}",camera_with_flash:"\u{1F4F8}",video_camera:"\u{1F4F9}",tv:"\u{1F4FA}",radio:"\u{1F4FB}",vhs:"\u{1F4FC}",film_projector:"\u{1F4FD}\uFE0F",prayer_beads:"\u{1F4FF}",twisted_rightwards_arrows:"\u{1F500}",repeat:"\u{1F501}",repeat_one:"\u{1F502}",arrows_clockwise:"\u{1F503}",arrows_counterclockwise:"\u{1F504}",low_brightness:"\u{1F505}",high_brightness:"\u{1F506}",mute:"\u{1F507}",speaker:"\u{1F508}",sound:"\u{1F509}",loud_sound:"\u{1F50A}",battery:"\u{1F50B}",electric_plug:"\u{1F50C}",mag:"\u{1F50D}",mag_right:"\u{1F50E}",lock_with_ink_pen:"\u{1F50F}",closed_lock_with_key:"\u{1F510}",key:"\u{1F511}",lock:"\u{1F512}",unlock:"\u{1F513}",bell:"\u{1F514}",no_bell:"\u{1F515}",bookmark:"\u{1F516}",link:"\u{1F517}",radio_button:"\u{1F518}",back:"\u{1F519}",end:"\u{1F51A}",on:"\u{1F51B}",soon:"\u{1F51C}",top:"\u{1F51D}",underage:"\u{1F51E}",keycap_ten:"\u{1F51F}",capital_abcd:"\u{1F520}",abcd:"\u{1F521}",symbols:"\u{1F523}",abc:"\u{1F524}",fire:"\u{1F525}",flashlight:"\u{1F526}",wrench:"\u{1F527}",hammer:"\u{1F528}",nut_and_bolt:"\u{1F529}",hocho:"\u{1F52A}",knife:"\u{1F52A}",gun:"\u{1F52B}",microscope:"\u{1F52C}",telescope:"\u{1F52D}",crystal_ball:"\u{1F52E}",six_pointed_star:"\u{1F52F}",beginner:"\u{1F530}",trident:"\u{1F531}",black_square_button:"\u{1F532}",white_square_button:"\u{1F533}",red_circle:"\u{1F534}",large_blue_circle:"\u{1F535}",large_orange_diamond:"\u{1F536}",large_blue_diamond:"\u{1F537}",small_orange_diamond:"\u{1F538}",small_blue_diamond:"\u{1F539}",small_red_triangle:"\u{1F53A}",small_red_triangle_down:"\u{1F53B}",arrow_up_small:"\u{1F53C}",arrow_down_small:"\u{1F53D}",om_symbol:"\u{1F549}\uFE0F",dove_of_peace:"\u{1F54A}\uFE0F",kaaba:"\u{1F54B}",mosque:"\u{1F54C}",synagogue:"\u{1F54D}",menorah_with_nine_branches:"\u{1F54E}",clock1:"\u{1F550}",clock2:"\u{1F551}",clock3:"\u{1F552}",clock4:"\u{1F553}",clock5:"\u{1F554}",clock6:"\u{1F555}",clock7:"\u{1F556}",clock8:"\u{1F557}",clock9:"\u{1F558}",clock10:"\u{1F559}",clock11:"\u{1F55A}",clock12:"\u{1F55B}",clock130:"\u{1F55C}",clock230:"\u{1F55D}",clock330:"\u{1F55E}",clock430:"\u{1F55F}",clock530:"\u{1F560}",clock630:"\u{1F561}",clock730:"\u{1F562}",clock830:"\u{1F563}",clock930:"\u{1F564}",clock1030:"\u{1F565}",clock1130:"\u{1F566}",clock1230:"\u{1F567}",candle:"\u{1F56F}\uFE0F",mantelpiece_clock:"\u{1F570}\uFE0F",hole:"\u{1F573}\uFE0F",man_in_business_suit_levitating:"\u{1F574}\uFE0F","female-detective":"\u{1F575}\uFE0F\u200D\u2640\uFE0F","male-detective":"\u{1F575}\uFE0F\u200D\u2642\uFE0F",sleuth_or_spy:"\u{1F575}\uFE0F\u200D\u2642\uFE0F",dark_sunglasses:"\u{1F576}\uFE0F",spider:"\u{1F577}\uFE0F",spider_web:"\u{1F578}\uFE0F",joystick:"\u{1F579}\uFE0F",man_dancing:"\u{1F57A}",linked_paperclips:"\u{1F587}\uFE0F",lower_left_ballpoint_pen:"\u{1F58A}\uFE0F",lower_left_fountain_pen:"\u{1F58B}\uFE0F",lower_left_paintbrush:"\u{1F58C}\uFE0F",lower_left_crayon:"\u{1F58D}\uFE0F",raised_hand_with_fingers_splayed:"\u{1F590}\uFE0F",middle_finger:"\u{1F595}",reversed_hand_with_middle_finger_extended:"\u{1F595}","spock-hand":"\u{1F596}",black_heart:"\u{1F5A4}",desktop_computer:"\u{1F5A5}\uFE0F",printer:"\u{1F5A8}\uFE0F",three_button_mouse:"\u{1F5B1}\uFE0F",trackball:"\u{1F5B2}\uFE0F",frame_with_picture:"\u{1F5BC}\uFE0F",card_index_dividers:"\u{1F5C2}\uFE0F",card_file_box:"\u{1F5C3}\uFE0F",file_cabinet:"\u{1F5C4}\uFE0F",wastebasket:"\u{1F5D1}\uFE0F",spiral_note_pad:"\u{1F5D2}\uFE0F",spiral_calendar_pad:"\u{1F5D3}\uFE0F",compression:"\u{1F5DC}\uFE0F",old_key:"\u{1F5DD}\uFE0F",rolled_up_newspaper:"\u{1F5DE}\uFE0F",dagger_knife:"\u{1F5E1}\uFE0F",speaking_head_in_silhouette:"\u{1F5E3}\uFE0F",left_speech_bubble:"\u{1F5E8}\uFE0F",right_anger_bubble:"\u{1F5EF}\uFE0F",ballot_box_with_ballot:"\u{1F5F3}\uFE0F",world_map:"\u{1F5FA}\uFE0F",mount_fuji:"\u{1F5FB}",tokyo_tower:"\u{1F5FC}",statue_of_liberty:"\u{1F5FD}",japan:"\u{1F5FE}",moyai:"\u{1F5FF}",grinning:"\u{1F600}",grin:"\u{1F601}",joy:"\u{1F602}",smiley:"\u{1F603}",smile:"\u{1F604}",sweat_smile:"\u{1F605}",laughing:"\u{1F606}",satisfied:"\u{1F606}",innocent:"\u{1F607}",smiling_imp:"\u{1F608}",wink:"\u{1F609}",blush:"\u{1F60A}",yum:"\u{1F60B}",relieved:"\u{1F60C}",heart_eyes:"\u{1F60D}",sunglasses:"\u{1F60E}",smirk:"\u{1F60F}",neutral_face:"\u{1F610}",expressionless:"\u{1F611}",unamused:"\u{1F612}",sweat:"\u{1F613}",pensive:"\u{1F614}",confused:"\u{1F615}",confounded:"\u{1F616}",kissing:"\u{1F617}",kissing_heart:"\u{1F618}",kissing_smiling_eyes:"\u{1F619}",kissing_closed_eyes:"\u{1F61A}",stuck_out_tongue:"\u{1F61B}",stuck_out_tongue_winking_eye:"\u{1F61C}",stuck_out_tongue_closed_eyes:"\u{1F61D}",disappointed:"\u{1F61E}",worried:"\u{1F61F}",angry:"\u{1F620}",rage:"\u{1F621}",cry:"\u{1F622}",persevere:"\u{1F623}",triumph:"\u{1F624}",disappointed_relieved:"\u{1F625}",frowning:"\u{1F626}",anguished:"\u{1F627}",fearful:"\u{1F628}",weary:"\u{1F629}",sleepy:"\u{1F62A}",tired_face:"\u{1F62B}",grimacing:"\u{1F62C}",sob:"\u{1F62D}",face_exhaling:"\u{1F62E}\u200D\u{1F4A8}",open_mouth:"\u{1F62E}",hushed:"\u{1F62F}",cold_sweat:"\u{1F630}",scream:"\u{1F631}",astonished:"\u{1F632}",flushed:"\u{1F633}",sleeping:"\u{1F634}",face_with_spiral_eyes:"\u{1F635}\u200D\u{1F4AB}",dizzy_face:"\u{1F635}",face_in_clouds:"\u{1F636}\u200D\u{1F32B}\uFE0F",no_mouth:"\u{1F636}",mask:"\u{1F637}",smile_cat:"\u{1F638}",joy_cat:"\u{1F639}",smiley_cat:"\u{1F63A}",heart_eyes_cat:"\u{1F63B}",smirk_cat:"\u{1F63C}",kissing_cat:"\u{1F63D}",pouting_cat:"\u{1F63E}",crying_cat_face:"\u{1F63F}",scream_cat:"\u{1F640}",slightly_frowning_face:"\u{1F641}",slightly_smiling_face:"\u{1F642}",upside_down_face:"\u{1F643}",face_with_rolling_eyes:"\u{1F644}","woman-gesturing-no":"\u{1F645}\u200D\u2640\uFE0F",no_good:"\u{1F645}\u200D\u2640\uFE0F","man-gesturing-no":"\u{1F645}\u200D\u2642\uFE0F","woman-gesturing-ok":"\u{1F646}\u200D\u2640\uFE0F",ok_woman:"\u{1F646}\u200D\u2640\uFE0F","man-gesturing-ok":"\u{1F646}\u200D\u2642\uFE0F","woman-bowing":"\u{1F647}\u200D\u2640\uFE0F","man-bowing":"\u{1F647}\u200D\u2642\uFE0F",bow:"\u{1F647}\u200D\u2642\uFE0F",see_no_evil:"\u{1F648}",hear_no_evil:"\u{1F649}",speak_no_evil:"\u{1F64A}","woman-raising-hand":"\u{1F64B}\u200D\u2640\uFE0F",raising_hand:"\u{1F64B}\u200D\u2640\uFE0F","man-raising-hand":"\u{1F64B}\u200D\u2642\uFE0F",raised_hands:"\u{1F64C}","woman-frowning":"\u{1F64D}\u200D\u2640\uFE0F",person_frowning:"\u{1F64D}\u200D\u2640\uFE0F","man-frowning":"\u{1F64D}\u200D\u2642\uFE0F","woman-pouting":"\u{1F64E}\u200D\u2640\uFE0F",person_with_pouting_face:"\u{1F64E}\u200D\u2640\uFE0F","man-pouting":"\u{1F64E}\u200D\u2642\uFE0F",pray:"\u{1F64F}",rocket:"\u{1F680}",helicopter:"\u{1F681}",steam_locomotive:"\u{1F682}",railway_car:"\u{1F683}",bullettrain_side:"\u{1F684}",bullettrain_front:"\u{1F685}",train2:"\u{1F686}",metro:"\u{1F687}",light_rail:"\u{1F688}",station:"\u{1F689}",tram:"\u{1F68A}",train:"\u{1F68B}",bus:"\u{1F68C}",oncoming_bus:"\u{1F68D}",trolleybus:"\u{1F68E}",busstop:"\u{1F68F}",minibus:"\u{1F690}",ambulance:"\u{1F691}",fire_engine:"\u{1F692}",police_car:"\u{1F693}",oncoming_police_car:"\u{1F694}",taxi:"\u{1F695}",oncoming_taxi:"\u{1F696}",car:"\u{1F697}",red_car:"\u{1F697}",oncoming_automobile:"\u{1F698}",blue_car:"\u{1F699}",truck:"\u{1F69A}",articulated_lorry:"\u{1F69B}",tractor:"\u{1F69C}",monorail:"\u{1F69D}",mountain_railway:"\u{1F69E}",suspension_railway:"\u{1F69F}",mountain_cableway:"\u{1F6A0}",aerial_tramway:"\u{1F6A1}",ship:"\u{1F6A2}","woman-rowing-boat":"\u{1F6A3}\u200D\u2640\uFE0F","man-rowing-boat":"\u{1F6A3}\u200D\u2642\uFE0F",rowboat:"\u{1F6A3}\u200D\u2642\uFE0F",speedboat:"\u{1F6A4}",traffic_light:"\u{1F6A5}",vertical_traffic_light:"\u{1F6A6}",construction:"\u{1F6A7}",rotating_light:"\u{1F6A8}",triangular_flag_on_post:"\u{1F6A9}",door:"\u{1F6AA}",no_entry_sign:"\u{1F6AB}",smoking:"\u{1F6AC}",no_smoking:"\u{1F6AD}",put_litter_in_its_place:"\u{1F6AE}",do_not_litter:"\u{1F6AF}",potable_water:"\u{1F6B0}","non-potable_water":"\u{1F6B1}",bike:"\u{1F6B2}",no_bicycles:"\u{1F6B3}","woman-biking":"\u{1F6B4}\u200D\u2640\uFE0F","man-biking":"\u{1F6B4}\u200D\u2642\uFE0F",bicyclist:"\u{1F6B4}\u200D\u2642\uFE0F","woman-mountain-biking":"\u{1F6B5}\u200D\u2640\uFE0F","man-mountain-biking":"\u{1F6B5}\u200D\u2642\uFE0F",mountain_bicyclist:"\u{1F6B5}\u200D\u2642\uFE0F","woman-walking":"\u{1F6B6}\u200D\u2640\uFE0F","man-walking":"\u{1F6B6}\u200D\u2642\uFE0F",walking:"\u{1F6B6}\u200D\u2642\uFE0F",no_pedestrians:"\u{1F6B7}",children_crossing:"\u{1F6B8}",mens:"\u{1F6B9}",womens:"\u{1F6BA}",restroom:"\u{1F6BB}",baby_symbol:"\u{1F6BC}",toilet:"\u{1F6BD}",wc:"\u{1F6BE}",shower:"\u{1F6BF}",bath:"\u{1F6C0}",bathtub:"\u{1F6C1}",passport_control:"\u{1F6C2}",customs:"\u{1F6C3}",baggage_claim:"\u{1F6C4}",left_luggage:"\u{1F6C5}",couch_and_lamp:"\u{1F6CB}\uFE0F",sleeping_accommodation:"\u{1F6CC}",shopping_bags:"\u{1F6CD}\uFE0F",bellhop_bell:"\u{1F6CE}\uFE0F",bed:"\u{1F6CF}\uFE0F",place_of_worship:"\u{1F6D0}",octagonal_sign:"\u{1F6D1}",shopping_trolley:"\u{1F6D2}",hindu_temple:"\u{1F6D5}",hut:"\u{1F6D6}",elevator:"\u{1F6D7}",hammer_and_wrench:"\u{1F6E0}\uFE0F",shield:"\u{1F6E1}\uFE0F",oil_drum:"\u{1F6E2}\uFE0F",motorway:"\u{1F6E3}\uFE0F",railway_track:"\u{1F6E4}\uFE0F",motor_boat:"\u{1F6E5}\uFE0F",small_airplane:"\u{1F6E9}\uFE0F",airplane_departure:"\u{1F6EB}",airplane_arriving:"\u{1F6EC}",satellite:"\u{1F6F0}\uFE0F",passenger_ship:"\u{1F6F3}\uFE0F",scooter:"\u{1F6F4}",motor_scooter:"\u{1F6F5}",canoe:"\u{1F6F6}",sled:"\u{1F6F7}",flying_saucer:"\u{1F6F8}",skateboard:"\u{1F6F9}",auto_rickshaw:"\u{1F6FA}",pickup_truck:"\u{1F6FB}",roller_skate:"\u{1F6FC}",large_orange_circle:"\u{1F7E0}",large_yellow_circle:"\u{1F7E1}",large_green_circle:"\u{1F7E2}",large_purple_circle:"\u{1F7E3}",large_brown_circle:"\u{1F7E4}",large_red_square:"\u{1F7E5}",large_blue_square:"\u{1F7E6}",large_orange_square:"\u{1F7E7}",large_yellow_square:"\u{1F7E8}",large_green_square:"\u{1F7E9}",large_purple_square:"\u{1F7EA}",large_brown_square:"\u{1F7EB}",pinched_fingers:"\u{1F90C}",white_heart:"\u{1F90D}",brown_heart:"\u{1F90E}",pinching_hand:"\u{1F90F}",zipper_mouth_face:"\u{1F910}",money_mouth_face:"\u{1F911}",face_with_thermometer:"\u{1F912}",nerd_face:"\u{1F913}",thinking_face:"\u{1F914}",face_with_head_bandage:"\u{1F915}",robot_face:"\u{1F916}",hugging_face:"\u{1F917}",the_horns:"\u{1F918}",sign_of_the_horns:"\u{1F918}",call_me_hand:"\u{1F919}",raised_back_of_hand:"\u{1F91A}","left-facing_fist":"\u{1F91B}","right-facing_fist":"\u{1F91C}",handshake:"\u{1F91D}",crossed_fingers:"\u{1F91E}",hand_with_index_and_middle_fingers_crossed:"\u{1F91E}",i_love_you_hand_sign:"\u{1F91F}",face_with_cowboy_hat:"\u{1F920}",clown_face:"\u{1F921}",nauseated_face:"\u{1F922}",rolling_on_the_floor_laughing:"\u{1F923}",drooling_face:"\u{1F924}",lying_face:"\u{1F925}","woman-facepalming":"\u{1F926}\u200D\u2640\uFE0F","man-facepalming":"\u{1F926}\u200D\u2642\uFE0F",face_palm:"\u{1F926}",sneezing_face:"\u{1F927}",face_with_raised_eyebrow:"\u{1F928}",face_with_one_eyebrow_raised:"\u{1F928}","star-struck":"\u{1F929}",grinning_face_with_star_eyes:"\u{1F929}",zany_face:"\u{1F92A}",grinning_face_with_one_large_and_one_small_eye:"\u{1F92A}",shushing_face:"\u{1F92B}",face_with_finger_covering_closed_lips:"\u{1F92B}",face_with_symbols_on_mouth:"\u{1F92C}",serious_face_with_symbols_covering_mouth:"\u{1F92C}",face_with_hand_over_mouth:"\u{1F92D}",smiling_face_with_smiling_eyes_and_hand_covering_mouth:"\u{1F92D}",face_vomiting:"\u{1F92E}",face_with_open_mouth_vomiting:"\u{1F92E}",exploding_head:"\u{1F92F}",shocked_face_with_exploding_head:"\u{1F92F}",pregnant_woman:"\u{1F930}","breast-feeding":"\u{1F931}",palms_up_together:"\u{1F932}",selfie:"\u{1F933}",prince:"\u{1F934}",woman_in_tuxedo:"\u{1F935}\u200D\u2640\uFE0F",man_in_tuxedo:"\u{1F935}\u200D\u2642\uFE0F",person_in_tuxedo:"\u{1F935}",mrs_claus:"\u{1F936}",mother_christmas:"\u{1F936}","woman-shrugging":"\u{1F937}\u200D\u2640\uFE0F","man-shrugging":"\u{1F937}\u200D\u2642\uFE0F",shrug:"\u{1F937}","woman-cartwheeling":"\u{1F938}\u200D\u2640\uFE0F","man-cartwheeling":"\u{1F938}\u200D\u2642\uFE0F",person_doing_cartwheel:"\u{1F938}","woman-juggling":"\u{1F939}\u200D\u2640\uFE0F","man-juggling":"\u{1F939}\u200D\u2642\uFE0F",juggling:"\u{1F939}",fencer:"\u{1F93A}","woman-wrestling":"\u{1F93C}\u200D\u2640\uFE0F","man-wrestling":"\u{1F93C}\u200D\u2642\uFE0F",wrestlers:"\u{1F93C}","woman-playing-water-polo":"\u{1F93D}\u200D\u2640\uFE0F","man-playing-water-polo":"\u{1F93D}\u200D\u2642\uFE0F",water_polo:"\u{1F93D}","woman-playing-handball":"\u{1F93E}\u200D\u2640\uFE0F","man-playing-handball":"\u{1F93E}\u200D\u2642\uFE0F",handball:"\u{1F93E}",diving_mask:"\u{1F93F}",wilted_flower:"\u{1F940}",drum_with_drumsticks:"\u{1F941}",clinking_glasses:"\u{1F942}",tumbler_glass:"\u{1F943}",spoon:"\u{1F944}",goal_net:"\u{1F945}",first_place_medal:"\u{1F947}",second_place_medal:"\u{1F948}",third_place_medal:"\u{1F949}",boxing_glove:"\u{1F94A}",martial_arts_uniform:"\u{1F94B}",curling_stone:"\u{1F94C}",lacrosse:"\u{1F94D}",softball:"\u{1F94E}",flying_disc:"\u{1F94F}",croissant:"\u{1F950}",avocado:"\u{1F951}",cucumber:"\u{1F952}",bacon:"\u{1F953}",potato:"\u{1F954}",carrot:"\u{1F955}",baguette_bread:"\u{1F956}",green_salad:"\u{1F957}",shallow_pan_of_food:"\u{1F958}",stuffed_flatbread:"\u{1F959}",egg:"\u{1F95A}",glass_of_milk:"\u{1F95B}",peanuts:"\u{1F95C}",kiwifruit:"\u{1F95D}",pancakes:"\u{1F95E}",dumpling:"\u{1F95F}",fortune_cookie:"\u{1F960}",takeout_box:"\u{1F961}",chopsticks:"\u{1F962}",bowl_with_spoon:"\u{1F963}",cup_with_straw:"\u{1F964}",coconut:"\u{1F965}",broccoli:"\u{1F966}",pie:"\u{1F967}",pretzel:"\u{1F968}",cut_of_meat:"\u{1F969}",sandwich:"\u{1F96A}",canned_food:"\u{1F96B}",leafy_green:"\u{1F96C}",mango:"\u{1F96D}",moon_cake:"\u{1F96E}",bagel:"\u{1F96F}",smiling_face_with_3_hearts:"\u{1F970}",yawning_face:"\u{1F971}",smiling_face_with_tear:"\u{1F972}",partying_face:"\u{1F973}",woozy_face:"\u{1F974}",hot_face:"\u{1F975}",cold_face:"\u{1F976}",ninja:"\u{1F977}",disguised_face:"\u{1F978}",pleading_face:"\u{1F97A}",sari:"\u{1F97B}",lab_coat:"\u{1F97C}",goggles:"\u{1F97D}",hiking_boot:"\u{1F97E}",womans_flat_shoe:"\u{1F97F}",crab:"\u{1F980}",lion_face:"\u{1F981}",scorpion:"\u{1F982}",turkey:"\u{1F983}",unicorn_face:"\u{1F984}",eagle:"\u{1F985}",duck:"\u{1F986}",bat:"\u{1F987}",shark:"\u{1F988}",owl:"\u{1F989}",fox_face:"\u{1F98A}",butterfly:"\u{1F98B}",deer:"\u{1F98C}",gorilla:"\u{1F98D}",lizard:"\u{1F98E}",rhinoceros:"\u{1F98F}",shrimp:"\u{1F990}",squid:"\u{1F991}",giraffe_face:"\u{1F992}",zebra_face:"\u{1F993}",hedgehog:"\u{1F994}",sauropod:"\u{1F995}","t-rex":"\u{1F996}",cricket:"\u{1F997}",kangaroo:"\u{1F998}",llama:"\u{1F999}",peacock:"\u{1F99A}",hippopotamus:"\u{1F99B}",parrot:"\u{1F99C}",raccoon:"\u{1F99D}",lobster:"\u{1F99E}",mosquito:"\u{1F99F}",microbe:"\u{1F9A0}",badger:"\u{1F9A1}",swan:"\u{1F9A2}",mammoth:"\u{1F9A3}",dodo:"\u{1F9A4}",sloth:"\u{1F9A5}",otter:"\u{1F9A6}",orangutan:"\u{1F9A7}",skunk:"\u{1F9A8}",flamingo:"\u{1F9A9}",oyster:"\u{1F9AA}",beaver:"\u{1F9AB}",bison:"\u{1F9AC}",seal:"\u{1F9AD}",guide_dog:"\u{1F9AE}",probing_cane:"\u{1F9AF}",bone:"\u{1F9B4}",leg:"\u{1F9B5}",foot:"\u{1F9B6}",tooth:"\u{1F9B7}",female_superhero:"\u{1F9B8}\u200D\u2640\uFE0F",male_superhero:"\u{1F9B8}\u200D\u2642\uFE0F",superhero:"\u{1F9B8}",female_supervillain:"\u{1F9B9}\u200D\u2640\uFE0F",male_supervillain:"\u{1F9B9}\u200D\u2642\uFE0F",supervillain:"\u{1F9B9}",safety_vest:"\u{1F9BA}",ear_with_hearing_aid:"\u{1F9BB}",motorized_wheelchair:"\u{1F9BC}",manual_wheelchair:"\u{1F9BD}",mechanical_arm:"\u{1F9BE}",mechanical_leg:"\u{1F9BF}",cheese_wedge:"\u{1F9C0}",cupcake:"\u{1F9C1}",salt:"\u{1F9C2}",beverage_box:"\u{1F9C3}",garlic:"\u{1F9C4}",onion:"\u{1F9C5}",falafel:"\u{1F9C6}",waffle:"\u{1F9C7}",butter:"\u{1F9C8}",mate_drink:"\u{1F9C9}",ice_cube:"\u{1F9CA}",bubble_tea:"\u{1F9CB}",woman_standing:"\u{1F9CD}\u200D\u2640\uFE0F",man_standing:"\u{1F9CD}\u200D\u2642\uFE0F",standing_person:"\u{1F9CD}",woman_kneeling:"\u{1F9CE}\u200D\u2640\uFE0F",man_kneeling:"\u{1F9CE}\u200D\u2642\uFE0F",kneeling_person:"\u{1F9CE}",deaf_woman:"\u{1F9CF}\u200D\u2640\uFE0F",deaf_man:"\u{1F9CF}\u200D\u2642\uFE0F",deaf_person:"\u{1F9CF}",face_with_monocle:"\u{1F9D0}",farmer:"\u{1F9D1}\u200D\u{1F33E}",cook:"\u{1F9D1}\u200D\u{1F373}",person_feeding_baby:"\u{1F9D1}\u200D\u{1F37C}",mx_claus:"\u{1F9D1}\u200D\u{1F384}",student:"\u{1F9D1}\u200D\u{1F393}",singer:"\u{1F9D1}\u200D\u{1F3A4}",artist:"\u{1F9D1}\u200D\u{1F3A8}",teacher:"\u{1F9D1}\u200D\u{1F3EB}",factory_worker:"\u{1F9D1}\u200D\u{1F3ED}",technologist:"\u{1F9D1}\u200D\u{1F4BB}",office_worker:"\u{1F9D1}\u200D\u{1F4BC}",mechanic:"\u{1F9D1}\u200D\u{1F527}",scientist:"\u{1F9D1}\u200D\u{1F52C}",astronaut:"\u{1F9D1}\u200D\u{1F680}",firefighter:"\u{1F9D1}\u200D\u{1F692}",people_holding_hands:"\u{1F9D1}\u200D\u{1F91D}\u200D\u{1F9D1}",person_with_probing_cane:"\u{1F9D1}\u200D\u{1F9AF}",red_haired_person:"\u{1F9D1}\u200D\u{1F9B0}",curly_haired_person:"\u{1F9D1}\u200D\u{1F9B1}",bald_person:"\u{1F9D1}\u200D\u{1F9B2}",white_haired_person:"\u{1F9D1}\u200D\u{1F9B3}",person_in_motorized_wheelchair:"\u{1F9D1}\u200D\u{1F9BC}",person_in_manual_wheelchair:"\u{1F9D1}\u200D\u{1F9BD}",health_worker:"\u{1F9D1}\u200D\u2695\uFE0F",judge:"\u{1F9D1}\u200D\u2696\uFE0F",pilot:"\u{1F9D1}\u200D\u2708\uFE0F",adult:"\u{1F9D1}",child:"\u{1F9D2}",older_adult:"\u{1F9D3}",woman_with_beard:"\u{1F9D4}\u200D\u2640\uFE0F",man_with_beard:"\u{1F9D4}\u200D\u2642\uFE0F",bearded_person:"\u{1F9D4}",person_with_headscarf:"\u{1F9D5}",woman_in_steamy_room:"\u{1F9D6}\u200D\u2640\uFE0F",man_in_steamy_room:"\u{1F9D6}\u200D\u2642\uFE0F",person_in_steamy_room:"\u{1F9D6}\u200D\u2642\uFE0F",woman_climbing:"\u{1F9D7}\u200D\u2640\uFE0F",person_climbing:"\u{1F9D7}\u200D\u2640\uFE0F",man_climbing:"\u{1F9D7}\u200D\u2642\uFE0F",woman_in_lotus_position:"\u{1F9D8}\u200D\u2640\uFE0F",person_in_lotus_position:"\u{1F9D8}\u200D\u2640\uFE0F",man_in_lotus_position:"\u{1F9D8}\u200D\u2642\uFE0F",female_mage:"\u{1F9D9}\u200D\u2640\uFE0F",mage:"\u{1F9D9}\u200D\u2640\uFE0F",male_mage:"\u{1F9D9}\u200D\u2642\uFE0F",female_fairy:"\u{1F9DA}\u200D\u2640\uFE0F",fairy:"\u{1F9DA}\u200D\u2640\uFE0F",male_fairy:"\u{1F9DA}\u200D\u2642\uFE0F",female_vampire:"\u{1F9DB}\u200D\u2640\uFE0F",vampire:"\u{1F9DB}\u200D\u2640\uFE0F",male_vampire:"\u{1F9DB}\u200D\u2642\uFE0F",mermaid:"\u{1F9DC}\u200D\u2640\uFE0F",merman:"\u{1F9DC}\u200D\u2642\uFE0F",merperson:"\u{1F9DC}\u200D\u2642\uFE0F",female_elf:"\u{1F9DD}\u200D\u2640\uFE0F",male_elf:"\u{1F9DD}\u200D\u2642\uFE0F",elf:"\u{1F9DD}\u200D\u2642\uFE0F",female_genie:"\u{1F9DE}\u200D\u2640\uFE0F",male_genie:"\u{1F9DE}\u200D\u2642\uFE0F",genie:"\u{1F9DE}\u200D\u2642\uFE0F",female_zombie:"\u{1F9DF}\u200D\u2640\uFE0F",male_zombie:"\u{1F9DF}\u200D\u2642\uFE0F",zombie:"\u{1F9DF}\u200D\u2642\uFE0F",brain:"\u{1F9E0}",orange_heart:"\u{1F9E1}",billed_cap:"\u{1F9E2}",scarf:"\u{1F9E3}",gloves:"\u{1F9E4}",coat:"\u{1F9E5}",socks:"\u{1F9E6}",red_envelope:"\u{1F9E7}",firecracker:"\u{1F9E8}",jigsaw:"\u{1F9E9}",test_tube:"\u{1F9EA}",petri_dish:"\u{1F9EB}",dna:"\u{1F9EC}",compass:"\u{1F9ED}",abacus:"\u{1F9EE}",fire_extinguisher:"\u{1F9EF}",toolbox:"\u{1F9F0}",bricks:"\u{1F9F1}",magnet:"\u{1F9F2}",luggage:"\u{1F9F3}",lotion_bottle:"\u{1F9F4}",thread:"\u{1F9F5}",yarn:"\u{1F9F6}",safety_pin:"\u{1F9F7}",teddy_bear:"\u{1F9F8}",broom:"\u{1F9F9}",basket:"\u{1F9FA}",roll_of_paper:"\u{1F9FB}",soap:"\u{1F9FC}",sponge:"\u{1F9FD}",receipt:"\u{1F9FE}",nazar_amulet:"\u{1F9FF}",ballet_shoes:"\u{1FA70}","one-piece_swimsuit":"\u{1FA71}",briefs:"\u{1FA72}",shorts:"\u{1FA73}",thong_sandal:"\u{1FA74}",drop_of_blood:"\u{1FA78}",adhesive_bandage:"\u{1FA79}",stethoscope:"\u{1FA7A}","yo-yo":"\u{1FA80}",kite:"\u{1FA81}",parachute:"\u{1FA82}",boomerang:"\u{1FA83}",magic_wand:"\u{1FA84}",pinata:"\u{1FA85}",nesting_dolls:"\u{1FA86}",ringed_planet:"\u{1FA90}",chair:"\u{1FA91}",razor:"\u{1FA92}",axe:"\u{1FA93}",diya_lamp:"\u{1FA94}",banjo:"\u{1FA95}",military_helmet:"\u{1FA96}",accordion:"\u{1FA97}",long_drum:"\u{1FA98}",coin:"\u{1FA99}",carpentry_saw:"\u{1FA9A}",screwdriver:"\u{1FA9B}",ladder:"\u{1FA9C}",hook:"\u{1FA9D}",mirror:"\u{1FA9E}",window:"\u{1FA9F}",plunger:"\u{1FAA0}",sewing_needle:"\u{1FAA1}",knot:"\u{1FAA2}",bucket:"\u{1FAA3}",mouse_trap:"\u{1FAA4}",toothbrush:"\u{1FAA5}",headstone:"\u{1FAA6}",placard:"\u{1FAA7}",rock:"\u{1FAA8}",fly:"\u{1FAB0}",worm:"\u{1FAB1}",beetle:"\u{1FAB2}",cockroach:"\u{1FAB3}",potted_plant:"\u{1FAB4}",wood:"\u{1FAB5}",feather:"\u{1FAB6}",anatomical_heart:"\u{1FAC0}",lungs:"\u{1FAC1}",people_hugging:"\u{1FAC2}",blueberries:"\u{1FAD0}",bell_pepper:"\u{1FAD1}",olive:"\u{1FAD2}",flatbread:"\u{1FAD3}",tamale:"\u{1FAD4}",fondue:"\u{1FAD5}",teapot:"\u{1FAD6}",bangbang:"\u203C\uFE0F",interrobang:"\u2049\uFE0F",tm:"\u2122\uFE0F",information_source:"\u2139\uFE0F",left_right_arrow:"\u2194\uFE0F",arrow_up_down:"\u2195\uFE0F",arrow_upper_left:"\u2196\uFE0F",arrow_upper_right:"\u2197\uFE0F",arrow_lower_right:"\u2198\uFE0F",arrow_lower_left:"\u2199\uFE0F",leftwards_arrow_with_hook:"\u21A9\uFE0F",arrow_right_hook:"\u21AA\uFE0F",watch:"\u231A",hourglass:"\u231B",keyboard:"\u2328\uFE0F",eject:"\u23CF\uFE0F",fast_forward:"\u23E9",rewind:"\u23EA",arrow_double_up:"\u23EB",arrow_double_down:"\u23EC",black_right_pointing_double_triangle_with_vertical_bar:"\u23ED\uFE0F",black_left_pointing_double_triangle_with_vertical_bar:"\u23EE\uFE0F",black_right_pointing_triangle_with_double_vertical_bar:"\u23EF\uFE0F",alarm_clock:"\u23F0",stopwatch:"\u23F1\uFE0F",timer_clock:"\u23F2\uFE0F",hourglass_flowing_sand:"\u23F3",double_vertical_bar:"\u23F8\uFE0F",black_square_for_stop:"\u23F9\uFE0F",black_circle_for_record:"\u23FA\uFE0F",m:"\u24C2\uFE0F",black_small_square:"\u25AA\uFE0F",white_small_square:"\u25AB\uFE0F",arrow_forward:"\u25B6\uFE0F",arrow_backward:"\u25C0\uFE0F",white_medium_square:"\u25FB\uFE0F",black_medium_square:"\u25FC\uFE0F",white_medium_small_square:"\u25FD",black_medium_small_square:"\u25FE",sunny:"\u2600\uFE0F",cloud:"\u2601\uFE0F",umbrella:"\u2602\uFE0F",snowman:"\u2603\uFE0F",comet:"\u2604\uFE0F",phone:"\u260E\uFE0F",telephone:"\u260E\uFE0F",ballot_box_with_check:"\u2611\uFE0F",shamrock:"\u2618\uFE0F",point_up:"\u261D\uFE0F",skull_and_crossbones:"\u2620\uFE0F",radioactive_sign:"\u2622\uFE0F",biohazard_sign:"\u2623\uFE0F",orthodox_cross:"\u2626\uFE0F",star_and_crescent:"\u262A\uFE0F",peace_symbol:"\u262E\uFE0F",yin_yang:"\u262F\uFE0F",wheel_of_dharma:"\u2638\uFE0F",white_frowning_face:"\u2639\uFE0F",relaxed:"\u263A\uFE0F",female_sign:"\u2640\uFE0F",male_sign:"\u2642\uFE0F",gemini:"\u264A",cancer:"\u264B",leo:"\u264C",virgo:"\u264D",libra:"\u264E",scorpius:"\u264F",chess_pawn:"\u265F\uFE0F",spades:"\u2660\uFE0F",clubs:"\u2663\uFE0F",hearts:"\u2665\uFE0F",diamonds:"\u2666\uFE0F",hotsprings:"\u2668\uFE0F",recycle:"\u267B\uFE0F",infinity:"\u267E\uFE0F",wheelchair:"\u267F",hammer_and_pick:"\u2692\uFE0F",crossed_swords:"\u2694\uFE0F",medical_symbol:"\u2695\uFE0F",staff_of_aesculapius:"\u2695\uFE0F",scales:"\u2696\uFE0F",alembic:"\u2697\uFE0F",gear:"\u2699\uFE0F",atom_symbol:"\u269B\uFE0F",fleur_de_lis:"\u269C\uFE0F",warning:"\u26A0\uFE0F",zap:"\u26A1",transgender_symbol:"\u26A7\uFE0F",white_circle:"\u26AA",black_circle:"\u26AB",coffin:"\u26B0\uFE0F",funeral_urn:"\u26B1\uFE0F",soccer:"\u26BD",baseball:"\u26BE",snowman_without_snow:"\u26C4",partly_sunny:"\u26C5",thunder_cloud_and_rain:"\u26C8\uFE0F",ophiuchus:"\u26CE",pick:"\u26CF\uFE0F",helmet_with_white_cross:"\u26D1\uFE0F",chains:"\u26D3\uFE0F",no_entry:"\u26D4",shinto_shrine:"\u26E9\uFE0F",church:"\u26EA",mountain:"\u26F0\uFE0F",umbrella_on_ground:"\u26F1\uFE0F",fountain:"\u26F2",golf:"\u26F3",ferry:"\u26F4\uFE0F",boat:"\u26F5",sailboat:"\u26F5",skier:"\u26F7\uFE0F",ice_skate:"\u26F8\uFE0F","woman-bouncing-ball":"\u26F9\uFE0F\u200D\u2640\uFE0F","man-bouncing-ball":"\u26F9\uFE0F\u200D\u2642\uFE0F",person_with_ball:"\u26F9\uFE0F\u200D\u2642\uFE0F",tent:"\u26FA",fuelpump:"\u26FD",scissors:"\u2702\uFE0F",airplane:"\u2708\uFE0F",email:"\u2709\uFE0F",envelope:"\u2709\uFE0F",fist:"\u270A",hand:"\u270B",raised_hand:"\u270B",v:"\u270C\uFE0F",writing_hand:"\u270D\uFE0F",pencil2:"\u270F\uFE0F",black_nib:"\u2712\uFE0F",heavy_check_mark:"\u2714\uFE0F",heavy_multiplication_x:"\u2716\uFE0F",latin_cross:"\u271D\uFE0F",star_of_david:"\u2721\uFE0F",eight_spoked_asterisk:"\u2733\uFE0F",eight_pointed_black_star:"\u2734\uFE0F",snowflake:"\u2744\uFE0F",sparkle:"\u2747\uFE0F",x:"\u274C",negative_squared_cross_mark:"\u274E",heavy_heart_exclamation_mark_ornament:"\u2763\uFE0F",heart_on_fire:"\u2764\uFE0F\u200D\u{1F525}",mending_heart:"\u2764\uFE0F\u200D\u{1FA79}",heart:"\u2764\uFE0F",arrow_right:"\u27A1\uFE0F",curly_loop:"\u27B0",loop:"\u27BF",arrow_heading_up:"\u2934\uFE0F",arrow_heading_down:"\u2935\uFE0F",arrow_left:"\u2B05\uFE0F",arrow_up:"\u2B06\uFE0F",arrow_down:"\u2B07\uFE0F",black_large_square:"\u2B1B",white_large_square:"\u2B1C",star:"\u2B50",o:"\u2B55",wavy_dash:"\u3030\uFE0F",part_alternation_mark:"\u303D\uFE0F",congratulations:"\u3297\uFE0F",secret:"\u3299\uFE0F"}});var OO=oe((xse,TO)=>{y();var CO=EO(),Bi=kO(),wH=/:([a-zA-Z0-9_\-\+]+):/g,xH=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function cl(t){var e=t.indexOf(":");return e>-1?e===t.length-1?(t=t.substring(0,e),cl(t)):(t=t.substr(e+1),cl(t)):t}function DO(t){return typeof t=="string"&&t.length>0?":"+t+":":t}function SH(t){return typeof t=="string"&&t[0]!==":"?DO(t):t}var EH=String.fromCharCode(65039),kH=new RegExp(EH,"g");function fl(t){return t.replace(kH,"")}var r_=Object.keys(Bi).reduce(function(t,e){return t[fl(Bi[e])]=e,t},{}),Ye={emoji:Bi};Ye._get=function(e){return r_[fl(e)]?e:Bi.hasOwnProperty(e)?Bi[e]:SH(e)};Ye.get=function(e){return e=cl(e),Ye._get(e)};Ye.find=function(e){return Ye.findByName(e)||Ye.findByCode(e)};Ye.findByName=function(e){var r=cl(e),n=Bi[r];return n?{emoji:n,key:r}:void 0};Ye.findByCode=function(e){var r=fl(e),n=r_[r];return n?{emoji:Bi[n],key:n}:void 0};Ye.hasEmoji=function(e){return Ye.hasEmojiByName(e)||Ye.hasEmojiByCode(e)};Ye.hasEmojiByName=function(e){var r=Ye.findByName(e);return!!r&&r.key===cl(e)};Ye.hasEmojiByCode=function(e){var r=Ye.findByCode(e);return!!r&&fl(r.emoji)===fl(e)};Ye.which=function(e,r){var n=fl(e),i=r_[n];return r?DO(i):i};Ye.emojify=function(e,r,n){return e?e.split(wH).map(function(o,a){if(a%2==0)return o;var s=Ye._get(o),l=s.indexOf(":")>-1;return l&&typeof r=="function"?r(o):!l&&typeof n=="function"?n(s,o):s}).join(""):""};Ye.random=function(){var e=Object.keys(Bi),r=Math.floor(Math.random()*e.length),n=e[r],i=Ye._get(n);return{key:n,emoji:i}};Ye.search=function(e){var r=Object.keys(Bi),n=cl(e),i=r.filter(function(o){return o.toString().indexOf(n)===0});return i.map(function(o){return{key:o,emoji:Ye._get(o)}})};Ye.unemojify=function(e){if(!e)return"";var r=CO(e);return r.map(function(n){return Ye.which(n,!0)||n}).join("")};Ye.replace=function(e,r,n){if(!e)return"";var i=typeof r=="function"?r:function(){return r},o=CO(e),a=o.map(function(s,l){var u=Ye.findByCode(s);return u&&n&&o[l+1]===" "&&(o[l+1]=""),u?i(u):s}).join("");return n?a.replace(xH,""):a};Ye.strip=function(e){return Ye.replace(e,"",!0)};TO.exports=Ye});var SA=oe((Ec,xA)=>{y();"use strict";Ec.__esModule=!0;Ec.default=void 0;function In(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K3(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},L_(t,e)}function dn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var G3=function(e){var r,n,i=e.Component,o=e.createElement,a=e.createRef;return n=r=function(s){K3(l,s);function l(){for(var c,f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];return c=s.call.apply(s,[this].concat(d))||this,dn(In(c),"_hint",a()),dn(In(c),"_container",a()),dn(In(c),"state",{target:null,hidden:!0}),dn(In(c),"target",null),dn(In(c),"placement",null),dn(In(c),"_containerStyle",{position:"relative"}),dn(In(c),"toggleEvents",function(g,m){var v=g.events,b=g.events,E=b.click,w=b.focus,_=b.hover,S=m?"addEventListener":"removeEventListener",x=v===!0;(E||x)&&document[S]("click",c.toggleHint),(w||x)&&document[S]("focusin",c.toggleHint),(_||x)&&document[S]("mouseover",c.toggleHint),(E||_||x)&&document[S]("touchend",c.toggleHint)}),dn(In(c),"toggleHint",function(g){var m=g===void 0?{}:g,v=m.target,b=v===void 0?null:v;b=c.getHint(b),clearTimeout(c._timeout),c._timeout=setTimeout(function(){c.target=b,c.target&&(c.placement=null),c.getHintData()},b===null?c.props.delay.hide===void 0?c.props.delay:c.props.delay.hide:c.props.delay.show===void 0?c.props.delay:c.props.delay.show)}),dn(In(c),"getHint",function(g){for(var m=c.props,v=m.attribute,b=m.persist,E=c.target;g&&g!==document;){if(b&&g===c._hint.current)return E;if(g.hasAttribute(v))return g;g=g.parentNode}return null}),dn(In(c),"shallowEqual",function(g,m){var v=Object.keys(g);return v.length===Object.keys(m).length&&v.reduce(function(b,E){return b&&(typeof g[E]=="function"&&typeof m[E]=="function"||g[E]===m[E])},!0)}),dn(In(c),"getHintData",function(){if(!c.target){c.setState({hidden:!0});return}var g=c.props,m=g.attribute,v=g.autoPosition,b=g.position,E=c.target.getAttribute(m)||"",w=c.placement||c.target.getAttribute(m+"-at")||b,_=c._container.current.getBoundingClientRect(),S=_.top,x=_.left,k=c._hint.current.getBoundingClientRect(),C=k.width,D=k.height,T=c.target.getBoundingClientRect(),A=T.top,R=T.left,M=T.width,j=T.height;if(v&&!c.placement){var I=["left","right"].includes(w),L=document.documentElement,O=L.clientHeight,$=L.clientWidth,q={left:(I?R-C:R+(M-C>>1))>0,right:(I?R+M+C:R+(M+C>>1))<$,bottom:(I?A+(j+D>>1):A+j+D)<O,top:(I?A-(D>>1):A-D)>0};if(!w||!q[w])switch(w){case"left":q.left||(w="right"),q.top||(w="bottom"),q.bottom||(w="top");break;case"right":q.right||(w="left"),q.top||(w="bottom"),q.bottom||(w="top");break;case"bottom":q.bottom||(w="top"),q.left||(w="right"),q.right||(w="left");break;case"top":default:q.top||(w="bottom"),q.left||(w="right"),q.right||(w="left");break}}var V,U;switch(w){case"left":V=j-D>>1,U=-C;break;case"right":V=j-D>>1,U=M;break;case"bottom":V=j,U=M-C>>1;break;case"top":default:V=-D,U=M-C>>1}(D>0||C>0)&&(c.placement=w);var K={content:E,at:w,top:V+A-S|0,left:U+R-x|0,hidden:!1};c.setState(K)}),c}var u=l.prototype;return u.componentDidMount=function(){this.toggleEvents(this.props,!0)},u.componentWillUnmount=function(){this.toggleEvents(this.props,!1),clearTimeout(this._timeout)},u.componentDidUpdate=function(){this.target&&!this.state.hidden&&this.getHintData()},u.shouldComponentUpdate=function(f,d){return!this.shallowEqual(d,this.state)||!this.shallowEqual(f,this.props)},u.render=function(){var f=this.props,d=f.className,p=f.onRenderContent,g=this.state,m=g.content,v=g.at,b=g.top,E=g.left;return o("div",{ref:this._container,style:this._containerStyle},o("div",{className:d+" "+d+"--"+v,ref:this._hint,role:"tooltip",style:{top:b,left:E,display:this.target?void 0:"none"}},this.target&&(p?p(this.target,m):o("div",{className:d+"__content"},m))))},l}(i),dn(r,"defaultProps",{attribute:"data-rh",autoPosition:!1,className:"react-hint",delay:0,events:!1,onRenderContent:null,persist:!1,position:"top"}),n};Ec.default=G3;xA.exports=Ec.default});function Hp(t){if(typeof t!="string"||!t)throw new Error("expected a non-empty string, got: "+t)}function B_(t){if(typeof t!="number")throw new Error("expected a number, got: "+t)}function uW(t,e){let r=new Set,n=[];for(let i of t){let o=e(i);r.has(o)||(r.add(o),n.push(i))}return n}function PA(t){return uW(t,e=>e.unicode)}function cW(t){function e(r,n,i){let o=n?t.createObjectStore(r,{keyPath:n}):t.createObjectStore(r);if(i)for(let[a,[s,l]]of Object.entries(i))o.createIndex(a,s,{multiEntry:l});return o}e(bl),e(za,nW,{[DA]:[rW,!0],[OA]:[[iW,oW]],[IA]:[aW,!0]}),e(q_,void 0,{[TA]:[""]})}function MA(t,e,r){r.onerror=()=>e(r.error),r.onblocked=()=>e(new Error("IDB blocked")),r.onsuccess=()=>t(r.result)}async function fW(t){let e=await new Promise((r,n)=>{let i=indexedDB.open(t,eW);z_[t]=i,i.onupgradeneeded=o=>{o.oldVersion<tW&&cW(i.result)},MA(r,n,i)});return e.onclose=()=>H_(t),e}function dW(t){return Kp[t]||(Kp[t]=fW(t)),Kp[t]}function zi(t,e,r,n){return new Promise((i,o)=>{let a=t.transaction(e,r,{durability:"relaxed"}),s=typeof e=="string"?a.objectStore(e):e.map(u=>a.objectStore(u)),l;n(s,a,u=>{l=u}),a.oncomplete=()=>i(l),a.onerror=()=>o(a.error)})}function H_(t){let e=z_[t],r=e&&e.result;if(r){r.close();let n=Gp[t];if(n)for(let i of n)i()}delete z_[t],delete Kp[t],delete Gp[t]}function pW(t){return new Promise((e,r)=>{H_(t);let n=indexedDB.deleteDatabase(t);MA(e,r,n)})}function hW(t,e){let r=Gp[t];r||(r=Gp[t]=[]),r.push(e)}function xl(t){return t.split(/[\s_]+/).map(e=>!e.match(/\w/)||mW.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase()).filter(Boolean)}function FA(t){return t.filter(Boolean).map(e=>e.toLowerCase()).filter(e=>e.length>=gW)}function yW(t){return t.map(({annotation:r,emoticon:n,group:i,order:o,shortcodes:a,skins:s,tags:l,emoji:u,version:c})=>{let f=[...new Set(FA([...(a||[]).map(xl).flat(),...l.map(xl).flat(),...xl(r),n]))].sort(),d={annotation:r,group:i,order:o,tags:l,tokens:f,unicode:u,version:c};if(n&&(d.emoticon=n),a&&(d.shortcodes=a),s){d.skinTones=[],d.skinUnicodes=[],d.skinVersions=[];for(let{tone:p,emoji:g,version:m}of s)d.skinTones.push(p),d.skinUnicodes.push(g),d.skinVersions.push(m)}return d})}function jA(t,e,r,n){t[e](r).onsuccess=i=>n&&n(i.target.result)}function Ha(t,e,r){jA(t,"get",e,r)}function RA(t,e,r){jA(t,"getAll",e,r)}function W_(t){t.commit&&t.commit()}function vW(t,e){let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];e(r)>e(i)&&(r=i)}return r}function NA(t,e){let r=vW(t,i=>i.length),n=[];for(let i of r)t.some(o=>o.findIndex(a=>e(a)===e(i))===-1)||n.push(i);return n}async function _W(t){return!await K_(t,bl,Wp)}async function bW(t,e,r){let[n,i]=await Promise.all([V_,Wp].map(o=>K_(t,bl,o)));return n===r&&i===e}async function wW(t,e){let r=50;return zi(t,za,wl,(n,i,o)=>{let a,s=()=>{n.getAll(a&&IDBKeyRange.lowerBound(a,!0),r).onsuccess=l=>{let u=l.target.result;for(let c of u)if(a=c.unicode,e(c))return o(c);if(u.length<r)return o();s()}};s()})}async function LA(t,e,r,n){try{let i=yW(e);await zi(t,[za,bl],U_,([o,a],s)=>{let l,u,c=0;function f(){++c==2&&d()}function d(){if(!(l===n&&u===r)){o.clear();for(let p of i)o.put(p);a.put(n,V_),a.put(r,Wp),W_(s)}}Ha(a,V_,p=>{l=p,f()}),Ha(a,Wp,p=>{u=p,f()})})}finally{}}async function xW(t,e){return zi(t,za,wl,(r,n,i)=>{let o=IDBKeyRange.bound([e,0],[e+1,0],!1,!0);RA(r.index(OA),o,i)})}async function $A(t,e){let r=FA(xl(e));return r.length?zi(t,za,wl,(n,i,o)=>{let a=[],s=()=>{a.length===r.length&&l()},l=()=>{let u=NA(a,c=>c.unicode);o(u.sort((c,f)=>c.order<f.order?-1:1))};for(let u=0;u<r.length;u++){let c=r[u],f=u===r.length-1?IDBKeyRange.bound(c,c+"\uFFFF",!1,!0):IDBKeyRange.only(c);RA(n.index(DA),f,d=>{a.push(d),s()})}}):[]}async function SW(t,e){let r=await $A(t,e);return r.length?r.filter(n=>(n.shortcodes||[]).map(o=>o.toLowerCase()).includes(e.toLowerCase()))[0]||null:await wW(t,i=>(i.shortcodes||[]).includes(e.toLowerCase()))||null}async function EW(t,e){return zi(t,za,wl,(r,n,i)=>Ha(r,e,o=>{if(o)return i(o);Ha(r.index(IA),e,a=>i(a||null))}))}function K_(t,e,r){return zi(t,e,wl,(n,i,o)=>Ha(n,r,o))}function kW(t,e,r,n){return zi(t,e,U_,(i,o)=>{i.put(n,r),W_(o)})}function CW(t,e){return zi(t,q_,U_,(r,n)=>Ha(r,e,i=>{r.put((i||0)+1,e),W_(n)}))}function DW(t,e,r){return r===0?[]:zi(t,[q_,za],wl,([n,i],o,a)=>{let s=[];n.index(TA).openCursor(void 0,"prev").onsuccess=l=>{let u=l.target.result;if(!u)return a(s);function c(p){if(s.push(p),s.length===r)return a(s);u.continue()}let f=u.primaryKey,d=e.byName(f);if(d)return c(d);Ha(i,f,p=>{if(p)return c(p);u.continue()})}})}function TW(t,e){let r=new Map;for(let i of t){let o=e(i);for(let a of o){let s=r;for(let u=0;u<a.length;u++){let c=a.charAt(u),f=s.get(c);f||(f=new Map,s.set(c,f)),s=f}let l=s.get(Qp);l||(l=[],s.set(Qp,l)),l.push(i)}}return(i,o)=>{let a=r;for(let u=0;u<i.length;u++){let c=i.charAt(u),f=a.get(c);if(f)a=f;else return[]}if(o)return a.get(Qp)||[];let s=[],l=[a];for(;l.length;){let c=[...l.shift().entries()].sort((f,d)=>f[0]<d[0]?-1:1);for(let[f,d]of c)f===Qp?s.push(...d):l.push(d)}return s}}function AW(t){let e=t&&Array.isArray(t),r=e&&t.length&&(!t[0]||OW.some(n=>!(n in t[0])));if(!e||r)throw new Error("Custom emojis are in the wrong format")}function BA(t){AW(t);let e=(d,p)=>d.name.toLowerCase()<p.name.toLowerCase()?-1:1,r=t.sort(e),i=TW(t,d=>[...new Set((d.shortcodes||[]).map(p=>xl(p)).flat())]),o=d=>i(d,!0),a=d=>i(d,!1),s=d=>{let p=xl(d),g=p.map((m,v)=>(v<p.length-1?o:a)(m));return NA(g,m=>m.name).sort(e)},l=new Map,u=new Map;for(let d of t){u.set(d.name.toLowerCase(),d);for(let p of d.shortcodes||[])l.set(p.toLowerCase(),d)}return{all:r,search:s,byShortcode:d=>l.get(d.toLowerCase()),byName:d=>u.get(d.toLowerCase())}}function Cc(t){if(!t)return t;if(delete t.tokens,t.skinTones){let e=t.skinTones.length;t.skins=Array(e);for(let r=0;r<e;r++)t.skins[r]={tone:t.skinTones[r],unicode:t.skinUnicodes[r],version:t.skinVersions[r]};delete t.skinTones,delete t.skinUnicodes,delete t.skinVersions}return t}function qA(t){t||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}function PW(t){if(!t||!Array.isArray(t)||!t[0]||typeof t[0]!="object"||IW.some(e=>!(e in t[0])))throw new Error("Emoji data is in the wrong format")}function VA(t,e){if(Math.floor(t.status/100)!==2)throw new Error("Failed to fetch: "+e+":  "+t.status)}async function MW(t){let e=await fetch(t,{method:"HEAD"});VA(e,t);let r=e.headers.get("etag");return qA(r),r}async function G_(t){let e=await fetch(t);VA(e,t);let r=e.headers.get("etag");qA(r);let n=await e.json();return PW(n),[r,n]}function FW(t){for(var e="",r=new Uint8Array(t),n=r.byteLength,i=-1;++i<n;)e+=String.fromCharCode(r[i]);return e}function jW(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),i=-1;++i<e;)n[i]=t.charCodeAt(i);return r}async function UA(t){let e=JSON.stringify(t),r=jW(e),n=await crypto.subtle.digest("SHA-1",r),i=FW(n);return btoa(i)}async function RW(t,e){let r,n=await MW(e);if(!n){let i=await G_(e);n=i[0],r=i[1],n||(n=await UA(r))}await bW(t,e,n)||(r||(r=(await G_(e))[1]),await LA(t,r,e,n))}async function NW(t,e){let[r,n]=await G_(e);r||(r=await UA(n)),await LA(t,n,e,r)}var eW,tW,za,bl,q_,rW,DA,nW,TA,iW,oW,OA,V_,Wp,AA,wl,U_,IA,aW,sW,lW,z_,Kp,Gp,mW,gW,Qp,OW,IW,Dc,Q_=El(()=>{y();eW=1,tW=1,za="emoji",bl="keyvalue",q_="favorites",rW="tokens",DA="tokens",nW="unicode",TA="count",iW="group",oW="order",OA="group-order",V_="eTag",Wp="url",AA="skinTone",wl="readonly",U_="readwrite",IA="skinUnicodes",aW="skinUnicodes",sW="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",lW="en";z_={},Kp={},Gp={};mW=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);gW=2;Qp="";OW=["name","url"];IW=["annotation","emoji","group","order","tags","version"];Dc=class{constructor({dataSource:e=sW,locale:r=lW,customEmoji:n=[]}={}){this.dataSource=e,this.locale=r,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=BA(n),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){let e=this._db=await dW(this._dbName);hW(this._dbName,this._clear);let r=this.dataSource;await _W(e)?await NW(e,r):this._lazyUpdate=RW(e,r)}async ready(){let e=async()=>(this._ready||(this._ready=this._init()),this._ready);await e(),this._db||await e()}async getEmojiByGroup(e){return B_(e),await this.ready(),PA(await xW(this._db,e)).map(Cc)}async getEmojiBySearchQuery(e){Hp(e),await this.ready();let r=this._custom.search(e),n=PA(await $A(this._db,e)).map(Cc);return[...r,...n]}async getEmojiByShortcode(e){Hp(e),await this.ready();let r=this._custom.byShortcode(e);return r||Cc(await SW(this._db,e))}async getEmojiByUnicodeOrName(e){Hp(e),await this.ready();let r=this._custom.byName(e);return r||Cc(await EW(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await K_(this._db,bl,AA)||0}async setPreferredSkinTone(e){return B_(e),await this.ready(),kW(this._db,bl,AA,e)}async incrementFavoriteEmojiCount(e){return Hp(e),await this.ready(),CW(this._db,e)}async getTopFavoriteEmoji(e){return B_(e),await this.ready(),(await DW(this._db,this._custom,e)).map(Cc)}set customEmoji(e){this._custom=BA(e)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch{}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await H_(this._dbName)}async delete(){await this._shutdown(),await pW(this._dbName)}}});function Tc(){}function zA(t){return t()}function HA(){return Object.create(null)}function Oc(t){t.forEach(zA)}function WA(t){return typeof t=="function"}function LW(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Jp(t,e){return Yp||(Yp=document.createElement("a")),Yp.href=e,t===Yp.href}function $W(t){return Object.keys(t).length===0}function BW(t){return t&&WA(t.destroy)?t.destroy:Tc}function st(t,e){t.appendChild(e)}function Pn(t,e,r){t.insertBefore(e,r||null)}function Mn(t){t.parentNode.removeChild(t)}function ot(t){return document.createElement(t)}function ei(t){return document.createTextNode(t)}function Fn(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function F(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function ti(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function KA(t,e){t.value=e??""}function $o(t,e,r,n){r===null?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function Ac(t){Y_=t}function YA(){J_||(J_=!0,QA.then(JA))}function qW(){return YA(),QA}function X_(t){Xp.push(t)}function JA(){let t=Y_;do{for(;Zp<Ic.length;){let e=Ic[Zp];Zp++,Ac(e),VW(e.$$)}for(Ac(null),Ic.length=0,Zp=0;Sl.length;)Sl.pop()();for(let e=0;e<Xp.length;e+=1){let r=Xp[e];Z_.has(r)||(Z_.add(r),r())}Xp.length=0}while(Ic.length);for(;GA.length;)GA.pop()();J_=!1,Z_.clear(),Ac(t)}function VW(t){if(t.fragment!==null){t.update(),Oc(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X_)}}function zW(t,e){t&&t.i&&(UW.delete(t),t.i(e))}function Pc(t,e){t.d(1),e.delete(t.key)}function Mc(t,e,r,n,i,o,a,s,l,u,c,f){let d=t.length,p=o.length,g=d,m={};for(;g--;)m[t[g].key]=g;let v=[],b=new Map,E=new Map;for(g=p;g--;){let x=f(i,o,g),k=r(x),C=a.get(k);C?n&&C.p(x,e):(C=u(k,x),C.c()),b.set(k,v[g]=C),k in m&&E.set(k,Math.abs(g-m[k]))}let w=new Set,_=new Set;function S(x){zW(x,1),x.m(s,c),a.set(x.key,x),c=x.first,p--}for(;d&&p;){let x=v[p-1],k=t[d-1],C=x.key,D=k.key;x===k?(c=x.first,d--,p--):b.has(D)?!a.has(C)||w.has(C)?S(x):_.has(D)?d--:E.get(C)>E.get(D)?(_.add(C),S(x)):(w.add(D),d--):(l(k,a),d--)}for(;d--;){let x=t[d];b.has(x.key)||l(x,a)}for(;p;)S(v[p-1]);return v}function WW(t,e,r,n){let{fragment:i,on_mount:o,on_destroy:a,after_update:s}=t.$$;i&&i.m(e,r),n||X_(()=>{let l=o.map(zA).filter(WA);a?a.push(...l):Oc(l),t.$$.on_mount=[]}),s.forEach(X_)}function KW(t,e){let r=t.$$;r.fragment!==null&&(Oc(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function GW(t,e){t.$$.dirty[0]===-1&&(Ic.push(t),YA(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function QW(t,e,r,n,i,o,a,s=[-1]){let l=Y_;Ac(t);let u=t.$$={fragment:null,ctx:null,props:o,update:Tc,not_equal:i,bound:HA(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:HA(),dirty:s,skip_bound:!1,root:e.target||l.$$.root};a&&a(u.root);let c=!1;u.ctx=r?r(t,e.props||{},(f,d,...p)=>{let g=p.length?p[0]:d;return u.ctx&&i(u.ctx[f],u.ctx[f]=g)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](g),c&&GW(t,f)),d}):[],u.update(),c=!0,Oc(u.before_update),u.fragment=n?n(u.ctx):!1,e.target&&(u.fragment&&u.fragment.c(),WW(t,e.target,void 0,void 0),JA()),Ac(l)}function rI(t){return t.unicode.includes("\u200D")}function oK(t){let e=iI(t,"#000"),r=iI(t,"#fff");return e&&r&&iK(e,r)}function aK(){let t=Object.entries(XW);try{for(let[e,r]of t)if(oK(e))return r}catch{}finally{}return t[0][1]}function dK(t,e){if(e===0)return t;let r=t.indexOf(uK);return r!==-1?t.substring(0,r)+String.fromCodePoint(cK+e-1)+t.substring(r):(t.endsWith(sK)&&(t=t.substring(0,t.length-1)),t+lK+String.fromCodePoint(fK+e-1))}function Bo(t){t.preventDefault(),t.stopPropagation()}function rb(t,e,r){return e+=t?-1:1,e<0?e=r.length-1:e>=r.length&&(e=0),e}function oI(t,e){let r=new Set,n=[];for(let i of t){let o=e(i);r.has(o)||(r.add(o),n.push(i))}return n}function pK(t,e){let r=n=>{let i={};for(let o of n)typeof o.tone=="number"&&o.version<=e&&(i[o.tone]=o.unicode);return i};return t.map(({unicode:n,skins:i,shortcodes:o,url:a,name:s,category:l})=>({unicode:n,name:s,shortcodes:o,url:a,category:l,id:n||s,skins:i&&r(i),title:(o||[]).join(", ")}))}function mK(t,e){let r;return hK?(r=new ResizeObserver(n=>e(n[0].contentRect.width)),r.observe(t)):th(()=>e(t.getBoundingClientRect().width)),{destroy(){r&&r.disconnect()}}}function aI(t){{let e=document.createRange();return e.selectNode(t.firstChild),e.getBoundingClientRect().width}}function gK(t,e,r){for(let n of t){let i=r(n),o=aI(i);typeof nb=="undefined"&&(nb=aI(e));let a=o/1.8<nb;tb.set(n.unicode,a)}}function yK(t){return oI(t,e=>e)}function sI(t,e,r){let n=t.slice();return n[63]=e[r],n[65]=r,n}function lI(t,e,r){let n=t.slice();return n[66]=e[r],n[65]=r,n}function uI(t,e,r){let n=t.slice();return n[63]=e[r],n[65]=r,n}function cI(t,e,r){let n=t.slice();return n[69]=e[r],n}function fI(t,e,r){let n=t.slice();return n[72]=e[r],n[65]=r,n}function dI(t,e){let r,n=e[72]+"",i,o,a,s,l,u;return{key:t,first:null,c(){r=ot("div"),i=ei(n),F(r,"id",o="skintone-"+e[65]),F(r,"class",a="emoji hide-focus "+(e[65]===e[20]?"active":"")),F(r,"aria-selected",s=e[65]===e[20]),F(r,"role","option"),F(r,"title",l=e[0].skinTones[e[65]]),F(r,"tabindex","-1"),F(r,"aria-label",u=e[0].skinTones[e[65]]),this.first=r},m(c,f){Pn(c,r,f),st(r,i)},p(c,f){e=c,f[0]&512&&n!==(n=e[72]+"")&&ti(i,n),f[0]&512&&o!==(o="skintone-"+e[65])&&F(r,"id",o),f[0]&1049088&&a!==(a="emoji hide-focus "+(e[65]===e[20]?"active":""))&&F(r,"class",a),f[0]&1049088&&s!==(s=e[65]===e[20])&&F(r,"aria-selected",s),f[0]&513&&l!==(l=e[0].skinTones[e[65]])&&F(r,"title",l),f[0]&513&&u!==(u=e[0].skinTones[e[65]])&&F(r,"aria-label",u)},d(c){c&&Mn(r)}}}function pI(t,e){let r,n,i=e[69].emoji+"",o,a,s,l,u,c,f;function d(){return e[49](e[69])}return{key:t,first:null,c(){r=ot("button"),n=ot("div"),o=ei(i),F(n,"class","nav-emoji emoji"),F(r,"role","tab"),F(r,"class","nav-button"),F(r,"aria-controls",a="tab-"+e[69].id),F(r,"aria-label",s=e[0].categories[e[69].name]),F(r,"aria-selected",l=!e[4]&&e[13].id===e[69].id),F(r,"title",u=e[0].categories[e[69].name]),this.first=r},m(p,g){Pn(p,r,g),st(r,n),st(n,o),c||(f=Fn(r,"click",d),c=!0)},p(p,g){e=p,g[0]&4096&&i!==(i=e[69].emoji+"")&&ti(o,i),g[0]&4096&&a!==(a="tab-"+e[69].id)&&F(r,"aria-controls",a),g[0]&4097&&s!==(s=e[0].categories[e[69].name])&&F(r,"aria-label",s),g[0]&12304&&l!==(l=!e[4]&&e[13].id===e[69].id)&&F(r,"aria-selected",l),g[0]&4097&&u!==(u=e[0].categories[e[69].name])&&F(r,"title",u)},d(p){p&&Mn(r),c=!1,f()}}}function vK(t){let e,r;return{c(){e=ot("img"),F(e,"class","custom-emoji"),Jp(e.src,r=t[63].url)||F(e,"src",r),F(e,"alt",""),F(e,"loading","lazy")},m(n,i){Pn(n,e,i)},p(n,i){i[0]&32768&&!Jp(e.src,r=n[63].url)&&F(e,"src",r)},d(n){n&&Mn(e)}}}function _K(t){let e=t[27](t[63],t[8])+"",r;return{c(){r=ei(e)},m(n,i){Pn(n,r,i)},p(n,i){i[0]&33024&&e!==(e=n[27](n[63],n[8])+"")&&ti(r,e)},d(n){n&&Mn(r)}}}function hI(t,e){let r,n,i,o,a,s,l;function u(d,p){return d[63].unicode?_K:vK}let c=u(e),f=c(e);return{key:t,first:null,c(){r=ot("button"),f.c(),F(r,"role",n=e[4]?"option":"menuitem"),F(r,"aria-selected",i=e[4]?e[65]==e[5]:""),F(r,"aria-label",o=e[28](e[63],e[8])),F(r,"title",a=e[63].title),F(r,"class",s="emoji "+(e[4]&&e[65]===e[5]?"active":"")),F(r,"id",l="emo-"+e[63].id),this.first=r},m(d,p){Pn(d,r,p),f.m(r,null)},p(d,p){e=d,c===(c=u(e))&&f?f.p(e,p):(f.d(1),f=c(e),f&&(f.c(),f.m(r,null))),p[0]&16&&n!==(n=e[4]?"option":"menuitem")&&F(r,"role",n),p[0]&32816&&i!==(i=e[4]?e[65]==e[5]:"")&&F(r,"aria-selected",i),p[0]&33024&&o!==(o=e[28](e[63],e[8]))&&F(r,"aria-label",o),p[0]&32768&&a!==(a=e[63].title)&&F(r,"title",a),p[0]&32816&&s!==(s="emoji "+(e[4]&&e[65]===e[5]?"active":""))&&F(r,"class",s),p[0]&32768&&l!==(l="emo-"+e[63].id)&&F(r,"id",l)},d(d){d&&Mn(r),f.d()}}}function mI(t,e){let r,n=(e[4]?e[0].searchResultsLabel:e[66].category?e[66].category:e[15].length>1?e[0].categories.custom:e[0].categories[e[13].name])+"",i,o,a,s,l=[],u=new Fc,c,f,d,p=e[66].emojis,g=m=>m[63].id;for(let m=0;m<p.length;m+=1){let v=uI(e,p,m),b=g(v);u.set(b,l[m]=hI(b,v))}return{key:t,first:null,c(){r=ot("div"),i=ei(n),s=ot("div");for(let m=0;m<l.length;m+=1)l[m].c();F(r,"id",o="menu-label-"+e[65]),F(r,"class",a="category "+(e[15].length===1&&e[15][0].category===""?"gone":"")),F(r,"aria-hidden","true"),F(s,"class","emoji-menu"),F(s,"role",c=e[4]?"listbox":"menu"),F(s,"aria-labelledby",f="menu-label-"+e[65]),F(s,"id",d=e[4]?"search-results":""),this.first=r},m(m,v){Pn(m,r,v),st(r,i),Pn(m,s,v);for(let b=0;b<l.length;b+=1)l[b].m(s,null)},p(m,v){e=m,v[0]&40977&&n!==(n=(e[4]?e[0].searchResultsLabel:e[66].category?e[66].category:e[15].length>1?e[0].categories.custom:e[0].categories[e[13].name])+"")&&ti(i,n),v[0]&32768&&o!==(o="menu-label-"+e[65])&&F(r,"id",o),v[0]&32768&&a!==(a="category "+(e[15].length===1&&e[15][0].category===""?"gone":""))&&F(r,"class",a),v[0]&402686256&&(p=e[66].emojis,l=Mc(l,v,g,1,e,p,u,s,Pc,hI,null,uI)),v[0]&16&&c!==(c=e[4]?"listbox":"menu")&&F(s,"role",c),v[0]&32768&&f!==(f="menu-label-"+e[65])&&F(s,"aria-labelledby",f),v[0]&16&&d!==(d=e[4]?"search-results":"")&&F(s,"id",d)},d(m){m&&Mn(r),m&&Mn(s);for(let v=0;v<l.length;v+=1)l[v].d()}}}function bK(t){let e,r;return{c(){e=ot("img"),F(e,"class","custom-emoji"),Jp(e.src,r=t[63].url)||F(e,"src",r),F(e,"alt",""),F(e,"loading","lazy")},m(n,i){Pn(n,e,i)},p(n,i){i[0]&1024&&!Jp(e.src,r=n[63].url)&&F(e,"src",r)},d(n){n&&Mn(e)}}}function wK(t){let e=t[27](t[63],t[8])+"",r;return{c(){r=ei(e)},m(n,i){Pn(n,r,i)},p(n,i){i[0]&1280&&e!==(e=n[27](n[63],n[8])+"")&&ti(r,e)},d(n){n&&Mn(r)}}}function gI(t,e){let r,n,i,o;function a(u,c){return u[63].unicode?wK:bK}let s=a(e),l=s(e);return{key:t,first:null,c(){r=ot("button"),l.c(),F(r,"role","menuitem"),F(r,"aria-label",n=e[28](e[63],e[8])),F(r,"title",i=e[63].title),F(r,"class","emoji"),F(r,"id",o="fav-"+e[63].id),this.first=r},m(u,c){Pn(u,r,c),l.m(r,null)},p(u,c){e=u,s===(s=a(e))&&l?l.p(e,c):(l.d(1),l=s(e),l&&(l.c(),l.m(r,null))),c[0]&1280&&n!==(n=e[28](e[63],e[8]))&&F(r,"aria-label",n),c[0]&1024&&i!==(i=e[63].title)&&F(r,"title",i),c[0]&1024&&o!==(o="fav-"+e[63].id)&&F(r,"id",o)},d(u){u&&Mn(r),l.d()}}}function xK(t){let e,r,n,i,o,a,s,l,u,c=t[0].searchLabel+"",f,d,p=t[0].searchDescription+"",g,m,v,b,E,w,_,S=t[0].skinToneDescription+"",x,k,C=[],D=new Fc,T,A,R,M,j,I=[],L=new Fc,O,$,q,V,U,K,fe,ve,se=[],ye=new Fc,Xe,Le,bt,je,Se,wt=[],br=new Fc,Ze,et,We,Ke,Tt,xt,tt=t[9],lt=z=>z[72];for(let z=0;z<tt.length;z+=1){let Y=fI(t,tt,z),N=lt(Y);D.set(N,C[z]=dI(N,Y))}let Qt=t[12],Pr=z=>z[69].id;for(let z=0;z<Qt.length;z+=1){let Y=cI(t,Qt,z),N=Pr(Y);L.set(N,I[z]=pI(N,Y))}let tr=t[15],ri=z=>z[66].category;for(let z=0;z<tr.length;z+=1){let Y=lI(t,tr,z),N=ri(Y);ye.set(N,se[z]=mI(N,Y))}let pn=t[10],ni=z=>z[63].id;for(let z=0;z<pn.length;z+=1){let Y=sI(t,pn,z),N=ni(Y);br.set(N,wt[z]=gI(N,Y))}return{c(){e=ot("section"),r=ot("div"),n=ot("div"),i=ot("div"),o=ot("input"),u=ot("label"),f=ei(c),d=ot("span"),g=ei(p),m=ot("div"),v=ot("button"),b=ei(t[21]),_=ot("span"),x=ei(S),k=ot("div");for(let z=0;z<C.length;z+=1)C[z].c();j=ot("div");for(let z=0;z<I.length;z+=1)I[z].c();$=ot("div"),q=ot("div"),V=ot("div"),U=ei(t[18]),fe=ot("div"),ve=ot("div");for(let z=0;z<se.length;z+=1)se[z].c();Se=ot("div");for(let z=0;z<wt.length;z+=1)wt[z].c();We=ot("button"),We.textContent="\u{1F600}",F(r,"class","pad-top"),F(o,"id","search"),F(o,"class","search"),F(o,"type","search"),F(o,"role","combobox"),F(o,"enterkeyhint","search"),F(o,"placeholder",a=t[0].searchLabel),F(o,"autocapitalize","none"),F(o,"autocomplete","off"),F(o,"spellcheck","true"),F(o,"aria-expanded",s=!!(t[4]&&t[1].length)),F(o,"aria-controls","search-results"),F(o,"aria-describedby","search-description"),F(o,"aria-autocomplete","list"),F(o,"aria-activedescendant",l=t[26]?`emo-${t[26]}`:""),F(u,"class","sr-only"),F(u,"for","search"),F(d,"id","search-description"),F(d,"class","sr-only"),F(i,"class","search-wrapper"),F(v,"id","skintone-button"),F(v,"class",E="emoji "+(t[6]?"hide-focus":"")),F(v,"aria-label",t[23]),F(v,"title",t[23]),F(v,"aria-describedby","skintone-description"),F(v,"aria-haspopup","listbox"),F(v,"aria-expanded",t[6]),F(v,"aria-controls","skintone-list"),F(m,"class",w="skintone-button-wrapper "+(t[19]?"expanded":"")),F(_,"id","skintone-description"),F(_,"class","sr-only"),F(k,"id","skintone-list"),F(k,"class",T="skintone-list "+(t[6]?"":"hidden no-animate")),$o(k,"transform","translateY("+(t[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),F(k,"role","listbox"),F(k,"aria-label",A=t[0].skinTonesLabel),F(k,"aria-activedescendant",R="skintone-"+t[20]),F(k,"aria-hidden",M=!t[6]),F(n,"class","search-row"),F(j,"class","nav"),F(j,"role","tablist"),$o(j,"grid-template-columns","repeat("+t[12].length+", 1fr)"),F(j,"aria-label",O=t[0].categoriesLabel),F(q,"class","indicator"),$o(q,"transform","translateX("+(t[24]?-1:1)*t[11]*100+"%)"),F($,"class","indicator-wrapper"),F(V,"class",K="message "+(t[18]?"":"gone")),F(V,"role","alert"),F(V,"aria-live","polite"),F(fe,"class",Xe="tabpanel "+(!t[14]||t[18]?"gone":"")),F(fe,"role",Le=t[4]?"region":"tabpanel"),F(fe,"aria-label",bt=t[4]?t[0].searchResultsLabel:t[0].categories[t[13].name]),F(fe,"id",je=t[4]?"":`tab-${t[13].id}`),F(fe,"tabindex","0"),F(Se,"class",Ze="favorites emoji-menu "+(t[18]?"gone":"")),F(Se,"role","menu"),F(Se,"aria-label",et=t[0].favoritesLabel),$o(Se,"padding-inline-end",t[25]+"px"),F(We,"aria-hidden","true"),F(We,"tabindex","-1"),F(We,"class","abs-pos hidden emoji"),F(e,"class","picker"),F(e,"aria-label",Ke=t[0].regionLabel),F(e,"style",t[22])},m(z,Y){Pn(z,e,Y),st(e,r),st(e,n),st(n,i),st(i,o),KA(o,t[2]),st(i,u),st(u,f),st(i,d),st(d,g),st(n,m),st(m,v),st(v,b),st(n,_),st(_,x),st(n,k);for(let N=0;N<C.length;N+=1)C[N].m(k,null);t[48](k),st(e,j);for(let N=0;N<I.length;N+=1)I[N].m(j,null);st(e,$),st($,q),st(e,V),st(V,U),st(e,fe),st(fe,ve);for(let N=0;N<se.length;N+=1)se[N].m(ve,null);t[50](fe),st(e,Se);for(let N=0;N<wt.length;N+=1)wt[N].m(Se,null);st(e,We),t[51](We),t[52](e),Tt||(xt=[Fn(o,"input",t[47]),Fn(o,"keydown",t[30]),Fn(v,"click",t[35]),Fn(k,"focusout",t[38]),Fn(k,"click",t[34]),Fn(k,"keydown",t[36]),Fn(k,"keyup",t[37]),Fn(j,"keydown",t[32]),BW(t[29].call(null,ve)),Fn(fe,"click",t[33]),Fn(Se,"click",t[33])],Tt=!0)},p(z,Y){Y[0]&1&&a!==(a=z[0].searchLabel)&&F(o,"placeholder",a),Y[0]&18&&s!==(s=!!(z[4]&&z[1].length))&&F(o,"aria-expanded",s),Y[0]&67108864&&l!==(l=z[26]?`emo-${z[26]}`:"")&&F(o,"aria-activedescendant",l),Y[0]&4&&KA(o,z[2]),Y[0]&1&&c!==(c=z[0].searchLabel+"")&&ti(f,c),Y[0]&1&&p!==(p=z[0].searchDescription+"")&&ti(g,p),Y[0]&2097152&&ti(b,z[21]),Y[0]&64&&E!==(E="emoji "+(z[6]?"hide-focus":""))&&F(v,"class",E),Y[0]&8388608&&F(v,"aria-label",z[23]),Y[0]&8388608&&F(v,"title",z[23]),Y[0]&64&&F(v,"aria-expanded",z[6]),Y[0]&524288&&w!==(w="skintone-button-wrapper "+(z[19]?"expanded":""))&&F(m,"class",w),Y[0]&1&&S!==(S=z[0].skinToneDescription+"")&&ti(x,S),Y[0]&1049089&&(tt=z[9],C=Mc(C,Y,lt,1,z,tt,D,k,Pc,dI,null,fI)),Y[0]&64&&T!==(T="skintone-list "+(z[6]?"":"hidden no-animate"))&&F(k,"class",T),Y[0]&64&&$o(k,"transform","translateY("+(z[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),Y[0]&1&&A!==(A=z[0].skinTonesLabel)&&F(k,"aria-label",A),Y[0]&1048576&&R!==(R="skintone-"+z[20])&&F(k,"aria-activedescendant",R),Y[0]&64&&M!==(M=!z[6])&&F(k,"aria-hidden",M),Y[0]&12305|Y[1]&1&&(Qt=z[12],I=Mc(I,Y,Pr,1,z,Qt,L,j,Pc,pI,null,cI)),Y[0]&4096&&$o(j,"grid-template-columns","repeat("+z[12].length+", 1fr)"),Y[0]&1&&O!==(O=z[0].categoriesLabel)&&F(j,"aria-label",O),Y[0]&16779264&&$o(q,"transform","translateX("+(z[24]?-1:1)*z[11]*100+"%)"),Y[0]&262144&&ti(U,z[18]),Y[0]&262144&&K!==(K="message "+(z[18]?"":"gone"))&&F(V,"class",K),Y[0]&402694449&&(tr=z[15],se=Mc(se,Y,ri,1,z,tr,ye,ve,Pc,mI,null,lI)),Y[0]&278528&&Xe!==(Xe="tabpanel "+(!z[14]||z[18]?"gone":""))&&F(fe,"class",Xe),Y[0]&16&&Le!==(Le=z[4]?"region":"tabpanel")&&F(fe,"role",Le),Y[0]&8209&&bt!==(bt=z[4]?z[0].searchResultsLabel:z[0].categories[z[13].name])&&F(fe,"aria-label",bt),Y[0]&8208&&je!==(je=z[4]?"":`tab-${z[13].id}`)&&F(fe,"id",je),Y[0]&402654464&&(pn=z[10],wt=Mc(wt,Y,ni,1,z,pn,br,Se,Pc,gI,null,sI)),Y[0]&262144&&Ze!==(Ze="favorites emoji-menu "+(z[18]?"gone":""))&&F(Se,"class",Ze),Y[0]&1&&et!==(et=z[0].favoritesLabel)&&F(Se,"aria-label",et),Y[0]&33554432&&$o(Se,"padding-inline-end",z[25]+"px"),Y[0]&1&&Ke!==(Ke=z[0].regionLabel)&&F(e,"aria-label",Ke),Y[0]&4194304&&F(e,"style",z[22])},i:Tc,o:Tc,d(z){z&&Mn(e);for(let Y=0;Y<C.length;Y+=1)C[Y].d();t[48](null);for(let Y=0;Y<I.length;Y+=1)I[Y].d();for(let Y=0;Y<se.length;Y+=1)se[Y].d();t[50](null);for(let Y=0;Y<wt.length;Y+=1)wt[Y].d();t[51](null),t[52](null),Tt=!1,Oc(xt)}}}function SK(t,e,r){let{skinToneEmoji:n}=e,{i18n:i}=e,{database:o}=e,{customEmoji:a}=e,{customCategorySorting:s}=e,l=!0,u=[],c=[],f="",d="",p,g,m,v=!1,b=-1,E,w=!1,_=!1,S,x=0,k=0,C,D,T="",A=[],R=[],M,j=tK,I=!1,L=0,O=0,$=eh,q,V=!1,U,K=N=>{p.getRootNode().getElementById(N).focus()},fe=(N,Z)=>{p.dispatchEvent(new CustomEvent(N,{detail:Z,bubbles:!0,composed:!0}))},ve=(N,Z)=>Z&&N.skins&&N.skins[Z]||N.unicode,se=(N,Z)=>yK([N.name||ve(N,Z),...N.shortcodes||[]]).join(", "),ye=N=>/^skintone-/.test(N.id);eb.then(N=>{N||r(18,E=i.emojiUnsupportedMessage)});function Xe(N){return mK(N,Z=>{{let Ee=getComputedStyle(p),ct=parseInt(Ee.getPropertyValue("--num-columns"),10),B=Ee.getPropertyValue("direction")==="rtl",he=N.parentElement.getBoundingClientRect().width-Z;r(46,j=ct),r(25,L=he),r(24,I=B)}})}function Le(N){let Z=p.getRootNode();gK(N,g,ct=>Z.getElementById(`emo-${ct.id}`)),r(1,u=u)}function bt(N){return!N.unicode||!rI(N)||tb.get(N.unicode)}async function je(N){let Z=await eb;return N.filter(({version:Ee})=>!Ee||Ee<=Z)}async function Se(N){return pK(N,await eb)}async function wt(N){if(typeof N=="undefined")return[];let Z=N===-1?a:await o.getEmojiByGroup(N);return Se(await je(Z))}async function br(N){return Se(await je(await o.getEmojiBySearchQuery(N)))}function Ze(N){if(!v||!u.length)return;let Z=Ee=>{Bo(N),r(5,b=rb(Ee,b,u))};switch(N.key){case"ArrowDown":return Z(!1);case"ArrowUp":return Z(!0);case"Enter":if(b!==-1)return Bo(N),Ke(u[b].id);u.length&&r(5,b=0)}}function et(N){r(2,f=""),r(44,d=""),r(5,b=-1),r(11,O=$.findIndex(Z=>Z.id===N.id))}function We(N){let{target:Z,key:Ee}=N,ct=B=>{B&&(Bo(N),B.focus())};switch(Ee){case"ArrowLeft":return ct(Z.previousSibling);case"ArrowRight":return ct(Z.nextSibling);case"Home":return ct(Z.parentElement.firstChild);case"End":return ct(Z.parentElement.lastChild)}}async function Ke(N){let Z=await o.getEmojiByUnicodeOrName(N),Ee=[...u,...R].find(B=>B.id===N),ct=Ee.unicode&&ve(Ee,x);await o.incrementFavoriteEmojiCount(N),fe("emoji-click",{emoji:Z,skinTone:x,...ct&&{unicode:ct},...Ee.name&&{name:Ee.name}})}async function Tt(N){let{target:Z}=N;if(!Z.classList.contains("emoji"))return;Bo(N);let Ee=Z.id.substring(4);Ke(Ee)}async function xt(N){let{target:Z}=N;if(!ye(Z))return;Bo(N);let Ee=parseInt(Z.id.slice(9),10);r(8,x=Ee),r(6,w=!1),K("skintone-button"),fe("skin-tone-change",{skinTone:Ee}),o.setPreferredSkinTone(Ee)}async function tt(N){r(6,w=!w),r(20,k=x),w&&(Bo(N),th(()=>K(`skintone-${k}`)))}function lt(N){if(!w)return;let Z=async Ee=>{Bo(N),r(20,k=Ee),await qW(),K(`skintone-${k}`)};switch(N.key){case"ArrowUp":return Z(rb(!0,k,A));case"ArrowDown":return Z(rb(!1,k,A));case"Home":return Z(0);case"End":return Z(A.length-1);case"Enter":return xt(N);case"Escape":return Bo(N),r(6,w=!1),K("skintone-button")}}function Qt(N){if(!!w)switch(N.key){case" ":return xt(N)}}async function Pr(N){let{relatedTarget:Z}=N;(!Z||!ye(Z))&&r(6,w=!1)}function tr(){f=this.value,r(2,f)}function ri(N){Sl[N?"unshift":"push"](()=>{S=N,r(7,S)})}let pn=N=>et(N);function ni(N){Sl[N?"unshift":"push"](()=>{m=N,r(3,m)})}function z(N){Sl[N?"unshift":"push"](()=>{g=N,r(17,g)})}function Y(N){Sl[N?"unshift":"push"](()=>{p=N,r(16,p)})}return t.$$set=N=>{"skinToneEmoji"in N&&r(40,n=N.skinToneEmoji),"i18n"in N&&r(0,i=N.i18n),"database"in N&&r(39,o=N.database),"customEmoji"in N&&r(41,a=N.customEmoji),"customCategorySorting"in N&&r(42,s=N.customCategorySorting)},t.$$.update=()=>{if(t.$$.dirty[1]&1280&&a&&o&&r(39,o.customEmoji=a,o),t.$$.dirty[0]&1|t.$$.dirty[1]&256){async function N(){let Z=!1,Ee=setTimeout(()=>{Z=!0,r(18,E=i.loadingMessage)},ZW);try{await o.ready(),r(14,V=!0)}catch(ct){console.error(ct),r(18,E=i.networkErrorMessage)}finally{clearTimeout(Ee),Z&&(Z=!1,r(18,E=""))}}o&&N()}if(t.$$.dirty[0]&6144|t.$$.dirty[1]&1024&&(a&&a.length?r(12,$=[YW,...eh]):$!==eh&&(O&&r(11,O--,O),r(12,$=eh))),t.$$.dirty[0]&4&&tI(()=>{r(44,d=(f||"").trim()),r(5,b=-1)}),t.$$.dirty[0]&6144&&r(13,q=$[O]),t.$$.dirty[0]&24576|t.$$.dirty[1]&8192){async function N(){if(!V)r(1,u=[]),r(4,v=!1);else if(d.length>=JW){let Z=d,Ee=await br(Z);Z===d&&(r(1,u=Ee),r(4,v=!0))}else if(q){let Z=q.id,Ee=await wt(Z);Z===q.id&&(r(1,u=Ee),r(4,v=!1))}}N()}if(t.$$.dirty[0]&4112&&r(22,D=`
  --font-family: ${nI};
  --num-groups: ${$.length}; 
  --indicator-opacity: ${v?0:1}; 
  --num-skintones: ${eI};`),t.$$.dirty[0]&16384|t.$$.dirty[1]&256){async function N(){V&&r(8,x=await o.getPreferredSkinTone())}N()}if(t.$$.dirty[1]&512&&r(9,A=Array(eI).fill().map((N,Z)=>dK(n,Z))),t.$$.dirty[0]&768&&r(21,C=A[x]),t.$$.dirty[0]&257&&r(23,T=i.skinToneLabel.replace("{skinTone}",i.skinTones[x])),t.$$.dirty[0]&16384|t.$$.dirty[1]&256){async function N(){r(45,M=(await Promise.all(rK.map(Z=>o.getEmojiByUnicodeOrName(Z)))).filter(Boolean))}V&&N()}if(t.$$.dirty[0]&16384|t.$$.dirty[1]&49408){async function N(){let Z=await o.getTopFavoriteEmoji(j),Ee=await Se(oI([...Z,...M],ct=>ct.unicode||ct.name).slice(0,j));r(10,R=Ee)}V&&M&&N()}if(t.$$.dirty[0]&10){let N=u.filter(Z=>Z.unicode).filter(Z=>rI(Z)&&!tb.has(Z.unicode));N.length?th(()=>Le(N)):(r(1,u=u.filter(bt)),th(()=>{(m||{}).scrollTop=0}))}t.$$.dirty[0]&1026|t.$$.dirty[1]&4096,t.$$.dirty[0]&18|t.$$.dirty[1]&2048&&r(15,c=function(){if(v)return[{category:"",emojis:u}];let Z=new Map;for(let Ee of u){let ct=Ee.category||"",B=Z.get(ct);B||(B=[],Z.set(ct,B)),B.push(Ee)}return[...Z.entries()].map(([Ee,ct])=>({category:Ee,emojis:ct})).sort((Ee,ct)=>s(Ee.category,ct.category))}()),t.$$.dirty[0]&34&&r(26,U=b!==-1&&u[b].id),t.$$.dirty[0]&192&&(w?S.addEventListener("transitionend",()=>{r(19,_=!0)},{once:!0}):r(19,_=!1))},[i,u,f,m,v,b,w,S,x,A,R,O,$,q,V,c,p,g,E,_,k,C,D,T,I,L,U,ve,se,Xe,Ze,et,We,Tt,xt,tt,lt,Qt,Pr,o,n,a,s,l,d,M,j,tr,ri,pn,ni,z,Y]}var Yp,Y_,Ic,Sl,Xp,GA,QA,J_,Z_,Zp,UW,HW,XA,ZA,eh,YW,JW,eI,tI,XW,ZW,eK,tK,rK,nI,nK,iI,iK,eb,tb,sK,lK,uK,cK,fK,th,hK,nb,Fc,yI,EK,kK,CK,vI,jc,_I,bI=El(()=>{y();Q_();Ic=[],Sl=[],Xp=[],GA=[],QA=Promise.resolve(),J_=!1;Z_=new Set,Zp=0;UW=new Set;HW=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;XA=class{$destroy(){KW(this,1),this.$destroy=Tc}$on(e,r){let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!$W(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}},ZA=[[-1,"\u2728","custom"],[0,"\u{1F600}","smileys-emotion"],[1,"\u{1F44B}","people-body"],[3,"\u{1F431}","animals-nature"],[4,"\u{1F34E}","food-drink"],[5,"\u{1F3E0}\uFE0F","travel-places"],[6,"\u26BD","activities"],[7,"\u{1F4DD}","objects"],[8,"\u26D4\uFE0F","symbols"],[9,"\u{1F3C1}","flags"]].map(([t,e,r])=>({id:t,emoji:e,name:r})),eh=ZA.slice(1),YW=ZA[0],JW=2,eI=6,tI=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;XW={"\u{1FAE0}":14,"\u{1F972}":13.1,"\u{1F97B}":12.1,"\u{1F970}":11,"\u{1F929}":5,"\u{1F471}\u200D\u2640\uFE0F":4,"\u{1F923}":3,"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":2,"\u{1F600}":1,"\u{1F610}\uFE0F":.7,"\u{1F603}":.6},ZW=1e3,eK="\u{1F590}\uFE0F",tK=8,rK=["\u{1F60A}","\u{1F612}","\u2665\uFE0F","\u{1F44D}\uFE0F","\u{1F60D}","\u{1F602}","\u{1F62D}","\u263A\uFE0F","\u{1F614}","\u{1F629}","\u{1F60F}","\u{1F495}","\u{1F64C}","\u{1F618}"],nI='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',nK=(t,e)=>t<e?-1:t>e?1:0,iI=(t,e)=>{let r=document.createElement("canvas");r.width=r.height=1;let n=r.getContext("2d");return n.textBaseline="top",n.font=`100px ${nI}`,n.fillStyle=e,n.scale(.01,.01),n.fillText(t,0,0),n.getImageData(0,0,1,1).data},iK=(t,e)=>{let r=[...t].join(","),n=[...e].join(",");return r===n&&!r.startsWith("0,0,0,")};eb=new Promise(t=>tI(()=>t(aK()))),tb=new Map,sK="\uFE0F",lK="\uD83C",uK="\u200D",cK=127995,fK=57339;th=requestAnimationFrame,hK=typeof ResizeObserver=="function";({Map:Fc}=HW);yI=class extends XA{constructor(e){super();QW(this,e,SK,xK,LW,{skinToneEmoji:40,i18n:0,database:39,customEmoji:41,customCategorySorting:42},null,[-1,-1,-1])}},EK="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",kK="en",CK={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading\u2026",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}},vI=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji"],jc=class extends HTMLElement{constructor(e){super();this.attachShadow({mode:"open"});let r=document.createElement("style");r.textContent=":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}",this.shadowRoot.appendChild(r),this._ctx={locale:kK,dataSource:EK,skinToneEmoji:eK,customCategorySorting:nK,customEmoji:null,i18n:CK,...e};for(let n of vI)n!=="database"&&Object.prototype.hasOwnProperty.call(this,n)&&(this._ctx[n]=this[n],delete this[n]);this._dbFlush()}connectedCallback(){this._cmp=new yI({target:this.shadowRoot,props:this._ctx})}disconnectedCallback(){this._cmp.$destroy(),this._cmp=void 0;let{database:e}=this._ctx;e&&e.close().catch(r=>console.error(r))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji"]}attributeChangedCallback(e,r,n){this._set(e.replace(/-([a-z])/g,(i,o)=>o.toUpperCase()),n)}_set(e,r){this._ctx[e]=r,this._cmp&&this._cmp.$set({[e]:r}),["locale","dataSource"].includes(e)&&this._dbFlush()}_dbCreate(){let{locale:e,dataSource:r,database:n}=this._ctx;(!n||n.locale!==e||n.dataSource!==r)&&this._set("database",new Dc({locale:e,dataSource:r}))}_dbFlush(){Promise.resolve().then(()=>this._dbCreate())}},_I={};for(let t of vI)_I[t]={get(){return t==="database"&&this._dbCreate(),this._ctx[t]},set(e){if(t==="database")throw new Error("database is read-only");this._set(t,e)}};Object.defineProperties(jc.prototype,_I);customElements.get("emoji-picker")||customElements.define("emoji-picker",jc)});var wI={};OI(wI,{Database:()=>Dc,Picker:()=>jc});var xI=El(()=>{y();bI();Q_()});y();y();oi();function wb(t,e,r){function n(){let i=Reflect.construct(HTMLElement,[],n);return i._vdomComponent=t,i._root=r&&r.shadow?i.attachShadow({mode:"open"}):i,i}return n.prototype=Object.create(HTMLElement.prototype),n.prototype.constructor=n,n.prototype.connectedCallback=NI,n.prototype.attributeChangedCallback=LI,n.prototype.disconnectedCallback=$I,e=e||t.observedAttributes||Object.keys(t.propTypes||{}),n.observedAttributes=e,e.forEach(i=>{Object.defineProperty(n.prototype,i,{get(){return this._vdom.props[i]},set(o){this._vdom?this.attributeChangedCallback(i,null,o):(this._props||(this._props={}),this._props[i]=o,this.connectedCallback());let a=typeof o;(o==null||a==="string"||a==="boolean"||a==="number")&&this.setAttribute(i,o)}})}),n}function Vc(t,e,r,n){let i=wb(t,r,n);return customElements.define(e||t.tagName||t.displayName||t.name,i)}Vc.toCustomElement=wb;function RI(t){this.getChildContext=()=>t.context;let{context:e,children:r,...n}=t;return Il(r,n)}function NI(){let t=new CustomEvent("_preact",{detail:{},bubbles:!0,cancelable:!0});this.dispatchEvent(t);let e=t.detail.context;this._vdom=h(RI,{...this._props,context:e},Eb(this,this._vdomComponent)),(this.hasAttribute("hydrate")?Al:Rn)(this._vdom,this._root)}function xb(t){return t.replace(/-(\w)/g,(e,r)=>r?r.toUpperCase():"")}function LI(t,e,r){if(!this._vdom)return;r=r??void 0;let n={};n[t]=r,n[xb(t)]=r,this._vdom=Il(this._vdom,n),Rn(this._vdom,this._root)}function $I(){Rn(this._vdom=null,this._root)}function Sb(t,e){return h("slot",{...t,ref:n=>{n?(this.ref=n,this._listener||(this._listener=i=>{i.stopPropagation(),i.detail.context=e},n.addEventListener("_preact",this._listener))):this.ref.removeEventListener("_preact",this._listener)}})}function Eb(t,e){if(t.nodeType===3)return t.data;if(t.nodeType!==1)return null;let r=[],n={},i=0,o=t.attributes,a=t.childNodes;for(i=o.length;i--;)o[i].name!=="slot"&&(n[o[i].name]=o[i].value,n[xb(o[i].name)]=o[i].value);for(i=a.length;i--;){let l=Eb(a[i],null),u=a[i].slot;u?n[u]=h(Sb,{name:u},l):r[i]=l}let s=e?h(Sb,null,r):r;return h(e||t.nodeName.toLowerCase(),n,s)}y();y();y();y();y();oi();oi();y();oi();var Hi,St,ah,kb,Ga=0,Cb=[],Uc=[],Db=ae.__b,Tb=ae.__r,Ob=ae.diffed,Ab=ae.__c,Ib=ae.unmount;function Qa(t,e){ae.__h&&ae.__h(St,t,Ga||e),Ga=0;var r=St.__H||(St.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Uc}),r.__[t]}function Oe(t){return Ga=1,sh(jb,t)}function sh(t,e,r){var n=Qa(Hi++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):jb(void 0,e),function(o){var a=n.__N?n.__N[0]:n.__[0],s=n.t(a,o);a!==s&&(n.__N=[s,n.__[1]],n.__c.setState({}))}],n.__c=St,!St.u)){St.u=!0;var i=St.shouldComponentUpdate;St.shouldComponentUpdate=function(o,a,s){if(!n.__c.__H)return!0;var l=n.__c.__H.__.filter(function(c){return c.__c});if(l.every(function(c){return!c.__N}))return!i||i.call(this,o,a,s);var u=!1;return l.forEach(function(c){if(c.__N){var f=c.__[0];c.__=c.__N,c.__N=void 0,f!==c.__[0]&&(u=!0)}}),!(!u&&n.__c.props===o)&&(!i||i.call(this,o,a,s))}}return n.__N||n.__}function me(t,e){var r=Qa(Hi++,3);!ae.__s&&uh(r.__H,e)&&(r.__=t,r.i=e,St.__H.__h.push(r))}function ai(t,e){var r=Qa(Hi++,4);!ae.__s&&uh(r.__H,e)&&(r.__=t,r.i=e,St.__h.push(r))}function ft(t){return Ga=5,Vo(function(){return{current:t}},[])}function zc(t,e,r){Ga=6,ai(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function Vo(t,e){var r=Qa(Hi++,7);return uh(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function Wi(t,e){return Ga=8,Vo(function(){return t},e)}function rt(t){var e=St.context[t.__c],r=Qa(Hi++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(St)),e.props.value):t.__}function Pb(t,e){ae.useDebugValue&&ae.useDebugValue(e?e(t):t)}function Mb(){var t=Qa(Hi++,11);return t.__||(t.__="P"+function(e){for(var r=0,n=e.length;n>0;)r=(r<<5)-r+e.charCodeAt(--n)|0;return r}(St.__v.__m)+Hi),t.__}function BI(){for(var t;t=Cb.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Hc),t.__H.__h.forEach(lh),t.__H.__h=[]}catch(e){t.__H.__h=[],ae.__e(e,t.__v)}}ae.__b=function(t){typeof t.type!="function"||t.__m||t.type===Fragment?t.__m||(t.__m=t.__&&t.__.__m?t.__.__m:""):t.__m=(t.__&&t.__.__m?t.__.__m:"")+(t.__&&t.__.__k?t.__.__k.indexOf(t):0),St=null,Db&&Db(t)},ae.__r=function(t){Tb&&Tb(t),Hi=0;var e=(St=t.__c).__H;e&&(ah===St?(e.__h=[],St.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Uc,r.__N=r.i=void 0})):(e.__h.forEach(Hc),e.__h.forEach(lh),e.__h=[])),ah=St},ae.diffed=function(t){Ob&&Ob(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Cb.push(e)!==1&&kb===ae.requestAnimationFrame||((kb=ae.requestAnimationFrame)||qI)(BI)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Uc&&(r.__=r.__V),r.i=void 0,r.__V=Uc})),ah=St=null},ae.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Hc),r.__h=r.__h.filter(function(n){return!n.__||lh(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ae.__e(n,r.__v)}}),Ab&&Ab(t,e)},ae.unmount=function(t){Ib&&Ib(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Hc(n)}catch(i){e=i}}),r.__H=void 0,e&&ae.__e(e,r.__v))};var Fb=typeof requestAnimationFrame=="function";function qI(t){var e,r=function(){clearTimeout(n),Fb&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Fb&&(e=requestAnimationFrame(r))}function Hc(t){var e=St,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),St=e}function lh(t){var e=St;t.__c=t.__(),St=e}function uh(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function jb(t,e){return typeof e=="function"?e(t):e}function Rb(t,e){for(var r in e)t[r]=e[r];return t}function ch(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function fh(t){this.props=t}function Qr(t,e){function r(i){var o=this.props.ref,a=o==i.ref;return!a&&o&&(o.call?o(null):o.current=null),e?!e(this.props,i)||!a:ch(this.props,i)}function n(i){return this.shouldComponentUpdate=r,h(t,i)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(fh.prototype=new cr).isPureReactComponent=!0,fh.prototype.shouldComponentUpdate=function(t,e){return ch(this.props,t)||ch(this.state,e)};var Nb=ae.__b;ae.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Nb&&Nb(t)};var VI=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function dh(t){function e(r){var n=Rb({},r);return delete n.ref,t(n,r.ref||null)}return e.$$typeof=VI,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var Lb=function(t,e){return t==null?null:jn(jn(t).map(e))},UI={map:Lb,forEach:Lb,count:function(t){return t?jn(t).length:0},only:function(t){var e=jn(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:jn},zI=ae.__e;ae.__e=function(t,e,r,n){if(t.then){for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),i.__c(t,e)}zI(t,e,r,n)};var $b=ae.unmount;function Bb(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=Rb({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return Bb(n,e,r)})),t}function qb(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return qb(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}function Wc(){this.__u=0,this.t=null,this.__b=null}function Vb(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function HI(t){var e,r,n;function i(o){if(e||(e=t()).then(function(a){r=a.default||a},function(a){n=a}),n)throw n;if(!r)throw e;return h(r,o)}return i.displayName="Lazy",i.__f=!0,i}function Pl(){this.u=null,this.o=null}ae.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),$b&&$b(t)},(Wc.prototype=new cr).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var i=Vb(n.__v),o=!1,a=function(){o||(o=!0,r.__R=null,i?i(s):s())};r.__R=a;var s=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=qb(u,u.__c.__P,u.__c.__O)}var c;for(n.setState({__a:n.__b=null});c=n.t.pop();)c.forceUpdate()}},l=e.__h===!0;n.__u++||l||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(a,a)},Wc.prototype.componentWillUnmount=function(){this.t=[]},Wc.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=Bb(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__a&&h(Fragment,null,t.fallback);return i&&(i.__h=null),[h(Fragment,null,e.__a?null:t.children),i]};var Ub=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function WI(t){return this.getChildContext=function(){return t.context},t.children}function KI(t){var e=this,r=t.i;e.componentWillUnmount=function(){Rn(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,i){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),Rn(h(WI,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function GI(t,e){var r=h(KI,{__v:t,i:e});return r.containerInfo=e,r}(Pl.prototype=new cr).__a=function(t){var e=this,r=Vb(e.__v),n=e.o.get(t);return n[0]++,function(i){var o=function(){e.props.revealOrder?(n.push(i),Ub(e,t,n)):i()};r?r(o):o()}},Pl.prototype.render=function(t){this.u=null,this.o=new Map;var e=jn(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},Pl.prototype.componentDidUpdate=Pl.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){Ub(t,r,e)})};var zb=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,QI=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,YI=typeof document!="undefined",JI=function(t){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};function XI(t,e,r){return e.__k==null&&(e.textContent=""),Rn(t,e),typeof r=="function"&&r(),t?t.__c:null}function ZI(t,e,r){return Al(t,e),typeof r=="function"&&r(),t?t.__c:null}cr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(cr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Hb=ae.event;function eP(){}function tP(){return this.cancelBubble}function rP(){return this.defaultPrevented}ae.event=function(t){return Hb&&(t=Hb(t)),t.persist=eP,t.isPropagationStopped=tP,t.isDefaultPrevented=rP,t.nativeEvent=t};var Wb,Kb={configurable:!0,get:function(){return this.class}},Gb=ae.vnode;ae.vnode=function(t){var e=t.type,r=t.props,n=r;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var o in n={},r){var a=r[o];YI&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in r&&a==null||(o==="defaultValue"&&"value"in r&&r.value==null?o="value":o==="download"&&a===!0?a="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!JI(r.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():i&&QI.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():a===null&&(a=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),n[o]&&(o="oninputCapture")),n[o]=a)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=jn(r.children).forEach(function(s){s.props.selected=n.value.indexOf(s.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=jn(r.children).forEach(function(s){s.props.selected=n.multiple?n.defaultValue.indexOf(s.props.value)!=-1:n.defaultValue==s.props.value})),t.props=n,r.class!=r.className&&(Kb.enumerable="className"in r,r.className!=null&&(n.class=r.className),Object.defineProperty(n,"className",Kb))}t.$$typeof=zb,Gb&&Gb(t)};var Qb=ae.__r;ae.__r=function(t){Qb&&Qb(t),Wb=t.__c};var nP={ReactCurrentDispatcher:{current:{readContext:function(t){return Wb.__n[t.__c].props.value}}}};function iP(t){return h.bind(null,t)}function Yb(t){return!!t&&t.$$typeof===zb}function oP(t){return Yb(t)?Il.apply(null,arguments):t}function aP(t){return!!t.__k&&(Rn(null,t),!0)}function sP(t){return t&&(t.base||t.nodeType===1&&t)||null}var lP=function(t,e){return t(e)},Ya=function(t,e){return t(e)},uP=Fragment;function Jb(t){t()}function cP(t){return t}function fP(){return[!1,Jb]}var dP=ai;function pP(t,e){var r=e(),n=Oe({h:{__:r,v:e}}),i=n[0].h,o=n[1];return ai(function(){i.__=r,i.v=e,i.__!==e()&&o({h:i})},[t,r,e]),me(function(){return i.__!==i.v()&&o({h:i}),t(function(){i.__!==i.v()&&o({h:i})})},[t]),r}var Rt={useState:Oe,useId:Mb,useReducer:sh,useEffect:me,useLayoutEffect:ai,useInsertionEffect:dP,useTransition:fP,useDeferredValue:cP,useSyncExternalStore:pP,startTransition:Jb,useRef:ft,useImperativeHandle:zc,useMemo:Vo,useCallback:Wi,useContext:rt,useDebugValue:Pb,version:"17.0.2",Children:UI,render:XI,hydrate:ZI,unmountComponentAtNode:aP,createPortal:GI,createElement:h,createContext:rr,createFactory:iP,cloneElement:oP,createRef:Tl,Fragment,isValidElement:Yb,findDOMNode:sP,Component:cr,PureComponent:fh,memo:Qr,forwardRef:dh,flushSync:Ya,unstable_batchedUpdates:lP,StrictMode:uP,Suspense:Wc,SuspenseList:Pl,lazy:HI,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:nP};y();var Mf=$r(hn());y();var xx=$r(hn());y();y();y();y();var b0=$r(_0()),{__extends:Ot,__assign:P,__rest:Nn,__decorate:xG,__param:SG,__metadata:EG,__awaiter:mn,__generator:gn,__exportStar:kG,__createBinding:CG,__values:DG,__read:TG,__spread:OG,__spreadArrays:AG,__spreadArray:Ki,__await:IG,__asyncGenerator:PG,__asyncDelegator:MG,__asyncValues:FG,__makeTemplateObject:jG,__importStar:RG,__importDefault:NG,__classPrivateFieldGet:LG,__classPrivateFieldSet:$G,__classPrivateFieldIn:BG}=b0.default;var hh="Invariant Violation",w0=Object.setPrototypeOf,hP=w0===void 0?function(t,e){return t.__proto__=e,t}:w0,_e=function(t){Ot(e,t);function e(r){r===void 0&&(r=hh);var n=t.call(this,typeof r=="number"?hh+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=hh,hP(n,e.prototype),n}return e}(Error);function W(t,e){if(!t)throw new _e(e)}var Yc=["debug","log","warn","error","silent"],mh=Yc.indexOf("log");function Jc(t){return function(){if(Yc.indexOf(t)>=mh){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=Jc("debug"),t.log=Jc("log"),t.warn=Jc("warn"),t.error=Jc("error")})(W||(W={}));function x0(t){var e=Yc[mh];return mh=Math.max(0,Yc.indexOf(t)),e}y();y();y();function Yt(t){try{return t()}catch{}}var Xc=Yt(function(){return globalThis})||Yt(function(){return window})||Yt(function(){return self})||Yt(function(){return global})||Yt(function(){return Yt.constructor("return this")()});var S0="__",E0=[S0,S0].join("DEV");function mP(){try{return Boolean(__DEV__)}catch{return Object.defineProperty(Xc,E0,{value:Yt(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),Xc[E0]}}var Uo=mP();y();y();function Gi(t){try{return t()}catch{}}var gh=Gi(function(){return globalThis})||Gi(function(){return window})||Gi(function(){return self})||Gi(function(){return global})||Gi(function(){return Gi.constructor("return this")()}),yh=!1;function gP(){gh&&!Gi(function(){return"production"})&&!Gi(function(){return process})&&(Object.defineProperty(gh,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),yh=!0)}gP();function vh(){yh&&(delete gh.process,yh=!1)}y();y();var JG=typeof Symbol=="function"&&Symbol.iterator!=null?Symbol.iterator:"@@iterator",XG=typeof Symbol=="function"&&Symbol.asyncIterator!=null?Symbol.asyncIterator:"@@asyncIterator",k0=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";y();var Xa=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});y();y();y();function _h(t,e){var r=Boolean(t);if(!r)throw new Error(e??"Unexpected invariant triggered.")}y();var yP=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,Ml=yP;function Zc(t){var e=t.prototype.toJSON;typeof e=="function"||_h(0),t.prototype.inspect=e,Ml&&(t.prototype[Ml]=e)}var C0=function(){function t(r,n,i){this.start=r.start,this.end=n.end,this.startToken=r,this.endToken=n,this.source=i}var e=t.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},t}();Zc(C0);var D0=function(){function t(r,n,i,o,a,s,l){this.kind=r,this.start=n,this.end=i,this.line=o,this.column=a,this.value=l,this.prev=s,this.next=null}var e=t.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();Zc(D0);function bh(t){return t!=null&&typeof t.kind=="string"}y();y();function ef(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ef=function(r){return typeof r}:ef=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ef(t)}var vP=10,T0=2;function Fl(t){return tf(t,[])}function tf(t,e){switch(ef(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return t===null?"null":_P(t,e);default:return String(t)}}function _P(t,e){if(e.indexOf(t)!==-1)return"[Circular]";var r=[].concat(e,[t]),n=xP(t);if(n!==void 0){var i=n.call(t);if(i!==t)return typeof i=="string"?i:tf(i,r)}else if(Array.isArray(t))return wP(t,r);return bP(t,r)}function bP(t,e){var r=Object.keys(t);if(r.length===0)return"{}";if(e.length>T0)return"["+SP(t)+"]";var n=r.map(function(i){var o=tf(t[i],e);return i+": "+o});return"{ "+n.join(", ")+" }"}function wP(t,e){if(t.length===0)return"[]";if(e.length>T0)return"[Array]";for(var r=Math.min(vP,t.length),n=t.length-r,i=[],o=0;o<r;++o)i.push(tf(t[o],e));return n===1?i.push("... 1 more item"):n>1&&i.push("... ".concat(n," more items")),"["+i.join(", ")+"]"}function xP(t){var e=t[String(Ml)];if(typeof e=="function")return e;if(typeof t.inspect=="function")return t.inspect}function SP(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){var r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}y();function jl(t,e){var r=Boolean(t);if(!r)throw new Error(e)}function O0(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function EP(t,e,r){return e&&O0(t.prototype,e),r&&O0(t,r),t}var rf=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||jl(0,"Body must be a string. Received: ".concat(Fl(e),".")),this.body=e,this.name=r,this.locationOffset=n,this.locationOffset.line>0||jl(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||jl(0,"column in locationOffset is 1-indexed and must be positive.")}return EP(t,[{key:k0,get:function(){return"Source"}}]),t}();y();function A0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=t.indexOf(`
`)===-1,i=t[0]===" "||t[0]==="	",o=t[t.length-1]==='"',a=t[t.length-1]==="\\",s=!n||o||a||r,l="";return s&&!(n&&i)&&(l+=`
`+e),l+=e?t.replace(/\n/g,`
`+e):t,s&&(l+=`
`),'"""'+l.replace(/"""/g,'\\"""')+'"""'}y();var kP={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},zo=Object.freeze({});function nr(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kP,n=void 0,i=Array.isArray(t),o=[t],a=-1,s=[],l=void 0,u=void 0,c=void 0,f=[],d=[],p=t;do{a++;var g=a===o.length,m=g&&s.length!==0;if(g){if(u=d.length===0?void 0:f[f.length-1],l=c,c=d.pop(),m){if(i)l=l.slice();else{for(var v={},b=0,E=Object.keys(l);b<E.length;b++){var w=E[b];v[w]=l[w]}l=v}for(var _=0,S=0;S<s.length;S++){var x=s[S][0],k=s[S][1];i&&(x-=_),i&&k===null?(l.splice(x,1),_++):l[x]=k}}a=n.index,o=n.keys,s=n.edits,i=n.inArray,n=n.prev}else{if(u=c?i?a:o[a]:void 0,l=c?c[u]:p,l==null)continue;c&&f.push(u)}var C=void 0;if(!Array.isArray(l)){if(!bh(l))throw new Error("Invalid AST Node: ".concat(Fl(l),"."));var D=wh(e,l.kind,g);if(D){if(C=D.call(e,l,u,c,f,d),C===zo)break;if(C===!1){if(!g){f.pop();continue}}else if(C!==void 0&&(s.push([u,C]),!g))if(bh(C))l=C;else{f.pop();continue}}}if(C===void 0&&m&&s.push([u,l]),g)f.pop();else{var T;n={inArray:i,index:a,keys:o,edits:s,prev:n},i=Array.isArray(l),o=i?l:(T=r[l.kind])!==null&&T!==void 0?T:[],a=-1,s=[],c&&d.push(c),c=l}}while(n!==void 0);return s.length!==0&&(p=s[s.length-1][1]),p}function wh(t,e,r){var n=t[e];if(n){if(!r&&typeof n=="function")return n;var i=r?n.leave:n.enter;if(typeof i=="function")return i}else{var o=r?t.leave:t.enter;if(o){if(typeof o=="function")return o;var a=o[e];if(typeof a=="function")return a}}}y();function Za(t){return nr(t,{leave:DP})}var CP=80,DP={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return te(e.definitions,`

`)+`
`},OperationDefinition:function(e){var r=e.operation,n=e.name,i=Et("(",te(e.variableDefinitions,", "),")"),o=te(e.directives," "),a=e.selectionSet;return!n&&!o&&!i&&r==="query"?a:te([r,te([n,i]),o,a]," ")},VariableDefinition:function(e){var r=e.variable,n=e.type,i=e.defaultValue,o=e.directives;return r+": "+n+Et(" = ",i)+Et(" ",te(o," "))},SelectionSet:function(e){var r=e.selections;return vn(r)},Field:function(e){var r=e.alias,n=e.name,i=e.arguments,o=e.directives,a=e.selectionSet,s=Et("",r,": ")+n,l=s+Et("(",te(i,", "),")");return l.length>CP&&(l=s+Et(`(
`,nf(te(i,`
`)),`
)`)),te([l,te(o," "),a]," ")},Argument:function(e){var r=e.name,n=e.value;return r+": "+n},FragmentSpread:function(e){var r=e.name,n=e.directives;return"..."+r+Et(" ",te(n," "))},InlineFragment:function(e){var r=e.typeCondition,n=e.directives,i=e.selectionSet;return te(["...",Et("on ",r),te(n," "),i]," ")},FragmentDefinition:function(e){var r=e.name,n=e.typeCondition,i=e.variableDefinitions,o=e.directives,a=e.selectionSet;return"fragment ".concat(r).concat(Et("(",te(i,", "),")")," ")+"on ".concat(n," ").concat(Et("",te(o," ")," "))+a},IntValue:function(e){var r=e.value;return r},FloatValue:function(e){var r=e.value;return r},StringValue:function(e,r){var n=e.value,i=e.block;return i?A0(n,r==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(e){var r=e.value;return r?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){var r=e.value;return r},ListValue:function(e){var r=e.values;return"["+te(r,", ")+"]"},ObjectValue:function(e){var r=e.fields;return"{"+te(r,", ")+"}"},ObjectField:function(e){var r=e.name,n=e.value;return r+": "+n},Directive:function(e){var r=e.name,n=e.arguments;return"@"+r+Et("(",te(n,", "),")")},NamedType:function(e){var r=e.name;return r},ListType:function(e){var r=e.type;return"["+r+"]"},NonNullType:function(e){var r=e.type;return r+"!"},SchemaDefinition:yn(function(t){var e=t.directives,r=t.operationTypes;return te(["schema",te(e," "),vn(r)]," ")}),OperationTypeDefinition:function(e){var r=e.operation,n=e.type;return r+": "+n},ScalarTypeDefinition:yn(function(t){var e=t.name,r=t.directives;return te(["scalar",e,te(r," ")]," ")}),ObjectTypeDefinition:yn(function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return te(["type",e,Et("implements ",te(r," & ")),te(n," "),vn(i)]," ")}),FieldDefinition:yn(function(t){var e=t.name,r=t.arguments,n=t.type,i=t.directives;return e+(I0(r)?Et(`(
`,nf(te(r,`
`)),`
)`):Et("(",te(r,", "),")"))+": "+n+Et(" ",te(i," "))}),InputValueDefinition:yn(function(t){var e=t.name,r=t.type,n=t.defaultValue,i=t.directives;return te([e+": "+r,Et("= ",n),te(i," ")]," ")}),InterfaceTypeDefinition:yn(function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return te(["interface",e,Et("implements ",te(r," & ")),te(n," "),vn(i)]," ")}),UnionTypeDefinition:yn(function(t){var e=t.name,r=t.directives,n=t.types;return te(["union",e,te(r," "),n&&n.length!==0?"= "+te(n," | "):""]," ")}),EnumTypeDefinition:yn(function(t){var e=t.name,r=t.directives,n=t.values;return te(["enum",e,te(r," "),vn(n)]," ")}),EnumValueDefinition:yn(function(t){var e=t.name,r=t.directives;return te([e,te(r," ")]," ")}),InputObjectTypeDefinition:yn(function(t){var e=t.name,r=t.directives,n=t.fields;return te(["input",e,te(r," "),vn(n)]," ")}),DirectiveDefinition:yn(function(t){var e=t.name,r=t.arguments,n=t.repeatable,i=t.locations;return"directive @"+e+(I0(r)?Et(`(
`,nf(te(r,`
`)),`
)`):Et("(",te(r,", "),")"))+(n?" repeatable":"")+" on "+te(i," | ")}),SchemaExtension:function(e){var r=e.directives,n=e.operationTypes;return te(["extend schema",te(r," "),vn(n)]," ")},ScalarTypeExtension:function(e){var r=e.name,n=e.directives;return te(["extend scalar",r,te(n," ")]," ")},ObjectTypeExtension:function(e){var r=e.name,n=e.interfaces,i=e.directives,o=e.fields;return te(["extend type",r,Et("implements ",te(n," & ")),te(i," "),vn(o)]," ")},InterfaceTypeExtension:function(e){var r=e.name,n=e.interfaces,i=e.directives,o=e.fields;return te(["extend interface",r,Et("implements ",te(n," & ")),te(i," "),vn(o)]," ")},UnionTypeExtension:function(e){var r=e.name,n=e.directives,i=e.types;return te(["extend union",r,te(n," "),i&&i.length!==0?"= "+te(i," | "):""]," ")},EnumTypeExtension:function(e){var r=e.name,n=e.directives,i=e.values;return te(["extend enum",r,te(n," "),vn(i)]," ")},InputObjectTypeExtension:function(e){var r=e.name,n=e.directives,i=e.fields;return te(["extend input",r,te(n," "),vn(i)]," ")}};function yn(t){return function(e){return te([e.description,t(e)],`
`)}}function te(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(e=t==null?void 0:t.filter(function(n){return n}).join(r))!==null&&e!==void 0?e:""}function vn(t){return Et(`{
`,nf(te(t,`
`)),`
}`)}function Et(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e!=null&&e!==""?t+e+r:""}function nf(t){return Et("  ",t.replace(/\n/g,`
  `))}function TP(t){return t.indexOf(`
`)!==-1}function I0(t){return t!=null&&t.some(TP)}y();function P0(){return typeof rf=="function"?vh():vh()}function AP(){__DEV__?W(typeof Uo=="boolean",Uo):W(typeof Uo=="boolean",38)}P0();AP();y();y();y();y();y();function si(t,e){var r=t.directives;return!r||!r.length?!0:M0(r).every(function(n){var i=n.directive,o=n.ifArgument,a=!1;return o.value.kind==="Variable"?(a=e&&e[o.value.name.value],__DEV__?W(a!==void 0,"Invalid variable referenced in @".concat(i.name.value," directive.")):W(a!==void 0,39)):a=o.value.value,i.name.value==="skip"?!a:a})}function es(t,e,r){var n=new Set(t),i=n.size;return nr(e,{Directive:function(o){if(n.delete(o.name.value)&&(!r||!n.size))return zo}}),r?!n.size:n.size<i}function xh(t){return t&&es(["client","export"],t,!0)}function IP(t){var e=t.name.value;return e==="skip"||e==="include"}function M0(t){var e=[];return t&&t.length&&t.forEach(function(r){if(!!IP(r)){var n=r.arguments,i=r.name.value;__DEV__?W(n&&n.length===1,"Incorrect number of arguments for the @".concat(i," directive.")):W(n&&n.length===1,40);var o=n[0];__DEV__?W(o.name&&o.name.value==="if","Invalid argument for the @".concat(i," directive.")):W(o.name&&o.name.value==="if",41);var a=o.value;__DEV__?W(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),"Argument for the @".concat(i," directive must be a variable or a boolean value.")):W(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),42),e.push({directive:r,ifArgument:o})}}),e}y();function Sh(t,e){var r=e,n=[];t.definitions.forEach(function(o){if(o.kind==="OperationDefinition")throw __DEV__?new _e("Found a ".concat(o.operation," operation").concat(o.name?" named '".concat(o.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new _e(43);o.kind==="FragmentDefinition"&&n.push(o)}),typeof r=="undefined"&&(__DEV__?W(n.length===1,"Found ".concat(n.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):W(n.length===1,44),r=n[0].name.value);var i=P(P({},t),{definitions:Ki([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],t.definitions,!0)});return i}function Ho(t){t===void 0&&(t=[]);var e={};return t.forEach(function(r){e[r.name.value]=r}),e}function Wo(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var r=t.name.value;if(typeof e=="function")return e(r);var n=e&&e[r];return __DEV__?W(n,"No fragment named ".concat(r)):W(n,45),n||null}default:return null}}y();y();y();function Re(t){return t!==null&&typeof t=="object"}function Ln(t){return{__ref:String(t)}}function Pe(t){return Boolean(t&&typeof t=="object"&&typeof t.__ref=="string")}function Eh(t){return Re(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function PP(t){return t.kind==="StringValue"}function MP(t){return t.kind==="BooleanValue"}function FP(t){return t.kind==="IntValue"}function jP(t){return t.kind==="FloatValue"}function RP(t){return t.kind==="Variable"}function NP(t){return t.kind==="ObjectValue"}function LP(t){return t.kind==="ListValue"}function $P(t){return t.kind==="EnumValue"}function BP(t){return t.kind==="NullValue"}function Qi(t,e,r,n){if(FP(r)||jP(r))t[e.value]=Number(r.value);else if(MP(r)||PP(r))t[e.value]=r.value;else if(NP(r)){var i={};r.fields.map(function(a){return Qi(i,a.name,a.value,n)}),t[e.value]=i}else if(RP(r)){var o=(n||{})[r.name.value];t[e.value]=o}else if(LP(r))t[e.value]=r.values.map(function(a){var s={};return Qi(s,e,a,n),s[e.value]});else if($P(r))t[e.value]=r.value;else if(BP(r))t[e.value]=null;else throw __DEV__?new _e('The inline argument "'.concat(e.value,'" of kind "').concat(r.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new _e(54)}function kh(t,e){var r=null;t.directives&&(r={},t.directives.forEach(function(i){r[i.name.value]={},i.arguments&&i.arguments.forEach(function(o){var a=o.name,s=o.value;return Qi(r[i.name.value],a,s,e)})}));var n=null;return t.arguments&&t.arguments.length&&(n={},t.arguments.forEach(function(i){var o=i.name,a=i.value;return Qi(n,o,a,e)})),Rl(t.name.value,n,r)}var qP=["connection","include","skip","client","rest","export"],Rl=Object.assign(function(t,e,r){if(e&&r&&r.connection&&r.connection.key)if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var i={};return n.forEach(function(s){i[s]=e[s]}),"".concat(r.connection.key,"(").concat(Nl(i),")")}else return r.connection.key;var o=t;if(e){var a=Nl(e);o+="(".concat(a,")")}return r&&Object.keys(r).forEach(function(s){qP.indexOf(s)===-1&&(r[s]&&Object.keys(r[s]).length?o+="@".concat(s,"(").concat(Nl(r[s]),")"):o+="@".concat(s))}),o},{setStringify:function(t){var e=Nl;return Nl=t,e}}),Nl=function(e){return JSON.stringify(e,VP)};function VP(t,e){return Re(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(r,n){return r[n]=e[n],r},{})),e}function li(t,e){if(t.arguments&&t.arguments.length){var r={};return t.arguments.forEach(function(n){var i=n.name,o=n.value;return Qi(r,i,o,e)}),r}return null}function Yr(t){return t.alias?t.alias.value:t.name.value}function Ll(t,e,r){if(typeof t.__typename=="string")return t.__typename;for(var n=0,i=e.selections;n<i.length;n++){var o=i[n];if(xr(o)){if(o.name.value==="__typename")return t[Yr(o)]}else{var a=Ll(t,Wo(o,r).selectionSet,r);if(typeof a=="string")return a}}}function xr(t){return t.kind==="Field"}function $l(t){return t.kind==="InlineFragment"}function ts(t){__DEV__?W(t&&t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):W(t&&t.kind==="Document",46);var e=t.definitions.filter(function(r){return r.kind!=="FragmentDefinition"}).map(function(r){if(r.kind!=="OperationDefinition")throw __DEV__?new _e('Schema type definitions not allowed in queries. Found: "'.concat(r.kind,'"')):new _e(47);return r});return __DEV__?W(e.length<=1,"Ambiguous GraphQL document: contains ".concat(e.length," operations")):W(e.length<=1,48),t}function $n(t){return ts(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function rs(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function Ko(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function Bl(t){var e=$n(t);return __DEV__?W(e&&e.operation==="query","Must contain a query definition."):W(e&&e.operation==="query",49),e}function Ch(t){__DEV__?W(t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):W(t.kind==="Document",50),__DEV__?W(t.definitions.length<=1,"Fragment must have exactly one definition."):W(t.definitions.length<=1,51);var e=t.definitions[0];return __DEV__?W(e.kind==="FragmentDefinition","Must be a fragment definition."):W(e.kind==="FragmentDefinition",52),e}function Go(t){ts(t);for(var e,r=0,n=t.definitions;r<n.length;r++){var i=n[r];if(i.kind==="OperationDefinition"){var o=i.operation;if(o==="query"||o==="mutation"||o==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw __DEV__?new _e("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new _e(53)}function Qo(t){var e=Object.create(null),r=t&&t.variableDefinitions;return r&&r.length&&r.forEach(function(n){n.defaultValue&&Qi(e,n.variable.name,n.defaultValue)}),e}y();y();function Dh(t,e,r){var n=0;return t.forEach(function(i,o){e.call(this,i,o,t)&&(t[n++]=i)},r),t.length=n,t}var F0={kind:"Field",name:{kind:"Name",value:"__typename"}};function j0(t,e){return!t||t.selectionSet.selections.every(function(r){return r.kind==="FragmentSpread"&&j0(e[r.name.value],e)})}function Th(t){return j0($n(t)||Ch(t),Ho(Ko(t)))?null:t}function R0(t){return function(r){return t.some(function(n){return n.name&&n.name===r.name.value||n.test&&n.test(r)})}}function Oh(t,e){var r=Object.create(null),n=[],i=Object.create(null),o=[],a=Th(nr(e,{Variable:{enter:function(s,l,u){u.kind!=="VariableDefinition"&&(r[s.name.value]=!0)}},Field:{enter:function(s){if(t&&s.directives){var l=t.some(function(u){return u.remove});if(l&&s.directives&&s.directives.some(R0(t)))return s.arguments&&s.arguments.forEach(function(u){u.value.kind==="Variable"&&n.push({name:u.value.name.value})}),s.selectionSet&&$0(s.selectionSet).forEach(function(u){o.push({name:u.name.value})}),null}}},FragmentSpread:{enter:function(s){i[s.name.value]=!0}},Directive:{enter:function(s){if(R0(t)(s))return null}}}));return a&&Dh(n,function(s){return!!s.name&&!r[s.name]}).length&&(a=N0(n,a)),a&&Dh(o,function(s){return!!s.name&&!i[s.name]}).length&&(a=L0(o,a)),a}var Yo=Object.assign(function(t){return nr(t,{SelectionSet:{enter:function(e,r,n){if(!(n&&n.kind==="OperationDefinition")){var i=e.selections;if(!!i){var o=i.some(function(s){return xr(s)&&(s.name.value==="__typename"||s.name.value.lastIndexOf("__",0)===0)});if(!o){var a=n;if(!(xr(a)&&a.directives&&a.directives.some(function(s){return s.name.value==="export"})))return P(P({},e),{selections:Ki(Ki([],i,!0),[F0],!1)})}}}}}})},{added:function(t){return t===F0}}),UP={test:function(t){var e=t.name.value==="connection";return e&&(!t.arguments||!t.arguments.some(function(r){return r.name.value==="key"}))&&__DEV__&&W.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),e}};function Ah(t){return Oh([UP],ts(t))}function zP(t){return function(r){return t.some(function(n){return r.value&&r.value.kind==="Variable"&&r.value.name&&(n.name===r.value.name.value||n.test&&n.test(r))})}}function N0(t,e){var r=zP(t);return Th(nr(e,{OperationDefinition:{enter:function(n){return P(P({},n),{variableDefinitions:n.variableDefinitions?n.variableDefinitions.filter(function(i){return!t.some(function(o){return o.name===i.variable.name.value})}):[]})}},Field:{enter:function(n){var i=t.some(function(a){return a.remove});if(i){var o=0;if(n.arguments&&n.arguments.forEach(function(a){r(a)&&(o+=1)}),o===1)return null}}},Argument:{enter:function(n){if(r(n))return null}}}))}function L0(t,e){function r(n){if(t.some(function(i){return i.name===n.name.value}))return null}return Th(nr(e,{FragmentSpread:{enter:r},FragmentDefinition:{enter:r}}))}function $0(t){var e=[];return t.selections.forEach(function(r){(xr(r)||$l(r))&&r.selectionSet?$0(r.selectionSet).forEach(function(n){return e.push(n)}):r.kind==="FragmentSpread"&&e.push(r)}),e}function Ih(t){var e=Go(t),r=e.operation;if(r==="query")return t;var n=nr(t,{OperationDefinition:{enter:function(i){return P(P({},i),{operation:"query"})}}});return n}function Ph(t){ts(t);var e=Oh([{test:function(r){return r.name.value==="client"},remove:!0}],t);return e&&(e=nr(e,{FragmentDefinition:{enter:function(r){if(r.selectionSet){var n=r.selectionSet.selections.every(function(i){return xr(i)&&i.name.value==="__typename"});if(n)return null}}}})),e}y();var HP=Object.prototype.hasOwnProperty;function Mh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ql(t)}function ql(t){var e=t[0]||{},r=t.length;if(r>1)for(var n=new Jr,i=1;i<r;++i)e=n.merge(e,t[i]);return e}var WP=function(t,e,r){return this.merge(t[r],e[r])},Jr=function(){function t(e){e===void 0&&(e=WP),this.reconciler=e,this.isObject=Re,this.pastCopies=new Set}return t.prototype.merge=function(e,r){for(var n=this,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return Re(r)&&Re(e)?(Object.keys(r).forEach(function(a){if(HP.call(e,a)){var s=e[a];if(r[a]!==s){var l=n.reconciler.apply(n,Ki([e,r,a],i,!1));l!==s&&(e=n.shallowCopyForMerge(e),e[a]=l)}}else e=n.shallowCopyForMerge(e),e[a]=r[a]}),e):r},t.prototype.shallowCopyForMerge=function(e){return Re(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=P({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();y();y();function KP(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=GP(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GP(t,e){if(!!t){if(typeof t=="string")return B0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B0(t,e)}}function B0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q0(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Fh(t,e,r){return e&&q0(t.prototype,e),r&&q0(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var jh=function(){return typeof Symbol=="function"},Rh=function(t){return jh()&&Boolean(Symbol[t])},Nh=function(t){return Rh(t)?Symbol[t]:"@@"+t};jh()&&!Rh("observable")&&(Symbol.observable=Symbol("observable"));var QP=Nh("iterator"),Lh=Nh("observable"),V0=Nh("species");function of(t,e){var r=t[e];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function Vl(t){var e=t.constructor;return e!==void 0&&(e=e[V0],e===null&&(e=void 0)),e!==void 0?e:Ae}function YP(t){return t instanceof Ae}function ns(t){ns.log?ns.log(t):setTimeout(function(){throw t})}function af(t){Promise.resolve().then(function(){try{t()}catch(e){ns(e)}})}function U0(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var r=of(e,"unsubscribe");r&&r.call(e)}}catch(n){ns(n)}}function $h(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function JP(t){var e=t._queue;if(!!e){t._queue=void 0,t._state="ready";for(var r=0;r<e.length&&(z0(t,e[r].type,e[r].value),t._state!=="closed");++r);}}function z0(t,e,r){t._state="running";var n=t._observer;try{var i=of(n,e);switch(e){case"next":i&&i.call(n,r);break;case"error":if($h(t),i)i.call(n,r);else throw r;break;case"complete":$h(t),i&&i.call(n);break}}catch(o){ns(o)}t._state==="closed"?U0(t):t._state==="running"&&(t._state="ready")}function Bh(t,e,r){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:r});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:r}],af(function(){return JP(t)});return}z0(t,e,r)}}var XP=function(){function t(r,n){this._cleanup=void 0,this._observer=r,this._queue=void 0,this._state="initializing";var i=new ZP(this);try{this._cleanup=n.call(void 0,i)}catch(o){i.error(o)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&($h(this),U0(this))},Fh(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),ZP=function(){function t(r){this._subscription=r}var e=t.prototype;return e.next=function(n){Bh(this._subscription,"next",n)},e.error=function(n){Bh(this._subscription,"error",n)},e.complete=function(){Bh(this._subscription,"complete")},Fh(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),Ae=function(){function t(r){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof r!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=r}var e=t.prototype;return e.subscribe=function(n){return(typeof n!="object"||n===null)&&(n={next:n,error:arguments[1],complete:arguments[2]}),new XP(n,this._subscriber)},e.forEach=function(n){var i=this;return new Promise(function(o,a){if(typeof n!="function"){a(new TypeError(n+" is not a function"));return}function s(){l.unsubscribe(),o()}var l=i.subscribe({next:function(u){try{n(u,s)}catch(c){a(c),l.unsubscribe()}},error:a,complete:o})})},e.map=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=Vl(this);return new o(function(a){return i.subscribe({next:function(s){try{s=n(s)}catch(l){return a.error(l)}a.next(s)},error:function(s){a.error(s)},complete:function(){a.complete()}})})},e.filter=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=Vl(this);return new o(function(a){return i.subscribe({next:function(s){try{if(!n(s))return}catch(l){return a.error(l)}a.next(s)},error:function(s){a.error(s)},complete:function(){a.complete()}})})},e.reduce=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=Vl(this),a=arguments.length>1,s=!1,l=arguments[1],u=l;return new o(function(c){return i.subscribe({next:function(f){var d=!s;if(s=!0,!d||a)try{u=n(u,f)}catch(p){return c.error(p)}else u=f},error:function(f){c.error(f)},complete:function(){if(!s&&!a)return c.error(new TypeError("Cannot reduce an empty sequence"));c.next(u),c.complete()}})})},e.concat=function(){for(var n=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=Vl(this);return new s(function(l){var u,c=0;function f(d){u=d.subscribe({next:function(p){l.next(p)},error:function(p){l.error(p)},complete:function(){c===o.length?(u=void 0,l.complete()):f(s.from(o[c++]))}})}return f(n),function(){u&&(u.unsubscribe(),u=void 0)}})},e.flatMap=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=Vl(this);return new o(function(a){var s=[],l=i.subscribe({next:function(c){if(n)try{c=n(c)}catch(d){return a.error(d)}var f=o.from(c).subscribe({next:function(d){a.next(d)},error:function(d){a.error(d)},complete:function(){var d=s.indexOf(f);d>=0&&s.splice(d,1),u()}});s.push(f)},error:function(c){a.error(c)},complete:function(){u()}});function u(){l.closed&&s.length===0&&a.complete()}return function(){s.forEach(function(c){return c.unsubscribe()}),l.unsubscribe()}})},e[Lh]=function(){return this},t.from=function(n){var i=typeof this=="function"?this:t;if(n==null)throw new TypeError(n+" is not an object");var o=of(n,Lh);if(o){var a=o.call(n);if(Object(a)!==a)throw new TypeError(a+" is not an object");return YP(a)&&a.constructor===i?a:new i(function(s){return a.subscribe(s)})}if(Rh("iterator")&&(o=of(n,QP),o))return new i(function(s){af(function(){if(!s.closed){for(var l=KP(o.call(n)),u;!(u=l()).done;){var c=u.value;if(s.next(c),s.closed)return}s.complete()}})});if(Array.isArray(n))return new i(function(s){af(function(){if(!s.closed){for(var l=0;l<n.length;++l)if(s.next(n[l]),s.closed)return;s.complete()}})});throw new TypeError(n+" is not observable")},t.of=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=typeof this=="function"?this:t;return new a(function(s){af(function(){if(!s.closed){for(var l=0;l<i.length;++l)if(s.next(i[l]),s.closed)return;s.complete()}})})},Fh(t,null,[{key:V0,get:function(){return this}}]),t}();jh()&&Object.defineProperty(Ae,Symbol("extensions"),{value:{symbol:Lh,hostReportError:ns},configurable:!0});y();y();function qh(t){var e,r=t.Symbol;if(typeof r=="function")if(r.observable)e=r.observable;else{typeof r.for=="function"?e=r.for("https://github.com/benlesh/symbol-observable"):e=r("https://github.com/benlesh/symbol-observable");try{r.observable=e}catch{}}else e="@@observable";return e}var is;typeof self!="undefined"?is=self:typeof window!="undefined"?is=window:typeof global!="undefined"?is=global:typeof module!="undefined"?is=module:is=Function("return this")();var I6=qh(is);var H0=Ae.prototype,W0="@@observable";H0[W0]||(H0[W0]=function(){return this});y();var eM=Object.prototype.toString;function as(t){return Vh(t)}function Vh(t,e){switch(eM.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var r=t.slice(0);return e.set(t,r),r.forEach(function(i,o){r[o]=Vh(i,e)}),r}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var n=Object.create(Object.getPrototypeOf(t));return e.set(t,n),Object.keys(t).forEach(function(i){n[i]=Vh(t[i],e)}),n}default:return t}}y();function tM(t){var e=new Set([t]);return e.forEach(function(r){Re(r)&&rM(r)===r&&Object.getOwnPropertyNames(r).forEach(function(n){Re(r[n])&&e.add(r[n])})}),t}function rM(t){if(__DEV__&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function Ul(t){return __DEV__&&tM(t),t}y();function Jo(t,e,r){var n=[];t.forEach(function(i){return i[e]&&n.push(i)}),n.forEach(function(i){return i[e](r)})}y();function sf(t,e,r){return new Ae(function(n){var i=n.next,o=n.error,a=n.complete,s=0,l=!1,u={then:function(p){return new Promise(function(g){return g(p())})}};function c(p,g){return p?function(m){++s;var v=function(){return p(m)};u=u.then(v,v).then(function(b){--s,i&&i.call(n,b),l&&f.complete()},function(b){throw--s,b}).catch(function(b){o&&o.call(n,b)})}:function(m){return g&&g.call(n,m)}}var f={next:c(e,i),error:c(r,o),complete:function(){l=!0,s||a&&a.call(n)}},d=t.subscribe(f);return function(){return d.unsubscribe()}})}y();y();y();var Xr=typeof WeakMap=="function"&&Yt(function(){return navigator.product})!=="ReactNative",K0=typeof WeakSet=="function",Uh=typeof Symbol=="function"&&typeof Symbol.for=="function",Yi=Uh&&Symbol.asyncIterator,z6=typeof Yt(function(){return window.document.createElement})=="function",H6=Yt(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1;function lf(t){function e(r){Object.defineProperty(t,r,{value:Ae})}return Uh&&Symbol.species&&e(Symbol.species),e("@@species"),t}function G0(t){return t&&typeof t.then=="function"}var ss=function(t){Ot(e,t);function e(r){var n=t.call(this,function(i){return n.addObserver(i),function(){return n.removeObserver(i)}})||this;return n.observers=new Set,n.promise=new Promise(function(i,o){n.resolve=i,n.reject=o}),n.handlers={next:function(i){n.sub!==null&&(n.latest=["next",i],n.notify("next",i),Jo(n.observers,"next",i))},error:function(i){var o=n.sub;o!==null&&(o&&setTimeout(function(){return o.unsubscribe()}),n.sub=null,n.latest=["error",i],n.reject(i),n.notify("error",i),Jo(n.observers,"error",i))},complete:function(){var i=n.sub;if(i!==null){var o=n.sources.shift();o?G0(o)?o.then(function(a){return n.sub=a.subscribe(n.handlers)}):n.sub=o.subscribe(n.handlers):(i&&setTimeout(function(){return i.unsubscribe()}),n.sub=null,n.latest&&n.latest[0]==="next"?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),Jo(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(i){n.reject(i),n.sources=[],n.handlers.complete()},n.promise.catch(function(i){}),typeof r=="function"&&(r=[new Ae(r)]),G0(r)?r.then(function(i){return n.start(i)},n.handlers.error):n.start(r),n}return e.prototype.start=function(r){this.sub===void 0&&(this.sources=Array.from(r),this.handlers.complete())},e.prototype.deliverLastMessage=function(r){if(this.latest){var n=this.latest[0],i=r[n];i&&i.call(r,this.latest[1]),this.sub===null&&n==="next"&&r.complete&&r.complete()}},e.prototype.addObserver=function(r){this.observers.has(r)||(this.deliverLastMessage(r),this.observers.add(r))},e.prototype.removeObserver=function(r){this.observers.delete(r)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(r,n){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(o){return o(r,n)}))},e.prototype.beforeNext=function(r){var n=!1;this.nextResultListeners.add(function(i,o){n||(n=!0,r(i,o))})},e}(Ae);lf(ss);y();function fr(t){return Array.isArray(t)&&t.length>0}y();function ls(t){return t.errors&&t.errors.length>0||!1}y();function Ji(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object.create(null);return t.forEach(function(n){!n||Object.keys(n).forEach(function(i){var o=n[i];o!==void 0&&(r[i]=o)})}),r}y();var Q0=new Map;function zl(t){var e=Q0.get(t)||1;return Q0.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}y();function Y0(t){var e=zl("stringifyForDisplay");return JSON.stringify(t,function(r,n){return n===void 0?e:n}).split(JSON.stringify(e)).join("<undefined>")}y();function Hl(t,e){return Ji(t,e,e.variables&&{variables:P(P({},t&&t.variables),e.variables)})}y();y();function uf(t){return new Ae(function(e){e.error(t)})}y();var Wl=function(t,e,r){var n=new Error(r);throw n.name="ServerError",n.response=t,n.statusCode=t.status,n.result=e,n};y();function zh(t){for(var e=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];if(e.indexOf(i)<0)throw __DEV__?new _e("illegal argument: ".concat(i)):new _e(26)}return t}y();function Hh(t,e){var r=P({},t),n=function(o){typeof o=="function"?r=P(P({},r),o(r)):r=P(P({},r),o)},i=function(){return P({},r)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:n}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}y();function Wh(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?rs(e.query)||void 0:""),e}function J0(t,e){return e?e(t):Ae.of()}function Kl(t){return typeof t=="function"?new Zr(t):t}function cf(t){return t.request.length<=1}var nM=function(t){Ot(e,t);function e(r,n){var i=t.call(this,r)||this;return i.link=n,i}return e}(Error),Zr=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return Ae.of()})},t.from=function(e){return e.length===0?t.empty():e.map(Kl).reduce(function(r,n){return r.concat(n)})},t.split=function(e,r,n){var i=Kl(r),o=Kl(n||new t(J0));return cf(i)&&cf(o)?new t(function(a){return e(a)?i.request(a)||Ae.of():o.request(a)||Ae.of()}):new t(function(a,s){return e(a)?i.request(a,s)||Ae.of():o.request(a,s)||Ae.of()})},t.execute=function(e,r){return e.request(Hh(r.context,Wh(zh(r))))||Ae.of()},t.concat=function(e,r){var n=Kl(e);if(cf(n))return __DEV__&&W.warn(new nM("You are calling concat on a terminating link, which will have no effect",n)),n;var i=Kl(r);return cf(i)?new t(function(o){return n.request(o,function(a){return i.request(a)||Ae.of()})||Ae.of()}):new t(function(o,a){return n.request(o,function(s){return i.request(s,a)||Ae.of()})||Ae.of()})},t.prototype.split=function(e,r,n){return this.concat(t.split(e,r,n||new t(J0)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,r){throw __DEV__?new _e("request is not implemented"):new _e(21)},t.prototype.onError=function(e,r){if(r&&r.error)return r.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}();y();var us=Zr.execute;y();var X0="3.7.0";y();y();y();y();function Z0(t){return!!t.body}function ew(t){return!!t.getReader}function tw(t){return!!(Yi&&t[Symbol.asyncIterator])}function rw(t){return!!t.stream}function nw(t){return!!t.arrayBuffer}function iw(t){return!!t.pipe}y();function Kh(t){var e,r=t[Symbol.asyncIterator]();return e={next:function(){return r.next()}},e[Symbol.asyncIterator]=function(){return this},e}y();function Gh(t){var e=null,r=null,n=!1,i=[],o=[];function a(f){if(!r){if(o.length){var d=o.shift();if(Array.isArray(d)&&d[0])return d[0]({value:f,done:!1})}i.push(f)}}function s(f){r=f;var d=o.slice();d.forEach(function(p){p[1](f)}),!e||e()}function l(){n=!0;var f=o.slice();f.forEach(function(d){d[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,t.removeListener("data",a),t.removeListener("error",s),t.removeListener("end",l),t.removeListener("finish",l),t.removeListener("close",l)},t.on("data",a),t.on("error",s),t.on("end",l),t.on("finish",l),t.on("close",l);function u(){return new Promise(function(f,d){if(r)return d(r);if(i.length)return f({value:i.shift(),done:!1});if(n)return f({value:void 0,done:!0});o.push([f,d])})}var c={next:function(){return u()}};return Yi&&(c[Symbol.asyncIterator]=function(){return this}),c}y();function Qh(t){var e=!1,r={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(n,i){t.then(function(o){n({value:o,done:!1})}).catch(i)}))}};return Yi&&(r[Symbol.asyncIterator]=function(){return this}),r}y();function ff(t){var e={next:function(){return t.read()}};return Yi&&(e[Symbol.asyncIterator]=function(){return this}),e}function ow(t){var e=t;if(Z0(t)&&(e=t.body),tw(e))return Kh(e);if(ew(e))return ff(e.getReader());if(rw(e))return ff(e.stream().getReader());if(nw(e))return Qh(e.arrayBuffer());if(iw(e))return Gh(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var aw=Object.prototype.hasOwnProperty;function sw(t,e){var r,n,i;return mn(this,void 0,void 0,function(){var o,a,s,l,u,c,f,d,p,g,m,v,b,E,w,_,S,x,k,C;return gn(this,function(D){switch(D.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");o=new TextDecoder("utf-8"),a=(r=t.headers)===null||r===void 0?void 0:r.get("content-type"),s="boundary=",l=(a==null?void 0:a.includes(s))?a==null?void 0:a.substring((a==null?void 0:a.indexOf(s))+s.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",u="--".concat(l),c="",f=ow(t),d=!0,D.label=1;case 1:return d?[4,f.next()]:[3,3];case 2:for(p=D.sent(),g=p.value,m=p.done,v=typeof g=="string"?g:o.decode(g),d=!m,c+=v,b=c.indexOf(u);b>-1;){if(E=void 0,C=[c.slice(0,b),c.slice(b+u.length)],E=C[0],c=C[1],E.trim()){if(w=E.indexOf(`\r
\r
`),_=iM(E.slice(0,w)),S=_["content-type"],S&&S.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");x=E.slice(w);try{k=lw(t,x.replace(`\r
`,"")),(Object.keys(k).length>1||"data"in k||"incremental"in k||"errors"in k)&&((n=e.next)===null||n===void 0||n.call(e,k))}catch(T){df(T,e)}}b=c.indexOf(u)}return[3,1];case 3:return(i=e.complete)===null||i===void 0||i.call(e),[2]}})})}function iM(t){var e={};return t.split(`
`).forEach(function(r){var n=r.indexOf(":");if(n>-1){var i=r.slice(0,n).trim().toLowerCase(),o=r.slice(n+1).trim();e[i]=o}}),e}function lw(t,e){if(t.status>=300){var r=function(){try{return JSON.parse(e)}catch{return e}};Wl(t,r(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(i){var n=i;throw n.name="ServerParseError",n.response=t,n.statusCode=t.status,n.bodyText=e,n}}function df(t,e){var r,n;t.name!=="AbortError"&&(t.result&&t.result.errors&&t.result.data&&((r=e.next)===null||r===void 0||r.call(e,t.result)),(n=e.error)===null||n===void 0||n.call(e,t))}function uw(t,e,r){oM(e)(t).then(function(n){var i,o;(i=r.next)===null||i===void 0||i.call(r,n),(o=r.complete)===null||o===void 0||o.call(r)}).catch(function(n){return df(n,r)})}function oM(t){return function(e){return e.text().then(function(r){return lw(e,r)}).then(function(r){return e.status>=300&&Wl(e,r,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(r)&&!aw.call(r,"data")&&!aw.call(r,"errors")&&Wl(e,r,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(n){return n.operationName}):t.operationName,"'.")),r})}}y();var Gl=function(t,e){var r;try{r=JSON.stringify(t)}catch(i){var n=__DEV__?new _e("Network request failed. ".concat(e," is not serializable: ").concat(i.message)):new _e(23);throw n.parseError=i,n}return r};y();var aM={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},sM={accept:"*/*","content-type":"application/json"},lM={method:"POST"},cw={http:aM,headers:sM,options:lM},fw=function(t,e){return e(t)};function dw(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={},o={};r.forEach(function(f){i=P(P(P({},i),f.options),{headers:P(P({},i.headers),f.headers)}),f.credentials&&(i.credentials=f.credentials),o=P(P({},o),f.http)}),i.headers=uM(i.headers,o.preserveHeaderCase);var a=t.operationName,s=t.extensions,l=t.variables,u=t.query,c={operationName:a,variables:l};return o.includeExtensions&&(c.extensions=s),o.includeQuery&&(c.query=e(u,Za)),{options:i,body:c}}function uM(t,e){if(!e){var r=Object.create(null);return Object.keys(Object(t)).forEach(function(o){r[o.toLowerCase()]=t[o]}),r}var n=Object.create(null);Object.keys(Object(t)).forEach(function(o){n[o.toLowerCase()]={originalName:o,value:t[o]}});var i=Object.create(null);return Object.keys(n).forEach(function(o){i[n[o].originalName]=n[o].value}),i}y();var pw=function(t){if(!t&&typeof fetch=="undefined")throw __DEV__?new _e(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new _e(22)};y();var hw=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var t=new AbortController,e=t.signal;return{controller:t,signal:e}};y();var mw=function(t,e){var r=t.getContext(),n=r.uri;return n||(typeof e=="function"?e(t):e||"/graphql")};y();y();function gw(t,e){var r=[],n=function(f,d){r.push("".concat(f,"=").concat(encodeURIComponent(d)))};if("query"in e&&n("query",e.query),e.operationName&&n("operationName",e.operationName),e.variables){var i=void 0;try{i=Gl(e.variables,"Variables map")}catch(f){return{parseError:f}}n("variables",i)}if(e.extensions){var o=void 0;try{o=Gl(e.extensions,"Extensions map")}catch(f){return{parseError:f}}n("extensions",o)}var a="",s=t,l=t.indexOf("#");l!==-1&&(a=t.substr(l),s=t.substr(0,l));var u=s.indexOf("?")===-1?"?":"&",c=s+u+r.join("&")+a;return{newURI:c}}var yw=Yt(function(){return fetch}),vw=function(t){t===void 0&&(t={});var e=t.uri,r=e===void 0?"/graphql":e,n=t.fetch,i=t.print,o=i===void 0?fw:i,a=t.includeExtensions,s=t.preserveHeaderCase,l=t.useGETForQueries,u=t.includeUnusedVariables,c=u===void 0?!1:u,f=Nn(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&pw(n||yw);var d={http:{includeExtensions:a,preserveHeaderCase:s},options:f.fetchOptions,credentials:f.credentials,headers:f.headers};return new Zr(function(p){var g=mw(p,r),m=p.getContext(),v={};if(m.clientAwareness){var b=m.clientAwareness,E=b.name,w=b.version;E&&(v["apollographql-client-name"]=E),w&&(v["apollographql-client-version"]=w)}var _=P(P({},v),m.headers),S={http:m.http,options:m.fetchOptions,credentials:m.credentials,headers:_},x=dw(p,o,cw,d,S),k=x.options,C=x.body;if(C.variables&&!c){var D=new Set(Object.keys(C.variables));nr(p.query,{Variable:function($,q,V){V&&V.kind!=="VariableDefinition"&&D.delete($.name.value)}}),D.size&&(C.variables=P({},C.variables),D.forEach(function($){delete C.variables[$]}))}var T;if(!k.signal){var A=hw(),R=A.controller,M=A.signal;T=R,T&&(k.signal=M)}var j=function($){return $.kind==="OperationDefinition"&&$.operation==="mutation"};if(l&&!p.query.definitions.some(j)&&(k.method="GET"),es(["defer"],p.query)&&(k.headers.accept="multipart/mixed; deferSpec=20220824, application/json"),k.method==="GET"){var I=gw(g,C),L=I.newURI,O=I.parseError;if(O)return uf(O);g=L}else try{k.body=Gl(C,"Payload")}catch($){return uf($)}return new Ae(function($){var q=n||Yt(function(){return fetch})||yw;return q(g,k).then(function(V){var U;p.setContext({response:V});var K=(U=V.headers)===null||U===void 0?void 0:U.get("content-type");return K!==null&&/^multipart\/mixed/i.test(K)?sw(V,$):uw(V,p,$)}).catch(function(V){return df(V,$)}),function(){T&&T.abort()}})})};y();var Yh=function(t){Ot(e,t);function e(r){r===void 0&&(r={});var n=t.call(this,vw(r).request)||this;return n.options=r,n}return e}(Zr);y();y();var _w=Object.prototype,bw=_w.toString,cM=_w.hasOwnProperty,ww=Function.prototype.toString,Jh=new Map;function gt(t,e){try{return Xh(t,e)}finally{Jh.clear()}}function Xh(t,e){if(t===e)return!0;var r=bw.call(t),n=bw.call(e);if(r!==n)return!1;switch(r){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(Sw(t,e))return!0;var i=xw(t),o=xw(e),a=i.length;if(a!==o.length)return!1;for(var s=0;s<a;++s)if(!cM.call(e,i[s]))return!1;for(var s=0;s<a;++s){var l=i[s];if(!Xh(t[l],e[l]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t=="".concat(e);case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(Sw(t,e))return!0;for(var u=t.entries(),c=r==="[object Map]";;){var f=u.next();if(f.done)break;var d=f.value,p=d[0],g=d[1];if(!e.has(p)||c&&!Xh(g,e.get(p)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{var m=t.byteLength;if(m===e.byteLength)for(;m--&&t[m]===e[m];);return m===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var v=ww.call(t);return v!==ww.call(e)?!1:!pM(v,dM)}}return!1}function xw(t){return Object.keys(t).filter(fM,t)}function fM(t){return this[t]!==void 0}var dM="{ [native code] }";function pM(t,e){var r=t.length-e.length;return r>=0&&t.indexOf(e,r)===r}function Sw(t,e){var r=Jh.get(t);if(r){if(r.has(e))return!0}else Jh.set(t,r=new Set);return r.add(e),!1}y();function Ew(t){return!!t.incremental}y();y();y();y();var hM=function(){return Object.create(null)},kw=Array.prototype,mM=kw.forEach,gM=kw.slice,Bn=function(){function t(e,r){e===void 0&&(e=!0),r===void 0&&(r=hM),this.weakness=e,this.makeData=r}return t.prototype.lookup=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var r=this;return mM.call(e,function(n){return r=r.getChildTrie(n)}),r.data||(r.data=this.makeData(gM.call(e)))},t.prototype.getChildTrie=function(e){var r=this.weakness&&yM(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=r.get(e);return n||r.set(e,n=new t(this.weakness,this.makeData)),n},t}();function yM(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}y();var ir=null,Cw={},vM=1,_M=function(){return function(){function t(){this.id=["slot",vM++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var e=ir;e;e=e.parent)if(this.id in e.slots){var r=e.slots[this.id];if(r===Cw)break;return e!==ir&&(ir.slots[this.id]=r),!0}return ir&&(ir.slots[this.id]=Cw),!1},t.prototype.getValue=function(){if(this.hasValue())return ir.slots[this.id]},t.prototype.withValue=function(e,r,n,i){var o,a=(o={__proto__:null},o[this.id]=e,o),s=ir;ir={parent:s,slots:a};try{return r.apply(i,n)}finally{ir=s}},t.bind=function(e){var r=ir;return function(){var n=ir;try{return ir=r,e.apply(this,arguments)}finally{ir=n}}},t.noContext=function(e,r,n){if(ir){var i=ir;try{return ir=null,e.apply(n,r)}finally{ir=i}}else return e.apply(n,r)},t}()},Zh="@wry/context:Slot",em=Array,pf=em[Zh]||function(){var t=_M();try{Object.defineProperty(em,Zh,{value:em[Zh]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}(),bM=pf.bind,wM=pf.noContext;function xM(){}var SM=function(){function t(e,r){e===void 0&&(e=1/0),r===void 0&&(r=xM),this.max=e,this.dispose=r,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var r=this.getNode(e);return r&&r.value},t.prototype.getNode=function(e){var r=this.map.get(e);if(r&&r!==this.newest){var n=r.older,i=r.newer;i&&(i.older=n),n&&(n.newer=i),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=i)}return r},t.prototype.set=function(e,r){var n=this.getNode(e);return n?n.value=r:(n={key:e,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var r=this.map.get(e);return r?(r===this.newest&&(this.newest=r.older),r===this.oldest&&(this.oldest=r.newer),r.newer&&(r.newer.older=r.older),r.older&&(r.older.newer=r.newer),this.map.delete(e),this.dispose(r.value,e),!0):!1},t}(),hf=new pf,tm,EM=Object.prototype.hasOwnProperty,rm=(tm=Array.from,tm===void 0?function(t){var e=[];return t.forEach(function(r){return e.push(r)}),e}:tm);function mf(t){var e=t.unsubscribe;typeof e=="function"&&(t.unsubscribe=void 0,e())}var Ql=[],kM=100;function cs(t,e){if(!t)throw new Error(e||"assertion failure")}function CM(t,e){var r=t.length;return r>0&&r===e.length&&t[r-1]===e[r-1]}function Dw(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function DM(t){return t.slice(0)}var TM=function(){function t(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}return t.prototype.peek=function(){if(this.value.length===1&&!Xi(this))return Tw(this),this.value[0]},t.prototype.recompute=function(e){return cs(!this.recomputing,"already recomputing"),Tw(this),Xi(this)?OM(this,e):Dw(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Ow(this),mf(this))},t.prototype.dispose=function(){var e=this;this.setDirty(),Fw(this),nm(this,function(r,n){r.setDirty(),jw(r,e)})},t.prototype.forget=function(){this.dispose()},t.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=Ql.pop()||new Set),this.deps.add(e)},t.prototype.forgetDeps=function(){var e=this;this.deps&&(rm(this.deps).forEach(function(r){return r.delete(e)}),this.deps.clear(),Ql.push(this.deps),this.deps=null)},t.count=0,t}();function Tw(t){var e=hf.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),Xi(t)?Iw(e,t):Pw(e,t),e}function OM(t,e){return Fw(t),hf.withValue(t,AM,[t,e]),PM(t,e)&&IM(t),Dw(t.value)}function AM(t,e){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,e)}catch(r){t.value[1]=r}t.recomputing=!1}function Xi(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function IM(t){t.dirty=!1,!Xi(t)&&Aw(t)}function Ow(t){nm(t,Iw)}function Aw(t){nm(t,Pw)}function nm(t,e){var r=t.parents.size;if(r)for(var n=rm(t.parents),i=0;i<r;++i)e(n[i],t)}function Iw(t,e){cs(t.childValues.has(e)),cs(Xi(e));var r=!Xi(t);if(!t.dirtyChildren)t.dirtyChildren=Ql.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),r&&Ow(t)}function Pw(t,e){cs(t.childValues.has(e)),cs(!Xi(e));var r=t.childValues.get(e);r.length===0?t.childValues.set(e,DM(e.value)):CM(r,e.value)||t.setDirty(),Mw(t,e),!Xi(t)&&Aw(t)}function Mw(t,e){var r=t.dirtyChildren;r&&(r.delete(e),r.size===0&&(Ql.length<kM&&Ql.push(r),t.dirtyChildren=null))}function Fw(t){t.childValues.size>0&&t.childValues.forEach(function(e,r){jw(t,r)}),t.forgetDeps(),cs(t.dirtyChildren===null)}function jw(t,e){e.parents.delete(t),t.childValues.delete(e),Mw(t,e)}function PM(t,e){if(typeof t.subscribe=="function")try{mf(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}var MM={setDirty:!0,dispose:!0,forget:!0};function gf(t){var e=new Map,r=t&&t.subscribe;function n(i){var o=hf.getValue();if(o){var a=e.get(i);a||e.set(i,a=new Set),o.dependOn(a),typeof r=="function"&&(mf(a),a.unsubscribe=r(i))}}return n.dirty=function(o,a){var s=e.get(o);if(s){var l=a&&EM.call(MM,a)?a:"setDirty";rm(s).forEach(function(u){return u[l]()}),e.delete(o),mf(s)}},n}function Rw(){var t=new Bn(typeof WeakMap=="function");return function(){return t.lookupArray(arguments)}}var v5=Rw(),im=new Set;function Xo(t,e){e===void 0&&(e=Object.create(null));var r=new SM(e.max||Math.pow(2,16),function(u){return u.dispose()}),n=e.keyArgs,i=e.makeCacheKey||Rw(),o=function(){var u=i.apply(null,n?n.apply(null,arguments):arguments);if(u===void 0)return t.apply(null,arguments);var c=r.get(u);c||(r.set(u,c=new TM(t)),c.subscribe=e.subscribe,c.forget=function(){return r.delete(u)});var f=c.recompute(Array.prototype.slice.call(arguments));return r.set(u,c),im.add(r),hf.hasValue()||(im.forEach(function(d){return d.clean()}),im.clear()),f};Object.defineProperty(o,"size",{get:function(){return r.map.size},configurable:!1,enumerable:!1});function a(u){var c=r.get(u);c&&c.setDirty()}o.dirtyKey=a,o.dirty=function(){a(i.apply(null,arguments))};function s(u){var c=r.get(u);if(c)return c.peek()}o.peekKey=s,o.peek=function(){return s(i.apply(null,arguments))};function l(u){return r.delete(u)}return o.forgetKey=l,o.forget=function(){return l(i.apply(null,arguments))},o.makeCacheKey=i,o.getKey=n?function(){return i.apply(null,n.apply(null,arguments))}:i,Object.freeze(o)}var om=function(){function t(){this.getFragmentDoc=Xo(Sh)}return t.prototype.batch=function(e){var r=this,n=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(r)},n),i},t.prototype.recordOptimisticTransaction=function(e,r){this.performTransaction(e,r)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!!e.optimistic),this.read(P(P({},e),{rootId:e.id||"ROOT_QUERY",optimistic:r}))},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!!e.optimistic),this.read(P(P({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:r}))},t.prototype.writeQuery=function(e){var r=e.id,n=e.data,i=Nn(e,["id","data"]);return this.write(Object.assign(i,{dataId:r||"ROOT_QUERY",result:n}))},t.prototype.writeFragment=function(e){var r=e.id,n=e.data,i=e.fragment,o=e.fragmentName,a=Nn(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(a,{query:this.getFragmentDoc(i,o),dataId:r,result:n}))},t.prototype.updateQuery=function(e,r){return this.batch({update:function(n){var i=n.readQuery(e),o=r(i);return o==null?i:(n.writeQuery(P(P({},e),{data:o})),o)}})},t.prototype.updateFragment=function(e,r){return this.batch({update:function(n){var i=n.readFragment(e),o=r(i);return o==null?i:(n.writeFragment(P(P({},e),{data:o})),o)}})},t}();y();var Yl=function(t){Ot(e,t);function e(r,n,i,o){var a,s=t.call(this,r)||this;if(s.message=r,s.path=n,s.query=i,s.variables=o,Array.isArray(s.path)){s.missing=s.message;for(var l=s.path.length-1;l>=0;--l)s.missing=(a={},a[s.path[l]]=s.missing,a)}else s.missing=s.path;return s.__proto__=e.prototype,s}return e}(Error);y();y();var At=Object.prototype.hasOwnProperty;function Jl(t){return t==null}var ut=Array.isArray;function yf(t,e){var r=t.__typename,n=t.id,i=t._id;if(typeof r=="string"&&(e&&(e.keyObject=Jl(n)?Jl(i)?void 0:{_id:i}:{id:n}),Jl(n)&&!Jl(i)&&(n=i),!Jl(n)))return"".concat(r,":").concat(typeof n=="number"||typeof n=="string"?n:JSON.stringify(n))}var Nw={dataIdFromObject:yf,addTypename:!0,resultCaching:!0,canonizeResults:!1};function Lw(t){return Ji(Nw,t)}function vf(t){var e=t.canonizeResults;return e===void 0?Nw.canonizeResults:e}function $w(t,e){return Pe(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var am=/^[_a-z][_0-9a-z]*/i;function _n(t){var e=t.match(am);return e?e[0]:t}function _f(t,e,r){return Re(e)?ut(e)?e.every(function(n){return _f(t,n,r)}):t.selections.every(function(n){if(xr(n)&&si(n,r)){var i=Yr(n);return At.call(e,i)&&(!n.selectionSet||_f(n.selectionSet,e[i],r))}return!0}):!1}function Zi(t){return Re(t)&&!Pe(t)&&!ut(t)}function Bw(){return new Jr}function bf(t,e){var r=Ho(Ko(t));return{fragmentMap:r,lookupFragment:function(n){var i=r[n];return!i&&e&&(i=e.lookup(n)),i||null}}}var wf=Object.create(null),sm=function(){return wf},qw=Object.create(null),fs=function(){function t(e,r){var n=this;this.policies=e,this.group=r,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,o){return Ul(Pe(i)?n.get(i.__ref,o):i&&i[o])},this.canRead=function(i){return Pe(i)?n.has(i.__ref):typeof i=="object"},this.toReference=function(i,o){if(typeof i=="string")return Ln(i);if(Pe(i))return i;var a=n.policies.identify(i)[0];if(a){var s=Ln(a);return o&&n.merge(a,i),s}}}return t.prototype.toObject=function(){return P({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,r){if(this.group.depend(e,r),At.call(this.data,e)){var n=this.data[e];if(n&&At.call(n,r))return n[r]}if(r==="__typename"&&At.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof eo)return this.parent.get(e,r)},t.prototype.lookup=function(e,r){if(r&&this.group.depend(e,"__exists"),At.call(this.data,e))return this.data[e];if(this instanceof eo)return this.parent.lookup(e,r);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,r){var n=this,i;Pe(e)&&(e=e.__ref),Pe(r)&&(r=r.__ref);var o=typeof e=="string"?this.lookup(i=e):e,a=typeof r=="string"?this.lookup(i=r):r;if(!!a){__DEV__?W(typeof i=="string","store.merge expects a string ID"):W(typeof i=="string",1);var s=new Jr(jM).merge(o,a);if(this.data[i]=s,s!==o&&(delete this.refs[i],this.group.caching)){var l=Object.create(null);o||(l.__exists=1),Object.keys(a).forEach(function(u){if(!o||o[u]!==s[u]){l[u]=1;var c=_n(u);c!==u&&!n.policies.hasKeyArgs(s.__typename,c)&&(l[c]=1),s[u]===void 0&&!(n instanceof eo)&&delete s[u]}}),l.__typename&&!(o&&o.__typename)&&this.policies.rootTypenamesById[i]===s.__typename&&delete l.__typename,Object.keys(l).forEach(function(u){return n.group.dirty(i,u)})}}},t.prototype.modify=function(e,r){var n=this,i=this.lookup(e);if(i){var o=Object.create(null),a=!1,s=!0,l={DELETE:wf,INVALIDATE:qw,isReference:Pe,toReference:this.toReference,canRead:this.canRead,readField:function(u,c){return n.policies.readField(typeof u=="string"?{fieldName:u,from:c||Ln(e)}:u,{store:n})}};if(Object.keys(i).forEach(function(u){var c=_n(u),f=i[u];if(f!==void 0){var d=typeof r=="function"?r:r[u]||r[c];if(d){var p=d===sm?wf:d(Ul(f),P(P({},l),{fieldName:c,storeFieldName:u,storage:n.getStorage(e,u)}));p===qw?n.group.dirty(e,u):(p===wf&&(p=void 0),p!==f&&(o[u]=p,a=!0,f=p))}f!==void 0&&(s=!1)}}),a)return this.merge(e,o),s&&(this instanceof eo?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,r,n){var i,o=this.lookup(e);if(o){var a=this.getFieldValue(o,"__typename"),s=r&&n?this.policies.getStoreFieldName({typename:a,fieldName:r,args:n}):r;return this.modify(e,s?(i={},i[s]=sm,i):sm)}return!1},t.prototype.evict=function(e,r){var n=!1;return e.id&&(At.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof eo&&this!==r&&(n=this.parent.evict(e,r)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,r=this.toObject(),n=[];return this.getRootIdSet().forEach(function(i){At.call(e.policies.rootTypenamesById,i)||n.push(i)}),n.length&&(r.__META={extraRootIds:n.sort()}),r},t.prototype.replace=function(e){var r=this;if(Object.keys(this.data).forEach(function(o){e&&At.call(e,o)||r.delete(o)}),e){var n=e.__META,i=Nn(e,["__META"]);Object.keys(i).forEach(function(o){r.merge(o,i[o])}),n&&n.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var r=--this.rootIds[e];return r||delete this.rootIds[e],r}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof eo?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,r=this.getRootIdSet(),n=this.toObject();r.forEach(function(a){At.call(n,a)&&(Object.keys(e.findChildRefIds(a)).forEach(r.add,r),delete n[a])});var i=Object.keys(n);if(i.length){for(var o=this;o instanceof eo;)o=o.parent;i.forEach(function(a){return o.delete(a)})}return i},t.prototype.findChildRefIds=function(e){if(!At.call(this.refs,e)){var r=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return r;var i=new Set([n]);i.forEach(function(o){Pe(o)&&(r[o.__ref]=!0),Re(o)&&Object.keys(o).forEach(function(a){var s=o[a];Re(s)&&i.add(s)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}();var Vw=function(){function t(e,r){r===void 0&&(r=null),this.caching=e,this.parent=r,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?gf():null,this.keyMaker=new Bn(Xr)},t.prototype.depend=function(e,r){if(this.d){this.d(lm(e,r));var n=_n(r);n!==r&&this.d(lm(e,n)),this.parent&&this.parent.depend(e,r)}},t.prototype.dirty=function(e,r){this.d&&this.d.dirty(lm(e,r),r==="__exists"?"forget":"setDirty")},t}();function lm(t,e){return e+"#"+t}function um(t,e){Zo(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(r){Ot(n,r);function n(i){var o=i.policies,a=i.resultCaching,s=a===void 0?!0:a,l=i.seed,u=r.call(this,o,new Vw(s))||this;return u.stump=new FM(u),u.storageTrie=new Bn(Xr),l&&u.replace(l),u}return n.prototype.addLayer=function(i,o){return this.stump.addLayer(i,o)},n.prototype.removeLayer=function(){return this},n.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},n}(t);t.Root=e})(fs||(fs={}));var eo=function(t){Ot(e,t);function e(r,n,i,o){var a=t.call(this,n.policies,o)||this;return a.id=r,a.parent=n,a.replay=i,a.group=o,i(a),a}return e.prototype.addLayer=function(r,n){return new e(r,this,n,this.group)},e.prototype.removeLayer=function(r){var n=this,i=this.parent.removeLayer(r);return r===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(o){var a=n.data[o],s=i.lookup(o);s?a?a!==s&&Object.keys(a).forEach(function(l){gt(a[l],s[l])||n.group.dirty(o,l)}):(n.group.dirty(o,"__exists"),Object.keys(s).forEach(function(l){n.group.dirty(o,l)})):n.delete(o)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return P(P({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(r){var n=this.parent.findChildRefIds(r);return At.call(this.data,r)?P(P({},n),t.prototype.findChildRefIds.call(this,r)):n},e.prototype.getStorage=function(){for(var r=this.parent;r.parent;)r=r.parent;return r.getStorage.apply(r,arguments)},e}(fs),FM=function(t){Ot(e,t);function e(r){return t.call(this,"EntityStore.Stump",r,function(){},new Vw(r.group.caching,r.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(eo);function jM(t,e,r){var n=t[r],i=e[r];return gt(n,i)?n:i}function Zo(t){return!!(t instanceof fs&&t.group.caching)}y();y();y();function RM(t){return Re(t)?ut(t)?t.slice(0):P({__proto__:Object.getPrototypeOf(t)},t):t}var xf=function(){function t(){this.known=new(K0?WeakSet:Set),this.pool=new Bn(Xr),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return Re(e)&&this.known.has(e)},t.prototype.pass=function(e){if(Re(e)){var r=RM(e);return this.passes.set(r,e),r}return e},t.prototype.admit=function(e){var r=this;if(Re(e)){var n=this.passes.get(e);if(n)return n;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var o=e.map(this.admit,this),a=this.pool.lookupArray(o);return a.array||(this.known.add(a.array=o),__DEV__&&Object.freeze(o)),a.array}case null:case Object.prototype:{if(this.known.has(e))return e;var s=Object.getPrototypeOf(e),l=[s],u=this.sortedKeys(e);l.push(u.json);var c=l.length;u.sorted.forEach(function(p){l.push(r.admit(e[p]))});var a=this.pool.lookupArray(l);if(!a.object){var f=a.object=Object.create(s);this.known.add(f),u.sorted.forEach(function(p,g){f[p]=l[c+g]}),__DEV__&&Object.freeze(f)}return a.object}}}return e},t.prototype.sortedKeys=function(e){var r=Object.keys(e),n=this.pool.lookupArray(r);if(!n.keys){r.sort();var i=JSON.stringify(r);(n.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,n.keys={sorted:r,json:i})}return n.keys},t}();var Br=Object.assign(function(t){if(Re(t)){cm===void 0&&Uw();var e=cm.admit(t),r=fm.get(e);return r===void 0&&fm.set(e,r=JSON.stringify(e)),r}return JSON.stringify(t)},{reset:Uw}),cm,fm;function Uw(){cm=new xf,fm=new(Xr?WeakMap:Map)}function zw(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var Hw=function(){function t(e){var r=this;this.knownResults=new(Xr?WeakMap:Map),this.config=Ji(e,{addTypename:e.addTypename!==!1,canonizeResults:vf(e)}),this.canon=e.canon||new xf,this.executeSelectionSet=Xo(function(n){var i,o=n.context.canonizeResults,a=zw(n);a[3]=!o;var s=(i=r.executeSelectionSet).peek.apply(i,a);return s?o?P(P({},s),{result:r.canon.admit(s.result)}):s:(um(n.context.store,n.enclosingRef.__ref),r.execSelectionSetImpl(n))},{max:this.config.resultCacheMaxSize,keyArgs:zw,makeCacheKey:function(n,i,o,a){if(Zo(o.store))return o.store.makeCacheKey(n,Pe(i)?i.__ref:i,o.varString,a)}}),this.executeSubSelectedArray=Xo(function(n){return um(n.context.store,n.enclosingRef.__ref),r.execSubSelectedArrayImpl(n)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(n){var i=n.field,o=n.array,a=n.context;if(Zo(a.store))return a.store.makeCacheKey(i,o,a.varString)}})}return t.prototype.resetCanon=function(){this.canon=new xf},t.prototype.diffQueryAgainstStore=function(e){var r=e.store,n=e.query,i=e.rootId,o=i===void 0?"ROOT_QUERY":i,a=e.variables,s=e.returnPartialData,l=s===void 0?!0:s,u=e.canonizeResults,c=u===void 0?this.config.canonizeResults:u,f=this.config.cache.policies;a=P(P({},Qo(Bl(n))),a);var d=Ln(o),p=this.executeSelectionSet({selectionSet:Go(n).selectionSet,objectOrReference:d,enclosingRef:d,context:P({store:r,query:n,policies:f,variables:a,varString:Br(a),canonizeResults:c},bf(n,this.config.fragments))}),g;if(p.missing&&(g=[new Yl(NM(p.missing),p.missing,n,a)],!l))throw g[0];return{result:p.result,complete:!g,missing:g}},t.prototype.isFresh=function(e,r,n,i){if(Zo(i.store)&&this.knownResults.get(e)===n){var o=this.executeSelectionSet.peek(n,r,i,this.canon.isKnown(e));if(o&&e===o.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var r=this,n=e.selectionSet,i=e.objectOrReference,o=e.enclosingRef,a=e.context;if(Pe(i)&&!a.policies.rootTypenamesById[i.__ref]&&!a.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var s=a.variables,l=a.policies,u=a.store,c=u.getFieldValue(i,"__typename"),f=[],d,p=new Jr;this.config.addTypename&&typeof c=="string"&&!l.rootIdsByTypename[c]&&f.push({__typename:c});function g(w,_){var S;return w.missing&&(d=p.merge(d,(S={},S[_]=w.missing,S))),w.result}var m=new Set(n.selections);m.forEach(function(w){var _,S;if(!!si(w,s))if(xr(w)){var x=l.readField({fieldName:w.name.value,field:w,variables:a.variables,from:i},a),k=Yr(w);x===void 0?Yo.added(w)||(d=p.merge(d,(_={},_[k]="Can't find field '".concat(w.name.value,"' on ").concat(Pe(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),_))):ut(x)?x=g(r.executeSubSelectedArray({field:w,array:x,enclosingRef:o,context:a}),k):w.selectionSet?x!=null&&(x=g(r.executeSelectionSet({selectionSet:w.selectionSet,objectOrReference:x,enclosingRef:Pe(x)?x:o,context:a}),k)):a.canonizeResults&&(x=r.canon.pass(x)),x!==void 0&&f.push((S={},S[k]=x,S))}else{var C=Wo(w,a.lookupFragment);if(!C&&w.kind===Xa.FRAGMENT_SPREAD)throw __DEV__?new _e("No fragment named ".concat(w.name.value)):new _e(5);C&&l.fragmentMatches(C,c)&&C.selectionSet.selections.forEach(m.add,m)}});var v=ql(f),b={result:v,missing:d},E=a.canonizeResults?this.canon.admit(b):Ul(b);return E.result&&this.knownResults.set(E.result,n),E},t.prototype.execSubSelectedArrayImpl=function(e){var r=this,n=e.field,i=e.array,o=e.enclosingRef,a=e.context,s,l=new Jr;function u(c,f){var d;return c.missing&&(s=l.merge(s,(d={},d[f]=c.missing,d))),c.result}return n.selectionSet&&(i=i.filter(a.store.canRead)),i=i.map(function(c,f){return c===null?null:ut(c)?u(r.executeSubSelectedArray({field:n,array:c,enclosingRef:o,context:a}),f):n.selectionSet?u(r.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:c,enclosingRef:Pe(c)?c:o,context:a}),f):(__DEV__&&LM(a.store,n,c),c)}),{result:a.canonizeResults?this.canon.admit(i):i,missing:s}},t}();function NM(t){try{JSON.stringify(t,function(e,r){if(typeof r=="string")throw r;return r})}catch(e){return e}}function LM(t,e,r){if(!e.selectionSet){var n=new Set([r]);n.forEach(function(i){Re(i)&&(__DEV__?W(!Pe(i),"Missing selection set for object of type ".concat($w(t,i)," returned for query field ").concat(e.name.value)):W(!Pe(i),6),Object.values(i).forEach(n.add,n))})}}y();y();y();y();var or=null,Ww={},$M=1,BM=function(){return function(){function t(){this.id=["slot",$M++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var e=or;e;e=e.parent)if(this.id in e.slots){var r=e.slots[this.id];if(r===Ww)break;return e!==or&&(or.slots[this.id]=r),!0}return or&&(or.slots[this.id]=Ww),!1},t.prototype.getValue=function(){if(this.hasValue())return or.slots[this.id]},t.prototype.withValue=function(e,r,n,i){var o,a=(o={__proto__:null},o[this.id]=e,o),s=or;or={parent:s,slots:a};try{return r.apply(i,n)}finally{or=s}},t.bind=function(e){var r=or;return function(){var n=or;try{return or=r,e.apply(this,arguments)}finally{or=n}}},t.noContext=function(e,r,n){if(or){var i=or;try{return or=null,e.apply(n,r)}finally{or=i}}else return e.apply(n,r)},t}()};function Kw(t){try{return t()}catch{}}var dm="@wry/context:Slot",qM=Kw(function(){return globalThis})||Kw(function(){return global})||Object.create(null),Gw=qM,Sf=Gw[dm]||Array[dm]||function(t){try{Object.defineProperty(Gw,dm,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(BM()),e9=Sf.bind,t9=Sf.noContext;var ds=new Sf,Qw=new WeakMap;function Xl(t){var e=Qw.get(t);return e||Qw.set(t,e={vars:new Set,dep:gf()}),e}function pm(t){Xl(t).vars.forEach(function(e){return e.forgetCache(t)})}function Yw(t){Xl(t).vars.forEach(function(e){return e.attachCache(t)})}function Ef(t){var e=new Set,r=new Set,n=function(o){if(arguments.length>0){if(t!==o){t=o,e.forEach(function(l){Xl(l).dep.dirty(n),VM(l)});var a=Array.from(r);r.clear(),a.forEach(function(l){return l(t)})}}else{var s=ds.getValue();s&&(i(s),Xl(s).dep(n))}return t};n.onNextChange=function(o){return r.add(o),function(){r.delete(o)}};var i=n.attachCache=function(o){return e.add(o),Xl(o).vars.add(n),n};return n.forgetCache=function(o){return e.delete(o)},n}function VM(t){t.broadcastWatches&&t.broadcastWatches()}y();var Jw=Object.create(null);function hm(t){var e=JSON.stringify(t);return Jw[e]||(Jw[e]=Object.create(null))}function mm(t){var e=hm(t);return e.keyFieldsFn||(e.keyFieldsFn=function(r,n){var i=function(a,s){return n.readField(s,a)},o=n.keyObject=ym(t,function(a){var s=ps(n.storeObject,a,i);return s===void 0&&r!==n.storeObject&&At.call(r,a[0])&&(s=ps(r,a,Zw)),__DEV__?W(s!==void 0,"Missing field '".concat(a.join("."),"' while extracting keyFields from ").concat(JSON.stringify(r))):W(s!==void 0,2),s});return"".concat(n.typename,":").concat(JSON.stringify(o))})}function gm(t){var e=hm(t);return e.keyArgsFn||(e.keyArgsFn=function(r,n){var i=n.field,o=n.variables,a=n.fieldName,s=ym(t,function(u){var c=u[0],f=c.charAt(0);if(f==="@"){if(i&&fr(i.directives)){var d=c.slice(1),p=i.directives.find(function(b){return b.name.value===d}),g=p&&li(p,o);return g&&ps(g,u.slice(1))}return}if(f==="$"){var m=c.slice(1);if(o&&At.call(o,m)){var v=u.slice(0);return v[0]=m,ps(o,v)}return}if(r)return ps(r,u)}),l=JSON.stringify(s);return(r||l!=="{}")&&(a+=":"+l),a})}function ym(t,e){var r=new Jr;return Xw(t).reduce(function(n,i){var o,a=e(i);if(a!==void 0){for(var s=i.length-1;s>=0;--s)a=(o={},o[i[s]]=a,o);n=r.merge(n,a)}return n},Object.create(null))}function Xw(t){var e=hm(t);if(!e.paths){var r=e.paths=[],n=[];t.forEach(function(i,o){ut(i)?(Xw(i).forEach(function(a){return r.push(n.concat(a))}),n.length=0):(n.push(i),ut(t[o+1])||(r.push(n.slice(0)),n.length=0))})}return e.paths}function Zw(t,e){return t[e]}function ps(t,e,r){return r=r||Zw,ex(e.reduce(function n(i,o){return ut(i)?i.map(function(a){return n(a,o)}):i&&r(i,o)},t))}function ex(t){return Re(t)?ut(t)?t.map(ex):ym(Object.keys(t).sort(),function(e){return ps(t,e)}):t}Rl.setStringify(Br);function vm(t){return t.args!==void 0?t.args:t.field?li(t.field,t.variables):null}var UM=function(){},tx=function(t,e){return e.fieldName},rx=function(t,e,r){var n=r.mergeObjects;return n(t,e)},nx=function(t,e){return e},ix=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=P({dataIdFromObject:yf},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,r){var n,i=this,o=r&&(r.typename||((n=r.storeObject)===null||n===void 0?void 0:n.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var a=r&&r.storeObject||e,s=P(P({},r),{typename:o,storeObject:a,readField:r&&r.readField||function(){var d=kf(arguments,a);return i.readField(d,{store:i.cache.data,variables:d.variables})}}),l,u=o&&this.getTypePolicy(o),c=u&&u.keyFn||this.config.dataIdFromObject;c;){var f=c(e,s);if(ut(f))c=mm(f);else{l=f;break}}return l=l?String(l):void 0,s.keyObject?[l,s.keyObject]:[l]},t.prototype.addTypePolicies=function(e){var r=this;Object.keys(e).forEach(function(n){var i=e[n],o=i.queryType,a=i.mutationType,s=i.subscriptionType,l=Nn(i,["queryType","mutationType","subscriptionType"]);o&&r.setRootTypename("Query",n),a&&r.setRootTypename("Mutation",n),s&&r.setRootTypename("Subscription",n),At.call(r.toBeAdded,n)?r.toBeAdded[n].push(l):r.toBeAdded[n]=[l]})},t.prototype.updateTypePolicy=function(e,r){var n=this,i=this.getTypePolicy(e),o=r.keyFields,a=r.fields;function s(l,u){l.merge=typeof u=="function"?u:u===!0?rx:u===!1?nx:l.merge}s(i,r.merge),i.keyFn=o===!1?UM:ut(o)?mm(o):typeof o=="function"?o:i.keyFn,a&&Object.keys(a).forEach(function(l){var u=n.getFieldPolicy(e,l,!0),c=a[l];if(typeof c=="function")u.read=c;else{var f=c.keyArgs,d=c.read,p=c.merge;u.keyFn=f===!1?tx:ut(f)?gm(f):typeof f=="function"?f:u.keyFn,typeof d=="function"&&(u.read=d),s(u,p)}u.read&&u.merge&&(u.keyFn=u.keyFn||tx)})},t.prototype.setRootTypename=function(e,r){r===void 0&&(r=e);var n="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[n];r!==i&&(__DEV__?W(!i||i===e,"Cannot change root ".concat(e," __typename more than once")):W(!i||i===e,3),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[r]=n,this.rootTypenamesById[n]=r)},t.prototype.addPossibleTypes=function(e){var r=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(n){r.getSupertypeSet(n,!0),e[n].forEach(function(i){r.getSupertypeSet(i,!0).add(n);var o=i.match(am);(!o||o[0]!==i)&&r.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var r=this;if(!At.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var i=this.supertypeMap.get(e);i&&i.size&&i.forEach(function(a){var s=r.getTypePolicy(a),l=s.fields,u=Nn(s,["fields"]);Object.assign(n,u),Object.assign(n.fields,l)})}var o=this.toBeAdded[e];return o&&o.length&&o.splice(0).forEach(function(a){r.updateTypePolicy(e,a)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,r,n){if(e){var i=this.getTypePolicy(e).fields;return i[r]||n&&(i[r]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,r){var n=this.supertypeMap.get(e);return!n&&r&&this.supertypeMap.set(e,n=new Set),n},t.prototype.fragmentMatches=function(e,r,n,i){var o=this;if(!e.typeCondition)return!0;if(!r)return!1;var a=e.typeCondition.name.value;if(r===a)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(a))for(var s=this.getSupertypeSet(r,!0),l=[s],u=function(g){var m=o.getSupertypeSet(g,!1);m&&m.size&&l.indexOf(m)<0&&l.push(m)},c=!!(n&&this.fuzzySubtypes.size),f=!1,d=0;d<l.length;++d){var p=l[d];if(p.has(a))return s.has(a)||(f&&__DEV__&&W.warn("Inferring subtype ".concat(r," of supertype ").concat(a)),s.add(a)),!0;p.forEach(u),c&&d===l.length-1&&_f(e.selectionSet,n,i)&&(c=!1,f=!0,this.fuzzySubtypes.forEach(function(g,m){var v=r.match(g);v&&v[0]===r&&u(m)}))}return!1},t.prototype.hasKeyArgs=function(e,r){var n=this.getFieldPolicy(e,r,!1);return!!(n&&n.keyFn)},t.prototype.getStoreFieldName=function(e){var r=e.typename,n=e.fieldName,i=this.getFieldPolicy(r,n,!1),o,a=i&&i.keyFn;if(a&&r)for(var s={typename:r,fieldName:n,field:e.field||null,variables:e.variables},l=vm(e);a;){var u=a(l,s);if(ut(u))a=gm(u);else{o=u||n;break}}return o===void 0&&(o=e.field?kh(e.field,e.variables):Rl(n,vm(e))),o===!1?n:n===_n(o)?o:n+":"+o},t.prototype.readField=function(e,r){var n=e.from;if(!!n){var i=e.field||e.fieldName;if(!!i){if(e.typename===void 0){var o=r.store.getFieldValue(n,"__typename");o&&(e.typename=o)}var a=this.getStoreFieldName(e),s=_n(a),l=r.store.getFieldValue(n,a),u=this.getFieldPolicy(e.typename,s,!1),c=u&&u.read;if(c){var f=ox(this,n,e,r,r.store.getStorage(Pe(n)?n.__ref:n,a));return ds.withValue(this.cache,c,[l,f])}return l}}},t.prototype.getReadFunction=function(e,r){var n=this.getFieldPolicy(e,r,!1);return n&&n.read},t.prototype.getMergeFunction=function(e,r,n){var i=this.getFieldPolicy(e,r,!1),o=i&&i.merge;return!o&&n&&(i=this.getTypePolicy(n),o=i&&i.merge),o},t.prototype.runMergeFunction=function(e,r,n,i,o){var a=n.field,s=n.typename,l=n.merge;return l===rx?ax(i.store)(e,r):l===nx?r:(i.overwrite&&(e=void 0),l(e,r,ox(this,void 0,{typename:s,fieldName:a.name.value,field:a,variables:i.variables},i,o||Object.create(null))))},t}();function ox(t,e,r,n,i){var o=t.getStoreFieldName(r),a=_n(o),s=r.variables||n.variables,l=n.store,u=l.toReference,c=l.canRead;return{args:vm(r),field:r.field||null,fieldName:a,storeFieldName:o,variables:s,isReference:Pe,toReference:u,storage:i,cache:t.cache,canRead:c,readField:function(){return t.readField(kf(arguments,e,s),n)},mergeObjects:ax(n.store)}}function kf(t,e,r){var n=t[0],i=t[1],o=t.length,a;return typeof n=="string"?a={fieldName:n,from:o>1?i:e}:(a=P({},n),At.call(a,"from")||(a.from=e)),__DEV__&&a.from===void 0&&__DEV__&&W.warn("Undefined 'from' passed to readField with arguments ".concat(Y0(Array.from(t)))),a.variables===void 0&&(a.variables=r),a}function ax(t){return function(r,n){if(ut(r)||ut(n))throw __DEV__?new _e("Cannot automatically merge arrays"):new _e(4);if(Re(r)&&Re(n)){var i=t.getFieldValue(r,"__typename"),o=t.getFieldValue(n,"__typename"),a=i&&o&&i!==o;if(a)return n;if(Pe(r)&&Zi(n))return t.merge(r.__ref,n),r;if(Zi(r)&&Pe(n))return t.merge(r,n.__ref),n;if(Zi(r)&&Zi(n))return P(P({},r),n)}return n}}function _m(t,e,r){var n="".concat(e).concat(r),i=t.flavors.get(n);return i||t.flavors.set(n,i=t.clientOnly===e&&t.deferred===r?t:P(P({},t),{clientOnly:e,deferred:r})),i}var sx=function(){function t(e,r,n){this.cache=e,this.reader=r,this.fragments=n}return t.prototype.writeToStore=function(e,r){var n=this,i=r.query,o=r.result,a=r.dataId,s=r.variables,l=r.overwrite,u=$n(i),c=Bw();s=P(P({},Qo(u)),s);var f=P(P({store:e,written:Object.create(null),merge:function(p,g){return c.merge(p,g)},variables:s,varString:Br(s)},bf(i,this.fragments)),{overwrite:!!l,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),d=this.processSelectionSet({result:o||Object.create(null),dataId:a,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:f});if(!Pe(d))throw __DEV__?new _e("Could not identify object ".concat(JSON.stringify(o))):new _e(7);return f.incomingById.forEach(function(p,g){var m=p.storeObject,v=p.mergeTree,b=p.fieldNodeSet,E=Ln(g);if(v&&v.map.size){var w=n.applyMerges(v,E,m,f);if(Pe(w))return;m=w}if(__DEV__&&!f.overwrite){var _=Object.create(null);b.forEach(function(k){k.selectionSet&&(_[k.name.value]=!0)});var S=function(k){return _[_n(k)]===!0},x=function(k){var C=v&&v.map.get(k);return Boolean(C&&C.info&&C.info.merge)};Object.keys(m).forEach(function(k){S(k)&&!x(k)&&zM(E,m,k,f.store)})}e.merge(g,m)}),e.retain(d.__ref),d},t.prototype.processSelectionSet=function(e){var r=this,n=e.dataId,i=e.result,o=e.selectionSet,a=e.context,s=e.mergeTree,l=this.cache.policies,u=Object.create(null),c=n&&l.rootTypenamesById[n]||Ll(i,o,a.fragmentMap)||n&&a.store.get(n,"__typename");typeof c=="string"&&(u.__typename=c);var f=function(){var w=kf(arguments,u,a.variables);if(Pe(w.from)){var _=a.incomingById.get(w.from.__ref);if(_){var S=l.readField(P(P({},w),{from:_.storeObject}),a);if(S!==void 0)return S}}return l.readField(w,a)},d=new Set;this.flattenFields(o,i,a,c).forEach(function(w,_){var S,x=Yr(_),k=i[x];if(d.add(_),k!==void 0){var C=l.getStoreFieldName({typename:c,fieldName:_.name.value,field:_,variables:w.variables}),D=ux(s,C),T=r.processFieldValue(k,_,_.selectionSet?_m(w,!1,!1):w,D),A=void 0;_.selectionSet&&(Pe(T)||Zi(T))&&(A=f("__typename",T));var R=l.getMergeFunction(c,_.name.value,A);R?D.info={field:_,typename:c,merge:R}:cx(s,C),u=w.merge(u,(S={},S[C]=T,S))}else __DEV__&&!w.clientOnly&&!w.deferred&&!Yo.added(_)&&!l.getReadFunction(c,_.name.value)&&__DEV__&&W.error("Missing field '".concat(Yr(_),"' while writing result ").concat(JSON.stringify(i,null,2)).substring(0,1e3))});try{var p=l.identify(i,{typename:c,selectionSet:o,fragmentMap:a.fragmentMap,storeObject:u,readField:f}),g=p[0],m=p[1];n=n||g,m&&(u=a.merge(u,m))}catch(w){if(!n)throw w}if(typeof n=="string"){var v=Ln(n),b=a.written[n]||(a.written[n]=[]);if(b.indexOf(o)>=0||(b.push(o),this.reader&&this.reader.isFresh(i,v,o,a)))return v;var E=a.incomingById.get(n);return E?(E.storeObject=a.merge(E.storeObject,u),E.mergeTree=bm(E.mergeTree,s),d.forEach(function(w){return E.fieldNodeSet.add(w)})):a.incomingById.set(n,{storeObject:u,mergeTree:Cf(s)?void 0:s,fieldNodeSet:d}),v}return u},t.prototype.processFieldValue=function(e,r,n,i){var o=this;return!r.selectionSet||e===null?__DEV__?as(e):e:ut(e)?e.map(function(a,s){var l=o.processFieldValue(a,r,n,ux(i,s));return cx(i,s),l}):this.processSelectionSet({result:e,selectionSet:r.selectionSet,context:n,mergeTree:i})},t.prototype.flattenFields=function(e,r,n,i){i===void 0&&(i=Ll(r,e,n.fragmentMap));var o=new Map,a=this.cache.policies,s=new Bn(!1);return function l(u,c){var f=s.lookup(u,c.clientOnly,c.deferred);f.visited||(f.visited=!0,u.selections.forEach(function(d){if(!!si(d,n.variables)){var p=c.clientOnly,g=c.deferred;if(!(p&&g)&&fr(d.directives)&&d.directives.forEach(function(b){var E=b.name.value;if(E==="client"&&(p=!0),E==="defer"){var w=li(b,n.variables);(!w||w.if!==!1)&&(g=!0)}}),xr(d)){var m=o.get(d);m&&(p=p&&m.clientOnly,g=g&&m.deferred),o.set(d,_m(n,p,g))}else{var v=Wo(d,n.lookupFragment);if(!v&&d.kind===Xa.FRAGMENT_SPREAD)throw __DEV__?new _e("No fragment named ".concat(d.name.value)):new _e(8);v&&a.fragmentMatches(v,i,r,n.variables)&&l(v.selectionSet,_m(n,p,g))}}}))}(e,n),o},t.prototype.applyMerges=function(e,r,n,i,o){var a,s=this;if(e.map.size&&!Pe(n)){var l=!ut(n)&&(Pe(r)||Zi(r))?r:void 0,u=n;l&&!o&&(o=[Pe(l)?l.__ref:l]);var c,f=function(d,p){return ut(d)?typeof p=="number"?d[p]:void 0:i.store.getFieldValue(d,String(p))};e.map.forEach(function(d,p){var g=f(l,p),m=f(u,p);if(m!==void 0){o&&o.push(p);var v=s.applyMerges(d,g,m,i,o);v!==m&&(c=c||new Map,c.set(p,v)),o&&W(o.pop()===p)}}),c&&(n=ut(u)?u.slice(0):P({},u),c.forEach(function(d,p){n[p]=d}))}return e.info?this.cache.policies.runMergeFunction(r,n,e.info,i,o&&(a=i.store).getStorage.apply(a,o)):n},t}();var lx=[];function ux(t,e){var r=t.map;return r.has(e)||r.set(e,lx.pop()||{map:new Map}),r.get(e)}function bm(t,e){if(t===e||!e||Cf(e))return t;if(!t||Cf(t))return e;var r=t.info&&e.info?P(P({},t.info),e.info):t.info||e.info,n=t.map.size&&e.map.size,i=n?new Map:t.map.size?t.map:e.map,o={info:r,map:i};if(n){var a=new Set(e.map.keys());t.map.forEach(function(s,l){o.map.set(l,bm(s,e.map.get(l))),a.delete(l)}),a.forEach(function(s){o.map.set(s,bm(e.map.get(s),t.map.get(s)))})}return o}function Cf(t){return!t||!(t.info||t.map.size)}function cx(t,e){var r=t.map,n=r.get(e);n&&Cf(n)&&(lx.push(n),r.delete(e))}var fx=new Set;function zM(t,e,r,n){var i=function(f){var d=n.getFieldValue(f,r);return typeof d=="object"&&d},o=i(t);if(!!o){var a=i(e);if(!!a&&!Pe(o)&&!gt(o,a)&&!Object.keys(o).every(function(f){return n.getFieldValue(a,f)!==void 0})){var s=n.getFieldValue(t,"__typename")||n.getFieldValue(e,"__typename"),l=_n(r),u="".concat(s,".").concat(l);if(!fx.has(u)){fx.add(u);var c=[];!ut(o)&&!ut(a)&&[o,a].forEach(function(f){var d=n.getFieldValue(f,"__typename");typeof d=="string"&&!c.includes(d)&&c.push(d)}),__DEV__&&W.warn("Cache data may be lost when replacing the ".concat(l," field of a ").concat(s,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(c.length?"either ensure all objects of type "+c.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(u,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(o).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(a).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var Df=function(t){Ot(e,t);function e(r){r===void 0&&(r={});var n=t.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=Ef,n.txCount=0,n.config=Lw(r),n.addTypename=!!n.config.addTypename,n.policies=new ix({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return e.prototype.init=function(){var r=this.data=new fs.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=r.stump,this.resetResultCache()},e.prototype.resetResultCache=function(r){var n=this,i=this.storeReader,o=this.config.fragments;this.storeWriter=new sx(this,this.storeReader=new Hw({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:vf(this.config),canon:r?void 0:i&&i.canon,fragments:o}),o),this.maybeBroadcastWatch=Xo(function(a,s){return n.broadcastWatch(a,s)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(a){var s=a.optimistic?n.optimisticData:n.data;if(Zo(s)){var l=a.optimistic,u=a.id,c=a.variables;return s.makeCacheKey(a.query,a.callback,Br({optimistic:l,id:u,variables:c}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(a){return a.resetCaching()})},e.prototype.restore=function(r){return this.init(),r&&this.data.replace(r),this},e.prototype.extract=function(r){return r===void 0&&(r=!1),(r?this.optimisticData:this.data).extract()},e.prototype.read=function(r){var n=r.returnPartialData,i=n===void 0?!1:n;try{return this.storeReader.diffQueryAgainstStore(P(P({},r),{store:r.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(o){if(o instanceof Yl)return null;throw o}},e.prototype.write=function(r){try{return++this.txCount,this.storeWriter.writeToStore(this.data,r)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(r){if(At.call(r,"id")&&!r.id)return!1;var n=r.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(r.id||"ROOT_QUERY",r.fields)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(r){return this.storeReader.diffQueryAgainstStore(P(P({},r),{store:r.optimistic?this.optimisticData:this.data,rootId:r.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(r){var n=this;return this.watches.size||Yw(this),this.watches.add(r),r.immediate&&this.maybeBroadcastWatch(r),function(){n.watches.delete(r)&&!n.watches.size&&pm(n),n.maybeBroadcastWatch.forget(r)}},e.prototype.gc=function(r){Br.reset();var n=this.optimisticData.gc();return r&&!this.txCount&&(r.resetResultCache?this.resetResultCache(r.resetResultIdentities):r.resetResultIdentities&&this.storeReader.resetCanon()),n},e.prototype.retain=function(r,n){return(n?this.optimisticData:this.data).retain(r)},e.prototype.release=function(r,n){return(n?this.optimisticData:this.data).release(r)},e.prototype.identify=function(r){if(Pe(r))return r.__ref;try{return this.policies.identify(r)[0]}catch(n){__DEV__&&W.warn(n)}},e.prototype.evict=function(r){if(!r.id){if(At.call(r,"id"))return!1;r=P(P({},r),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(r,this.data)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(r){var n=this;return this.init(),Br.reset(),r&&r.discardWatches?(this.watches.forEach(function(i){return n.maybeBroadcastWatch.forget(i)}),this.watches.clear(),pm(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(r){var n=this.optimisticData.removeLayer(r);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())},e.prototype.batch=function(r){var n=this,i=r.update,o=r.optimistic,a=o===void 0?!0:o,s=r.removeOptimistic,l=r.onWatchUpdated,u,c=function(d){var p=n,g=p.data,m=p.optimisticData;++n.txCount,d&&(n.data=n.optimisticData=d);try{return u=i(n)}finally{--n.txCount,n.data=g,n.optimisticData=m}},f=new Set;return l&&!this.txCount&&this.broadcastWatches(P(P({},r),{onWatchUpdated:function(d){return f.add(d),!1}})),typeof a=="string"?this.optimisticData=this.optimisticData.addLayer(a,c):a===!1?c(this.data):c(),typeof s=="string"&&(this.optimisticData=this.optimisticData.removeLayer(s)),l&&f.size?(this.broadcastWatches(P(P({},r),{onWatchUpdated:function(d,p){var g=l.call(this,d,p);return g!==!1&&f.delete(d),g}})),f.size&&f.forEach(function(d){return n.maybeBroadcastWatch.dirty(d)})):this.broadcastWatches(r),u},e.prototype.performTransaction=function(r,n){return this.batch({update:r,optimistic:n||n!==null})},e.prototype.transformDocument=function(r){if(this.addTypename){var n=this.typenameDocumentCache.get(r);return n||(n=Yo(r),this.typenameDocumentCache.set(r,n),this.typenameDocumentCache.set(n,n)),n}return r},e.prototype.transformForLink=function(r){var n=this.config.fragments;return n?n.transform(r):r},e.prototype.broadcastWatches=function(r){var n=this;this.txCount||this.watches.forEach(function(i){return n.maybeBroadcastWatch(i,r)})},e.prototype.broadcastWatch=function(r,n){var i=r.lastDiff,o=this.diff(r);n&&(r.optimistic&&typeof n.optimistic=="string"&&(o.fromOptimisticTransaction=!0),n.onWatchUpdated&&n.onWatchUpdated.call(this,r,o,i)===!1)||(!i||!gt(i.result,o.result))&&r.callback(r.lastDiff=o,i)},e}(om);y();function dx(t){return t.hasOwnProperty("graphQLErrors")}var HM=function(t){var e="";if(fr(t.graphQLErrors)||fr(t.clientErrors)){var r=(t.graphQLErrors||[]).concat(t.clientErrors||[]);r.forEach(function(n){var i=n?n.message:"Error message not found.";e+="".concat(i,`
`)})}return t.networkError&&(e+="".concat(t.networkError.message,`
`)),e=e.replace(/\n$/,""),e},ui=function(t){Ot(e,t);function e(r){var n=r.graphQLErrors,i=r.clientErrors,o=r.networkError,a=r.errorMessage,s=r.extraInfo,l=t.call(this,a)||this;return l.graphQLErrors=n||[],l.clientErrors=i||[],l.networkError=o||null,l.message=a||HM(l),l.extraInfo=s,l.__proto__=e.prototype,l}return e}(Error);y();y();var He;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(He||(He={}));function to(t){return t?t<7:!1}var WM=Object.assign,KM=Object.hasOwnProperty,Tf=function(t){Ot(e,t);function e(r){var n=r.queryManager,i=r.queryInfo,o=r.options,a=t.call(this,function(v){try{var b=v._subscription._observer;b&&!b.error&&(b.error=GM)}catch{}var E=!a.observers.size;a.observers.add(v);var w=a.last;return w&&w.error?v.error&&v.error(w.error):w&&w.result&&v.next&&v.next(w.result),E&&a.reobserve().catch(function(){}),function(){a.observers.delete(v)&&!a.observers.size&&a.tearDownQuery()}})||this;a.observers=new Set,a.subscriptions=new Set,a.queryInfo=i,a.queryManager=n,a.isTornDown=!1;var s=n.defaultOptions.watchQuery,l=s===void 0?{}:s,u=l.fetchPolicy,c=u===void 0?"cache-first":u,f=o.fetchPolicy,d=f===void 0?c:f,p=o.initialFetchPolicy,g=p===void 0?d==="standby"?c:d:p;a.options=P(P({},o),{initialFetchPolicy:g,fetchPolicy:d}),a.queryId=i.queryId||n.generateQueryId();var m=$n(a.query);return a.queryName=m&&m.name&&m.name.value,a}return Object.defineProperty(e.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var r=this;return new Promise(function(n,i){var o={next:function(s){n(s),r.observers.delete(o),r.observers.size||r.queryManager.removeQuery(r.queryId),setTimeout(function(){a.unsubscribe()},0)},error:i},a=r.subscribe(o)})},e.prototype.getCurrentResult=function(r){r===void 0&&(r=!0);var n=this.getLastResult(!0),i=this.queryInfo.networkStatus||n&&n.networkStatus||He.ready,o=P(P({},n),{loading:to(i),networkStatus:i}),a=this.options.fetchPolicy,s=a===void 0?"cache-first":a;if(!(s==="network-only"||s==="no-cache"||s==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var l=this.queryInfo.getDiff();(l.complete||this.options.returnPartialData)&&(o.data=l.result),gt(o.data,{})&&(o.data=void 0),l.complete?(delete o.partial,l.complete&&o.networkStatus===He.loading&&(s==="cache-first"||s==="cache-only")&&(o.networkStatus=He.ready,o.loading=!1)):o.partial=!0,__DEV__&&!l.complete&&!this.options.partialRefetch&&!o.loading&&!o.data&&!o.error&&xm(l.missing)}return r&&this.updateLastResult(o),o},e.prototype.isDifferentFromLastResult=function(r){return!this.last||!gt(this.last.result,r)},e.prototype.getLast=function(r,n){var i=this.last;if(i&&i[r]&&(!n||gt(i.variables,this.variables)))return i[r]},e.prototype.getLastResult=function(r){return this.getLast("result",r)},e.prototype.getLastError=function(r){return this.getLast("error",r)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(r){var n,i={pollInterval:0},o=this.options.fetchPolicy;if(o==="cache-and-network"?i.fetchPolicy=o:o==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",__DEV__&&r&&KM.call(r,"variables")){var a=Bl(this.query),s=a.variableDefinitions;(!s||!s.some(function(l){return l.variable.name.value==="variables"}))&&__DEV__&&W.warn("Called refetch(".concat(JSON.stringify(r),") for query ").concat(((n=a.name)===null||n===void 0?void 0:n.value)||JSON.stringify(a),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return r&&!gt(this.options.variables,r)&&(i.variables=this.options.variables=P(P({},this.options.variables),r)),this.queryInfo.resetLastWrite(),this.reobserve(i,He.refetch)},e.prototype.fetchMore=function(r){var n=this,i=P(P({},r.query?r:P(P(P(P({},this.options),{query:this.query}),r),{variables:P(P({},this.options.variables),r.variables)})),{fetchPolicy:"no-cache"}),o=this.queryManager.generateQueryId(),a=this.queryInfo,s=a.networkStatus;a.networkStatus=He.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var l=new Set;return this.queryManager.fetchQuery(o,i,He.fetchMore).then(function(u){return n.queryManager.removeQuery(o),a.networkStatus===He.fetchMore&&(a.networkStatus=s),n.queryManager.cache.batch({update:function(c){var f=r.updateQuery;f?c.updateQuery({query:n.query,variables:n.variables,returnPartialData:!0,optimistic:!1},function(d){return f(d,{fetchMoreResult:u.data,variables:i.variables})}):c.writeQuery({query:i.query,variables:i.variables,data:u.data})},onWatchUpdated:function(c){l.add(c.query)}}),u}).finally(function(){l.has(n.query)||wm(n)})},e.prototype.subscribeToMore=function(r){var n=this,i=this.queryManager.startGraphQLSubscription({query:r.document,variables:r.variables,context:r.context}).subscribe({next:function(o){var a=r.updateQuery;a&&n.updateQuery(function(s,l){var u=l.variables;return a(s,{subscriptionData:o,variables:u})})},error:function(o){if(r.onError){r.onError(o);return}__DEV__&&W.error("Unhandled GraphQL subscription error",o)}});return this.subscriptions.add(i),function(){n.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(r){return this.reobserve(r)},e.prototype.setVariables=function(r){return gt(this.variables,r)?this.observers.size?this.result():Promise.resolve():(this.options.variables=r,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:r},He.setVariables):Promise.resolve())},e.prototype.updateQuery=function(r){var n=this.queryManager,i=n.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,o=r(i,{variables:this.variables});o&&(n.cache.writeQuery({query:this.options.query,data:o,variables:this.variables}),n.broadcastQueries())},e.prototype.startPolling=function(r){this.options.pollInterval=r,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(r,n){if(n.nextFetchPolicy){var i=n.fetchPolicy,o=i===void 0?"cache-first":i,a=n.initialFetchPolicy,s=a===void 0?o:a;o==="standby"||(typeof n.nextFetchPolicy=="function"?n.fetchPolicy=n.nextFetchPolicy(o,{reason:r,options:n,observable:this,initialFetchPolicy:s}):r==="variables-changed"?n.fetchPolicy=s:n.fetchPolicy=n.nextFetchPolicy)}return n.fetchPolicy},e.prototype.fetch=function(r,n){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,r,n)},e.prototype.updatePolling=function(){var r=this;if(!this.queryManager.ssrMode){var n=this,i=n.pollingInfo,o=n.options.pollInterval;if(!o){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===o)){__DEV__?W(o,"Attempted to start a polling query without a polling interval."):W(o,12);var a=i||(this.pollingInfo={});a.interval=o;var s=function(){r.pollingInfo&&(to(r.queryInfo.networkStatus)?l():r.reobserve({fetchPolicy:r.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},He.poll).then(l,l))},l=function(){var u=r.pollingInfo;u&&(clearTimeout(u.timeout),u.timeout=setTimeout(s,u.interval))};l()}}},e.prototype.updateLastResult=function(r,n){return n===void 0&&(n=this.variables),this.last=P(P({},this.last),{result:this.queryManager.assumeImmutableResults?r:as(r),variables:n}),fr(r.errors)||delete this.last.error,this.last},e.prototype.reobserve=function(r,n){var i=this;this.isTornDown=!1;var o=n===He.refetch||n===He.fetchMore||n===He.poll,a=this.options.variables,s=this.options.fetchPolicy,l=Ji(this.options,r||{}),u=o?l:WM(this.options,l);o||(this.updatePolling(),r&&r.variables&&!gt(r.variables,a)&&u.fetchPolicy!=="standby"&&u.fetchPolicy===s&&(this.applyNextFetchPolicy("variables-changed",u),n===void 0&&(n=He.setVariables)));var c=u.variables&&P({},u.variables),f=this.fetch(u,n),d={next:function(p){i.reportResult(p,c)},error:function(p){i.reportError(p,c)}};return o||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=f,this.observer=d),f.addObserver(d),f.promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(r,n){var i=this.getLastError();(i||this.isDifferentFromLastResult(r))&&((i||!r.partial||this.options.returnPartialData)&&this.updateLastResult(r,n),Jo(this.observers,"next",r))},e.prototype.reportError=function(r,n){var i=P(P({},this.getLastResult()),{error:r,errors:r.graphQLErrors,networkStatus:He.error,loading:!1});this.updateLastResult(i,n),Jo(this.observers,"error",this.last.error=r)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(r){return r.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(Ae);lf(Tf);function wm(t){var e=t.options,r=e.fetchPolicy,n=e.nextFetchPolicy;return r==="cache-and-network"||r==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=n,typeof n=="function"?n.apply(this,arguments):r}}):t.reobserve()}function GM(t){__DEV__&&W.error("Unhandled error",t.message,t.stack)}function xm(t){__DEV__&&t&&__DEV__&&W.debug("Missing cache result fields: ".concat(JSON.stringify(t)),t)}y();var Of=function(){function t(e){var r=e.cache,n=e.client,i=e.resolvers,o=e.fragmentMatcher;this.cache=r,n&&(this.client=n),i&&this.addResolvers(i),o&&this.setFragmentMatcher(o)}return t.prototype.addResolvers=function(e){var r=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(n){r.resolvers=Mh(r.resolvers,n)}):this.resolvers=Mh(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var r=e.document,n=e.remoteResult,i=e.context,o=e.variables,a=e.onlyRunForcedResolvers,s=a===void 0?!1:a;return mn(this,void 0,void 0,function(){return gn(this,function(l){return r?[2,this.resolveDocument(r,n.data,i,o,this.fragmentMatcher,s).then(function(u){return P(P({},n),{data:u.result})})]:[2,n]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return es(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return Ph(e)},t.prototype.prepareContext=function(e){var r=this.cache;return P(P({},e),{cache:r,getCacheKey:function(n){return r.identify(n)}})},t.prototype.addExportedVariables=function(e,r,n){return r===void 0&&(r={}),n===void 0&&(n={}),mn(this,void 0,void 0,function(){return gn(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,r)||{},this.prepareContext(n),r).then(function(o){return P(P({},r),o.exportedVariables)})]:[2,P({},r)]})})},t.prototype.shouldForceResolvers=function(e){var r=!1;return nr(e,{Directive:{enter:function(n){if(n.name.value==="client"&&n.arguments&&(r=n.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),r))return zo}}}),r},t.prototype.buildRootValueFromCache=function(e,r){return this.cache.diff({query:Ih(e),variables:r,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,r,n,i,o,a){return n===void 0&&(n={}),i===void 0&&(i={}),o===void 0&&(o=function(){return!0}),a===void 0&&(a=!1),mn(this,void 0,void 0,function(){var s,l,u,c,f,d,p,g,m;return gn(this,function(v){return s=Go(e),l=Ko(e),u=Ho(l),c=s.operation,f=c?c.charAt(0).toUpperCase()+c.slice(1):"Query",d=this,p=d.cache,g=d.client,m={fragmentMap:u,context:P(P({},n),{cache:p,client:g}),variables:i,fragmentMatcher:o,defaultOperationType:f,exportedVariables:{},onlyRunForcedResolvers:a},[2,this.resolveSelectionSet(s.selectionSet,r,m).then(function(b){return{result:b,exportedVariables:m.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,r,n){return mn(this,void 0,void 0,function(){var i,o,a,s,l,u=this;return gn(this,function(c){return i=n.fragmentMap,o=n.context,a=n.variables,s=[r],l=function(f){return mn(u,void 0,void 0,function(){var d,p;return gn(this,function(g){return si(f,a)?xr(f)?[2,this.resolveField(f,r,n).then(function(m){var v;typeof m!="undefined"&&s.push((v={},v[Yr(f)]=m,v))})]:($l(f)?d=f:(d=i[f.name.value],__DEV__?W(d,"No fragment named ".concat(f.name.value)):W(d,11)),d&&d.typeCondition&&(p=d.typeCondition.name.value,n.fragmentMatcher(r,p,o))?[2,this.resolveSelectionSet(d.selectionSet,r,n).then(function(m){s.push(m)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(l)).then(function(){return ql(s)})]})})},t.prototype.resolveField=function(e,r,n){return mn(this,void 0,void 0,function(){var i,o,a,s,l,u,c,f,d,p=this;return gn(this,function(g){return i=n.variables,o=e.name.value,a=Yr(e),s=o!==a,l=r[a]||r[o],u=Promise.resolve(l),(!n.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(c=r.__typename||n.defaultOperationType,f=this.resolvers&&this.resolvers[c],f&&(d=f[s?o:a],d&&(u=Promise.resolve(ds.withValue(this.cache,d,[r,li(e,i),n.context,{field:e,fragmentMap:n.fragmentMap}]))))),[2,u.then(function(m){if(m===void 0&&(m=l),e.directives&&e.directives.forEach(function(v){v.name.value==="export"&&v.arguments&&v.arguments.forEach(function(b){b.name.value==="as"&&b.value.kind==="StringValue"&&(n.exportedVariables[b.value.value]=m)})}),!e.selectionSet||m==null)return m;if(Array.isArray(m))return p.resolveSubSelectedArray(e,m,n);if(e.selectionSet)return p.resolveSelectionSet(e.selectionSet,m,n)})]})})},t.prototype.resolveSubSelectedArray=function(e,r,n){var i=this;return Promise.all(r.map(function(o){if(o===null)return null;if(Array.isArray(o))return i.resolveSubSelectedArray(e,o,n);if(e.selectionSet)return i.resolveSelectionSet(e.selectionSet,o,n)}))},t}();y();var hs=new(Xr?WeakMap:Map);function Sm(t,e){var r=t[e];typeof r=="function"&&(t[e]=function(){return hs.set(t,(hs.get(t)+1)%1e15),r.apply(this,arguments)})}function px(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var Af=function(){function t(e,r){r===void 0&&(r=e.generateQueryId()),this.queryId=r,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;hs.has(n)||(hs.set(n,0),Sm(n,"evict"),Sm(n,"modify"),Sm(n,"reset"))}return t.prototype.init=function(e){var r=e.networkStatus||He.loading;return this.variables&&this.networkStatus!==He.loading&&!gt(this.variables,e.variables)&&(r=He.setVariables),gt(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:r}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){px(this),this.dirty=!1},t.prototype.getDiff=function(e){e===void 0&&(e=this.variables);var r=this.getDiffOptions(e);if(this.lastDiff&&gt(r,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&n.options.fetchPolicy==="no-cache")return{complete:!1};var i=this.cache.diff(r);return this.updateLastDiff(i,r),i},t.prototype.updateLastDiff=function(e,r){this.lastDiff=e?{diff:e,options:r||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var r;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(r=this.observableQuery)===null||r===void 0?void 0:r.options.canonizeResults}},t.prototype.setDiff=function(e){var r=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!gt(n&&n.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return r.notify()},0)))},t.prototype.setObservableQuery=function(e){var r=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var n=r.getDiff();n.fromOptimisticTransaction?e.observe():wm(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;px(this),this.shouldNotify()&&this.listeners.forEach(function(r){return r(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(to(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel,this.subscriptions.forEach(function(r){return r.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var r=this;e===void 0&&(e=this.variables);var n=this.observableQuery;if(!(n&&n.options.fetchPolicy==="no-cache")){var i=P(P({},this.getDiffOptions(e)),{watcher:this,callback:function(o){return r.setDiff(o)}});(!this.lastWatch||!gt(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,r){var n=this.lastWrite;return!(n&&n.dmCount===hs.get(this.cache)&&gt(r,n.variables)&&gt(e.data,n.result.data))},t.prototype.markResult=function(e,r,n,i){var o=this,a=fr(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&fr(e.incremental)){var s=this.getDiff().result,l=new Jr;e.incremental.forEach(function(u){for(var c=u.data,f=u.path,d=u.errors,p=f.length-1;p>=0;--p){var g=f[p],m=!isNaN(+g),v=m?[]:{};v[g]=c,c=v}d&&a.push.apply(a,d),s=l.merge(s,c)}),e.data=s}this.graphQLErrors=a,n.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):i!==0&&(If(e,n.errorPolicy)?this.cache.performTransaction(function(u){if(o.shouldWrite(e,n.variables))u.writeQuery({query:r,data:e.data,variables:n.variables,overwrite:i===1}),o.lastWrite={result:e,variables:n.variables,dmCount:hs.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete){e.data=o.lastDiff.diff.result;return}var c=o.getDiffOptions(n.variables),f=u.diff(c);o.stopped||o.updateWatch(n.variables),o.updateLastDiff(f,c),f.complete&&(e.data=f.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=He.ready},t.prototype.markError=function(e){return this.networkStatus=He.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function If(t,e){e===void 0&&(e="none");var r=e==="ignore"||e==="all",n=!ls(t);return!n&&r&&t.data&&(n=!0),n}var QM=Object.prototype.hasOwnProperty,hx=function(){function t(e){var r=e.cache,n=e.link,i=e.defaultOptions,o=e.queryDeduplication,a=o===void 0?!1:o,s=e.onBroadcast,l=e.ssrMode,u=l===void 0?!1:l,c=e.clientAwareness,f=c===void 0?{}:c,d=e.localState,p=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Xr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=r,this.link=n,this.defaultOptions=i||Object.create(null),this.queryDeduplication=a,this.clientAwareness=f,this.localState=d||new Of({cache:r}),this.ssrMode=u,this.assumeImmutableResults=!!p,(this.onBroadcast=s)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(r,n){e.stopQueryNoBroadcast(n)}),this.cancelPendingFetches(__DEV__?new _e("QueryManager stopped while query was in flight"):new _e(13))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(r){return r(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){var r,n,i=e.mutation,o=e.variables,a=e.optimisticResponse,s=e.updateQueries,l=e.refetchQueries,u=l===void 0?[]:l,c=e.awaitRefetchQueries,f=c===void 0?!1:c,d=e.update,p=e.onQueryUpdated,g=e.fetchPolicy,m=g===void 0?((r=this.defaultOptions.mutate)===null||r===void 0?void 0:r.fetchPolicy)||"network-only":g,v=e.errorPolicy,b=v===void 0?((n=this.defaultOptions.mutate)===null||n===void 0?void 0:n.errorPolicy)||"none":v,E=e.keepRootFields,w=e.context;return mn(this,void 0,void 0,function(){var _,S,x,k,C,D;return gn(this,function(T){switch(T.label){case 0:return __DEV__?W(i,"mutation option is required. You must specify your GraphQL document in the mutation option."):W(i,14),__DEV__?W(m==="network-only"||m==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):W(m==="network-only"||m==="no-cache",15),_=this.generateMutationId(),S=this.transform(i),x=S.document,k=S.hasClientExports,i=this.cache.transformForLink(x),o=this.getVariables(i,o),k?[4,this.localState.addExportedVariables(i,o,w)]:[3,2];case 1:o=T.sent(),T.label=2;case 2:return C=this.mutationStore&&(this.mutationStore[_]={mutation:i,variables:o,loading:!0,error:null}),a&&this.markMutationOptimistic(a,{mutationId:_,document:i,variables:o,fetchPolicy:m,errorPolicy:b,context:w,updateQueries:s,update:d,keepRootFields:E}),this.broadcastQueries(),D=this,[2,new Promise(function(A,R){return sf(D.getObservableFromLink(i,P(P({},w),{optimisticResponse:a}),o,!1),function(M){if(ls(M)&&b==="none")throw new ui({graphQLErrors:M.errors});C&&(C.loading=!1,C.error=null);var j=P({},M);return typeof u=="function"&&(u=u(j)),b==="ignore"&&ls(j)&&delete j.errors,D.markMutationResult({mutationId:_,result:j,document:i,variables:o,fetchPolicy:m,errorPolicy:b,context:w,update:d,updateQueries:s,awaitRefetchQueries:f,refetchQueries:u,removeOptimistic:a?_:void 0,onQueryUpdated:p,keepRootFields:E})}).subscribe({next:function(M){D.broadcastQueries(),A(M)},error:function(M){C&&(C.loading=!1,C.error=M),a&&D.cache.removeOptimistic(_),D.broadcastQueries(),R(M instanceof ui?M:new ui({networkError:M}))}})})]}})})},t.prototype.markMutationResult=function(e,r){var n=this;r===void 0&&(r=this.cache);var i=e.result,o=[],a=e.fetchPolicy==="no-cache";if(!a&&If(i,e.errorPolicy)){o.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables});var s=e.updateQueries;s&&this.queries.forEach(function(u,c){var f=u.observableQuery,d=f&&f.queryName;if(!(!d||!QM.call(s,d))){var p=s[d],g=n.queries.get(c),m=g.document,v=g.variables,b=r.diff({query:m,variables:v,returnPartialData:!0,optimistic:!1}),E=b.result,w=b.complete;if(w&&E){var _=p(E,{mutationResult:i,queryName:m&&rs(m)||void 0,queryVariables:v});_&&o.push({result:_,dataId:"ROOT_QUERY",query:m,variables:v})}}})}if(o.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var l=[];if(this.refetchQueries({updateCache:function(u){a||o.forEach(function(d){return u.write(d)});var c=e.update;if(c){if(!a){var f=u.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});f.complete&&!Ew(i)&&(i=P(P({},i),{data:f.result}))}c(u,i,{context:e.context,variables:e.variables})}!a&&!e.keepRootFields&&u.modify({id:"ROOT_MUTATION",fields:function(d,p){var g=p.fieldName,m=p.DELETE;return g==="__typename"?d:m}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(u){return l.push(u)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(l).then(function(){return i})}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(e,r){var n=this,i=typeof e=="function"?e(r.variables):e;return this.cache.recordOptimisticTransaction(function(o){try{n.markMutationResult(P(P({},r),{result:{data:i}}),o)}catch(a){__DEV__&&W.error(a)}},r.mutationId)},t.prototype.fetchQuery=function(e,r,n){return this.fetchQueryObservable(e,r,n).promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(r,n){e[n]={variables:r.variables,networkStatus:r.networkStatus,networkError:r.networkError,graphQLErrors:r.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var r=this.queries.get(e);r&&(r.networkError=void 0,r.graphQLErrors=[])},t.prototype.transform=function(e){var r=this.transformCache;if(!r.has(e)){var n=this.cache.transformDocument(e),i=Ah(n),o=this.localState.clientQuery(n),a=i&&this.localState.serverQuery(i),s={document:n,hasClientExports:xh(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:o,serverQuery:a,defaultVars:Qo($n(n)),asQuery:P(P({},n),{definitions:n.definitions.map(function(u){return u.kind==="OperationDefinition"&&u.operation!=="query"?P(P({},u),{operation:"query"}):u})})},l=function(u){u&&!r.has(u)&&r.set(u,s)};l(e),l(n),l(o),l(a)}return r.get(e)},t.prototype.getVariables=function(e,r){return P(P({},this.transform(e).defaultVars),r)},t.prototype.watchQuery=function(e){e=P(P({},e),{variables:this.getVariables(e.query,e.variables)}),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var r=new Af(this),n=new Tf({queryManager:this,queryInfo:r,options:e});return this.queries.set(n.queryId,r),r.init({document:n.query,observableQuery:n,variables:n.variables}),n},t.prototype.query=function(e,r){var n=this;return r===void 0&&(r=this.generateQueryId()),__DEV__?W(e.query,"query option is required. You must specify your GraphQL document in the query option."):W(e.query,16),__DEV__?W(e.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):W(e.query.kind==="Document",17),__DEV__?W(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):W(!e.returnPartialData,18),__DEV__?W(!e.pollInterval,"pollInterval option only supported on watchQuery."):W(!e.pollInterval,19),this.fetchQuery(r,e).finally(function(){return n.stopQuery(r)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var r=this.queries.get(e);r&&r.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new _e("Store reset while query was in flight (not completed in link chain)"):new _e(20)),this.queries.forEach(function(r){r.observableQuery?r.networkStatus=He.loading:r.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var r=this;e===void 0&&(e="active");var n=new Map,i=new Map,o=new Set;return Array.isArray(e)&&e.forEach(function(a){typeof a=="string"?i.set(a,!1):Eh(a)?i.set(r.transform(a).document,!1):Re(a)&&a.query&&o.add(a)}),this.queries.forEach(function(a,s){var l=a.observableQuery,u=a.document;if(l){if(e==="all"){n.set(s,l);return}var c=l.queryName,f=l.options.fetchPolicy;if(f==="standby"||e==="active"&&!l.hasObservers())return;(e==="active"||c&&i.has(c)||u&&i.has(u))&&(n.set(s,l),c&&i.set(c,!0),u&&i.set(u,!0))}}),o.size&&o.forEach(function(a){var s=zl("legacyOneTimeQuery"),l=r.getQuery(s).init({document:a.query,variables:a.variables}),u=new Tf({queryManager:r,queryInfo:l,options:P(P({},a),{fetchPolicy:"network-only"})});W(u.queryId===s),l.setObservableQuery(u),n.set(s,u)}),__DEV__&&i.size&&i.forEach(function(a,s){a||__DEV__&&W.warn("Unknown query ".concat(typeof s=="string"?"named ":"").concat(JSON.stringify(s,null,2)," requested in refetchQueries options.include array"))}),n},t.prototype.reFetchObservableQueries=function(e){var r=this;e===void 0&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,o){var a=i.options.fetchPolicy;i.resetLastResults(),(e||a!=="standby"&&a!=="cache-only")&&n.push(i.refetch()),r.getQuery(o).setDiff(null)}),this.broadcastQueries(),Promise.all(n)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var r=this,n=e.query,i=e.fetchPolicy,o=e.errorPolicy,a=e.variables,s=e.context,l=s===void 0?{}:s;n=this.transform(n).document,a=this.getVariables(n,a);var u=function(f){return r.getObservableFromLink(n,l,f).map(function(d){if(i!=="no-cache"&&(If(d,o)&&r.cache.write({query:n,result:d.data,dataId:"ROOT_SUBSCRIPTION",variables:f}),r.broadcastQueries()),ls(d))throw new ui({graphQLErrors:d.errors});return d})};if(this.transform(n).hasClientExports){var c=this.localState.addExportedVariables(n,a,l).then(u);return new Ae(function(f){var d=null;return c.then(function(p){return d=p.subscribe(f)},f.error),function(){return d&&d.unsubscribe()}})}return u(a)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,r,n,i){var o=this,a;i===void 0&&(i=(a=r==null?void 0:r.queryDeduplication)!==null&&a!==void 0?a:this.queryDeduplication);var s,l=this.transform(e).serverQuery;if(l){var u=this,c=u.inFlightLinkObservables,f=u.link,d={query:l,variables:n,operationName:rs(l)||void 0,context:this.prepareContext(P(P({},r),{forceFetch:!i}))};if(r=d.context,i){var p=c.get(l)||new Map;c.set(l,p);var g=Br(n);if(s=p.get(g),!s){var m=new ss([us(f,d)]);p.set(g,s=m),m.beforeNext(function(){p.delete(g)&&p.size<1&&c.delete(l)})}}else s=new ss([us(f,d)])}else s=new ss([Ae.of({data:{}})]),r=this.prepareContext(r);var v=this.transform(e).clientQuery;return v&&(s=sf(s,function(b){return o.localState.runResolvers({document:v,remoteResult:b,context:r,variables:n})})),s},t.prototype.getResultsFromLink=function(e,r,n){var i=e.lastRequestId=this.generateRequestId();n=as(n);var o=this.cache.transformForLink(this.transform(e.document).document);return sf(this.getObservableFromLink(o,n.context,n.variables),function(a){var s=fr(a.errors)?a.errors.slice(0):[];"incremental"in a&&fr(a.incremental)&&a.incremental.forEach(function(c){c.errors&&s.push.apply(s,c.errors)});var l=fr(s);if(i>=e.lastRequestId){if(l&&n.errorPolicy==="none")throw e.markError(new ui({graphQLErrors:s}));e.markResult(a,o,n,r),e.markReady()}var u={data:a.data,loading:!1,networkStatus:He.ready};return l&&n.errorPolicy!=="ignore"&&(u.errors=s,u.networkStatus=He.error),u},function(a){var s=dx(a)?a:new ui({networkError:a});throw i>=e.lastRequestId&&e.markError(s),s})},t.prototype.fetchQueryObservable=function(e,r,n){var i=this;n===void 0&&(n=He.loading);var o=this.transform(r.query).document,a=this.getVariables(o,r.variables),s=this.getQuery(e),l=this.defaultOptions.watchQuery,u=r.fetchPolicy,c=u===void 0?l&&l.fetchPolicy||"cache-first":u,f=r.errorPolicy,d=f===void 0?l&&l.errorPolicy||"none":f,p=r.returnPartialData,g=p===void 0?!1:p,m=r.notifyOnNetworkStatusChange,v=m===void 0?!1:m,b=r.context,E=b===void 0?{}:b,w=Object.assign({},r,{query:o,variables:a,fetchPolicy:c,errorPolicy:d,returnPartialData:g,notifyOnNetworkStatusChange:v,context:E}),_=function(k){w.variables=k;var C=i.fetchQueryByPolicy(s,w,n);return w.fetchPolicy!=="standby"&&C.length>0&&s.observableQuery&&s.observableQuery.applyNextFetchPolicy("after-fetch",r),C},S=function(){return i.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(k){S(),setTimeout(function(){return x.cancel(k)})});var x=new ss(this.transform(w.query).hasClientExports?this.localState.addExportedVariables(w.query,w.variables,w.context).then(_):_(w.variables));return x.promise.then(S,S),x},t.prototype.refetchQueries=function(e){var r=this,n=e.updateCache,i=e.include,o=e.optimistic,a=o===void 0?!1:o,s=e.removeOptimistic,l=s===void 0?a?zl("refetchQueries"):void 0:s,u=e.onQueryUpdated,c=new Map;i&&this.getObservableQueries(i).forEach(function(d,p){c.set(p,{oq:d,lastDiff:r.getQuery(p).getDiff()})});var f=new Map;return n&&this.cache.batch({update:n,optimistic:a&&l||!1,removeOptimistic:l,onWatchUpdated:function(d,p,g){var m=d.watcher instanceof Af&&d.watcher.observableQuery;if(m){if(u){c.delete(m.queryId);var v=u(m,p,g);return v===!0&&(v=m.refetch()),v!==!1&&f.set(m,v),v}u!==null&&c.set(m.queryId,{oq:m,lastDiff:g,diff:p})}}}),c.size&&c.forEach(function(d,p){var g=d.oq,m=d.lastDiff,v=d.diff,b;if(u){if(!v){var E=g.queryInfo;E.reset(),v=E.getDiff()}b=u(g,v,m)}(!u||b===!0)&&(b=g.refetch()),b!==!1&&f.set(g,b),p.indexOf("legacyOneTimeQuery")>=0&&r.stopQueryNoBroadcast(p)}),l&&this.cache.removeOptimistic(l),f},t.prototype.fetchQueryByPolicy=function(e,r,n){var i=this,o=r.query,a=r.variables,s=r.fetchPolicy,l=r.refetchWritePolicy,u=r.errorPolicy,c=r.returnPartialData,f=r.context,d=r.notifyOnNetworkStatusChange,p=e.networkStatus;e.init({document:this.transform(o).document,variables:a,networkStatus:n});var g=function(){return e.getDiff(a)},m=function(_,S){S===void 0&&(S=e.networkStatus||He.loading);var x=_.result;__DEV__&&!c&&!gt(x,{})&&xm(_.missing);var k=function(C){return Ae.of(P({data:C,loading:to(S),networkStatus:S},_.complete?null:{partial:!0}))};return x&&i.transform(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:x},context:f,variables:a,onlyRunForcedResolvers:!0}).then(function(C){return k(C.data||void 0)}):k(x)},v=s==="no-cache"?0:n===He.refetch&&l!=="merge"?1:2,b=function(){return i.getResultsFromLink(e,v,{variables:a,context:f,fetchPolicy:s,errorPolicy:u})},E=d&&typeof p=="number"&&p!==n&&to(n);switch(s){default:case"cache-first":{var w=g();return w.complete?[m(w,e.markReady())]:c||E?[m(w),b()]:[b()]}case"cache-and-network":{var w=g();return w.complete||c||E?[m(w),b()]:[b()]}case"cache-only":return[m(g(),e.markReady())];case"network-only":return E?[m(g()),b()]:[b()];case"no-cache":return E?[m(e.getDiff()),b()]:[b()];case"standby":return[]}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Af(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var r=this.localState.prepareContext(e);return P(P({},r),{clientAwareness:this.clientAwareness})},t}();var mx=!1;var Em=function(){function t(e){var r=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,i=e.credentials,o=e.headers,a=e.cache,s=e.ssrMode,l=s===void 0?!1:s,u=e.ssrForceFetchDelay,c=u===void 0?0:u,f=e.connectToDevTools,d=f===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:f,p=e.queryDeduplication,g=p===void 0?!0:p,m=e.defaultOptions,v=e.assumeImmutableResults,b=v===void 0?!1:v,E=e.resolvers,w=e.typeDefs,_=e.fragmentMatcher,S=e.name,x=e.version,k=e.link;if(k||(k=n?new Yh({uri:n,credentials:i,headers:o}):Zr.empty()),!a)throw __DEV__?new _e(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new _e(9);if(this.link=k,this.cache=a,this.disableNetworkFetches=l||c>0,this.queryDeduplication=g,this.defaultOptions=m||Object.create(null),this.typeDefs=w,c&&setTimeout(function(){return r.disableNetworkFetches=!1},c),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),d&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!mx&&__DEV__&&(mx=!0,typeof window!="undefined"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var C=window.navigator,D=C&&C.userAgent,T=void 0;typeof D=="string"&&(D.indexOf("Chrome/")>-1?T="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":D.indexOf("Firefox/")>-1&&(T="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),T&&__DEV__&&W.log("Download the Apollo DevTools for a better development experience: "+T)}this.version=X0,this.localState=new Of({cache:a,client:this,resolvers:E,fragmentMatcher:_}),this.queryManager=new hx({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:g,ssrMode:l,clientAwareness:{name:S,version:x},localState:this.localState,assumeImmutableResults:b,onBroadcast:d?function(){r.devToolsHookCb&&r.devToolsHookCb({action:{},state:{queries:r.queryManager.getQueryStore(),mutations:r.queryManager.mutationStore||{}},dataWithOptimisticResults:r.cache.extract(!0)})}:void 0})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Hl(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=P(P({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=Hl(this.defaultOptions.query,e)),__DEV__?W(e.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):W(e.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=P(P({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Hl(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!1),this.cache.readQuery(e,r)},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!1),this.cache.readFragment(e,r)},t.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},t.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return us(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(r){return r()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(r){return r()}))})},t.prototype.onResetStore=function(e){var r=this;return this.resetStoreCallbacks.push(e),function(){r.resetStoreCallbacks=r.resetStoreCallbacks.filter(function(n){return n!==e})}},t.prototype.onClearStore=function(e){var r=this;return this.clearStoreCallbacks.push(e),function(){r.clearStoreCallbacks=r.clearStoreCallbacks.filter(function(n){return n!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var r=this.queryManager.refetchQueries(e),n=[],i=[];r.forEach(function(a,s){n.push(s),i.push(a)});var o=Promise.all(i);return o.queries=n,o.results=i,o.catch(function(a){__DEV__&&W.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(a))}),o},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},t}();x0(Uo?"log":"silent");y();function YM(t){return Re(t)&&"code"in t&&"reason"in t}var gx=function(t){Ot(e,t);function e(r){var n=t.call(this)||this;return n.client=r,n}return e.prototype.request=function(r){var n=this;return new Ae(function(i){return n.client.subscribe(P(P({},r),{query:Za(r.query)}),{next:i.next.bind(i),complete:i.complete.bind(i),error:function(o){return o instanceof Error?i.error(o):YM(o)?i.error(new Error("Socket closed with event ".concat(o.code," ").concat(o.reason||""))):i.error(new ui({graphQLErrors:Array.isArray(o)?o:[o]}))}})})},e}(Zr);y();y();y();function Sr(t){return t===null?"null":Array.isArray(t)?"array":typeof t}function ci(t){return Sr(t)==="object"}function yx(t){return Array.isArray(t)&&t.length>0&&t.every(e=>"message"in e)}function km(t,e){return t.length<124?t:e}var vx="graphql-transport-ws";var Mr;(function(t){t[t.InternalServerError=4500]="InternalServerError",t[t.InternalClientError=4005]="InternalClientError",t[t.BadRequest=4400]="BadRequest",t[t.BadResponse=4004]="BadResponse",t[t.Unauthorized=4401]="Unauthorized",t[t.Forbidden=4403]="Forbidden",t[t.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",t[t.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",t[t.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",t[t.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",t[t.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(Mr||(Mr={}));var It;(function(t){t.ConnectionInit="connection_init",t.ConnectionAck="connection_ack",t.Ping="ping",t.Pong="pong",t.Subscribe="subscribe",t.Next="next",t.Error="error",t.Complete="complete"})(It||(It={}));function _x(t){if(!ci(t))throw new Error(`Message is expected to be an object, but got ${Sr(t)}`);if(!t.type)throw new Error("Message is missing the 'type' property");if(typeof t.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${Sr(t.type)}`);switch(t.type){case It.ConnectionInit:case It.ConnectionAck:case It.Ping:case It.Pong:{if("payload"in t&&!ci(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object or missing, but got "${t.payload}"`);break}case It.Subscribe:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${Sr(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!ci(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object, but got ${Sr(t.payload)}`);if(typeof t.payload.query!="string")throw new Error(`"${t.type}" message payload expects the 'query' property to be a string, but got ${Sr(t.payload.query)}`);if(t.payload.variables!=null&&!ci(t.payload.variables))throw new Error(`"${t.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${Sr(t.payload.variables)}`);if(t.payload.operationName!=null&&Sr(t.payload.operationName)!=="string")throw new Error(`"${t.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${Sr(t.payload.operationName)}`);if(t.payload.extensions!=null&&!ci(t.payload.extensions))throw new Error(`"${t.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${Sr(t.payload.extensions)}`);break}case It.Next:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${Sr(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!ci(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object, but got ${Sr(t.payload)}`);break}case It.Error:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${Sr(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!yx(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(t.payload)}`);break}case It.Complete:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${Sr(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${t.type}"`)}return t}function bx(t,e){return _x(typeof t=="string"?JSON.parse(t,e):t)}function ms(t,e){return _x(t),JSON.stringify(t,e)}function wx(t){let{url:e,connectionParams:r,lazy:n=!0,onNonLazyError:i=console.error,lazyCloseTimeout:o=0,keepAlive:a=0,disablePong:s,connectionAckWaitTimeout:l=0,retryAttempts:u=5,retryWait:c=async function(I){let L=1e3;for(let O=0;O<I;O++)L*=2;await new Promise(O=>setTimeout(O,L+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:f=Pf,isFatalConnectionProblem:d,on:p,webSocketImpl:g,generateID:m=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,I=>{let L=Math.random()*16|0;return(I=="x"?L:L&3|8).toString(16)})},jsonMessageReplacer:v,jsonMessageReviver:b}=t,E;if(g){if(!XM(g))throw new Error("Invalid WebSocket implementation provided");E=g}else typeof WebSocket!="undefined"?E=WebSocket:typeof global!="undefined"?E=global.WebSocket||global.MozWebSocket:typeof window!="undefined"&&(E=window.WebSocket||window.MozWebSocket);if(!E)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");let w=E,_=(()=>{let j=(()=>{let L={};return{on(O,$){return L[O]=$,()=>{delete L[O]}},emit(O){var $;"id"in O&&(($=L[O.id])===null||$===void 0||$.call(L,O))}}})(),I={connecting:(p==null?void 0:p.connecting)?[p.connecting]:[],opened:(p==null?void 0:p.opened)?[p.opened]:[],connected:(p==null?void 0:p.connected)?[p.connected]:[],ping:(p==null?void 0:p.ping)?[p.ping]:[],pong:(p==null?void 0:p.pong)?[p.pong]:[],message:(p==null?void 0:p.message)?[j.emit,p.message]:[j.emit],closed:(p==null?void 0:p.closed)?[p.closed]:[],error:(p==null?void 0:p.error)?[p.error]:[]};return{onMessage:j.on,on(L,O){let $=I[L];return $.push(O),()=>{$.splice($.indexOf(O),1)}},emit(L,...O){for(let $ of[...I[L]])$(...O)}}})();function S(j){let I=[_.on("error",L=>{I.forEach(O=>O()),j(L)}),_.on("closed",L=>{I.forEach(O=>O()),j(L)})]}let x,k=0,C,D=!1,T=0,A=!1;async function R(){clearTimeout(C);let[j,I]=await(x??(x=new Promise(($,q)=>(async()=>{if(D){if(await c(T),!k)return x=void 0,q({code:1e3,reason:"All Subscriptions Gone"});T++}_.emit("connecting");let V=new w(typeof e=="function"?await e():e,vx),U,K;function fe(){isFinite(a)&&a>0&&(clearTimeout(K),K=setTimeout(()=>{V.readyState===w.OPEN&&(V.send(ms({type:It.Ping})),_.emit("ping",!1,void 0))},a))}S(se=>{x=void 0,clearTimeout(U),clearTimeout(K),q(se),Pf(se)&&se.code===4499&&(V.close(4499,"Terminated"),V.onerror=null,V.onclose=null)}),V.onerror=se=>_.emit("error",se),V.onclose=se=>_.emit("closed",se),V.onopen=async()=>{try{_.emit("opened",V);let se=typeof r=="function"?await r():r;if(V.readyState!==w.OPEN)return;V.send(ms(se?{type:It.ConnectionInit,payload:se}:{type:It.ConnectionInit},v)),isFinite(l)&&l>0&&(U=setTimeout(()=>{V.close(Mr.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},l)),fe()}catch(se){_.emit("error",se),V.close(Mr.InternalClientError,km(se instanceof Error?se.message:new Error(se).message,"Internal client error"))}};let ve=!1;V.onmessage=({data:se})=>{try{let ye=bx(se,b);if(_.emit("message",ye),ye.type==="ping"||ye.type==="pong"){_.emit(ye.type,!0,ye.payload),ye.type==="pong"?fe():s||(V.send(ms(ye.payload?{type:It.Pong,payload:ye.payload}:{type:It.Pong})),_.emit("pong",!1,ye.payload));return}if(ve)return;if(ye.type!==It.ConnectionAck)throw new Error(`First message cannot be of type ${ye.type}`);clearTimeout(U),ve=!0,_.emit("connected",V,ye.payload),D=!1,T=0,$([V,new Promise((Xe,Le)=>S(Le))])}catch(ye){V.onmessage=null,_.emit("error",ye),V.close(Mr.BadResponse,km(ye instanceof Error?ye.message:new Error(ye).message,"Bad response"))}}})())));j.readyState===w.CLOSING&&await I;let L=()=>{},O=new Promise($=>L=$);return[j,L,Promise.race([O.then(()=>{if(!k){let $=()=>j.close(1e3,"Normal Closure");isFinite(o)&&o>0?C=setTimeout(()=>{j.readyState===w.OPEN&&$()},o):$()}}),I])]}function M(j){if(Pf(j)&&(JM(j.code)||[Mr.InternalServerError,Mr.InternalClientError,Mr.BadRequest,Mr.BadResponse,Mr.Unauthorized,Mr.SubprotocolNotAcceptable,Mr.SubscriberAlreadyExists,Mr.TooManyInitialisationRequests].includes(j.code)))throw j;if(A)return!1;if(Pf(j)&&j.code===1e3)return k>0;if(!u||T>=u||!f(j)||(d==null?void 0:d(j)))throw j;return D=!0}return n||(async()=>{for(k++;;)try{let[,,j]=await R();await j}catch(j){try{if(!M(j))return}catch(I){return i==null?void 0:i(I)}}})(),{on:_.on,subscribe(j,I){let L=m(j),O=!1,$=!1,q=()=>{k--,O=!0};return(async()=>{for(k++;;)try{let[V,U,K]=await R();if(O)return U();let fe=_.onMessage(L,ve=>{switch(ve.type){case It.Next:{I.next(ve.payload);return}case It.Error:{$=!0,O=!0,I.error(ve.payload),q();return}case It.Complete:{O=!0,q();return}}});V.send(ms({id:L,type:It.Subscribe,payload:j},v)),q=()=>{!O&&V.readyState===w.OPEN&&V.send(ms({id:L,type:It.Complete},v)),k--,O=!0,U()},await K.finally(fe);return}catch(V){if(!M(V))return}})().then(()=>{$||I.complete()}).catch(V=>{I.error(V)}),()=>{O||q()}},async dispose(){if(A=!0,x){let[j]=await x;j.close(1e3,"Normal Closure")}},terminate(){x&&_.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function Pf(t){return ci(t)&&"code"in t&&"reason"in t}function JM(t){return[1e3,1001,1006,1005,1012,1013,1013].includes(t)?!1:t>=1e3&&t<=1999}function XM(t){return typeof t=="function"&&"constructor"in t&&"CLOSED"in t&&"CLOSING"in t&&"CONNECTING"in t&&"OPEN"in t}function ZM(){let t=new gx(wx({url:localStorage.getItem("ad4minURL"),connectionParams:()=>({headers:{authorization:localStorage.getItem("ad4minToken")||""}})})),e=new Em({link:t,cache:new Df({resultCaching:!1,addTypename:!1}),defaultOptions:{watchQuery:{fetchPolicy:"no-cache"},query:{fetchPolicy:"no-cache"}}});return new xx.Ad4mClient(e)}var eF=ZM(),Ce=eF;async function Sx({perspectiveUuid:t,channelId:e,from:r,to:n}){try{let i=await Ce.perspective.queryProlog(t,`limit(200, order_by([desc(Timestamp)], flux_message("${e}", MessageExpr, Timestamp, Author, Reactions, Replies, AllCardHidden))).`),o=[];if(i)for(let s of i){let l=[];if(typeof s.Reactions!="string"){s.Reactions.head&&l.push({content:s.Reactions.head.args[0].replace("emoji://",""),timestamp:new Date(s.Reactions.head.args[1].args[0]),author:s.Reactions.head.args[1].args[1]});let f=s.Reactions.tail;for(;typeof f!="string";)l.push({content:f.head.args[0].replace("emoji://",""),timestamp:new Date(f.head.args[1].args[0]),author:f.head.args[1].args[1]}),f=f.tail}let u=[];if(typeof s.Replies!="string"){if(s.Replies.head){let d=Mf.Literal.fromUrl(s.Replies.head.args[0]).get();u.push({content:d.data,timestamp:new Date(s.Replies.head.args[1].args[0]),author:d.author})}let f=s.Replies.tail;for(;typeof f!="string";){let d=Mf.Literal.fromUrl(f.head.args[0]).get();u.push({content:d.data,timestamp:new Date(f.head.args[1].args[0]),author:d.author}),f=f.tail}}let c=typeof s.AllCardHidden!="string";o.push({id:s.MessageExpr,author:s.Author,content:Mf.Literal.fromUrl(s.MessageExpr).get().data,timestamp:new Date(s.Timestamp),reactions:l,replies:u,isNeighbourhoodCardHidden:c})}return{keyedMessages:o.reduce((s,l)=>({...s,[l.id]:l}),{}),expressionLinkLength:i.length}}catch(i){throw new Error(i)}}y();var kx=$r(hn());y();var Ff="ad4m://self";var jf="flux://has_channel",fi="temp://directly_succeeded_by",gs="flux://has_reply",qn="flux://has_reaction",Rf="sioc://has_member",Zl="flux://is_card_hidden",Ex="flux://null";y();var Cm=$r(hn());function ea(t){try{let e=Cm.Literal.fromUrl(t.data.target).get(),r;if(t.data.predicate===gs){let i=Cm.Literal.fromUrl(t.data.source).get();r={id:t.data.source,timestamp:i.timestamp,url:t.data.source,author:i.author,reactions:[],replies:[],content:i.data}}return{id:t.data.target,timestamp:e.timestamp,url:t.data.target,author:t.author,reactions:[],replies:[r],content:e.data}}catch(e){throw new Error(e)}}async function Cx({perspectiveUuid:t,lastMessage:e,message:r}){try{let n=await Ce.expression.create(r,"literal"),i=await Ce.perspective.addLink(t,new kx.Link({source:e,target:n,predicate:fi}));return ea(i)}catch(n){throw new Error(n)}}y();async function Nf({perspectiveUuid:t,added:e,removed:r}){try{let n=await Ce.perspective.byUUID(t);return e&&n.addListener("link-added",e),r&&n.addListener("link-removed",r),n}catch(n){throw new Error(n)}}y();y();var di={name:t=>t.data.predicate==="rdf://name",description:t=>t.data.predicate==="rdf://description",language:t=>t.data.predicate==="language",dateCreated:t=>t.data.predicate==="rdf://dateCreated"},ro={message:t=>t.data.predicate===fi,reply:t=>t.data.predicate===gs,reaction:t=>t.data.predicate===qn,channel:t=>t.data.predicate===jf,member:t=>t.data.predicate===Rf,hideNeighbourhoodCard:t=>t.data.predicate===Zl};y();var Lf="shortform-expression",Dx="group-expression";function tF(t){return Ce.languages.meta(t.data.target)}function Tx(t){let e=t.map(r=>tF(r));return Promise.all(e)}function Ox(t){return t.reduce((e,r)=>{let n=r.templateSourceLanguageAddress;return r.name.endsWith(Lf)?n=Lf:r.name.endsWith(Dx)&&(n=Dx),{...e,[n]:r.address}},{})}async function eu(t){let e=await Ce.perspective.byUUID(t);if(!e||!e.neighbourhood)throw new Error("Could not load meta data from perspective");let n=e.neighbourhood.meta?.links||[],i=n.filter(di.language),o=await Tx(i);return{name:n.find(di.name).data.target,description:n.find(di.description)?.data?.target,languages:Ox(o),url:e?.sharedUrl||"",dateCreated:n.find(di.dateCreated).data.target,sourceUrl:e?.sharedUrl}}y();async function Ax({perspectiveUuid:t,linkExpression:e}){try{await Ce.perspective.removeLink(t,e)}catch(r){throw new Error(r)}}y();var Ix=$r(hn());async function Px({perspectiveUuid:t,messageUrl:e,reaction:r}){try{return await Ce.perspective.addLink(t,new Ix.Link({source:e,target:`emoji://${r}`,predicate:qn}))}catch(n){throw new Error(n)}}y();var Dm=$r(hn());async function Mx({perspectiveUuid:t,replyUrl:e,message:r,channelId:n}){try{let i=await Ce.expression.create(r,"literal");await Ce.perspective.addLink(t,new Dm.Link({source:n,target:i,predicate:fi}));let o=await Ce.perspective.addLink(t,new Dm.Link({source:e,target:i,predicate:gs}));return ea(o)}catch(i){throw new Error(i)}}y();function Fx(t,e){return Object.values(t).sort((r,n)=>e==="asc"?new Date(r.timestamp).getTime()-new Date(n.timestamp).getTime():new Date(n.timestamp).getTime()-new Date(r.timestamp).getTime())}y();async function Vn(){try{let t=await Ce.agent.me(),e=await Ce.agent.status();return{...t,...e}}catch(t){throw new Error(t)}}y();y();var dt=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,Lt=Object.keys,dr=Array.isArray;typeof Promise!="undefined"&&!dt.Promise&&(dt.Promise=Promise);function Er(t,e){return typeof e!="object"||Lt(e).forEach(function(r){t[r]=e[r]}),t}var tu=Object.getPrototypeOf,rF={}.hasOwnProperty;function qr(t,e){return rF.call(t,e)}function ys(t,e){typeof e=="function"&&(e=e(tu(t))),(typeof Reflect=="undefined"?Lt:Reflect.ownKeys)(e).forEach(r=>{pi(t,r,e[r])})}var jx=Object.defineProperty;function pi(t,e,r,n){jx(t,e,Er(r&&qr(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function vs(t){return{from:function(e){return t.prototype=Object.create(e.prototype),pi(t.prototype,"constructor",t),{extend:ys.bind(null,t.prototype)}}}}var nF=Object.getOwnPropertyDescriptor;function Tm(t,e){let r=nF(t,e),n;return r||(n=tu(t))&&Tm(n,e)}var iF=[].slice;function $f(t,e,r){return iF.call(t,e,r)}function Rx(t,e){return e(t)}function ru(t){if(!t)throw new Error("Assertion Failed")}function Nx(t){dt.setImmediate?setImmediate(t):setTimeout(t,0)}function Lx(t,e){return t.reduce((r,n,i)=>{var o=e(n,i);return o&&(r[o[0]]=o[1]),r},{})}function oF(t,e,r){try{t.apply(null,r)}catch(n){e&&e(n)}}function hi(t,e){if(qr(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var r=[],n=0,i=e.length;n<i;++n){var o=hi(t,e[n]);r.push(o)}return r}var a=e.indexOf(".");if(a!==-1){var s=t[e.substr(0,a)];return s===void 0?void 0:hi(s,e.substr(a+1))}}function bn(t,e,r){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){ru(typeof r!="string"&&"length"in r);for(var n=0,i=e.length;n<i;++n)bn(t,e[n],r[n])}else{var o=e.indexOf(".");if(o!==-1){var a=e.substr(0,o),s=e.substr(o+1);if(s==="")r===void 0?dr(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=r;else{var l=t[a];(!l||!qr(t,a))&&(l=t[a]={}),bn(l,s,r)}}else r===void 0?dr(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=r}}function aF(t,e){typeof e=="string"?bn(t,e,void 0):"length"in e&&[].map.call(e,function(r){bn(t,r,void 0)})}function $x(t){var e={};for(var r in t)qr(t,r)&&(e[r]=t[r]);return e}var sF=[].concat;function Bx(t){return sF.apply([],t)}var qx="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Bx([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>dt[t]),lF=qx.map(t=>dt[t]);Lx(qx,t=>[t,!0]);var no=null;function nu(t){no=typeof WeakMap!="undefined"&&new WeakMap;let e=Om(t);return no=null,e}function Om(t){if(!t||typeof t!="object")return t;let e=no&&no.get(t);if(e)return e;if(dr(t)){e=[],no&&no.set(t,e);for(var r=0,n=t.length;r<n;++r)e.push(Om(t[r]))}else if(lF.indexOf(t.constructor)>=0)e=t;else{let o=tu(t);e=o===Object.prototype?{}:Object.create(o),no&&no.set(t,e);for(var i in t)qr(t,i)&&(e[i]=Om(t[i]))}return e}var{toString:uF}={};function Am(t){return uF.call(t).slice(8,-1)}var Im=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",cF=typeof Im=="symbol"?function(t){var e;return t!=null&&(e=t[Im])&&e.apply(t)}:function(){return null},_s={};function mi(t){var e,r,n,i;if(arguments.length===1){if(dr(t))return t.slice();if(this===_s&&typeof t=="string")return[t];if(i=cF(t)){for(r=[];n=i.next(),!n.done;)r.push(n.value);return r}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(r=new Array(e);e--;)r[e]=t[e];return r}return[t]}for(e=arguments.length,r=new Array(e);e--;)r[e]=arguments[e];return r}var Pm=typeof Symbol!="undefined"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1,Un=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Vx(t,e){Un=t,Ux=e}var Ux=()=>!0,fF=!new Error("").stack;function ta(){if(fF)try{throw ta.arguments,new Error}catch(t){return t}return new Error}function Mm(t,e){var r=t.stack;return r?(e=e||0,r.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),r.split(`
`).slice(e).filter(Ux).map(n=>`
`+n).join("")):""}var dF=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],zx=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Fm=dF.concat(zx),pF={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function bs(t,e){this._e=ta(),this.name=t,this.message=e}vs(bs).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Mm(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Hx(t,e){return t+". Errors: "+Object.keys(e).map(r=>e[r].toString()).filter((r,n,i)=>i.indexOf(r)===n).join(`
`)}function Bf(t,e,r,n){this._e=ta(),this.failures=e,this.failedKeys=n,this.successCount=r,this.message=Hx(t,e)}vs(Bf).from(bs);function iu(t,e){this._e=ta(),this.name="BulkError",this.failures=Object.keys(e).map(r=>e[r]),this.failuresByPos=e,this.message=Hx(t,e)}vs(iu).from(bs);var jm=Fm.reduce((t,e)=>(t[e]=e+"Error",t),{}),hF=bs,ge=Fm.reduce((t,e)=>{var r=e+"Error";function n(i,o){this._e=ta(),this.name=r,i?typeof i=="string"?(this.message=`${i}${o?`
 `+o:""}`,this.inner=o||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=pF[e]||r,this.inner=null)}return vs(n).from(hF),t[e]=n,t},{});ge.Syntax=SyntaxError;ge.Type=TypeError;ge.Range=RangeError;var Wx=zx.reduce((t,e)=>(t[e+"Error"]=ge[e],t),{});function mF(t,e){if(!t||t instanceof bs||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Wx[t.name])return t;var r=new Wx[t.name](e||t.message,t);return"stack"in t&&pi(r,"stack",{get:function(){return this.inner.stack}}),r}var qf=Fm.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=ge[e]),t),{});qf.ModifyError=Bf;qf.DexieError=bs;qf.BulkError=iu;function at(){}function ou(t){return t}function gF(t,e){return t==null||t===ou?e:function(r){return e(t(r))}}function ra(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function yF(t,e){return t===at?e:function(){var r=t.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?ra(n,this.onsuccess):n),i&&(this.onerror=this.onerror?ra(i,this.onerror):i),o!==void 0?o:r}}function vF(t,e){return t===at?e:function(){t.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?ra(r,this.onsuccess):r),n&&(this.onerror=this.onerror?ra(n,this.onerror):n)}}function _F(t,e){return t===at?e:function(r){var n=t.apply(this,arguments);Er(r,n);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?ra(i,this.onsuccess):i),o&&(this.onerror=this.onerror?ra(o,this.onerror):o),n===void 0?a===void 0?void 0:a:Er(n,a)}}function bF(t,e){return t===at?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function Rm(t,e){return t===at?e:function(){var r=t.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return r.then(function(){return e.apply(n,o)})}return e.apply(this,arguments)}}var au={},wF=100,xF=20,Kx=100,[Nm,Vf,Lm]=typeof Promise=="undefined"?[]:(()=>{let t=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[t,tu(t),t];let e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,tu(e),t]})(),Gx=Vf&&Vf.then,Uf=Nm&&Nm.constructor,$m=!!Lm,Bm=!1,SF=Lm?()=>{Lm.then(Kf)}:dt.setImmediate?setImmediate.bind(null,Kf):dt.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{Kf(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(Kf,0)},su=function(t,e){lu.push([t,e]),zf&&(SF(),zf=!1)},qm=!0,zf=!0,na=[],Hf=[],Vm=null,Um=ou,ws={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:iS,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{iS(t[0],t[1])}catch{}})}},le=ws,lu=[],ia=0,Wf=[];function ee(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=at,this._lib=!1;var e=this._PSD=le;if(Un&&(this._stackHolder=ta(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==au)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Hm(this,this._value);return}this._state=null,this._value=null,++e.ref,Yx(this,t)}var zm={get:function(){var t=le,e=Yf;function r(n,i){var o=!t.global&&(t!==le||e!==Yf);let a=o&&!gi();var s=new ee((l,u)=>{Wm(this,new Qx(Xf(n,t,o,a),Xf(i,t,o,a),l,u,t))});return Un&&Zx(s,this),s}return r.prototype=au,r},set:function(t){pi(this,"then",t&&t.prototype===au?zm:{get:function(){return t},set:zm.set})}};ys(ee.prototype,{then:zm,_then:function(t,e){Wm(this,new Qx(null,null,t,e,le))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],r=arguments[1];return typeof e=="function"?this.then(null,n=>n instanceof e?r(n):Gf(n)):this.then(null,n=>n&&n.name===e?r(n):Gf(n))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),Gf(e)))},stack:{get:function(){if(this._stack)return this._stack;try{Bm=!0;var t=Xx(this,[],xF),e=t.join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Bm=!1}}},timeout:function(t,e){return t<1/0?new ee((r,n)=>{var i=setTimeout(()=>n(new ge.Timeout(e)),t);this.then(r,n).finally(clearTimeout.bind(null,i))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&pi(ee.prototype,Symbol.toStringTag,"Dexie.Promise");ws.env=eS();function Qx(t,e,r,n,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=r,this.reject=n,this.psd=i}ys(ee,{all:function(){var t=mi.apply(null,arguments).map(Jf);return new ee(function(e,r){t.length===0&&e([]);var n=t.length;t.forEach((i,o)=>ee.resolve(i).then(a=>{t[o]=a,--n||e(t)},r))})},resolve:t=>{if(t instanceof ee)return t;if(t&&typeof t.then=="function")return new ee((r,n)=>{t.then(r,n)});var e=new ee(au,!0,t);return Zx(e,Vm),e},reject:Gf,race:function(){var t=mi.apply(null,arguments).map(Jf);return new ee((e,r)=>{t.map(n=>ee.resolve(n).then(e,r))})},PSD:{get:()=>le,set:t=>le=t},totalEchoes:{get:()=>Yf},newPSD:io,usePSD:Ss,scheduler:{get:()=>su,set:t=>{su=t}},rejectionMapper:{get:()=>Um,set:t=>{Um=t}},follow:(t,e)=>new ee((r,n)=>io((i,o)=>{var a=le;a.unhandleds=[],a.onunhandled=o,a.finalize=ra(function(){kF(()=>{this.unhandleds.length===0?i():o(this.unhandleds[0])})},a.finalize),t()},e,r,n))});Uf&&(Uf.allSettled&&pi(ee,"allSettled",function(){let t=mi.apply(null,arguments).map(Jf);return new ee(e=>{t.length===0&&e([]);let r=t.length,n=new Array(r);t.forEach((i,o)=>ee.resolve(i).then(a=>n[o]={status:"fulfilled",value:a},a=>n[o]={status:"rejected",reason:a}).then(()=>--r||e(n)))})}),Uf.any&&typeof AggregateError!="undefined"&&pi(ee,"any",function(){let t=mi.apply(null,arguments).map(Jf);return new ee((e,r)=>{t.length===0&&r(new AggregateError([]));let n=t.length,i=new Array(n);t.forEach((o,a)=>ee.resolve(o).then(s=>e(s),s=>{i[a]=s,--n||r(new AggregateError(i))}))})}));function Yx(t,e){try{e(r=>{if(t._state===null){if(r===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&uu();r&&typeof r.then=="function"?Yx(t,(i,o)=>{r instanceof ee?r._then(i,o):r.then(i,o)}):(t._state=!0,t._value=r,Jx(t)),n&&cu()}},Hm.bind(null,t))}catch(r){Hm(t,r)}}function Hm(t,e){if(Hf.push(e),t._state===null){var r=t._lib&&uu();e=Um(e),t._state=!1,t._value=e,Un&&e!==null&&typeof e=="object"&&!e._promise&&oF(()=>{var n=Tm(e,"stack");e._promise=t,pi(e,"stack",{get:()=>Bm?n&&(n.get?n.get.apply(e):n.value):t.stack})}),CF(t),Jx(t),r&&cu()}}function Jx(t){var e=t._listeners;t._listeners=[];for(var r=0,n=e.length;r<n;++r)Wm(t,e[r]);var i=t._PSD;--i.ref||i.finalize(),ia===0&&(++ia,su(()=>{--ia==0&&Km()},[]))}function Wm(t,e){if(t._state===null){t._listeners.push(e);return}var r=t._state?e.onFulfilled:e.onRejected;if(r===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++ia,su(EF,[r,t,e])}function EF(t,e,r){try{Vm=e;var n,i=e._value;e._state?n=t(i):(Hf.length&&(Hf=[]),n=t(i),Hf.indexOf(i)===-1&&DF(e)),r.resolve(n)}catch(o){r.reject(o)}finally{Vm=null,--ia==0&&Km(),--r.psd.ref||r.psd.finalize()}}function Xx(t,e,r){if(e.length===r)return e;var n="";if(t._state===!1){var i=t._value,o,a;i!=null?(o=i.name||"Error",a=i.message||i,n=Mm(i,0)):(o=i,a=""),e.push(o+(a?": "+a:"")+n)}return Un&&(n=Mm(t._stackHolder,2),n&&e.indexOf(n)===-1&&e.push(n),t._prev&&Xx(t._prev,e,r)),e}function Zx(t,e){var r=e?e._numPrev+1:0;r<wF&&(t._prev=e,t._numPrev=r)}function Kf(){uu()&&cu()}function uu(){var t=qm;return qm=!1,zf=!1,t}function cu(){var t,e,r;do for(;lu.length>0;)for(t=lu,lu=[],r=t.length,e=0;e<r;++e){var n=t[e];n[0].apply(null,n[1])}while(lu.length>0);qm=!0,zf=!0}function Km(){var t=na;na=[],t.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var e=Wf.slice(0),r=e.length;r;)e[--r]()}function kF(t){function e(){t(),Wf.splice(Wf.indexOf(e),1)}Wf.push(e),++ia,su(()=>{--ia==0&&Km()},[])}function CF(t){na.some(e=>e._value===t._value)||na.push(t)}function DF(t){for(var e=na.length;e;)if(na[--e]._value===t._value){na.splice(e,1);return}}function Gf(t){return new ee(au,!1,t)}function yt(t,e){var r=le;return function(){var n=uu(),i=le;try{return oo(r,!0),t.apply(this,arguments)}catch(o){e&&e(o)}finally{oo(i,!1),n&&cu()}}}var pr={awaits:0,echoes:0,id:0},TF=0,Qf=[],Gm=0,Yf=0,OF=0;function io(t,e,r,n){var i=le,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++OF;var a=ws.env;o.env=$m?{Promise:ee,PromiseProp:{value:ee,configurable:!0,writable:!0},all:ee.all,race:ee.race,allSettled:ee.allSettled,any:ee.any,resolve:ee.resolve,reject:ee.reject,nthen:rS(a.nthen,o),gthen:rS(a.gthen,o)}:{},e&&Er(o,e),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Ss(o,t,r,n);return o.ref===0&&o.finalize(),s}function xs(){return pr.id||(pr.id=++TF),++pr.awaits,pr.echoes+=Kx,pr.id}function gi(){return pr.awaits?(--pr.awaits==0&&(pr.id=0),pr.echoes=pr.awaits*Kx,!0):!1}(""+Gx).indexOf("[native code]")===-1&&(xs=gi=at);function Jf(t){return pr.echoes&&t&&t.constructor===Uf?(xs(),t.then(e=>(gi(),e),e=>(gi(),Ut(e)))):t}function AF(t){++Yf,(!pr.echoes||--pr.echoes==0)&&(pr.echoes=pr.id=0),Qf.push(le),oo(t,!0)}function IF(){var t=Qf[Qf.length-1];Qf.pop(),oo(t,!1)}function oo(t,e){var r=le;if((e?pr.echoes&&(!Gm++||t!==le):Gm&&(!--Gm||t!==le))&&tS(e?AF.bind(null,t):IF),t!==le&&(le=t,r===ws&&(ws.env=eS()),$m)){var n=ws.env.Promise,i=t.env;Vf.then=i.nthen,n.prototype.then=i.gthen,(r.global||t.global)&&(Object.defineProperty(dt,"Promise",i.PromiseProp),n.all=i.all,n.race=i.race,n.resolve=i.resolve,n.reject=i.reject,i.allSettled&&(n.allSettled=i.allSettled),i.any&&(n.any=i.any))}}function eS(){var t=dt.Promise;return $m?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(dt,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Vf.then,gthen:t.prototype.then}:{}}function Ss(t,e,r,n,i){var o=le;try{return oo(t,!0),e(r,n,i)}finally{oo(o,!1)}}function tS(t){Gx.call(Nm,t)}function Xf(t,e,r,n){return typeof t!="function"?t:function(){var i=le;r&&xs(),oo(e,!0);try{return t.apply(this,arguments)}finally{oo(i,!1),n&&tS(gi)}}}function rS(t,e){return function(r,n){return t.call(this,Xf(r,e),Xf(n,e))}}var nS="unhandledrejection";function iS(t,e){var r;try{r=e.onuncatched(t)}catch{}if(r!==!1)try{var n,i={promise:e,reason:t};if(dt.document&&document.createEvent?(n=document.createEvent("Event"),n.initEvent(nS,!0,!0),Er(n,i)):dt.CustomEvent&&(n=new CustomEvent(nS,{detail:i}),Er(n,i)),n&&dt.dispatchEvent&&(dispatchEvent(n),!dt.PromiseRejectionEvent&&dt.onunhandledrejection))try{dt.onunhandledrejection(n)}catch{}Un&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var Ut=ee.reject;function Qm(t,e,r,n){if(!t.idbdb||!t._state.openComplete&&!le.letThrough&&!t._vip){if(t._state.openComplete)return Ut(new ge.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Ut(new ge.DatabaseClosed);t.open().catch(at)}return t._state.dbReadyPromise.then(()=>Qm(t,e,r,n))}else{var i=t._createTransaction(e,r,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===jm.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Qm(t,e,r,n))):Ut(o)}return i._promise(e,(o,a)=>io(()=>(le.trans=i,n(o,a,i)))).then(o=>i._completion.then(()=>o))}}var oS="3.2.2",oa=String.fromCharCode(65535),Ym=-1/0,yi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",aS="String expected.",fu=[],Zf=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),PF=Zf,MF=Zf,sS=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),ed="__dbnames",Jm="readonly",Xm="readwrite";function aa(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var lS={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function td(t){return typeof t=="string"&&!/\./.test(t)?e=>(e[t]===void 0&&t in e&&(e=nu(e),delete e[t]),e):e=>e}var uS=class{_trans(e,r,n){let i=this._tx||le.trans,o=this.name;function a(l,u,c){if(!c.schema[o])throw new ge.NotFound("Table "+o+" not part of transaction");return r(c.idbtrans,c)}let s=uu();try{return i&&i.db===this.db?i===le.trans?i._promise(e,a,n):io(()=>i._promise(e,a,n),{trans:i,transless:le.transless||le}):Qm(this.db,e,[this.name],a)}finally{s&&cu()}}get(e,r){return e&&e.constructor===Object?this.where(e).first(r):this._trans("readonly",n=>this.core.get({trans:n,key:e}).then(i=>this.hook.reading.fire(i))).then(r)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(dr(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);let r=Lt(e);if(r.length===1)return this.where(r[0]).equals(e[r[0]]);let n=this.schema.indexes.concat(this.schema.primKey).filter(u=>u.compound&&r.every(c=>u.keyPath.indexOf(c)>=0)&&u.keyPath.every(c=>r.indexOf(c)>=0))[0];if(n&&this.db._maxKey!==oa)return this.where(n.name).equals(n.keyPath.map(u=>e[u]));!n&&Un&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${r.join("+")}]`);let{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function a(u,c){try{return o.cmp(u,c)===0}catch{return!1}}let[s,l]=r.reduce(([u,c],f)=>{let d=i[f],p=e[f];return[u||d,u||!d?aa(c,d&&d.multi?g=>{let m=hi(g,f);return dr(m)&&m.some(v=>a(p,v))}:g=>a(p,hi(g,f))):c]},[null,null]);return s?this.where(s.name).equals(e[s.keyPath]).filter(l):n?this.filter(l):this.where(r).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,dr(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;let r=n=>{if(!n)return n;let i=Object.create(e.prototype);for(var o in n)if(qr(n,o))try{i[o]=n[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e}defineClass(){function e(r){Er(this,r)}return this.mapToClass(e)}add(e,r){let{auto:n,keyPath:i}=this.schema.primKey,o=e;return i&&n&&(o=td(i)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:r!=null?[r]:null,values:[o]})).then(a=>a.numFailures?ee.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{bn(e,i,a)}catch{}return a})}update(e,r){if(typeof e=="object"&&!dr(e)){let n=hi(e,this.schema.primKey.keyPath);if(n===void 0)return Ut(new ge.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?Lt(r).forEach(i=>{bn(e,i,r[i])}):r(e,{value:e,primKey:n})}catch{}return this.where(":id").equals(n).modify(r)}else return this.where(":id").equals(e).modify(r)}put(e,r){let{auto:n,keyPath:i}=this.schema.primKey,o=e;return i&&n&&(o=td(i)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[o],keys:r!=null?[r]:null})).then(a=>a.numFailures?ee.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{bn(e,i,a)}catch{}return a})}delete(e){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[e]})).then(r=>r.numFailures?ee.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:lS})).then(e=>e.numFailures?ee.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",r=>this.core.getMany({keys:e,trans:r}).then(n=>n.map(i=>this.hook.reading.fire(i))))}bulkAdd(e,r,n){let i=Array.isArray(r)?r:void 0;n=n||(i?void 0:r);let o=n?n.allKeys:void 0;return this._trans("readwrite",a=>{let{auto:s,keyPath:l}=this.schema.primKey;if(l&&i)throw new ge.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new ge.InvalidArgument("Arguments objects and keys must have the same length");let u=e.length,c=l&&s?e.map(td(l)):e;return this.core.mutate({trans:a,type:"add",keys:i,values:c,wantResults:o}).then(({numFailures:f,results:d,lastResult:p,failures:g})=>{let m=o?d:p;if(f===0)return m;throw new iu(`${this.name}.bulkAdd(): ${f} of ${u} operations failed`,g)})})}bulkPut(e,r,n){let i=Array.isArray(r)?r:void 0;n=n||(i?void 0:r);let o=n?n.allKeys:void 0;return this._trans("readwrite",a=>{let{auto:s,keyPath:l}=this.schema.primKey;if(l&&i)throw new ge.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new ge.InvalidArgument("Arguments objects and keys must have the same length");let u=e.length,c=l&&s?e.map(td(l)):e;return this.core.mutate({trans:a,type:"put",keys:i,values:c,wantResults:o}).then(({numFailures:f,results:d,lastResult:p,failures:g})=>{let m=o?d:p;if(f===0)return m;throw new iu(`${this.name}.bulkPut(): ${f} of ${u} operations failed`,g)})})}bulkDelete(e){let r=e.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:e})).then(({numFailures:n,lastResult:i,failures:o})=>{if(n===0)return i;throw new iu(`${this.name}.bulkDelete(): ${n} of ${r} operations failed`,o)})}};function du(t){var e={},r=function(s,l){if(l){for(var u=arguments.length,c=new Array(u-1);--u;)c[u-1]=arguments[u];return e[s].subscribe.apply(null,c),t}else if(typeof s=="string")return e[s]};r.addEventType=o;for(var n=1,i=arguments.length;n<i;++n)o(arguments[n]);return r;function o(s,l,u){if(typeof s=="object")return a(s);l||(l=bF),u||(u=at);var c={subscribers:[],fire:u,subscribe:function(f){c.subscribers.indexOf(f)===-1&&(c.subscribers.push(f),c.fire=l(c.fire,f))},unsubscribe:function(f){c.subscribers=c.subscribers.filter(function(d){return d!==f}),c.fire=c.subscribers.reduce(l,u)}};return e[s]=r[s]=c,c}function a(s){Lt(s).forEach(function(l){var u=s[l];if(dr(u))o(l,s[l][0],s[l][1]);else if(u==="asap")var c=o(l,ou,function(){for(var d=arguments.length,p=new Array(d);d--;)p[d]=arguments[d];c.subscribers.forEach(function(g){Nx(function(){g.apply(null,p)})})});else throw new ge.InvalidArgument("Invalid event config")})}}function pu(t,e){return vs(e).from({prototype:t}),e}function FF(t){return pu(uS.prototype,function(r,n,i){this.db=t,this._tx=i,this.name=r,this.schema=n,this.hook=t._allTables[r]?t._allTables[r].hook:du(null,{creating:[yF,at],reading:[gF,ou],updating:[_F,at],deleting:[vF,at]})})}function Es(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Zm(t,e){t.filter=aa(t.filter,e)}function eg(t,e,r){var n=t.replayFilter;t.replayFilter=n?()=>aa(n(),e()):e,t.justLimit=r&&!n}function jF(t,e){t.isMatch=aa(t.isMatch,e)}function rd(t,e){if(t.isPrimKey)return e.primaryKey;let r=e.getIndexByKeyPath(t.index);if(!r)throw new ge.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return r}function cS(t,e,r){let n=rd(t,e.schema);return e.openCursor({trans:r,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:n,range:t.range}})}function nd(t,e,r,n){let i=t.replayFilter?aa(t.filter,t.replayFilter()):t.filter;if(t.or){let o={},a=(s,l,u)=>{if(!i||i(l,u,d=>l.stop(d),d=>l.fail(d))){var c=l.primaryKey,f=""+c;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(c)),qr(o,f)||(o[f]=!0,e(s,l,u))}};return Promise.all([t.or._iterate(a,r),fS(cS(t,n,r),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}else return fS(cS(t,n,r),aa(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function fS(t,e,r,n){var i=n?(a,s,l)=>r(n(a),s,l):r,o=yt(i);return t.then(a=>{if(a)return a.start(()=>{var s=()=>a.continue();(!e||e(a,l=>s=l,l=>{a.stop(l),s=at},l=>{a.fail(l),s=at}))&&o(a.value,a,l=>s=l),s()})})}function kr(t,e){try{let r=dS(t),n=dS(e);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return NF(pS(t),pS(e));case"Array":return RF(t,e)}}catch{}return NaN}function RF(t,e){let r=t.length,n=e.length,i=r<n?r:n;for(let o=0;o<i;++o){let a=kr(t[o],e[o]);if(a!==0)return a}return r===n?0:r<n?-1:1}function NF(t,e){let r=t.length,n=e.length,i=r<n?r:n;for(let o=0;o<i;++o)if(t[o]!==e[o])return t[o]<e[o]?-1:1;return r===n?0:r<n?-1:1}function dS(t){let e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";let r=Am(t);return r==="ArrayBuffer"?"binary":r}function pS(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var hS=class{_read(e,r){var n=this._ctx;return n.error?n.table._trans(null,Ut.bind(null,n.error)):n.table._trans("readonly",e).then(r)}_write(e){var r=this._ctx;return r.error?r.table._trans(null,Ut.bind(null,r.error)):r.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var r=this._ctx;r.algorithm=aa(r.algorithm,e)}_iterate(e,r){return nd(this._ctx,e,r,this._ctx.table.core)}clone(e){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&Er(n,e),r._ctx=n,r}raw(){return this._ctx.valueMapper=null,this}each(e){var r=this._ctx;return this._read(n=>nd(r,e,n,r.table.core))}count(e){return this._read(r=>{let n=this._ctx,i=n.table.core;if(Es(n,!0))return i.count({trans:r,query:{index:rd(n,i.schema),range:n.range}}).then(a=>Math.min(a,n.limit));var o=0;return nd(n,()=>(++o,!1),r,i).then(()=>o)}).then(e)}sortBy(e,r){let n=e.split(".").reverse(),i=n[0],o=n.length-1;function a(u,c){return c?a(u[n[c]],c-1):u[i]}var s=this._ctx.dir==="next"?1:-1;function l(u,c){var f=a(u,o),d=a(c,o);return f<d?-s:f>d?s:0}return this.toArray(function(u){return u.sort(l)}).then(r)}toArray(e){return this._read(r=>{var n=this._ctx;if(n.dir==="next"&&Es(n,!0)&&n.limit>0){let{valueMapper:i}=n,o=rd(n,n.table.core.schema);return n.table.core.query({trans:r,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then(({result:a})=>i?a.map(i):a)}else{let i=[];return nd(n,o=>i.push(o),r,n.table.core).then(()=>i)}},e)}offset(e){var r=this._ctx;return e<=0?this:(r.offset+=e,Es(r)?eg(r,()=>{var n=e;return(i,o)=>n===0?!0:n===1?(--n,!1):(o(()=>{i.advance(n),n=0}),!1)}):eg(r,()=>{var n=e;return()=>--n<0}),this)}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),eg(this._ctx,()=>{var r=e;return function(n,i,o){return--r<=0&&i(o),r>=0}},!0),this}until(e,r){return Zm(this._ctx,function(n,i,o){return e(n.value)?(i(o),r):!0}),this}first(e){return this.limit(1).toArray(function(r){return r[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){return Zm(this._ctx,function(r){return e(r.value)}),jF(this._ctx,e),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,i){e(i.key,i)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,i){e(i.primaryKey,i)})}keys(e){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(i,o){n.push(o.key)}).then(function(){return n}).then(e)}primaryKeys(e){var r=this._ctx;if(r.dir==="next"&&Es(r,!0)&&r.limit>0)return this._read(i=>{var o=rd(r,r.table.core.schema);return r.table.core.query({trans:i,values:!1,limit:r.limit,query:{index:o,range:r.range}})}).then(({result:i})=>i).then(e);r.keysOnly=!r.isMatch;var n=[];return this.each(function(i,o){n.push(o.primaryKey)}).then(function(){return n}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(r){return r[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,r=e.index&&e.table.schema.idxByName[e.index];if(!r||!r.multi)return this;var n={};return Zm(this._ctx,function(i){var o=i.primaryKey.toString(),a=qr(n,o);return n[o]=!0,!a}),this}modify(e){var r=this._ctx;return this._write(n=>{var i;if(typeof e=="function")i=e;else{var o=Lt(e),a=o.length;i=function(m){for(var v=!1,b=0;b<a;++b){var E=o[b],w=e[E];hi(m,E)!==w&&(bn(m,E,w),v=!0)}return v}}let s=r.table.core,{outbound:l,extractKey:u}=s.schema.primaryKey,c=this.db._options.modifyChunkSize||200,f=[],d=0,p=[],g=(m,v)=>{let{failures:b,numFailures:E}=v;d+=m-E;for(let w of Lt(b))f.push(b[w])};return this.clone().primaryKeys().then(m=>{let v=b=>{let E=Math.min(c,m.length-b);return s.getMany({trans:n,keys:m.slice(b,b+E),cache:"immutable"}).then(w=>{let _=[],S=[],x=l?[]:null,k=[];for(let D=0;D<E;++D){let T=w[D],A={value:nu(T),primKey:m[b+D]};i.call(A,A.value,A)!==!1&&(A.value==null?k.push(m[b+D]):!l&&kr(u(T),u(A.value))!==0?(k.push(m[b+D]),_.push(A.value)):(S.push(A.value),l&&x.push(m[b+D])))}let C=Es(r)&&r.limit===1/0&&(typeof e!="function"||e===tg)&&{index:r.index,range:r.range};return Promise.resolve(_.length>0&&s.mutate({trans:n,type:"add",values:_}).then(D=>{for(let T in D.failures)k.splice(parseInt(T),1);g(_.length,D)})).then(()=>(S.length>0||C&&typeof e=="object")&&s.mutate({trans:n,type:"put",keys:x,values:S,criteria:C,changeSpec:typeof e!="function"&&e}).then(D=>g(S.length,D))).then(()=>(k.length>0||C&&e===tg)&&s.mutate({trans:n,type:"delete",keys:k,criteria:C}).then(D=>g(k.length,D))).then(()=>m.length>b+E&&v(b+c))})};return v(0).then(()=>{if(f.length>0)throw new Bf("Error modifying one or more objects",f,d,p);return m.length})})})}delete(){var e=this._ctx,r=e.range;return Es(e)&&(e.isPrimKey&&!MF||r.type===3)?this._write(n=>{let{primaryKey:i}=e.table.core.schema,o=r;return e.table.core.count({trans:n,query:{index:i,range:o}}).then(a=>e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then(({failures:s,lastResult:l,results:u,numFailures:c})=>{if(c)throw new Bf("Could not delete some values",Object.keys(s).map(f=>s[f]),a-c);return a-c}))}):this.modify(tg)}},tg=(t,e)=>e.value=null;function LF(t){return pu(hS.prototype,function(r,n){this.db=t;let i=lS,o=null;if(n)try{i=n()}catch(u){o=u}let a=r._ctx,s=a.table,l=s.hook.reading.fire;this._ctx={table:s,index:a.index,isPrimKey:!a.index||s.schema.primKey.keyPath&&a.index===s.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:a.or,valueMapper:l!==ou?l:null}})}function $F(t,e){return t<e?-1:t===e?0:1}function BF(t,e){return t>e?-1:t===e?0:1}function Vr(t,e,r){var n=t instanceof rg?new t.Collection(t):t;return n._ctx.error=r?new r(e):new TypeError(e),n}function ks(t){return new t.Collection(t,()=>mS("")).limit(0)}function qF(t){return t==="next"?e=>e.toUpperCase():e=>e.toLowerCase()}function VF(t){return t==="next"?e=>e.toLowerCase():e=>e.toUpperCase()}function UF(t,e,r,n,i,o){for(var a=Math.min(t.length,n.length),s=-1,l=0;l<a;++l){var u=e[l];if(u!==n[l])return i(t[l],r[l])<0?t.substr(0,l)+r[l]+r.substr(l+1):i(t[l],n[l])<0?t.substr(0,l)+n[l]+r.substr(l+1):s>=0?t.substr(0,s)+e[s]+r.substr(s+1):null;i(t[l],u)<0&&(s=l)}return a<n.length&&o==="next"?t+r.substr(t.length):a<t.length&&o==="prev"?t.substr(0,r.length):s<0?null:t.substr(0,s)+n[s]+r.substr(s+1)}function id(t,e,r,n){var i,o,a,s,l,u,c,f=r.length;if(!r.every(m=>typeof m=="string"))return Vr(t,aS);function d(m){i=qF(m),o=VF(m),a=m==="next"?$F:BF;var v=r.map(function(b){return{lower:o(b),upper:i(b)}}).sort(function(b,E){return a(b.lower,E.lower)});s=v.map(function(b){return b.upper}),l=v.map(function(b){return b.lower}),u=m,c=m==="next"?"":n}d("next");var p=new t.Collection(t,()=>ao(s[0],l[f-1]+n));p._ondirectionchange=function(m){d(m)};var g=0;return p._addAlgorithm(function(m,v,b){var E=m.key;if(typeof E!="string")return!1;var w=o(E);if(e(w,l,g))return!0;for(var _=null,S=g;S<f;++S){var x=UF(E,w,s[S],l[S],a,u);x===null&&_===null?g=S+1:(_===null||a(_,x)>0)&&(_=x)}return v(_!==null?function(){m.continue(_+c)}:b),!1}),p}function ao(t,e,r,n){return{type:2,lower:t,upper:e,lowerOpen:r,upperOpen:n}}function mS(t){return{type:1,lower:t,upper:t}}var rg=class{get Collection(){return this._ctx.table.db.Collection}between(e,r,n,i){n=n!==!1,i=i===!0;try{return this._cmp(e,r)>0||this._cmp(e,r)===0&&(n||i)&&!(n&&i)?ks(this):new this.Collection(this,()=>ao(e,r,!n,!i))}catch{return Vr(this,yi)}}equals(e){return e==null?Vr(this,yi):new this.Collection(this,()=>mS(e))}above(e){return e==null?Vr(this,yi):new this.Collection(this,()=>ao(e,void 0,!0))}aboveOrEqual(e){return e==null?Vr(this,yi):new this.Collection(this,()=>ao(e,void 0,!1))}below(e){return e==null?Vr(this,yi):new this.Collection(this,()=>ao(void 0,e,!1,!0))}belowOrEqual(e){return e==null?Vr(this,yi):new this.Collection(this,()=>ao(void 0,e))}startsWith(e){return typeof e!="string"?Vr(this,aS):this.between(e,e+oa,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):id(this,(r,n)=>r.indexOf(n[0])===0,[e],oa)}equalsIgnoreCase(e){return id(this,(r,n)=>r===n[0],[e],"")}anyOfIgnoreCase(){var e=mi.apply(_s,arguments);return e.length===0?ks(this):id(this,(r,n)=>n.indexOf(r)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=mi.apply(_s,arguments);return e.length===0?ks(this):id(this,(r,n)=>n.some(i=>r.indexOf(i)===0),e,oa)}anyOf(){let e=mi.apply(_s,arguments),r=this._cmp;try{e.sort(r)}catch{return Vr(this,yi)}if(e.length===0)return ks(this);let n=new this.Collection(this,()=>ao(e[0],e[e.length-1]));n._ondirectionchange=o=>{r=o==="next"?this._ascending:this._descending,e.sort(r)};let i=0;return n._addAlgorithm((o,a,s)=>{let l=o.key;for(;r(l,e[i])>0;)if(++i,i===e.length)return a(s),!1;return r(l,e[i])===0?!0:(a(()=>{o.continue(e[i])}),!1)}),n}notEqual(e){return this.inAnyRange([[Ym,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){let e=mi.apply(_s,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Vr(this,yi)}let r=e.reduce((n,i)=>n?n.concat([[n[n.length-1][1],i]]):[[Ym,i]],null);return r.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,r){let n=this._cmp,i=this._ascending,o=this._descending,a=this._min,s=this._max;if(e.length===0)return ks(this);if(!e.every(_=>_[0]!==void 0&&_[1]!==void 0&&i(_[0],_[1])<=0))return Vr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ge.InvalidArgument);let l=!r||r.includeLowers!==!1,u=r&&r.includeUppers===!0;function c(_,S){let x=0,k=_.length;for(;x<k;++x){let C=_[x];if(n(S[0],C[1])<0&&n(S[1],C[0])>0){C[0]=a(C[0],S[0]),C[1]=s(C[1],S[1]);break}}return x===k&&_.push(S),_}let f=i;function d(_,S){return f(_[0],S[0])}let p;try{p=e.reduce(c,[]),p.sort(d)}catch{return Vr(this,yi)}let g=0,m=u?_=>i(_,p[g][1])>0:_=>i(_,p[g][1])>=0,v=l?_=>o(_,p[g][0])>0:_=>o(_,p[g][0])>=0;function b(_){return!m(_)&&!v(_)}let E=m,w=new this.Collection(this,()=>ao(p[0][0],p[p.length-1][1],!l,!u));return w._ondirectionchange=_=>{_==="next"?(E=m,f=i):(E=v,f=o),p.sort(d)},w._addAlgorithm((_,S,x)=>{for(var k=_.key;E(k);)if(++g,g===p.length)return S(x),!1;return b(k)?!0:(this._cmp(k,p[g][1])===0||this._cmp(k,p[g][0])===0||S(()=>{f===i?_.continue(p[g][0]):_.continue(p[g][1])}),!1)}),w}startsWithAnyOf(){let e=mi.apply(_s,arguments);return e.every(r=>typeof r=="string")?e.length===0?ks(this):this.inAnyRange(e.map(r=>[r,r+oa])):Vr(this,"startsWithAnyOf() only works with strings")}};function zF(t){return pu(rg.prototype,function(r,n,i){this.db=t,this._ctx={table:r,index:n===":id"?null:n,or:i};let o=t._deps.indexedDB;if(!o)throw new ge.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=(a,s)=>o.cmp(s,a),this._max=(a,s)=>o.cmp(a,s)>0?a:s,this._min=(a,s)=>o.cmp(a,s)<0?a:s,this._IDBKeyRange=t._deps.IDBKeyRange})}function zn(t){return yt(function(e){return hu(e),t(e.target.error),!1})}function hu(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var mu="storagemutated",so="x-storagemutated-1",lo=du(null,mu),gS=class{_lock(){return ru(!le.global),++this._reculock,this._reculock===1&&!le.global&&(le.lockOwnerFor=this),this}_unlock(){if(ru(!le.global),--this._reculock==0)for(le.global||(le.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Ss(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&le.lockOwnerFor!==this}create(e){if(!this.mode)return this;let r=this.db.idbdb,n=this.db._state.dbOpenError;if(ru(!this.idbtrans),!e&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new ge.DatabaseClosed(n);case"MissingAPIError":throw new ge.MissingAPI(n.message,n);default:throw new ge.OpenFailed(n)}if(!this.active)throw new ge.TransactionInactive;return ru(this._completion._state===null),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=yt(i=>{hu(i),this._reject(e.error)}),e.onabort=yt(i=>{hu(i),this.active&&this._reject(new ge.Abort(e.error)),this.active=!1,this.on("abort").fire(i)}),e.oncomplete=yt(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&lo.storagemutated.fire(e.mutatedParts)}),this}_promise(e,r,n){if(e==="readwrite"&&this.mode!=="readwrite")return Ut(new ge.ReadOnly("Transaction is readonly"));if(!this.active)return Ut(new ge.TransactionInactive);if(this._locked())return new ee((o,a)=>{this._blockedFuncs.push([()=>{this._promise(e,r,n).then(o,a)},le])});if(n)return io(()=>{var o=new ee((a,s)=>{this._lock();let l=r(a,s,this);l&&l.then&&l.then(a,s)});return o.finally(()=>this._unlock()),o._lib=!0,o});var i=new ee((o,a)=>{var s=r(o,a,this);s&&s.then&&s.then(o,a)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(e){var r=this._root();let n=ee.resolve(e);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>n);else{r._waitingFor=n,r._waitingQueue=[];var i=r.idbtrans.objectStore(r.storeNames[0]);(function a(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=r._waitingFor;return new ee((a,s)=>{n.then(l=>r._waitingQueue.push(yt(a.bind(null,l))),l=>r._waitingQueue.push(yt(s.bind(null,l)))).finally(()=>{r._waitingFor===o&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ge.Abort))}table(e){let r=this._memoizedTables||(this._memoizedTables={});if(qr(r,e))return r[e];let n=this.schema[e];if(!n)throw new ge.NotFound("Table "+e+" not part of transaction");let i=new this.db.Table(e,n,this);return i.core=this.db.core.table(e),r[e]=i,i}};function HF(t){return pu(gS.prototype,function(r,n,i,o,a){this.db=t,this.mode=r,this.storeNames=n,this.schema=i,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=du(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ee((s,l)=>{this._resolve=s,this._reject=l}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},s=>{var l=this.active;return this.active=!1,this.on.error.fire(s),this.parent?this.parent._reject(s):l&&this.idbtrans&&this.idbtrans.abort(),Ut(s)})})}function ng(t,e,r,n,i,o,a){return{name:t,keyPath:e,unique:r,multi:n,auto:i,compound:o,src:(r&&!a?"&":"")+(n?"*":"")+(i?"++":"")+yS(e)}}function yS(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function vS(t,e,r){return{name:t,primKey:e,indexes:r,mappedClass:null,idxByName:Lx(r,n=>[n.name,n])}}function WF(t){return t.length===1?t[0]:t}var gu=t=>{try{return t.only([[]]),gu=()=>[[]],[[]]}catch{return gu=()=>oa,oa}};function ig(t){return t==null?()=>{}:typeof t=="string"?KF(t):e=>hi(e,t)}function KF(t){return t.split(".").length===1?r=>r[t]:r=>hi(r,t)}function _S(t){return[].slice.call(t)}var GF=0;function yu(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function QF(t,e,r){function n(c,f){let d=_S(c.objectStoreNames);return{schema:{name:c.name,tables:d.map(p=>f.objectStore(p)).map(p=>{let{keyPath:g,autoIncrement:m}=p,v=dr(g),b=g==null,E={},w={name:p.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:b,compound:v,keyPath:g,autoIncrement:m,unique:!0,extractKey:ig(g)},indexes:_S(p.indexNames).map(_=>p.index(_)).map(_=>{let{name:S,unique:x,multiEntry:k,keyPath:C}=_,D=dr(C),T={name:S,compound:D,keyPath:C,unique:x,multiEntry:k,extractKey:ig(C)};return E[yu(C)]=T,T}),getIndexByKeyPath:_=>E[yu(_)]};return E[":id"]=w.primaryKey,g!=null&&(E[yu(g)]=w.primaryKey),w})},hasGetAll:d.length>0&&"getAll"in f.objectStore(d[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");let{lower:f,upper:d,lowerOpen:p,upperOpen:g}=c;return f===void 0?d===void 0?null:e.upperBound(d,!!g):d===void 0?e.lowerBound(f,!!p):e.bound(f,d,!!p,!!g)}function o(c){let f=c.name;function d({trans:m,type:v,keys:b,values:E,range:w}){return new Promise((_,S)=>{_=yt(_);let x=m.objectStore(f),k=x.keyPath==null,C=v==="put"||v==="add";if(!C&&v!=="delete"&&v!=="deleteRange")throw new Error("Invalid operation type: "+v);let{length:D}=b||E||{length:1};if(b&&E&&b.length!==E.length)throw new Error("Given keys array must have same length as given values array.");if(D===0)return _({numFailures:0,failures:{},results:[],lastResult:void 0});let T,A=[],R=[],M=0,j=L=>{++M,hu(L)};if(v==="deleteRange"){if(w.type===4)return _({numFailures:M,failures:R,results:[],lastResult:void 0});w.type===3?A.push(T=x.clear()):A.push(T=x.delete(i(w)))}else{let[L,O]=C?k?[E,b]:[E,null]:[b,null];if(C)for(let $=0;$<D;++$)A.push(T=O&&O[$]!==void 0?x[v](L[$],O[$]):x[v](L[$])),T.onerror=j;else for(let $=0;$<D;++$)A.push(T=x[v](L[$])),T.onerror=j}let I=L=>{let O=L.target.result;A.forEach(($,q)=>$.error!=null&&(R[q]=$.error)),_({numFailures:M,failures:R,results:v==="delete"?b:A.map($=>$.result),lastResult:O})};T.onerror=L=>{j(L),I(L)},T.onsuccess=I})}function p({trans:m,values:v,query:b,reverse:E,unique:w}){return new Promise((_,S)=>{_=yt(_);let{index:x,range:k}=b,C=m.objectStore(f),D=x.isPrimaryKey?C:C.index(x.name),T=E?w?"prevunique":"prev":w?"nextunique":"next",A=v||!("openKeyCursor"in D)?D.openCursor(i(k),T):D.openKeyCursor(i(k),T);A.onerror=zn(S),A.onsuccess=yt(R=>{let M=A.result;if(!M){_(null);return}M.___id=++GF,M.done=!1;let j=M.continue.bind(M),I=M.continuePrimaryKey;I&&(I=I.bind(M));let L=M.advance.bind(M),O=()=>{throw new Error("Cursor not started")},$=()=>{throw new Error("Cursor not stopped")};M.trans=m,M.stop=M.continue=M.continuePrimaryKey=M.advance=O,M.fail=yt(S),M.next=function(){let q=1;return this.start(()=>q--?this.continue():this.stop()).then(()=>this)},M.start=q=>{let V=new Promise((K,fe)=>{K=yt(K),A.onerror=zn(fe),M.fail=fe,M.stop=ve=>{M.stop=M.continue=M.continuePrimaryKey=M.advance=$,K(ve)}}),U=()=>{if(A.result)try{q()}catch(K){M.fail(K)}else M.done=!0,M.start=()=>{throw new Error("Cursor behind last entry")},M.stop()};return A.onsuccess=yt(K=>{A.onsuccess=U,U()}),M.continue=j,M.continuePrimaryKey=I,M.advance=L,U(),V},_(M)},S)})}function g(m){return v=>new Promise((b,E)=>{b=yt(b);let{trans:w,values:_,limit:S,query:x}=v,k=S===1/0?void 0:S,{index:C,range:D}=x,T=w.objectStore(f),A=C.isPrimaryKey?T:T.index(C.name),R=i(D);if(S===0)return b({result:[]});if(m){let M=_?A.getAll(R,k):A.getAllKeys(R,k);M.onsuccess=j=>b({result:j.target.result}),M.onerror=zn(E)}else{let M=0,j=_||!("openKeyCursor"in A)?A.openCursor(R):A.openKeyCursor(R),I=[];j.onsuccess=L=>{let O=j.result;if(!O)return b({result:I});if(I.push(_?O.value:O.primaryKey),++M===S)return b({result:I});O.continue()},j.onerror=zn(E)}})}return{name:f,schema:c,mutate:d,getMany({trans:m,keys:v}){return new Promise((b,E)=>{b=yt(b);let w=m.objectStore(f),_=v.length,S=new Array(_),x=0,k=0,C,D=A=>{let R=A.target;(S[R._pos]=R.result)!=null,++k===x&&b(S)},T=zn(E);for(let A=0;A<_;++A)v[A]!=null&&(C=w.get(v[A]),C._pos=A,C.onsuccess=D,C.onerror=T,++x);x===0&&b(S)})},get({trans:m,key:v}){return new Promise((b,E)=>{b=yt(b);let _=m.objectStore(f).get(v);_.onsuccess=S=>b(S.target.result),_.onerror=zn(E)})},query:g(s),openCursor:p,count({query:m,trans:v}){let{index:b,range:E}=m;return new Promise((w,_)=>{let S=v.objectStore(f),x=b.isPrimaryKey?S:S.index(b.name),k=i(E),C=k?x.count(k):x.count();C.onsuccess=yt(D=>w(D.target.result)),C.onerror=zn(_)})}}}let{schema:a,hasGetAll:s}=n(t,r),l=a.tables.map(c=>o(c)),u={};return l.forEach(c=>u[c.name]=c),{stack:"dbcore",transaction:t.transaction.bind(t),table(c){if(!u[c])throw new Error(`Table '${c}' not found`);return u[c]},MIN_KEY:-1/0,MAX_KEY:gu(e),schema:a}}function YF(t,e){return e.reduce((r,{create:n})=>({...r,...n(r)}),t)}function JF(t,e,{IDBKeyRange:r,indexedDB:n},i){return{dbcore:YF(QF(e,r,i),t.dbcore)}}function og({_novip:t},e){let r=e.db,n=JF(t._middlewares,r,t._deps,e);t.core=n.dbcore,t.tables.forEach(i=>{let o=i.name;t.core.schema.tables.some(a=>a.name===o)&&(i.core=t.core.table(o),t[o]instanceof t.Table&&(t[o].core=i.core))})}function od({_novip:t},e,r,n){r.forEach(i=>{let o=n[i];e.forEach(a=>{let s=Tm(a,i);(!s||"value"in s&&s.value===void 0)&&(a===t.Transaction.prototype||a instanceof t.Transaction?pi(a,i,{get(){return this.table(i)},set(l){jx(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new t.Table(i,o))})})}function ag({_novip:t},e){e.forEach(r=>{for(let n in r)r[n]instanceof t.Table&&delete r[n]})}function XF(t,e){return t._cfg.version-e._cfg.version}function ZF(t,e,r,n){let i=t._dbSchema,o=t._createTransaction("readwrite",t._storeNames,i);o.create(r),o._completion.catch(n);let a=o._reject.bind(o),s=le.transless||le;io(()=>{le.trans=o,le.transless=s,e===0?(Lt(i).forEach(l=>{sg(r,l,i[l].primKey,i[l].indexes)}),og(t,r),ee.follow(()=>t.on.populate.fire(o)).catch(a)):ej(t,e,o,r).catch(a)})}function ej({_novip:t},e,r,n){let i=[],o=t._versions,a=t._dbSchema=ug(t,t.idbdb,n),s=!1;o.filter(c=>c._cfg.version>=e).forEach(c=>{i.push(()=>{let f=a,d=c._cfg.dbschema;cg(t,f,n),cg(t,d,n),a=t._dbSchema=d;let p=bS(f,d);p.add.forEach(m=>{sg(n,m[0],m[1].primKey,m[1].indexes)}),p.change.forEach(m=>{if(m.recreate)throw new ge.Upgrade("Not yet support for changing primary key");{let v=n.objectStore(m.name);m.add.forEach(b=>lg(v,b)),m.change.forEach(b=>{v.deleteIndex(b.name),lg(v,b)}),m.del.forEach(b=>v.deleteIndex(b))}});let g=c._cfg.contentUpgrade;if(g&&c._cfg.version>e){og(t,n),r._memoizedTables={},s=!0;let m=$x(d);p.del.forEach(w=>{m[w]=f[w]}),ag(t,[t.Transaction.prototype]),od(t,[t.Transaction.prototype],Lt(m),m),r.schema=m;let v=Pm(g);v&&xs();let b,E=ee.follow(()=>{if(b=g(r),b&&v){var w=gi.bind(null,null);b.then(w,w)}});return b&&typeof b.then=="function"?ee.resolve(b):E.then(()=>b)}}),i.push(f=>{if(!s||!PF){let d=c._cfg.dbschema;rj(d,f)}ag(t,[t.Transaction.prototype]),od(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),r.schema=t._dbSchema})});function u(){return i.length?ee.resolve(i.shift()(r.idbtrans)).then(u):ee.resolve()}return u().then(()=>{tj(a,n)})}function bS(t,e){let r={del:[],add:[],change:[]},n;for(n in t)e[n]||r.del.push(n);for(n in e){let i=t[n],o=e[n];if(!i)r.add.push([n,o]);else{let a={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!Zf)a.recreate=!0,r.change.push(a);else{let s=i.idxByName,l=o.idxByName,u;for(u in s)l[u]||a.del.push(u);for(u in l){let c=s[u],f=l[u];c?c.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}}return r}function sg(t,e,r,n){let i=t.db.createObjectStore(e,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(o=>lg(i,o)),i}function tj(t,e){Lt(t).forEach(r=>{e.db.objectStoreNames.contains(r)||sg(e,r,t[r].primKey,t[r].indexes)})}function rj(t,e){[].slice.call(e.db.objectStoreNames).forEach(r=>t[r]==null&&e.db.deleteObjectStore(r))}function lg(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function ug(t,e,r){let n={};return $f(e.objectStoreNames,0).forEach(o=>{let a=r.objectStore(o),s=a.keyPath,l=ng(yS(s),s||"",!1,!1,!!a.autoIncrement,s&&typeof s!="string",!0),u=[];for(let f=0;f<a.indexNames.length;++f){let d=a.index(a.indexNames[f]);s=d.keyPath;var c=ng(d.name,s,!!d.unique,!!d.multiEntry,!1,s&&typeof s!="string",!1);u.push(c)}n[o]=vS(o,l,u)}),n}function nj({_novip:t},e,r){t.verno=e.version/10;let n=t._dbSchema=ug(t,e,r);t._storeNames=$f(e.objectStoreNames,0),od(t,[t._allTables],Lt(n),n)}function ij(t,e){let r=ug(t,t.idbdb,e),n=bS(r,t._dbSchema);return!(n.add.length||n.change.some(i=>i.add.length||i.change.length))}function cg({_novip:t},e,r){let n=r.db.objectStoreNames;for(let i=0;i<n.length;++i){let o=n[i],a=r.objectStore(o);t._hasGetAll="getAll"in a;for(let s=0;s<a.indexNames.length;++s){let l=a.indexNames[s],u=a.index(l).keyPath,c=typeof u=="string"?u:"["+$f(u).join("+")+"]";if(e[o]){let f=e[o].idxByName[c];f&&(f.name=l,delete e[o].idxByName[c],e[o].idxByName[l]=f)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&dt.WorkerGlobalScope&&dt instanceof dt.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function oj(t){return t.split(",").map((e,r)=>{e=e.trim();let n=e.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return ng(n,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),dr(i),r===0)})}var wS=class{_parseStoresSpec(e,r){Lt(e).forEach(n=>{if(e[n]!==null){var i=oj(e[n]),o=i.shift();if(o.multi)throw new ge.Schema("Primary key cannot be multi-valued");i.forEach(a=>{if(a.auto)throw new ge.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new ge.Schema("Index must have a name and cannot be an empty string")}),r[n]=vS(n,o,i)}})}stores(e){let r=this.db;this._cfg.storesSource=this._cfg.storesSource?Er(this._cfg.storesSource,e):e;let n=r._versions,i={},o={};return n.forEach(a=>{Er(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),r._dbSchema=o,ag(r,[r._allTables,r,r.Transaction.prototype]),od(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],Lt(o),o),r._storeNames=Lt(o),this}upgrade(e){return this._cfg.contentUpgrade=Rm(this._cfg.contentUpgrade||at,e),this}};function aj(t){return pu(wS.prototype,function(r){this.db=t,this._cfg={version:r,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function fg(t,e){let r=t._dbNamesDB;return r||(r=t._dbNamesDB=new _i(ed,{addons:[],indexedDB:t,IDBKeyRange:e}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function dg(t){return t&&typeof t.databases=="function"}function sj({indexedDB:t,IDBKeyRange:e}){return dg(t)?Promise.resolve(t.databases()).then(r=>r.map(n=>n.name).filter(n=>n!==ed)):fg(t,e).toCollection().primaryKeys()}function lj({indexedDB:t,IDBKeyRange:e},r){!dg(t)&&r!==ed&&fg(t,e).put({name:r}).catch(at)}function uj({indexedDB:t,IDBKeyRange:e},r){!dg(t)&&r!==ed&&fg(t,e).delete(r).catch(at)}function pg(t){return io(function(){return le.letThrough=!0,t()})}function cj(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(r){var n=function(){return indexedDB.databases().finally(r)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)})}function fj(t){let e=t._state,{indexedDB:r}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?Ut(e.dbOpenError):t);Un&&(e.openCanceller._stackHolder=ta()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;let n=e.openCanceller;function i(){if(e.openCanceller!==n)throw new ge.DatabaseClosed("db.open() was cancelled")}let o=e.dbReadyResolve,a=null,s=!1;return ee.race([n,(typeof navigator=="undefined"?ee.resolve():cj()).then(()=>new ee((l,u)=>{if(i(),!r)throw new ge.MissingAPI;let c=t.name,f=e.autoSchema?r.open(c):r.open(c,Math.round(t.verno*10));if(!f)throw new ge.MissingAPI;f.onerror=zn(u),f.onblocked=yt(t._fireOnBlocked),f.onupgradeneeded=yt(d=>{if(a=f.transaction,e.autoSchema&&!t._options.allowEmptyDB){f.onerror=hu,a.abort(),f.result.close();let g=r.deleteDatabase(c);g.onsuccess=g.onerror=yt(()=>{u(new ge.NoSuchDatabase(`Database ${c} doesnt exist`))})}else{a.onerror=zn(u);var p=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;s=p<1,t._novip.idbdb=f.result,ZF(t,p/10,a,u)}},u),f.onsuccess=yt(()=>{a=null;let d=t._novip.idbdb=f.result,p=$f(d.objectStoreNames);if(p.length>0)try{let g=d.transaction(WF(p),"readonly");e.autoSchema?nj(t,d,g):(cg(t,t._dbSchema,g),ij(t,g)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),og(t,g)}catch{}fu.push(t),d.onversionchange=yt(g=>{e.vcFired=!0,t.on("versionchange").fire(g)}),d.onclose=yt(g=>{t.on("close").fire(g)}),s&&lj(t._deps,c),l()},u)}))]).then(()=>(i(),e.onReadyBeingFired=[],ee.resolve(pg(()=>t.on.ready.fire(t.vip))).then(function l(){if(e.onReadyBeingFired.length>0){let u=e.onReadyBeingFired.reduce(Rm,at);return e.onReadyBeingFired=[],ee.resolve(pg(()=>u(t.vip))).then(l)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(l=>{e.dbOpenError=l;try{a&&a.abort()}catch{}return n===e.openCanceller&&t._close(),Ut(l)}).finally(()=>{e.openComplete=!0,o()})}function hg(t){var e=a=>t.next(a),r=a=>t.throw(a),n=o(e),i=o(r);function o(a){return s=>{var l=a(s),u=l.value;return l.done?u:!u||typeof u.then!="function"?dr(u)?Promise.all(u).then(n,i):n(u):u.then(n,i)}}return o(e)()}function dj(t,e,r){var n=arguments.length;if(n<2)throw new ge.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];r=i.pop();var o=Bx(i);return[t,o,r]}function xS(t,e,r,n,i){return ee.resolve().then(()=>{let o=le.transless||le,a=t._createTransaction(e,r,t._dbSchema,n),s={trans:a,transless:o};if(n)a.idbtrans=n.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(f){return f.name===jm.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>xS(t,e,r,null,i))):Ut(f)}let l=Pm(i);l&&xs();let u,c=ee.follow(()=>{if(u=i.call(a,a),u)if(l){var f=gi.bind(null,null);u.then(f,f)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=hg(u))},s);return(u&&typeof u.then=="function"?ee.resolve(u).then(f=>a.active?f:Ut(new ge.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>u)).then(f=>(n&&a._resolve(),a._completion.then(()=>f))).catch(f=>(a._reject(f),Ut(f)))})}function ad(t,e,r){let n=dr(t)?t.slice():[t];for(let i=0;i<r;++i)n.push(e);return n}function pj(t){return{...t,table(e){let r=t.table(e),{schema:n}=r,i={},o=[];function a(d,p,g){let m=yu(d),v=i[m]=i[m]||[],b=d==null?0:typeof d=="string"?1:d.length,E=p>0,w={...g,isVirtual:E,keyTail:p,keyLength:b,extractKey:ig(d),unique:!E&&g.unique};if(v.push(w),w.isPrimaryKey||o.push(w),b>1){let _=b===2?d[0]:d.slice(0,b-1);a(_,p+1,g)}return v.sort((_,S)=>_.keyTail-S.keyTail),w}let s=a(n.primaryKey.keyPath,0,n.primaryKey);i[":id"]=[s];for(let d of n.indexes)a(d.keyPath,0,d);function l(d){let p=i[yu(d)];return p&&p[0]}function u(d,p){return{type:d.type===1?2:d.type,lower:ad(d.lower,d.lowerOpen?t.MAX_KEY:t.MIN_KEY,p),lowerOpen:!0,upper:ad(d.upper,d.upperOpen?t.MIN_KEY:t.MAX_KEY,p),upperOpen:!0}}function c(d){let p=d.query.index;return p.isVirtual?{...d,query:{index:p,range:u(d.query.range,p.keyTail)}}:d}return{...r,schema:{...n,primaryKey:s,indexes:o,getIndexByKeyPath:l},count(d){return r.count(c(d))},query(d){return r.query(c(d))},openCursor(d){let{keyTail:p,isVirtual:g,keyLength:m}=d.query.index;if(!g)return r.openCursor(d);function v(b){function E(_){_!=null?b.continue(ad(_,d.reverse?t.MAX_KEY:t.MIN_KEY,p)):d.unique?b.continue(b.key.slice(0,m).concat(d.reverse?t.MIN_KEY:t.MAX_KEY,p)):b.continue()}return Object.create(b,{continue:{value:E},continuePrimaryKey:{value(_,S){b.continuePrimaryKey(ad(_,t.MAX_KEY,p),S)}},primaryKey:{get(){return b.primaryKey}},key:{get(){let _=b.key;return m===1?_[0]:_.slice(0,m)}},value:{get(){return b.value}}})}return r.openCursor(c(d)).then(b=>b&&v(b))}}}}}var hj={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:pj};function mg(t,e,r,n){return r=r||{},n=n||"",Lt(t).forEach(i=>{if(!qr(e,i))r[n+i]=void 0;else{var o=t[i],a=e[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){let s=Am(o),l=Am(a);s!==l?r[n+i]=e[i]:s==="Object"?mg(o,a,r,n+i+"."):o!==a&&(r[n+i]=e[i])}else o!==a&&(r[n+i]=e[i])}}),Lt(e).forEach(i=>{qr(t,i)||(r[n+i]=e[i])}),r}function mj(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var gj={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){let r=t.table(e),{primaryKey:n}=r.schema;return{...r,mutate(o){let a=le.trans,{deleting:s,creating:l,updating:u}=a.table(e).hook;switch(o.type){case"add":if(l.fire===at)break;return a._promise("readwrite",()=>c(o),!0);case"put":if(l.fire===at&&u.fire===at)break;return a._promise("readwrite",()=>c(o),!0);case"delete":if(s.fire===at)break;return a._promise("readwrite",()=>c(o),!0);case"deleteRange":if(s.fire===at)break;return a._promise("readwrite",()=>f(o),!0)}return r.mutate(o);function c(p){let g=le.trans,m=p.keys||mj(n,p);if(!m)throw new Error("Keys missing");return p=p.type==="add"||p.type==="put"?{...p,keys:m}:{...p},p.type!=="delete"&&(p.values=[...p.values]),p.keys&&(p.keys=[...p.keys]),yj(r,p,m).then(v=>{let b=m.map((E,w)=>{let _=v[w],S={onerror:null,onsuccess:null};if(p.type==="delete")s.fire.call(S,E,_,g);else if(p.type==="add"||_===void 0){let x=l.fire.call(S,E,p.values[w],g);E==null&&x!=null&&(E=x,p.keys[w]=E,n.outbound||bn(p.values[w],n.keyPath,E))}else{let x=mg(_,p.values[w]),k=u.fire.call(S,x,E,_,g);if(k){let C=p.values[w];Object.keys(k).forEach(D=>{qr(C,D)?C[D]=k[D]:bn(C,D,k[D])})}}return S});return r.mutate(p).then(({failures:E,results:w,numFailures:_,lastResult:S})=>{for(let x=0;x<m.length;++x){let k=w?w[x]:m[x],C=b[x];k==null?C.onerror&&C.onerror(E[x]):C.onsuccess&&C.onsuccess(p.type==="put"&&v[x]?p.values[x]:k)}return{failures:E,results:w,numFailures:_,lastResult:S}}).catch(E=>(b.forEach(w=>w.onerror&&w.onerror(E)),Promise.reject(E)))})}function f(p){return d(p.trans,p.range,1e4)}function d(p,g,m){return r.query({trans:p,values:!1,query:{index:n,range:g},limit:m}).then(({result:v})=>c({type:"delete",keys:v,trans:p}).then(b=>b.numFailures>0?Promise.reject(b.failures[0]):v.length<m?{failures:[],numFailures:0,lastResult:void 0}:d(p,{...g,lower:v[v.length-1],lowerOpen:!0},m)))}}}}})};function yj(t,e,r){return e.type==="add"?Promise.resolve([]):t.getMany({trans:e.trans,keys:r,cache:"immutable"})}function SS(t,e,r){try{if(!e||e.keys.length<t.length)return null;let n=[];for(let i=0,o=0;i<e.keys.length&&o<t.length;++i)kr(e.keys[i],t[o])===0&&(n.push(r?nu(e.values[i]):e.values[i]),++o);return n.length===t.length?n:null}catch{return null}}var vj={stack:"dbcore",level:-1,create:t=>({table:e=>{let r=t.table(e);return{...r,getMany:n=>{if(!n.cache)return r.getMany(n);let i=SS(n.keys,n.trans._cache,n.cache==="clone");return i?ee.resolve(i):r.getMany(n).then(o=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?nu(o):o},o))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),r.mutate(n))}}})};function gg(t){return!("from"in t)}var vi=function(t,e){if(this)Er(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0});else{let r=new vi;return t&&"d"in t&&Er(r,t),r}};ys(vi.prototype,{add(t){return sd(this,t),this},addKey(t){return vu(this,t,t),this},addKeys(t){return t.forEach(e=>vu(this,e,e)),this},[Im](){return yg(this)}});function vu(t,e,r){let n=kr(e,r);if(isNaN(n))return;if(n>0)throw RangeError();if(gg(t))return Er(t,{from:e,to:r,d:1});let i=t.l,o=t.r;if(kr(r,t.from)<0)return i?vu(i,e,r):t.l={from:e,to:r,d:1,l:null,r:null},ES(t);if(kr(e,t.to)>0)return o?vu(o,e,r):t.r={from:e,to:r,d:1,l:null,r:null},ES(t);kr(e,t.from)<0&&(t.from=e,t.l=null,t.d=o?o.d+1:1),kr(r,t.to)>0&&(t.to=r,t.r=null,t.d=t.l?t.l.d+1:1);let a=!t.r;i&&!t.l&&sd(t,i),o&&a&&sd(t,o)}function sd(t,e){function r(n,{from:i,to:o,l:a,r:s}){vu(n,i,o),a&&r(n,a),s&&r(n,s)}gg(e)||r(t,e)}function _j(t,e){let r=yg(e),n=r.next();if(n.done)return!1;let i=n.value,o=yg(t),a=o.next(i.from),s=a.value;for(;!n.done&&!a.done;){if(kr(s.from,i.to)<=0&&kr(s.to,i.from)>=0)return!0;kr(i.from,s.from)<0?i=(n=r.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}function yg(t){let e=gg(t)?null:{s:0,n:t};return{next(r){let n=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&kr(r,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||kr(r,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function ES(t){var e,r;let n=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((r=t.l)===null||r===void 0?void 0:r.d)||0),i=n>1?"r":n<-1?"l":"";if(i){let o=i==="r"?"l":"r",a={...t},s=t[i];t.from=s.from,t.to=s.to,t[i]=s[i],a[i]=s[o],t[o]=a,a.d=kS(a)}t.d=kS(t)}function kS({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}var bj={stack:"dbcore",level:0,create:t=>{let e=t.schema.name,r=new vi(t.MIN_KEY,t.MAX_KEY);return{...t,table:n=>{let i=t.table(n),{schema:o}=i,{primaryKey:a}=o,{extractKey:s,outbound:l}=a,u={...i,mutate:d=>{let p=d.trans,g=p.mutatedParts||(p.mutatedParts={}),m=x=>{let k=`idb://${e}/${n}/${x}`;return g[k]||(g[k]=new vi)},v=m(""),b=m(":dels"),{type:E}=d,[w,_]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[],S=d.trans._cache;return i.mutate(d).then(x=>{if(dr(w)){E!=="delete"&&(w=x.results),v.addKeys(w);let k=SS(w,S);!k&&E!=="add"&&b.addKeys(w),(k||_)&&wj(m,o,k,_)}else if(w){let k={from:w.lower,to:w.upper};b.add(k),v.add(k)}else v.add(r),b.add(r),o.indexes.forEach(k=>m(k.name).add(r));return x})}},c=({query:{index:d,range:p}})=>{var g,m;return[d,new vi((g=p.lower)!==null&&g!==void 0?g:t.MIN_KEY,(m=p.upper)!==null&&m!==void 0?m:t.MAX_KEY)]},f={get:d=>[a,new vi(d.key)],getMany:d=>[a,new vi().addKeys(d.keys)],count:c,query:c,openCursor:c};return Lt(f).forEach(d=>{u[d]=function(p){let{subscr:g}=le;if(g){let m=_=>{let S=`idb://${e}/${n}/${_}`;return g[S]||(g[S]=new vi)},v=m(""),b=m(":dels"),[E,w]=f[d](p);if(m(E.name||"").add(w),!E.isPrimaryKey)if(d==="count")b.add(r);else{let _=d==="query"&&l&&p.values&&i.query({...p,values:!1});return i[d].apply(this,arguments).then(S=>{if(d==="query"){if(l&&p.values)return _.then(({result:k})=>(v.addKeys(k),S));let x=p.values?S.result.map(s):S.result;p.values?v.addKeys(x):b.addKeys(x)}else if(d==="openCursor"){let x=S,k=p.values;return x&&Object.create(x,{key:{get(){return b.addKey(x.primaryKey),x.key}},primaryKey:{get(){let C=x.primaryKey;return b.addKey(C),C}},value:{get(){return k&&v.addKey(x.primaryKey),x.value}}})}return S})}}return i[d].apply(this,arguments)}}),u}}}};function wj(t,e,r,n){function i(o){let a=t(o.name||"");function s(u){return u!=null?o.extractKey(u):null}let l=u=>o.multiEntry&&dr(u)?u.forEach(c=>a.addKey(c)):a.addKey(u);(r||n).forEach((u,c)=>{let f=r&&s(r[c]),d=n&&s(n[c]);kr(f,d)!==0&&(f!=null&&l(f),d!=null&&l(d))})}e.indexes.forEach(i)}var _i=class{constructor(e,r){this._middlewares={},this.verno=0;let n=_i.dependencies;this._options=r={addons:_i.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};let{addons:i}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;let o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:at,dbReadyPromise:null,cancelOpen:at,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};o.dbReadyPromise=new ee(a=>{o.dbReadyResolve=a}),o.openCanceller=new ee((a,s)=>{o.cancelOpen=s}),this._state=o,this.name=e,this.on=du(this,"populate","blocked","versionchange","close",{ready:[Rm,at]}),this.on.ready.subscribe=Rx(this.on.ready.subscribe,a=>(s,l)=>{_i.vip(()=>{let u=this._state;if(u.openComplete)u.dbOpenError||ee.resolve().then(s),l&&a(s);else if(u.onReadyBeingFired)u.onReadyBeingFired.push(s),l&&a(s);else{a(s);let c=this;l||a(function f(){c.on.ready.unsubscribe(s),c.on.ready.unsubscribe(f)})}})}),this.Collection=LF(this),this.Table=FF(this),this.Transaction=HF(this),this.Version=aj(this),this.WhereClause=zF(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=gu(r.IDBKeyRange),this._createTransaction=(a,s,l,u)=>new this.Transaction(a,s,l,this._options.chromeTransactionDurability,u),this._fireOnBlocked=a=>{this.on("blocked").fire(a),fu.filter(s=>s.name===this.name&&s!==this&&!s._state.vcFired).map(s=>s.on("versionchange").fire(a))},this.use(hj),this.use(gj),this.use(bj),this.use(vj),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(e){if(isNaN(e)||e<.1)throw new ge.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new ge.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);let r=this._versions;var n=r.filter(i=>i._cfg.version===e)[0];return n||(n=new this.Version(e),r.push(n),r.sort(XF),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||le.letThrough||this._vip)?e():new ee((r,n)=>{if(this._state.openComplete)return n(new ge.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen){n(new ge.DatabaseClosed);return}this.open().catch(at)}this._state.dbReadyPromise.then(r,n)}).then(e)}use({stack:e,create:r,level:n,name:i}){i&&this.unuse({stack:e,name:i});let o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:r,level:n??10,name:i}),o.sort((a,s)=>a.level-s.level),this}unuse({stack:e,name:r,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(i=>n?i.create!==n:r?i.name!==r:!1)),this}open(){return fj(this)}_close(){let e=this._state,r=fu.indexOf(this);if(r>=0&&fu.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new ee(n=>{e.dbReadyResolve=n}),e.openCanceller=new ee((n,i)=>{e.cancelOpen=i})}close(){this._close();let e=this._state;this._options.autoOpen=!1,e.dbOpenError=new ge.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){let e=arguments.length>0,r=this._state;return new ee((n,i)=>{let o=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=yt(()=>{uj(this._deps,this.name),n()}),a.onerror=zn(i),a.onblocked=this._fireOnBlocked};if(e)throw new ge.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){let e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Lt(this._allTables).map(e=>this._allTables[e])}transaction(){let e=dj.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,r,n){let i=le.trans;(!i||i.db!==this||e.indexOf("!")!==-1)&&(i=null);let o=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");let a,s;try{if(s=r.map(u=>{var c=u instanceof this.Table?u.name:u;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),e=="r"||e===Jm)a=Jm;else if(e=="rw"||e==Xm)a=Xm;else throw new ge.InvalidArgument("Invalid transaction mode: "+e);if(i){if(i.mode===Jm&&a===Xm)if(o)i=null;else throw new ge.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i&&s.forEach(u=>{if(i&&i.storeNames.indexOf(u)===-1)if(o)i=null;else throw new ge.SubTransaction("Table "+u+" not included in parent transaction.")}),o&&i&&!i.active&&(i=null)}}catch(u){return i?i._promise(null,(c,f)=>{f(u)}):Ut(u)}let l=xS.bind(null,this,a,s,i,n);return i?i._promise(a,l,"lock"):le.trans?Ss(le.transless,()=>this._whenReady(l)):this._whenReady(l)}table(e){if(!qr(this._allTables,e))throw new ge.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}},xj=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",CS=class{constructor(e){this._subscribe=e}subscribe(e,r,n){return this._subscribe(!e||typeof e=="function"?{next:e,error:r,complete:n}:e)}[xj](){return this}};function DS(t,e){return Lt(e).forEach(r=>{let n=t[r]||(t[r]=new vi);sd(n,e[r])}),t}function Sj(t){return new CS(e=>{let r=Pm(t);function n(p){r&&xs();let g=()=>io(t,{subscr:p,trans:null}),m=le.trans?Ss(le.transless,g):g();return r&&m.then(gi,gi),m}let i=!1,o={},a={},s={get closed(){return i},unsubscribe:()=>{i=!0,lo.storagemutated.unsubscribe(f)}};e.start&&e.start(s);let l=!1,u=!1;function c(){return Lt(a).some(p=>o[p]&&_j(o[p],a[p]))}let f=p=>{DS(o,p),c()&&d()},d=()=>{if(l||i)return;o={};let p={},g=n(p);u||(lo(mu,f),u=!0),l=!0,Promise.resolve(g).then(m=>{l=!1,!i&&(c()?d():(o={},a=p,e.next&&e.next(m)))},m=>{l=!1,e.error&&e.error(m),s.unsubscribe()})};return d(),s})}var vg;try{vg={indexedDB:dt.indexedDB||dt.mozIndexedDB||dt.webkitIndexedDB||dt.msIndexedDB,IDBKeyRange:dt.IDBKeyRange||dt.webkitIDBKeyRange}}catch{vg={indexedDB:null,IDBKeyRange:null}}var sa=_i;ys(sa,{...qf,delete(t){return new sa(t,{addons:[]}).delete()},exists(t){return new sa(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1)},getDatabaseNames(t){try{return sj(sa.dependencies).then(t)}catch{return Ut(new ge.MissingAPI)}},defineClass(){function t(e){Er(this,e)}return t},ignoreTransaction(t){return le.trans?Ss(le.transless,t):t()},vip:pg,async:function(t){return function(){try{var e=hg(t.apply(this,arguments));return!e||typeof e.then!="function"?ee.resolve(e):e}catch(r){return Ut(r)}}},spawn:function(t,e,r){try{var n=hg(t.apply(r,e||[]));return!n||typeof n.then!="function"?ee.resolve(n):n}catch(i){return Ut(i)}},currentTransaction:{get:()=>le.trans||null},waitFor:function(t,e){let r=ee.resolve(typeof t=="function"?sa.ignoreTransaction(t):t).timeout(e||6e4);return le.trans?le.trans.waitFor(r):r},Promise:ee,debug:{get:()=>Un,set:t=>{Vx(t,t==="dexie"?()=>!0:sS)}},derive:vs,extend:Er,props:ys,override:Rx,Events:du,on:lo,liveQuery:Sj,extendObservabilitySet:DS,getByKeyPath:hi,setByKeyPath:bn,delByKeyPath:aF,shallowClone:$x,deepClone:nu,getObjectDiff:mg,cmp:kr,asap:Nx,minKey:Ym,addons:[],connections:fu,errnames:jm,dependencies:vg,semVer:oS,version:oS.split(".").map(t=>parseInt(t)).reduce((t,e,r)=>t+e/Math.pow(10,r*2))});sa.maxKey=gu(sa.dependencies.IDBKeyRange);typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(lo(mu,t=>{if(!bi){let e;Zf?(e=document.createEvent("CustomEvent"),e.initCustomEvent(so,!0,!0,t)):e=new CustomEvent(so,{detail:t}),bi=!0,dispatchEvent(e),bi=!1}}),addEventListener(so,({detail:t})=>{bi||ld(t)}));function ld(t){let e=bi;try{bi=!0,lo.storagemutated.fire(t)}finally{bi=e}}var bi=!1;if(typeof BroadcastChannel!="undefined"){let t=new BroadcastChannel(so);lo(mu,e=>{bi||t.postMessage(e)}),t.onmessage=e=>{e.data&&ld(e.data)}}else if(typeof self!="undefined"&&typeof navigator!="undefined"){lo(mu,e=>{try{bi||(typeof localStorage!="undefined"&&localStorage.setItem(so,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:so,changedParts:e})))}catch{}}),typeof addEventListener!="undefined"&&addEventListener("storage",e=>{if(e.key===so){let r=JSON.parse(e.newValue);r&&ld(r.changedParts)}});let t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",Ej)}function Ej({data:t}){t&&t.type===so&&ld(t.changedParts)}ee.rejectionMapper=mF;Vx(Un,sS);y();y();function Jt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}y();y();function be(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ud(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ud=function(r){return typeof r}:ud=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ud(t)}function Qe(t){be(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||ud(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}y();function _g(t,e){be(2,arguments);var r=Qe(t).getTime(),n=Jt(e);return new Date(r+n)}y();var kj={};function Hn(){return kj}y();y();function wi(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}y();function cd(t){be(1,arguments);var e=Qe(t);return e.setHours(0,0,0,0),e}var Cj=864e5;function bg(t,e){be(2,arguments);var r=cd(t),n=cd(e),i=r.getTime()-wi(r),o=n.getTime()-wi(n);return Math.round((i-o)/Cj)}y();var Dj=365.2425,Tj=Math.pow(10,8)*24*60*60*1e3,_u=6e4,wg=36e5;var dJ=-Tj;var Oj=3600;var TS=Oj*24,pJ=TS*7,Aj=TS*Dj,Ij=Aj/12,hJ=Ij*3;y();y();function fd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fd=function(r){return typeof r}:fd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fd(t)}function xg(t){return be(1,arguments),t instanceof Date||fd(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Sg(t){if(be(1,arguments),!xg(t)&&typeof t!="number")return!1;var e=Qe(t);return!isNaN(Number(e))}y();function Eg(t,e){return be(2,arguments),Qe(t).getTime()-Qe(e).getTime()}y();var OS={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Pj="trunc";function AS(t){return t?OS[t]:OS[Pj]}y();function uo(t,e,r){be(2,arguments);var n=Eg(t,e)/_u;return AS(r==null?void 0:r.roundingMethod)(n)}y();y();function Cs(t,e){be(2,arguments);var r=Jt(e);return _g(t,-r)}y();y();var Mj=864e5;function kg(t){be(1,arguments);var e=Qe(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/Mj)+1}y();y();function co(t){be(1,arguments);var e=1,r=Qe(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}y();y();function bu(t){be(1,arguments);var e=Qe(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=co(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var a=co(o);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function Cg(t){be(1,arguments);var e=bu(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=co(r);return n}var Fj=6048e5;function Dg(t){be(1,arguments);var e=Qe(t),r=co(e).getTime()-Cg(e).getTime();return Math.round(r/Fj)+1}y();y();function fo(t,e){var r,n,i,o,a,s,l,u;be(1,arguments);var c=Hn(),f=Jt((r=(n=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Qe(t),p=d.getUTCDay(),g=(p<f?7:0)+p-f;return d.setUTCDate(d.getUTCDate()-g),d.setUTCHours(0,0,0,0),d}y();y();function wu(t,e){var r,n,i,o,a,s,l,u;be(1,arguments);var c=Qe(t),f=c.getUTCFullYear(),d=Hn(),p=Jt((r=(n=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,p),g.setUTCHours(0,0,0,0);var m=fo(g,e),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var b=fo(v,e);return c.getTime()>=m.getTime()?f+1:c.getTime()>=b.getTime()?f:f-1}function Tg(t,e){var r,n,i,o,a,s,l,u;be(1,arguments);var c=Hn(),f=Jt((r=(n=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),d=wu(t,e),p=new Date(0);p.setUTCFullYear(d,0,f),p.setUTCHours(0,0,0,0);var g=fo(p,e);return g}var jj=6048e5;function Og(t,e){be(1,arguments);var r=Qe(t),n=fo(r,e).getTime()-Tg(r,e).getTime();return Math.round(n/jj)+1}y();function Ve(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}y();var Rj={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Ve(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):Ve(n+1,2)},d:function(e,r){return Ve(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return Ve(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Ve(e.getUTCHours(),r.length)},m:function(e,r){return Ve(e.getUTCMinutes(),r.length)},s:function(e,r){return Ve(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,n-3));return Ve(o,r.length)}},xi=Rj;var Ds={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Nj={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return n.ordinalNumber(o,{unit:"year"})}return xi.y(e,r)},Y:function(e,r,n,i){var o=wu(e,i),a=o>0?o:1-o;if(r==="YY"){var s=a%100;return Ve(s,2)}return r==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ve(a,r.length)},R:function(e,r){var n=bu(e);return Ve(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return Ve(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return Ve(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return Ve(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return xi.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return Ve(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var o=Og(e,i);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):Ve(o,r.length)},I:function(e,r,n){var i=Dg(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):Ve(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):xi.d(e,r)},D:function(e,r,n){var i=kg(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ve(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return Ve(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return Ve(a,r.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),o=i===0?7:i;switch(r){case"i":return String(o);case"ii":return Ve(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),o;switch(i===12?o=Ds.noon:i===0?o=Ds.midnight:o=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),o;switch(i>=17?o=Ds.evening:i>=12?o=Ds.afternoon:i>=4?o=Ds.morning:o=Ds.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return xi.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):xi.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ve(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ve(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):xi.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):xi.s(e,r)},S:function(e,r){return xi.S(e,r)},X:function(e,r,n,i){var o=i._originalDate||e,a=o.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return PS(a);case"XXXX":case"XX":return la(a);case"XXXXX":case"XXX":default:return la(a,":")}},x:function(e,r,n,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(r){case"x":return PS(a);case"xxxx":case"xx":return la(a);case"xxxxx":case"xxx":default:return la(a,":")}},O:function(e,r,n,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+IS(a,":");case"OOOO":default:return"GMT"+la(a,":")}},z:function(e,r,n,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+IS(a,":");case"zzzz":default:return"GMT"+la(a,":")}},t:function(e,r,n,i){var o=i._originalDate||e,a=Math.floor(o.getTime()/1e3);return Ve(a,r.length)},T:function(e,r,n,i){var o=i._originalDate||e,a=o.getTime();return Ve(a,r.length)}};function IS(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),o=n%60;if(o===0)return r+String(i);var a=e||"";return r+String(i)+a+Ve(o,2)}function PS(t,e){if(t%60==0){var r=t>0?"-":"+";return r+Ve(Math.abs(t)/60,2)}return la(t,e)}function la(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),o=Ve(Math.floor(i/60),2),a=Ve(i%60,2);return n+o+r+a}var MS=Nj;y();var FS=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},jS=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Lj=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],o=n[2];if(!o)return FS(e,r);var a;switch(i){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",FS(i,r)).replace("{{time}}",jS(o,r))},$j={p:jS,P:Lj},RS=$j;y();var Bj=["D","DD"],qj=["YY","YYYY"];function NS(t){return Bj.indexOf(t)!==-1}function LS(t){return qj.indexOf(t)!==-1}function Ag(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}y();y();y();var Vj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Uj=function(e,r,n){var i,o=Vj[e];return typeof o=="string"?i=o:r===1?i=o.one:i=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i},$S=Uj;y();y();function xu(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var zj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Kj={date:xu({formats:zj,defaultWidth:"full"}),time:xu({formats:Hj,defaultWidth:"full"}),dateTime:xu({formats:Wj,defaultWidth:"full"})},BS=Kj;y();var Gj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qj=function(e,r,n,i){return Gj[e]},qS=Qj;y();y();function ua(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{var s=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[s]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Yj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rR=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},nR={ordinalNumber:rR,era:ua({values:Yj,defaultWidth:"wide"}),quarter:ua({values:Jj,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ua({values:Xj,defaultWidth:"wide"}),day:ua({values:Zj,defaultWidth:"wide"}),dayPeriod:ua({values:eR,defaultWidth:"wide",formattingValues:tR,defaultFormattingWidth:"wide"})},VS=nR;y();y();function ca(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var a=o[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?oR(s,function(f){return f.test(a)}):iR(s,function(f){return f.test(a)}),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var c=e.slice(a.length);return{value:u,rest:c}}}function iR(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function oR(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}y();function Ig(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],o=e.match(t.parsePattern);if(!o)return null;var a=t.valueCallback?t.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;var s=e.slice(i.length);return{value:a,rest:s}}}var aR=/^(\d+)(th|st|nd|rd)?/i,sR=/\d+/i,lR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uR={any:[/^b/i,/^(a|c)/i]},cR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fR={any:[/1/i,/2/i,/3/i,/4/i]},dR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vR={ordinalNumber:Ig({matchPattern:aR,parsePattern:sR,valueCallback:function(e){return parseInt(e,10)}}),era:ca({matchPatterns:lR,defaultMatchWidth:"wide",parsePatterns:uR,defaultParseWidth:"any"}),quarter:ca({matchPatterns:cR,defaultMatchWidth:"wide",parsePatterns:fR,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ca({matchPatterns:dR,defaultMatchWidth:"wide",parsePatterns:pR,defaultParseWidth:"any"}),day:ca({matchPatterns:hR,defaultMatchWidth:"wide",parsePatterns:mR,defaultParseWidth:"any"}),dayPeriod:ca({matchPatterns:gR,defaultMatchWidth:"any",parsePatterns:yR,defaultParseWidth:"any"})},US=vR;var _R={code:"en-US",formatDistance:$S,formatLong:BS,formatRelative:qS,localize:VS,match:US,options:{weekStartsOn:0,firstWeekContainsDate:1}},zS=_R;var dd=zS;var bR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xR=/^'([^]*?)'?$/,SR=/''/g,ER=/[a-zA-Z]/;function po(t,e,r){var n,i,o,a,s,l,u,c,f,d,p,g,m,v,b,E,w,_;be(2,arguments);var S=String(e),x=Hn(),k=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:x.locale)!==null&&n!==void 0?n:dd,C=Jt((o=(a=(s=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:x.firstWeekContainsDate)!==null&&a!==void 0?a:(f=x.locale)===null||f===void 0||(d=f.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=Jt((p=(g=(m=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(b=r.locale)===null||b===void 0||(E=b.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&m!==void 0?m:x.weekStartsOn)!==null&&g!==void 0?g:(w=x.locale)===null||w===void 0||(_=w.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&p!==void 0?p:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var T=Qe(t);if(!Sg(T))throw new RangeError("Invalid time value");var A=wi(T),R=Cs(T,A),M={firstWeekContainsDate:C,weekStartsOn:D,locale:k,_originalDate:T},j=S.match(wR).map(function(I){var L=I[0];if(L==="p"||L==="P"){var O=RS[L];return O(I,k.formatLong)}return I}).join("").match(bR).map(function(I){if(I==="''")return"'";var L=I[0];if(L==="'")return kR(I);var O=MS[L];if(O)return!(r!=null&&r.useAdditionalWeekYearTokens)&&LS(I)&&Ag(I,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&NS(I)&&Ag(I,e,String(t)),O(R,I,k.localize,M);if(L.match(ER))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return I}).join("");return j}function kR(t){var e=t.match(xR);return e?e[1].replace(SR,"'"):t}y();function pd(t,e,r){var n,i,o,a,s,l,u,c,f,d;be(2,arguments);var p=Qe(t),g=Qe(e),m=Hn(),v=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:m.locale)!==null&&n!==void 0?n:dd,b=Jt((o=(a=(s=(l=r==null?void 0:r.weekStartsOn)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&s!==void 0?s:m.weekStartsOn)!==null&&a!==void 0?a:(f=m.locale)===null||f===void 0||(d=f.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&o!==void 0?o:0);if(!v.localize)throw new RangeError("locale must contain localize property");if(!v.formatLong)throw new RangeError("locale must contain formatLong property");if(!v.formatRelative)throw new RangeError("locale must contain formatRelative property");var E=bg(p,g);if(isNaN(E))throw new RangeError("Invalid time value");var w;E<-6?w="other":E<-1?w="lastWeek":E<0?w="yesterday":E<1?w="today":E<2?w="tomorrow":E<7?w="nextWeek":w="other";var _=Cs(p,wi(p)),S=Cs(g,wi(g)),x=v.formatRelative(w,_,S,{locale:v,weekStartsOn:b});return po(p,x,{locale:v,weekStartsOn:b})}y();function Su(t,e){var r;be(1,arguments);var n=Jt((r=e==null?void 0:e.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=OR(t),o;if(i.date){var a=AR(i.date,n);o=IR(a.restDateString,a.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var s=o.getTime(),l=0,u;if(i.time&&(l=PR(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=MR(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(s+l),f=new Date(0);return f.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),f.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),f}return new Date(s+l+u)}var hd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},CR=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,DR=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,TR=/^([+-])(\d{2})(?::?(\d{2}))?$/;function OR(t){var e={},r=t.split(hd.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],hd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(hd.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var i=hd.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function AR(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((n[1]||n[2]).length)}}function IR(t,e){if(e===null)return new Date(NaN);var r=t.match(CR);if(!r)return new Date(NaN);var n=!!r[4],i=Eu(r[1]),o=Eu(r[2])-1,a=Eu(r[3]),s=Eu(r[4]),l=Eu(r[5])-1;if(n)return LR(e,s,l)?FR(e,s,l):new Date(NaN);var u=new Date(0);return!RR(e,o,a)||!NR(e,i)?new Date(NaN):(u.setUTCFullYear(e,o,Math.max(i,a)),u)}function Eu(t){return t?parseInt(t):1}function PR(t){var e=t.match(DR);if(!e)return NaN;var r=Pg(e[1]),n=Pg(e[2]),i=Pg(e[3]);return $R(r,n,i)?r*wg+n*_u+i*1e3:NaN}function Pg(t){return t&&parseFloat(t.replace(",","."))||0}function MR(t){if(t==="Z")return 0;var e=t.match(TR);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return BR(n,i)?r*(n*wg+i*_u):NaN}function FR(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,o=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+o),n}var jR=[31,null,31,30,31,30,31,31,30,31,30,31];function HS(t){return t%400==0||t%4==0&&t%100!=0}function RR(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(jR[e]||(HS(t)?29:28))}function NR(t,e){return e>=1&&e<=(HS(t)?366:365)}function LR(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function $R(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function BR(t,e){return e>=0&&e<=59}var md=class extends _i{constructor(e,r=1){super(e);this.version(r).stores({messages:"id, expression, timestamp",profile:"id, expression, timestamp",ui:"id, data, timestamp"})}},Mg=class{constructor(e,r=1){this.db=new md(e,r)}async save(e,r){await this.db.profile.put({id:e,expression:r,timestamp:new Date})}async get(e){let r=await this.db.profile.get(e),n=new Date;if(r&&uo(n,r.timestamp)<=1)return r.expression}},Fg=class{constructor(e,r=1){this.db=new md(e,r)}async save(e,r){await this.db.messages.put({id:e,expression:r,timestamp:new Date})}async saveAll(e){let r=e.map(n=>({id:n.id,expression:n,timestamp:new Date}));await this.db.messages.bulkPut(r)}async get(e){let r=await this.db.messages.get(e),n=new Date;if(r&&uo(n,r.timestamp)<=5)return r.expression}async getAll(){return(await this.db.messages.toArray()).reduce((r,n)=>{let i=new Date;return n&&uo(i,n.timestamp)<=5?{...r,[n.id]:n.expression}:r},{})}},jg=class{constructor(e,r=1){this.db=new md(e,r)}async save(e,r){await this.db.ui.put({id:e,data:r})}async get(e){let r=await this.db.ui.get(e);if(r)return r.data}};y();var WS=$r(hn());async function KS({perspectiveUuid:t,messageUrl:e}){try{return await Ce.perspective.addLink(t,new WS.Link({source:e,target:Ex,predicate:Zl}))}catch(r){throw new Error(r)}}var GS={state:{isFetchingMessages:!1,keyedMessages:{},scrollPosition:0,hasNewMessage:!1,isMessageFromSelf:!1,showLoadMore:!0},methods:{loadMore:()=>null,sendReply:()=>null,removeReaction:()=>null,addReaction:()=>null,sendMessage:()=>null,saveScrollPos:()=>null,setHasNewMessage:()=>null,setIsMessageFromSelf:()=>null,hideMessageEmbeds:()=>null}},QS=rr(GS),Rg,YS;function Ng({perspectiveUuid:t,children:e,channelId:r}){let[n,i]=Oe(""),o=ft(),a=ft(),[s,l]=Oe(GS.state),[u,c]=Oe(),f=ft(!1);me(()=>{d()},[]),me(()=>{r&&(Rg=new jg(`${t}://${r}`),YS=new Fg(`${t}://${r}`))},[r]);async function d(){let O=await Vn();c({...O})}let p=Fx(s.keyedMessages,"asc");me(()=>{t&&r&&(Rg.get("scroll-position").then(O=>{l($=>({...$,scrollPosition:parseInt(O)}))}),k({again:!1}))},[t,r,u]),me(()=>(t&&g(),()=>{a.current?.removeListener("link-added",S),a.current?.removeListener("link-removed",S)}),[t]);async function g(){a.current=await Nf({perspectiveUuid:t,added:S,removed:x})}me(()=>{YS.saveAll(Object.values(s.keyedMessages))},[JSON.stringify(s.keyedMessages)]),me(()=>{Rg.save("scroll-position",s.scrollPosition)},[s.scrollPosition]);async function m(){let{languages:O}=await eu(t);i(O[Lf])}function v(O,$){return{...O,hasNewMessage:!0,keyedMessages:{...O.keyedMessages,[$.id]:{...$,isNeighbourhoodCardHidden:!1}}}}function b(O){let $=O.data.source;l(q=>{let V=q.keyedMessages[$];if(V){let U=V.reactions.find(K=>K.content===O.data.target&&K.author===O.author);return console.log({linkFound:U,link:O,message:V}),U?q:{...q,keyedMessages:{...q.keyedMessages,[$]:{...V,reactions:[...V.reactions,{author:O.author,content:O.data.target.replace("emoji://",""),timestamp:O.timestamp}]}}}}return q})}function E(O){let $=O.data.source;l(q=>{let V=q.keyedMessages[$];if(!V)return q;function U(K,fe){return!(K.author===fe.author&&K.content===fe.data.target.replace("emoji://",""))}return{...q,keyedMessages:{...q.keyedMessages,[$]:{...V,reactions:V.reactions.filter(K=>U(K,O))}}}})}function w(O,$,q){return{...O,hasNewMessage:!1,keyedMessages:{...O.keyedMessages,[$]:{...O.keyedMessages[$],isNeighbourhoodCardHidden:q}}}}function _(O,$,q){return{...O,hasNewMessage:!1,keyedMessages:{...O.keyedMessages,[$]:{...O.keyedMessages[$],replyUrl:q}}}}async function S(O){console.log("Got message link",O);let $=await Vn();if(!(O.author===$.did)){if(ro.message(O)&&await Ce.perspective.queryProlog(t,`triple("${r}", "${fi}", "${O.data.target}").`)){let U=ea(O);U&&(l(K=>v(K,U)),l(K=>({...K,isMessageFromSelf:!1})))}if(ro.reaction(O)&&b(O),ro.reply(O)&&await Ce.perspective.queryProlog(t,`triple("${r}", "${fi}", "${O.data.source}").`)){let U=ea(O);l(K=>v(K,U)),l(K=>({...K,isMessageFromSelf:!1}))}if(ro.hideNeighbourhoodCard(O)){let V=O.data.source;l(U=>w(U,V,!0))}}}async function x(O){O.data.predicate===qn&&E(O)}async function k(O){console.log("Fetch messages with from: ",O.from,"and to: ",O.to),l(U=>({...U,isFetchingMessages:!0}));let $={...s.keyedMessages},{keyedMessages:q,expressionLinkLength:V}=await Sx({perspectiveUuid:t,channelId:r,from:O?.from,to:O?.to});l(U=>({...U,keyedMessages:{...U.keyedMessages,...q}})),l(U=>({...U,showLoadMore:V===35,isFetchingMessages:!1}))}async function C(O){let $=await Cx({perspectiveUuid:t,lastMessage:r,message:O});l(q=>v(q,$))}async function D(O,$){let q=await Mx({perspectiveUuid:t,message:O,replyUrl:$,channelId:r});l(V=>v(V,q))}async function T(O){let q=(await KS({perspectiveUuid:t,messageUrl:O})).data.source;l(V=>w(V,q,!0))}async function A(O,$){console.log("addReaction");let q=await Px({perspectiveUuid:t,messageUrl:O,reaction:$});b(q)}function R(O){l($=>({...$,isMessageFromSelf:O}))}async function M(O){console.log("removeReaction",O),await Ax({perspectiveUuid:t,linkExpression:O}),E(O)}async function j(){let O=p[0];console.log("Loading more messages with oldest timestamp",O),k({from:O?new Date(O.timestamp):new Date,again:!1})}function I(O){l($=>({...$,scrollPosition:O}))}function L(O){l($=>({...$,hasNewMessage:O}))}return Rt.createElement(QS.Provider,{value:{state:{...s,messages:p},methods:{loadMore:j,sendMessage:C,addReaction:A,sendReply:D,removeReaction:M,saveScrollPos:I,setHasNewMessage:L,setIsMessageFromSelf:R,hideMessageEmbeds:T}}},e)}var fa=QS;y();y();y();y();var JS="sioc://has_username",XS="sioc://has_given_name",ZS="sioc://has_family_name";var eE="sioc://has_profile_thumbnail_image",tE="flux://profile",rE="sioc://has_email",nE="sioc://has_bio";async function iE(t){return new Promise(async(e,r)=>{setTimeout(()=>{e("")},1e3);try{let n=await Ce.expression.get(t);n&&e(n.data.slice(1,-1)),e("")}catch(n){console.error(n),e("")}})}async function ku(t){let e=t.replace("did://",""),r={username:"",bio:"",email:"",profileBg:"",profilePicture:"",thumbnailPicture:"",givenName:"",familyName:"",did:e},n=await Ce.agent.byDID(e);if(n){let i=n.perspective.links,o=new Mg("flux://profile",1),a=await o.get(e);if(a)return a;for(let s of i.filter(l=>l.data.source===tE))switch(s.data.predicate){case JS:r.username=s.data.target;break;case nE:r.username=s.data.target;break;case XS:r.givenName=s.data.target;break;case ZS:r.familyName=s.data.target;break;case eE:r.thumbnailPicture=s.data.target;break;case rE:r.email=s.data.target;break;default:break}o.save(e,r)}return r}async function oE({perspectiveUuid:t,neighbourhoodUrl:e,addProfile:r}){try{let n=await Ce.perspective.queryProlog(t,`triple("${Ff}", "${Rf}", M).`);for(let i of n)ku(i.M).then(o=>{o&&r(o)})}catch(n){throw new Error(n)}}y();var aE=$r(hn());async function sE({perspectiveUuid:t,neighbourhoodUrl:e}){try{let r=await Ce.perspective.queryProlog(t,`link("${Ff}", "${jf}", C, T, A).`),n={};if(r)for(let i of r){let o=aE.Literal.fromUrl(i.C).get();n[o.data]={id:o.data,name:o.data,creatorDid:i.A}}return n}catch(r){throw new Error(r)}}var lE=$r(hn()),uE={state:{name:"",description:"",url:"",sourceUrl:"",languages:[],members:{},channels:{}},methods:{getProfile:t=>null}},cE=rr(uE);function Lg({perspectiveUuid:t,children:e}){let[r,n]=Oe(uE.state),i=ft();me(()=>{t&&u()},[t]),me(()=>{l(),s()},[r.url,r.sourceUrl]),me(()=>(t&&o(),()=>{i.current?.removeListener("link-added",a)}),[t]);async function o(){i.current=await Nf({perspectiveUuid:t,added:a})}async function a(f){if(console.log("handle link added",f),ro.channel(f)){let p={name:lE.Literal.fromUrl(f.data.target).get().data,description:"",id:f.data.target};n(g=>Object.values(g.channels).find(v=>v.name===f.data.target)?g:{...g,channels:{...g.channels,[p.id]:p}})}ro.member(f)&&await c(f.data.target)}let s=async()=>{if(r.url){let f=await oE({perspectiveUuid:t,neighbourhoodUrl:r.sourceUrl||r.url,addProfile:d=>n(p=>({...p,members:{...p.members,[d.did]:d}}))})}},l=async()=>{if(r.url){let f=await sE({perspectiveUuid:t,neighbourhoodUrl:r.sourceUrl||r.url});n((d,p)=>({...d,channels:f}))}};async function u(){let f=await eu(t);n({...r,name:f.name,description:f.description,url:f.url,sourceUrl:f.sourceUrl,members:{},channels:{}})}async function c(f){let d=f.split("://").length>1?f.split("://")[1]:f;if(r.members[d])return r.members[d];{let p=await ku(f);return p?(n(g=>({...g,members:{...g.members,[p.did]:p}})),p):null}}return Rt.createElement(cE.Provider,{value:{state:r,methods:{getProfile:c}}},e)}var Cu=cE;y();var fE={state:{did:"",isInitialized:!1,isUnlocked:!1},methods:{}},dE=rr(fE);function $g({children:t}){let[e,r]=Oe(fE.state);me(()=>{n()},[]);async function n(){let i=await Vn();r({...e,...i})}return Rt.createElement(dE.Provider,{value:{state:e,methods:{}}},t)}var Du=dE;y();oi();var pE={state:{currentReply:""},methods:{setCurrentReply:t=>null}},hE=rr(pE);function mE({children:t}){let[e,r]=Oe(pE.state);return h(hE.Provider,{value:{state:e,methods:{setCurrentReply(n){r({...e,currentReply:n})}}}},t)}var Ts=hE;y();y();y();y();y();y();function hr(t){this.content=t}hr.prototype={constructor:hr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),o=n.content.slice();return i==-1?o.push(r||t,e):(o[i+1]=e,r&&(o[i]=r)),new hr(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new hr(r)},addToStart:function(t,e){return new hr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new hr(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),o=n.find(t);return i.splice(o==-1?i.length:o,0,e,r),new hr(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=hr.from(t),t.size?new hr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=hr.from(t),t.size?new hr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=hr.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};hr.from=function(t){if(t instanceof hr)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new hr(e)};var Bg=hr;function gE(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),o=e.child(n);if(i==o){r+=i.nodeSize;continue}if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)r++;return r}if(i.content.size||o.content.size){let a=gE(i.content,o.content,r+1);if(a!=null)return a}r+=i.nodeSize}}function yE(t,e,r,n){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:r,b:n};let a=t.child(--i),s=e.child(--o),l=a.nodeSize;if(a==s){r-=l,n-=l;continue}if(!a.sameMarkup(s))return{a:r,b:n};if(a.isText&&a.text!=s.text){let u=0,c=Math.min(a.text.length,s.text.length);for(;u<c&&a.text[a.text.length-u-1]==s.text[s.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(a.content.size||s.content.size){let u=yE(a.content,s.content,r-1,n-1);if(u)return u}r-=l,n-=l}}var H=class{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,o){for(let a=0,s=0;s<r;a++){let l=this.content[a],u=s+l.nodeSize;if(u>e&&n(l,i+s,o||null,a)!==!1&&l.content.size){let c=s+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,r-c),n,i+c)}s=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let o="",a=!0;return this.nodesBetween(e,r,(s,l)=>{s.isText?(o+=s.text.slice(Math.max(e,l)-l,r-l),a=!n):s.isLeaf?(i?o+=typeof i=="function"?i(s):i:s.type.spec.leafText&&(o+=s.type.spec.leafText(s)),a=!n):!a&&s.isBlock&&(o+=n,a=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),o=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new H(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let o=0,a=0;a<r;o++){let s=this.content[o],l=a+s.nodeSize;l>e&&((a<e||l>r)&&(s.isText?s=s.cut(Math.max(0,e-a),Math.min(s.text.length,r-a)):s=s.cut(Math.max(0,e-a-1),Math.min(s.content.size,r-a-1))),n.push(s),i+=s.nodeSize),a=l}return new H(n,i)}cutByIndex(e,r){return e==r?H.empty:e==0&&r==this.content.length?this:new H(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),o=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new H(i,o)}addToStart(e){return new H([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new H(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return gE(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return yE(this,e,r,n)}findIndex(e,r=-1){if(e==0)return gd(0,e);if(e==this.size)return gd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let o=this.child(n),a=i+o.nodeSize;if(a>=e)return a==e||r>0?gd(n+1,a):gd(n,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return H.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new H(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return H.empty;let r,n=0;for(let i=0;i<e.length;i++){let o=e[i];n+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(r||(r=e.slice(0,i)),r[r.length-1]=o.withText(r[r.length-1].text+o.text)):r&&r.push(o)}return new H(r||e,n)}static from(e){if(!e)return H.empty;if(e instanceof H)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new H([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};H.empty=new H([],0);var qg={index:0,offset:0};function gd(t,e){return qg.index=t,qg.offset=e,qg}function yd(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!yd(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!yd(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}var Ne=class{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))r||(r=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(o)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&yd(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);return n.create(r.attrs)}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ne.none;if(e instanceof Ne)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};Ne.none=[];var da=class extends Error{},J=class{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=_E(this.content,e+this.openStart,r);return n&&new J(n,this.openStart,this.openEnd)}removeBetween(e,r){return new J(vE(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return J.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new J(H.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=e.lastChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.lastChild)i++;return new J(e,n,i)}};J.empty=new J(H.empty,0,0);function vE(t,e,r){let{index:n,offset:i}=t.findIndex(e),o=t.maybeChild(n),{index:a,offset:s}=t.findIndex(r);if(i==e||o.isText){if(s!=r&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(n,o.copy(vE(o.content,e-i-1,r-i-1)))}function _E(t,e,r,n){let{index:i,offset:o}=t.findIndex(e),a=t.maybeChild(i);if(o==e||a.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let s=_E(a.content,e-o-1,r);return s&&t.replaceChild(i,a.copy(s))}function qR(t,e,r){if(r.openStart>t.depth)throw new da("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new da("Inconsistent open depths");return bE(t,e,r,0)}function bE(t,e,r,n){let i=t.index(n),o=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let a=bE(t,e,r,n+1);return o.copy(o.content.replaceChild(i,a))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let a=t.parent,s=a.content;return ha(a,s.cut(0,t.parentOffset).append(r.content).append(s.cut(e.parentOffset)))}else{let{start:a,end:s}=VR(r,t);return ha(o,xE(t,a,s,e,n))}else return ha(o,vd(t,e,n))}function wE(t,e){if(!e.type.compatibleContent(t.type))throw new da("Cannot join "+e.type.name+" onto "+t.type.name)}function Vg(t,e,r){let n=t.node(r);return wE(n,e.node(r)),n}function pa(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Tu(t,e,r,n){let i=(e||t).node(r),o=0,a=e?e.index(r):i.childCount;t&&(o=t.index(r),t.depth>r?o++:t.textOffset&&(pa(t.nodeAfter,n),o++));for(let s=o;s<a;s++)pa(i.child(s),n);e&&e.depth==r&&e.textOffset&&pa(e.nodeBefore,n)}function ha(t,e){if(!t.type.validContent(e))throw new da("Invalid content for node "+t.type.name);return t.copy(e)}function xE(t,e,r,n,i){let o=t.depth>i&&Vg(t,e,i+1),a=n.depth>i&&Vg(r,n,i+1),s=[];return Tu(null,t,i,s),o&&a&&e.index(i)==r.index(i)?(wE(o,a),pa(ha(o,xE(t,e,r,n,i+1)),s)):(o&&pa(ha(o,vd(t,e,i+1)),s),Tu(e,r,i,s),a&&pa(ha(a,vd(r,n,i+1)),s)),Tu(n,null,i,s),new H(s)}function vd(t,e,r){let n=[];if(Tu(null,t,r,n),t.depth>r){let i=Vg(t,e,r+1);pa(ha(i,vd(t,e,r+1)),n)}return Tu(e,null,r,n),new H(n)}function VR(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let o=r-1;o>=0;o--)i=e.node(o).copy(H.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}var Os=class{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let o=0;o<e;o++)i+=n.child(o).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Ne.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let s=n;n=i,i=s}let o=n.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!i||!n[o].isInSet(i.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new As(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,o=r;for(let a=e;;){let{index:s,offset:l}=a.content.findIndex(o),u=o-l;if(n.push(a,s,i+l),!u||(a=a.child(s),a.isText))break;o=u-1,i+=l+1}return new Os(r,n,o)}static resolveCached(e,r){for(let i=0;i<Ug.length;i++){let o=Ug[i];if(o.pos==r&&o.doc==e)return o}let n=Ug[zg]=Os.resolve(e,r);return zg=(zg+1)%UR,n}},Ug=[],zg=0,UR=12,As=class{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},zR=Object.create(null),Ur=class{constructor(e,r,n,i=Ne.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||H.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&yd(this.attrs,r||e.defaultAttrs||zR)&&Ne.sameSet(this.marks,n||Ne.none)}copy(e=null){return e==this.content?this:new Ur(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ur(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return J.empty;let i=this.resolve(e),o=this.resolve(r),a=n?0:i.sharedDepth(r),s=i.start(a),u=i.node(a).content.cut(i.pos-s,o.pos-s);return new J(u,i.depth-a,o.depth-a)}replace(e,r,n){return qR(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return Os.resolveCached(this,e)}resolveNoCache(e){return Os.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,o=>(n.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),SE(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=H.empty,i=0,o=n.childCount){let a=this.contentMatchAt(e).matchFragment(n,i,o),s=a&&a.matchFragment(this.content,r);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(n),a=o&&o.matchFragment(this.content,r);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=Ne.none;for(let r=0;r<this.marks.length;r++)e=this.marks[r].addToSet(e);if(!Ne.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=H.fromJSON(e,r.content);return e.nodeType(r.type).create(r.attrs,i,n)}};Ur.prototype.text=void 0;var Ou=class extends Ur{constructor(e,r,n,i){super(e,r,null,i);if(!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):SE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ou(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ou(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function SE(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}var ho=class{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new EE(e,r);if(n.next==null)return ho.empty;let i=kE(n);n.next&&n.err("Unexpected trailing text");let o=JR(YR(i));return XR(o,n),o}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let o=r;i&&o<n;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function o(a,s){let l=a.matchFragment(e,n);if(l&&(!r||l.validEnd))return H.from(s.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:c,next:f}=a.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,s.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),o=i.match;if(o.matchType(e)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in r)&&(!i.type||l.validEnd)&&(n.push({match:s.contentMatch,type:s,via:i}),r[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let o=i+(n.validEnd?"*":" ")+" ";for(let a=0;a<n.next.length;a++)o+=(a?", ":"")+n.next[a].type.name+"->"+e.indexOf(n.next[a].next);return o}).join(`
`)}};ho.empty=new ho(!0);var EE=class{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};function kE(t){let e=[];do e.push(HR(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function HR(t){let e=[];do e.push(WR(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function WR(t){let e=QR(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=KR(t,e);else break;return e}function CE(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function KR(t,e){let r=CE(t),n=r;return t.eat(",")&&(t.next!="}"?n=CE(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function GR(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let o in r){let a=r[o];a.groups.indexOf(e)>-1&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function QR(t){if(t.eat("(")){let e=kE(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=GR(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function YR(t){let e=[[]];return i(o(t,0),r()),e;function r(){return e.push([])-1}function n(a,s,l){let u={term:l,to:s};return e[a].push(u),u}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,u)=>l.concat(o(u,s)),[]);if(a.type=="seq")for(let l=0;;l++){let u=o(a.exprs[l],s);if(l==a.exprs.length-1)return u;i(u,s=r())}else if(a.type=="star"){let l=r();return n(s,l),i(o(a.expr,l),l),[n(l)]}else if(a.type=="plus"){let l=r();return i(o(a.expr,s),l),i(o(a.expr,l),l),[n(l)]}else{if(a.type=="opt")return[n(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let u=0;u<a.min;u++){let c=r();i(o(a.expr,l),c),l=c}if(a.max==-1)i(o(a.expr,l),l);else for(let u=a.min;u<a.max;u++){let c=r();n(l,c),i(o(a.expr,l),c),l=c}return[n(l)]}else{if(a.type=="name")return[n(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function DE(t,e){return e-t}function TE(t,e){let r=[];return n(e),r.sort(DE);function n(i){let o=t[i];if(o.length==1&&!o[0].term)return n(o[0].to);r.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&r.indexOf(l)==-1&&n(l)}}}function JR(t){let e=Object.create(null);return r(TE(t,0));function r(n){let i=[];n.forEach(a=>{t[a].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let c=0;c<i.length;c++)i[c][0]==s&&(u=i[c][1]);TE(t,l).forEach(c=>{u||i.push([s,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[n.join(",")]=new ho(n.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(DE);o.next.push({type:i[a][0],next:e[s.join(",")]||r(s)})}return o}}function XR(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(u)==-1&&n.push(u)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function OE(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function AE(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let o=t[n];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function IE(t){let e=Object.create(null);if(t)for(let r in t)e[r]=new PE(t[r]);return e}var Au=class{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=IE(n.attrs),this.defaultAttrs=OE(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ho.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:AE(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ur(this,this.computeAttrs(e),H.from(r),Ne.setFrom(n))}createChecked(e=null,r,n){if(r=H.from(r),!this.validContent(r))throw new RangeError("Invalid content for node "+this.name);return new Ur(this,this.computeAttrs(e),r,Ne.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=H.from(r),r.size){let a=this.contentMatch.fillBefore(r);if(!a)return null;r=a.append(r)}let i=this.contentMatch.matchFragment(r),o=i&&i.fillBefore(H.empty,!0);return o?new Ur(this,e,r.append(o),Ne.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Ne.none:e}static compile(e,r){let n=Object.create(null);e.forEach((o,a)=>n[o]=new Au(o,r,a));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}},PE=class{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}},Is=class{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=IE(i.attrs),this.excluded=null;let o=OE(this.attrs);this.instance=o?new Ne(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ne(this,AE(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((o,a)=>n[o]=new Is(o,i++,r,a)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}excludes(e){return this.excluded.indexOf(e)>-1}},Hg=class{constructor(e){this.cached=Object.create(null),this.spec={nodes:Bg.from(e.nodes),marks:Bg.from(e.marks||{}),topNode:e.topNode},this.nodes=Au.compile(this.spec.nodes,this),this.marks=Is.compile(this.spec.marks,this);let r=Object.create(null);for(let n in this.nodes){if(n in this.marks)throw new RangeError(n+" can not be both a node and a mark");let i=this.nodes[n],o=i.spec.content||"",a=i.spec.marks;i.contentMatch=r[o]||(r[o]=ho.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=a=="_"?null:a?ME(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let n in this.marks){let i=this.marks[n],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:ME(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Au){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new Ou(n,n.defaultAttrs,e,Ne.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return Ur.fromJSON(this,e)}markFromJSON(e){return Ne.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}};function ME(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],o=t.marks[i],a=o;if(o)r.push(o);else for(let s in t.marks){let l=t.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}var Si=class{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[],r.forEach(n=>{n.tag?this.tags.push(n):n.style&&this.styles.push(n)}),this.normalizeLists=!this.tags.some(n=>{if(!/^(ul|ol)\b/.test(n.tag)||!n.node)return!1;let i=e.nodes[n.node];return i.contentMatch.matchType(i)})}parse(e,r={}){let n=new Wg(this,r,!1);return n.addAll(e,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new Wg(this,r,!0);return n.addAll(e,r.from,r.to),J.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(tN(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||r.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,r,n,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(e)!=0||a.context&&!n.matchesContext(a.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=r))){if(a.getAttrs){let l=a.getAttrs(r);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(e){let r=[];function n(i){let o=i.priority==null?50:i.priority,a=0;for(;a<r.length;a++){let s=r[a];if((s.priority==null?50:s.priority)<o)break}r.splice(a,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(a=>{n(a=NE(a)),a.mark=i})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(a=>{n(a=NE(a)),a.node=i})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Si(e,Si.schemaRules(e)))}},FE={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ZR={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},jE={ol:!0,ul:!0},_d=1,bd=2,Iu=4;function RE(t,e,r){return e!=null?(e?_d:0)|(e==="full"?bd:0):t&&t.whitespace=="pre"?_d|bd:r&~Iu}var Pu=class{constructor(e,r,n,i,o,a,s){this.type=e,this.attrs=r,this.marks=n,this.pendingMarks=i,this.solid=o,this.options=s,this.content=[],this.activeMarks=Ne.none,this.stashMarks=[],this.match=a||(s&Iu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(H.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&_d)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let o=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let r=H.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(H.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}popFromStashMark(e){for(let r=this.stashMarks.length-1;r>=0;r--)if(e.eq(this.stashMarks[r]))return this.stashMarks.splice(r,1)[0]}applyPending(e){for(let r=0,n=this.pendingMarks;r<n.length;r++){let i=n[r];(this.type?this.type.allowsMarkType(i.type):nN(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!FE.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}},Wg=class{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0;let i=r.topNode,o,a=RE(null,r.preserveWhitespace,0)|(n?Iu:0);i?o=new Pu(i.type,i.attrs,Ne.none,Ne.none,!0,r.topMatch||i.type.contentMatch,a):n?o=new Pu(null,null,Ne.none,Ne.none,!0,null,a):o=new Pu(e.schema.topNodeType,null,Ne.none,Ne.none,!0,null,a),this.nodes=[o],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let r=e.getAttribute("style"),n=r?this.readStyles(rN(r)):null,i=this.top;if(n!=null)for(let o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),n!=null)for(let o=0;o<n.length;o++)this.removePendingMark(n[o],i)}}addTextNode(e){let r=e.nodeValue,n=this.top;if(n.options&bd||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(n.options&_d)n.options&bd?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let i=n.content[n.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r)),this.findInText(e)}else this.findInside(e)}addElement(e,r){let n=e.nodeName.toLowerCase(),i;jE.hasOwnProperty(n)&&this.parser.normalizeLists&&eN(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,r));if(o?o.ignore:ZR.hasOwnProperty(n))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let a,s=this.top,l=this.needsBlock;if(FE.hasOwnProperty(n))a=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),a&&this.sync(s),this.needsBlock=l}else this.addElementByRule(e,o,o.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let r=Ne.none;e:for(let n=0;n<e.length;n+=2)for(let i=void 0;;){let o=this.parser.matchStyle(e[n],e[n+1],this,i);if(!o)continue e;if(o.ignore)return null;if(r=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(r),o.consuming===!1)i=o;else break}return r}addElementByRule(e,r,n){let i,o,a;r.node?(o=this.parser.schema.nodes[r.node],o.isLeaf?this.insertNode(o.create(r.attrs))||this.leafFallback(e):i=this.enter(o,r.attrs||null,r.preserveWhitespace)):(a=this.parser.schema.marks[r.mark].create(r.attrs),this.addPendingMark(a));let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(s)&&this.open--,a&&this.removePendingMark(a,s)}addAll(e,r,n){let i=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=n==null?null:e.childNodes[n];o!=a;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let r,n;for(let i=this.open;i>=0;i--){let o=this.nodes[i],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,n=o,!a.length)||o.solid)break}if(!r)return!1;this.sync(n);for(let i=0;i<r.length;i++)this.enterInner(r[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&this.enterInner(r)}if(this.findPlace(e)){this.closeExtra();let r=this.top;r.applyPending(e.type),r.match&&(r.match=r.match.matchType(e.type));let n=r.activeMarks;for(let i=0;i<e.marks.length;i++)(!r.type||r.type.allowsMarkType(e.marks[i].type))&&(n=e.marks[i].addToSet(n));return r.content.push(e.mark(n)),!0}return!1}enter(e,r,n){let i=this.findPlace(e.create(r));return i&&this.enterInner(e,r,!0,n),i}enterInner(e,r=null,n=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let a=RE(e,i,o.options);o.options&Iu&&o.content.length==0&&(a|=Iu),this.nodes.push(new Pu(e,r,o.activeMarks,o.pendingMarks,n,null,a)),this.open++}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let r=this.open;r>=0;r--)if(this.nodes[r]==e)return this.open=r,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(i?0:1),a=(s,l)=>{for(;s>=0;s--){let u=r[s];if(u==""){if(s==r.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:n&&l>=o?n.node(l-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;l--}}return!0};return a(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}addPendingMark(e){let r=iN(e,this.top.pendingMarks);r&&this.top.stashMarks.push(r),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,r){for(let n=this.open;n>=0;n--){let i=this.nodes[n];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let a=i.popFromStashMark(e);a&&i.type&&i.type.allowsMarkType(a.type)&&(i.activeMarks=a.addToSet(i.activeMarks))}if(i==r)break}}};function eN(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&jE.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function tN(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function rN(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,r,n=[];for(;r=e.exec(t);)n.push(r[1],r[2].trim());return n}function NE(t){let e={};for(let r in t)e[r]=t[r];return e}function nN(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:c}=s.edge(l);if(u==e||o.indexOf(c)<0&&a(c))return!0}};if(a(i.contentMatch))return!0}}function iN(t,e){for(let r=0;r<e.length;r++)if(t.eq(e[r]))return e[r]}var zr=class{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=Kg(r).createDocumentFragment());let i=n,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let u=a.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let u=a.marks[l++],c=this.serializeMark(u,a.isInline,r);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(a,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=zr.renderSpec(Kg(r),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,r);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&zr.renderSpec(Kg(n),i(e,r))}static renderSpec(e,r,n=null){if(typeof r=="string")return{dom:e.createTextNode(r)};if(r.nodeType!=null)return{dom:r};if(r.dom&&r.dom.nodeType!=null)return r;let i=r[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,s=n?e.createElementNS(n,i):e.createElement(i),l=r[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let c in l)if(l[c]!=null){let f=c.indexOf(" ");f>0?s.setAttributeNS(c.slice(0,f),c.slice(f+1),l[c]):s.setAttribute(c,l[c])}}for(let c=u;c<r.length;c++){let f=r[c];if(f===0){if(c<r.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}else{let{dom:d,contentDOM:p}=zr.renderSpec(e,f,n);if(s.appendChild(d),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:s,contentDOM:a}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new zr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=LE(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return LE(e.marks)}};function LE(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function Kg(t){return t.document||window.document}y();var $E=65535,BE=Math.pow(2,16);function oN(t,e){return t+e*BE}function qE(t){return t&$E}function aN(t){return(t-(t&$E))/BE}var VE=1,UE=2,wd=4,zE=8,xd=class{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&zE)>0}get deletedBefore(){return(this.delInfo&(VE|wd))>0}get deletedAfter(){return(this.delInfo&(UE|wd))>0}get deletedAcross(){return(this.delInfo&wd)>0}},Hr=class{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Hr.empty)return Hr.empty}recover(e){let r=0,n=qE(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+aN(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[s+o],c=this.ranges[s+a],f=l+u;if(e<=f){let d=u?e==l?-1:e==f?1:r:r,p=l+i+(d<0?0:c);if(n)return p;let g=e==(r<0?l:f)?null:oN(s/3,e-l),m=e==l?UE:e==f?VE:wd;return(r<0?e!=l:e!=f)&&(m|=zE),new xd(p,m,g)}i+=c-u}return n?e+i:new xd(e+i,0,null)}touches(e,r){let n=0,i=qE(r),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;let u=this.ranges[s+o],c=l+u;if(e<=c&&s==i*3)return!0;n+=this.ranges[s+a]-u}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),u=this.ranges[i+r],c=this.ranges[i+n];e(s,s+u,l,l+c),o+=c-u}}invert(){return new Hr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Hr.empty:new Hr(e<0?[0,-e,0]:[0,0,e])}};Hr.empty=new Hr([]);var mo=class{constructor(e=[],r,n=0,i=e.length){this.maps=e,this.mirror=r,this.from=n,this.to=i}slice(e=0,r=this.maps.length){return new mo(this.maps,this.mirror,e,r)}copy(){return new mo(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,r){this.to=this.maps.push(e),r!=null&&this.setMirror(this.maps.length-1,r)}appendMapping(e){for(let r=0,n=this.maps.length;r<e.maps.length;r++){let i=e.getMirror(r);this.appendMap(e.maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this.maps.length+e.maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e.maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new mo;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let o=this.from;o<this.to;o++){let a=this.maps[o],s=a.mapResult(e,r);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return n?e:new xd(e,i,null)}},Gg=Object.create(null),Cr=class{getMap(){return Hr.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Gg[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Gg)throw new RangeError("Duplicate use of step JSON ID "+e);return Gg[e]=r,r.prototype.jsonID=e,r}},$t=class{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new $t(e,null)}static fail(e){return new $t(null,e)}static fromReplace(e,r,n,i){try{return $t.ok(e.replace(r,n,i))}catch(o){if(o instanceof da)return $t.fail(o.message);throw o}}};function Qg(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Qg(o.content,e,o))),o.isInline&&(o=e(o,r,i)),n.push(o)}return H.fromArray(n)}var Ei=class extends Cr{constructor(e,r,n){super();this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new J(Qg(r.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),r.openStart,r.openEnd);return $t.fromReplace(e,this.from,this.to,o)}invert(){return new wn(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Ei(r.pos,n.pos,this.mark)}merge(e){return e instanceof Ei&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ei(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ei(r.from,r.to,e.markFromJSON(r.mark))}};Cr.jsonID("addMark",Ei);var wn=class extends Cr{constructor(e,r,n){super();this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new J(Qg(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return $t.fromReplace(e,this.from,this.to,n)}invert(){return new Ei(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new wn(r.pos,n.pos,this.mark)}merge(e){return e instanceof wn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new wn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new wn(r.from,r.to,e.markFromJSON(r.mark))}};Cr.jsonID("removeMark",wn);var ki=class extends Cr{constructor(e,r){super();this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return $t.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return $t.fromReplace(e,this.pos,this.pos+1,new J(H.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new ki(this.pos,r.marks[i]);return new ki(this.pos,this.mark)}}return new ma(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new ki(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ki(r.pos,e.markFromJSON(r.mark))}};Cr.jsonID("addNodeMark",ki);var ma=class extends Cr{constructor(e,r){super();this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return $t.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return $t.fromReplace(e,this.pos,this.pos+1,new J(H.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new ki(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new ma(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ma(r.pos,e.markFromJSON(r.mark))}};Cr.jsonID("removeNodeMark",ma);var zt=class extends Cr{constructor(e,r,n,i=!1){super();this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&Yg(e,this.from,this.to)?$t.fail("Structure replace would overwrite content"):$t.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Hr([this.from,this.to-this.from,this.slice.size])}invert(e){return new zt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new zt(r.pos,Math.max(r.pos,n.pos),this.slice)}merge(e){if(!(e instanceof zt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?J.empty:new J(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new zt(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?J.empty:new J(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new zt(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new zt(r.from,r.to,J.fromJSON(e,r.slice),!!r.structure)}};Cr.jsonID("replace",zt);var kt=class extends Cr{constructor(e,r,n,i,o,a,s=!1){super();this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(e){if(this.structure&&(Yg(e,this.from,this.gapFrom)||Yg(e,this.gapTo,this.to)))return $t.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return $t.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?$t.fromReplace(e,this.from,this.to,n):$t.fail("Content does not fit in gap")}getMap(){return new Hr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new kt(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||o>n.pos?null:new kt(r.pos,n.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new kt(r.from,r.to,r.gapFrom,r.gapTo,J.fromJSON(e,r.slice),r.insert,!!r.structure)}};Cr.jsonID("replaceAround",kt);function Yg(t,e,r){let n=t.resolve(e),i=r-e,o=n.depth;for(;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0){let a=n.node(o).maybeChild(n.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function sN(t,e,r,n){let i=[],o=[],a,s;t.doc.nodesBetween(e,r,(l,u,c)=>{if(!l.isInline)return;let f=l.marks;if(!n.isInSet(f)&&c.type.allowsMarkType(n.type)){let d=Math.max(u,e),p=Math.min(u+l.nodeSize,r),g=n.addToSet(f);for(let m=0;m<f.length;m++)f[m].isInSet(g)||(a&&a.to==d&&a.mark.eq(f[m])?a.to=p:i.push(a=new wn(d,p,f[m])));s&&s.to==d?s.to=p:o.push(s=new Ei(d,p,n))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function lN(t,e,r,n){let i=[],o=0;t.doc.nodesBetween(e,r,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(n instanceof Is){let u=a.marks,c;for(;c=n.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else n?n.isInSet(a.marks)&&(l=[n]):l=a.marks;if(l&&l.length){let u=Math.min(s+a.nodeSize,r);for(let c=0;c<l.length;c++){let f=l[c],d;for(let p=0;p<i.length;p++){let g=i[p];g.step==o-1&&f.eq(i[p].style)&&(d=g)}d?(d.to=u,d.step=o):i.push({style:f,from:Math.max(s,e),to:u,step:o})}}}),i.forEach(a=>t.step(new wn(a.from,a.to,a.style)))}function uN(t,e,r,n=r.contentMatch){let i=t.doc.nodeAt(e),o=[],a=e+1;for(let s=0;s<i.childCount;s++){let l=i.child(s),u=a+l.nodeSize,c=n.matchType(l.type);if(!c)o.push(new zt(a,u,J.empty));else{n=c;for(let f=0;f<l.marks.length;f++)r.allowsMarkType(l.marks[f].type)||t.step(new wn(a,u,l.marks[f]))}a=u}if(!n.validEnd){let s=n.fillBefore(H.empty,!0);t.replace(a,a,new J(s,0,0))}for(let s=o.length-1;s>=0;s--)t.step(o[s])}function cN(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Ci(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let i=t.$from.node(n),o=t.$from.index(n),a=t.$to.indexAfter(n);if(n<t.depth&&i.canReplace(o,a,r))return n;if(n==0||i.type.spec.isolating||!cN(i,o,a))break}return null}function fN(t,e,r){let{$from:n,$to:i,depth:o}=e,a=n.before(o+1),s=i.after(o+1),l=a,u=s,c=H.empty,f=0;for(let g=o,m=!1;g>r;g--)m||n.index(g)>0?(m=!0,c=H.from(n.node(g).copy(c)),f++):l--;let d=H.empty,p=0;for(let g=o,m=!1;g>r;g--)m||i.after(g+1)<i.end(g)?(m=!0,d=H.from(i.node(g).copy(d)),p++):u++;t.step(new kt(l,u,a,s,new J(c.append(d),f,p),c.size-f,!0))}function Ps(t,e,r=null,n=t){let i=dN(t,e),o=i&&pN(n,e);return o?i.map(HE).concat({type:e,attrs:r}).concat(o.map(HE)):null}function HE(t){return{type:t,attrs:null}}function dN(t,e){let{parent:r,startIndex:n,endIndex:i}=t,o=r.contentMatchAt(n).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return r.canReplaceWith(n,i,a)?o:null}function pN(t,e){let{parent:r,startIndex:n,endIndex:i}=t,o=r.child(n),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:e).contentMatch;for(let u=n;l&&u<i;u++)l=l.matchType(r.child(u).type);return!l||!l.validEnd?null:a}function hN(t,e,r){let n=H.empty;for(let a=r.length-1;a>=0;a--){if(n.size){let s=r[a].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=H.from(r[a].type.create(r[a].attrs,n))}let i=e.start,o=e.end;t.step(new kt(i,o,i,o,new J(n,0,0),r.length,!0))}function mN(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,r,(a,s)=>{if(a.isTextblock&&!a.hasMarkup(n,i)&&gN(t.doc,t.mapping.slice(o).map(s),n)){t.clearIncompatible(t.mapping.slice(o).map(s,1),n);let l=t.mapping.slice(o),u=l.map(s,1),c=l.map(s+a.nodeSize,1);return t.step(new kt(u,c,u+1,c-1,new J(H.from(n.create(i,null,a.marks)),0,0),1,!0)),!1}})}function gN(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function yN(t,e,r,n,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");r||(r=o.type);let a=r.create(n,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,a);if(!r.validContent(o.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new kt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new J(H.from(a),0,0),1,!0))}function en(t,e,r=1,n){let i=t.resolve(e),o=i.depth-r,a=n&&n[n.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=r-2;u>o;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(d,f.childCount),g=n&&n[c]||f;if(g!=f&&(p=p.replaceChild(0,g.type.create(g.attrs))),!f.canReplace(d+1,f.childCount)||!g.type.validContent(p))return!1}let s=i.indexAfter(o),l=n&&n[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function vN(t,e,r=1,n){let i=t.doc.resolve(e),o=H.empty,a=H.empty;for(let s=i.depth,l=i.depth-r,u=r-1;s>l;s--,u--){o=H.from(i.node(s).copy(o));let c=n&&n[u];a=H.from(c?c.type.create(c.attrs,a):i.node(s).copy(a))}t.step(new zt(e,e,new J(o.append(a),r,r),!0))}function Di(t,e){let r=t.resolve(e),n=r.index();return _N(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function _N(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function bN(t,e,r){let n=new zt(e-r,e+r,J.empty,!0);t.step(n)}function wN(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let o=n.index(i);if(n.node(i).canReplaceWith(o,o,r))return n.before(i+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let o=n.indexAfter(i);if(n.node(i).canReplaceWith(o,o,r))return n.after(i+1);if(o<n.node(i).childCount)return null}return null}function WE(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let o=0;o<r.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(r.openStart==0&&r.size?2:1);o++)for(let a=n.depth;a>=0;a--){let s=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,l=n.index(a)+(s>0?1:0),u=n.node(a),c=!1;if(o==1)c=u.canReplace(l,l,i);else{let f=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(l,l,f[0])}if(c)return s==0?n.pos:s<0?n.before(a+1):n.after(a+1)}return null}function Sd(t,e,r=e,n=J.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),o=t.resolve(r);return KE(i,o,n)?new zt(e,r,n):new GE(i,o,n).fit()}function KE(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}var GE=class{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=H.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=H.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let o=this.placed,a=n.depth,s=i.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new J(o,a,s);return e>-1?new kt(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new zt(n.pos,i.pos,l):null}findFittable(){for(let e=1;e<=2;e++)for(let r=this.unplaced.openStart;r>=0;r--){let n,i=null;r?(i=Jg(this.unplaced.content,r-1).firstChild,n=i.content):n=this.unplaced.content;let o=n.firstChild;for(let a=this.depth;a>=0;a--){let{type:s,match:l}=this.frontier[a],u,c=null;if(e==1&&(o?l.matchType(o.type)||(c=l.fillBefore(H.from(o),!1)):i&&s.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:c};if(e==2&&o&&(u=l.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&l.matchType(i.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=Jg(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new J(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=Jg(e,r);if(i.childCount<=1&&r>0){let o=e.size-r<=r+i.size;this.unplaced=new J(Mu(e,r-1,1),r-1,o?r-1:n)}else this.unplaced=new J(Mu(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:o}){for(;this.depth>r;)this.closeFrontierNode();if(o)for(let m=0;m<o.length;m++)this.openFrontierNode(o[m]);let a=this.unplaced,s=n?n.content:a.content,l=a.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[r];if(i){for(let m=0;m<i.childCount;m++)c.push(i.child(m));f=f.matchFragment(i)}let p=s.size+e-(a.content.size-a.openEnd);for(;u<s.childCount;){let m=s.child(u),v=f.matchType(m.type);if(!v)break;u++,(u>1||l==0||m.content.size)&&(f=v,c.push(QE(m.mark(d.allowedMarks(m.marks)),u==1?l:0,u==s.childCount?p:-1)))}let g=u==s.childCount;g||(p=-1),this.placed=Fu(this.placed,r,H.from(c)),this.frontier[r].match=f,g&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,v=s;m<p;m++){let b=v.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),v=b.content}this.unplaced=g?e==0?J.empty:new J(Mu(a.content,e-1,1),e-1,p<0?a.openEnd:e-1):new J(Mu(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!Xg(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],o=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),a=Xg(e,r,i,n,o);if(!!a){for(let s=r-1;s>=0;s--){let{match:l,type:u}=this.frontier[s],c=Xg(e,s,u,l,!0);if(!c||c.childCount)continue e}return{depth:r,fit:a,move:o?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Fu(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Fu(this.placed,this.depth,H.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(H.empty,!0);r.childCount&&(this.placed=Fu(this.placed,this.frontier.length,r))}};function Mu(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(Mu(t.firstChild.content,e-1,r)))}function Fu(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(Fu(t.lastChild.content,e-1,r)))}function Jg(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function QE(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,QE(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(H.empty,!0)))),t.copy(n)}function Xg(t,e,r,n,i){let o=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==o.childCount&&!r.compatibleContent(o.type))return null;let s=n.fillBefore(o.content,!0,a);return s&&!xN(r,o.content,a)?s:null}function xN(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function SN(t){return t.spec.defining||t.spec.definingForContent}function EN(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),o=t.doc.resolve(r);if(KE(i,o,n))return t.step(new zt(e,r,n));let a=JE(i,t.doc.resolve(r));a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let d=i.depth,p=i.pos-1;d>0;d--,p--){let g=i.node(d).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;a.indexOf(d)>-1?s=d:i.before(d)==p&&a.splice(1,0,-d)}let l=a.indexOf(s),u=[],c=n.openStart;for(let d=n.content,p=0;;p++){let g=d.firstChild;if(u.push(g),p==n.openStart)break;d=g.content}for(let d=c-1;d>=0;d--){let p=u[d].type,g=SN(p);if(g&&i.node(l).type!=p)c=d;else if(g||!p.isTextblock)break}for(let d=n.openStart;d>=0;d--){let p=(d+c+1)%(n.openStart+1),g=u[p];if(!!g)for(let m=0;m<a.length;m++){let v=a[(m+l)%a.length],b=!0;v<0&&(b=!1,v=-v);let E=i.node(v-1),w=i.index(v-1);if(E.canReplaceWith(w,w,g.type,g.marks))return t.replace(i.before(v),b?o.after(v):r,new J(YE(n.content,0,n.openStart,p),p,n.openEnd))}}let f=t.steps.length;for(let d=a.length-1;d>=0&&(t.replace(e,r,n),!(t.steps.length>f));d--){let p=a[d];p<0||(e=i.before(p),r=o.after(p))}}function YE(t,e,r,n,i){if(e<r){let o=t.firstChild;t=t.replaceChild(0,o.copy(YE(o.content,e+1,r,n,o)))}if(e>n){let o=i.contentMatchAt(0),a=o.fillBefore(t).append(t);t=a.append(o.matchFragment(a).fillBefore(H.empty,!0))}return t}function kN(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=wN(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new J(H.from(n),0,0))}function CN(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),o=JE(n,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return t.delete(n.start(s),i.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return t.delete(n.before(s),i.after(s))}for(let a=1;a<=n.depth&&a<=i.depth;a++)if(e-n.start(a)==n.depth-a&&r>n.end(a)&&i.end(a)-r!=i.depth-a)return t.delete(n.before(a),r);t.delete(e,r)}function JE(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&r.push(i)}return r}var ga=class extends Cr{constructor(e,r,n){super();this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return $t.fail("No node at attribute step's position");let n=Object.create(null);for(let o in r.attrs)n[o]=r.attrs[o];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return $t.fromReplace(e,this.pos,this.pos+1,new J(H.from(i),0,r.isLeaf?0:1))}getMap(){return Hr.empty}invert(e){return new ga(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new ga(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ga(r.pos,r.attr,r.value)}};Cr.jsonID("attr",ga);var Ms=class extends Error{};Ms=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Ms.prototype=Object.create(Error.prototype);Ms.prototype.constructor=Ms;Ms.prototype.name="TransformError";var ju=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new mo}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Ms(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=J.empty){let i=Sd(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new J(H.from(n),0,0))}delete(e,r){return this.replace(e,r,J.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return EN(this,e,r,n),this}replaceRangeWith(e,r,n){return kN(this,e,r,n),this}deleteRange(e,r){return CN(this,e,r),this}lift(e,r){return fN(this,e,r),this}join(e,r=1){return bN(this,e,r),this}wrap(e,r){return hN(this,e,r),this}setBlockType(e,r=e,n,i=null){return mN(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i=[]){return yN(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new ga(e,r,n)),this}addNodeMark(e,r){return this.step(new ki(e,r)),this}removeNodeMark(e,r){if(!(r instanceof Ne)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r=r.isInSet(n.marks),!r)return this}return this.step(new ma(e,r)),this}split(e,r=1,n){return vN(this,e,r,n),this}addMark(e,r,n){return sN(this,e,r,n),this}removeMark(e,r,n){return lN(this,e,r,n),this}clearIncompatible(e,r,n){return uN(this,e,r,n),this}};var Zg=Object.create(null),ke=class{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new XE(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=J.empty){let n=r.content.lastChild,i=null;for(let s=0;s<r.openEnd;s++)i=n,n=n.lastChild;let o=e.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:u}=a[s],c=e.mapping.slice(o);e.replaceRange(c.map(l.pos),c.map(u.pos),s?J.empty:r),s==0&&tk(e,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:s}=i[o],l=e.mapping.slice(n),u=l.map(a.pos),c=l.map(s.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,r),tk(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new xe(e):Fs(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let o=e.depth-1;o>=0;o--){let a=r<0?Fs(e.node(0),e.node(o),e.before(o+1),e.index(o),r,n):Fs(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,r,n);if(a)return a}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new mr(e.node(0))}static atStart(e){return Fs(e,e,0,0,1)||new mr(e)}static atEnd(e){return Fs(e,e,e.content.size,e.childCount,-1)||new mr(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Zg[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Zg)throw new RangeError("Duplicate use of selection JSON ID "+e);return Zg[e]=r,r.prototype.jsonID=e,r}getBookmark(){return xe.between(this.$anchor,this.$head).getBookmark()}};ke.prototype.visible=!0;var XE=class{constructor(e,r){this.$from=e,this.$to=r}},ZE=!1;function ek(t){!ZE&&!t.parent.inlineContent&&(ZE=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}var xe=class extends ke{constructor(e,r=e){ek(e),ek(r);super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return ke.near(n);let i=e.resolve(r.map(this.anchor));return new xe(i.parent.inlineContent?i:n,n)}replace(e,r=J.empty){if(super.replace(e,r),r==J.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof xe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ru(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new xe(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let o=ke.findFrom(r,n,!0)||ke.findFrom(r,-n,!0);if(o)r=o.$head;else return ke.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(ke.findFrom(e,-n,!0)||ke.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new xe(e,r)}};ke.jsonID("text",xe);var Ru=class{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Ru(e.map(this.anchor),e.map(this.head))}resolve(e){return xe.between(e.resolve(this.anchor),e.resolve(this.head))}},de=class extends ke{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n);this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),o=e.resolve(i);return n?ke.near(o):new de(o)}content(){return new J(H.from(this.node),0,0)}eq(e){return e instanceof de&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ed(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new de(e.resolve(r.anchor))}static create(e,r){return new de(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}};de.prototype.visible=!1;ke.jsonID("node",de);var Ed=class{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Ru(n,n):new Ed(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&de.isSelectable(n)?new de(r):ke.near(r)}},mr=class extends ke{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=J.empty){if(r==J.empty){e.delete(0,e.doc.content.size);let n=ke.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new mr(e)}map(e){return new mr(e)}eq(e){return e instanceof mr}getBookmark(){return DN}};ke.jsonID("all",mr);var DN={map(){return this},resolve(t){return new mr(t)}};function Fs(t,e,r,n,i,o=!1){if(e.inlineContent)return xe.create(t,r);for(let a=n-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let s=e.child(a);if(s.isAtom){if(!o&&de.isSelectable(s))return de.create(t,r-(i<0?s.nodeSize:0))}else{let l=Fs(t,s,r+i,i<0?s.childCount:0,i,o);if(l)return l}r+=s.nodeSize*i}return null}function tk(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof zt||i instanceof kt))return;let o=t.mapping.maps[n],a;o.forEach((s,l,u,c)=>{a==null&&(a=c)}),t.setSelection(ke.near(t.doc.resolve(a),r))}var rk=1,kd=2,nk=4,ik=class extends ju{constructor(e){super(e.doc);this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|rk)&~kd,this.storedMarks=null,this}get selectionSet(){return(this.updated&rk)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=kd,this}ensureMarks(e){return Ne.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&kd)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~kd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Ne.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let o=this.storedMarks;if(!o){let a=this.doc.resolve(r);o=n==r?a.marks():a.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,o)),this.selection.empty||this.setSelection(ke.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=nk,this}get scrolledIntoView(){return(this.updated&nk)>0}};function ok(t,e){return!e||!t?t:t.bind(e)}var js=class{constructor(e,r,n){this.name=e,this.init=ok(r.init,n),this.apply=ok(r.apply,n)}},TN=[new js("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new js("selection",{init(t,e){return t.selection||ke.atStart(e.doc)},apply(t){return t.selection}}),new js("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new js("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})],Cd=class{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=TN.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new js(n.key,n.spec.state,n))})}},go=class{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,u=i?i[a].state:this,c=l<r.length&&s.spec.appendTransaction.call(s,l?r.slice(l):r,u,n);if(c&&n.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<a?{state:n,n:r.length}:{state:this,n:0})}r.push(c),n=n.applyInner(c),o=!0}i&&(i[a]={state:n,n:r.length})}}if(!o)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new go(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let o=n[i];r[o.name]=o.apply(e,this[o.name],this,r)}return r}get tr(){return new ik(this)}static create(e){let r=new Cd(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new go(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new Cd(this.schema,e.plugins),n=r.fields,i=new go(r);for(let o=0;o<n.length;o++){let a=n[o].name;i[a]=this.hasOwnProperty(a)?this[a]:n[o].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],o=i.spec.state;o&&o.toJSON&&(r[n]=o.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Cd(e.schema,e.plugins),o=new go(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=Ur.fromJSON(e.schema,r.doc);else if(a.name=="selection")o.selection=ke.fromJSON(o.doc,r.selection);else if(a.name=="storedMarks")r.storedMarks&&(o.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let s in n){let l=n[s],u=l.spec.state;if(l.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,s)){o[a.name]=u.fromJSON.call(l,e,r[s],o);return}}o[a.name]=a.init(e,o)}}),o}};function ak(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=ak(i,e,{})),r[n]=i}return r}var Ct=class{constructor(e){this.spec=e,this.props={},e.props&&ak(e.props,this,this.props),this.key=e.key?e.key.key:sk("plugin")}getState(e){return e[this.key]}},ey=Object.create(null);function sk(t){return t in ey?t+"$"+ ++ey[t]:(ey[t]=0,t+"$")}var Pt=class{constructor(e="key"){this.key=sk(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}};y();var Wr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Nu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e},lk=null,Ti=function(t,e,r){let n=lk||(lk=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},ya=function(t,e,r,n){return r&&(uk(t,e,r,n,-1)||uk(t,e,r,n,1))},ON=/^(img|br|input|textarea|hr)$/i;function uk(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Wn(t))){let o=t.parentNode;if(!o||o.nodeType!=1||IN(t)||ON.test(t.nodeName)||t.contentEditable=="false")return!1;e=Wr(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Wn(t):0}else return!1}}function Wn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function AN(t,e,r){for(let n=e==0,i=e==Wn(t);n||i;){if(t==r)return!0;let o=Wr(t);if(t=t.parentNode,!t)return!1;n=n&&o==0,i=i&&o==Wn(t)}}function IN(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var Dd=function(t){return t.focusNode&&ya(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Rs(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function PN(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}var yo=typeof navigator!="undefined"?navigator:null,ck=typeof document!="undefined"?document:null,vo=yo&&yo.userAgent||"",ty=/Edge\/(\d+)/.exec(vo),fk=/MSIE \d/.exec(vo),ry=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vo),Fr=!!(fk||ry||ty),_o=fk?document.documentMode:ry?+ry[1]:ty?+ty[1]:0,xn=!Fr&&/gecko\/(\d+)/i.test(vo);xn&&+(/Firefox\/(\d+)/.exec(vo)||[0,0])[1];var ny=!Fr&&/Chrome\/(\d+)/.exec(vo),jr=!!ny,MN=ny?+ny[1]:0,Dr=!Fr&&!!yo&&/Apple Computer/.test(yo.vendor),Ns=Dr&&(/Mobile\/\w+/.test(vo)||!!yo&&yo.maxTouchPoints>2),tn=Ns||(yo?/Mac/.test(yo.platform):!1),Kn=/Android \d/.test(vo),Td=!!ck&&"webkitFontSmoothing"in ck.documentElement.style,FN=Td?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function jN(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function bo(t,e){return typeof t=="number"?t:t[e]}function RN(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function dk(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let a=r||t.dom;a;a=Nu(a)){if(a.nodeType!=1)continue;let s=a,l=s==o.body,u=l?jN(o):RN(s),c=0,f=0;if(e.top<u.top+bo(n,"top")?f=-(u.top-e.top+bo(i,"top")):e.bottom>u.bottom-bo(n,"bottom")&&(f=e.bottom-u.bottom+bo(i,"bottom")),e.left<u.left+bo(n,"left")?c=-(u.left-e.left+bo(i,"left")):e.right>u.right-bo(n,"right")&&(c=e.right-u.right+bo(i,"right")),c||f)if(l)o.defaultView.scrollBy(c,f);else{let d=s.scrollLeft,p=s.scrollTop;f&&(s.scrollTop+=f),c&&(s.scrollLeft+=c);let g=s.scrollLeft-d,m=s.scrollTop-p;e={left:e.left-g,top:e.top-m,right:e.right-g,bottom:e.bottom-m}}if(l)break}}function NN(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let o=(e.left+e.right)/2,a=r+1;a<Math.min(innerHeight,e.bottom);a+=5){let s=t.root.elementFromPoint(o,a);if(!s||s==t.dom||!t.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=r-20){n=s,i=l.top;break}}return{refDOM:n,refTop:i,stack:pk(t.dom)}}function pk(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Nu(n));return e}function LN({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;hk(r,n==0?0:n-e)}function hk(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:o}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=o&&(n.scrollLeft=o)}}var Ls=null;function $N(t){if(t.setActive)return t.setActive();if(Ls)return t.focus(Ls);let e=pk(t);t.focus(Ls==null?{get preventScroll(){return Ls={preventScroll:!0},!0}}:void 0),Ls||(Ls=!1,hk(e,0))}function mk(t,e){let r,n=2e8,i,o=0,a=e.top,s=e.top;for(let l=t.firstChild,u=0;l;l=l.nextSibling,u++){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Ti(l).getClientRects();else continue;for(let f=0;f<c.length;f++){let d=c[f];if(d.top<=a&&d.bottom>=s){a=Math.max(d.bottom,a),s=Math.min(d.top,s);let p=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(p<n){r=l,n=p,i=p&&r.nodeType==3?{left:d.right<e.left?d.right:d.left,top:e.top}:e,l.nodeType==1&&p&&(o=u+(e.left>=(d.left+d.right)/2?1:0));continue}}!r&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(o=u+1)}}return r&&r.nodeType==3?BN(r,i):!r||n&&r.nodeType==1?{node:t,offset:o}:mk(r,i)}function BN(t,e){let r=t.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);let o=wo(n,1);if(o.top!=o.bottom&&iy(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function iy(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function qN(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function VN(t,e,r){let{node:n,offset:i}=mk(e,r),o=-1;if(n.nodeType==1&&!n.firstChild){let a=n.getBoundingClientRect();o=a.left!=a.right&&r.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(n,i,o)}function UN(t,e,r,n){let i=-1;for(let o=e;o!=t.dom;){let a=t.docView.nearestDesc(o,!0);if(!a)return null;if(a.node.isBlock&&a.parent){let s=a.dom.getBoundingClientRect();if(s.left>n.left||s.top>n.top)i=a.posBefore;else if(s.right<n.left||s.bottom<n.top)i=a.posAfter;else break}o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,1)}function gk(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),o=i;;){let a=t.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(iy(e,u))return gk(a,e,u)}}if((o=(o+1)%n)==i)break}return t}function zN(t,e){let r=t.dom.ownerDocument,n,i=0;if(r.caretPositionFromPoint)try{let l=r.caretPositionFromPoint(e.left,e.top);l&&({offsetNode:n,offset:i}=l)}catch{}if(!n&&r.caretRangeFromPoint){let l=r.caretRangeFromPoint(e.left,e.top);l&&({startContainer:n,startOffset:i}=l)}let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let l=t.dom.getBoundingClientRect();if(!iy(e,l)||(o=gk(t.dom,e,l),!o))return null}if(Dr)for(let l=o;n&&l;l=Nu(l))l.draggable&&(n=void 0);if(o=qN(o,e),n){if(xn&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let l=n.childNodes[i],u;l.nodeName=="IMG"&&(u=l.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(a=UN(t,n,i,e))}a==null&&(a=VN(t,o,e));let s=t.docView.nearestDesc(o,!0);return{pos:a,inside:s?s.posAtStart-s.border:-1}}function wo(t,e){let r=t.getClientRects();return r.length?r[e<0?0:r.length-1]:t.getBoundingClientRect()}var HN=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function yk(t,e,r){let{node:n,offset:i,atom:o}=t.docView.domFromPos(e,r<0?-1:1),a=Td||xn;if(n.nodeType==3)if(a&&(HN.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=wo(Ti(n,i,i),r);if(xn&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let u=wo(Ti(n,i-1,i-1),-1);if(u.top==l.top){let c=wo(Ti(n,i,i+1),-1);if(c.top!=l.top)return Lu(c,c.left<u.left)}}return l}else{let l=i,u=i,c=r<0?1:-1;return r<0&&!i?(u++,c=-1):r>=0&&i==n.nodeValue.length?(l--,c=1):r<0?l--:u++,Lu(wo(Ti(n,l,u),1),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(r<0||i==Wn(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return oy(l.getBoundingClientRect(),!1)}if(o==null&&i<Wn(n)){let l=n.childNodes[i];if(l.nodeType==1)return oy(l.getBoundingClientRect(),!0)}return oy(n.getBoundingClientRect(),r>=0)}if(o==null&&i&&(r<0||i==Wn(n))){let l=n.childNodes[i-1],u=l.nodeType==3?Ti(l,Wn(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Lu(wo(u,1),!1)}if(o==null&&i<Wn(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Ti(l,0,a?0:1):l.nodeType==1?l:null:null;if(u)return Lu(wo(u,-1),!0)}return Lu(wo(n.nodeType==3?Ti(n):n,-r),r>=0)}function Lu(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function oy(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function vk(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function WN(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return vk(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let s=t.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.dom;break}o=s.dom.parentNode}let a=yk(t,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Ti(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(r=="up"?a.top-c.top>(c.bottom-a.top)*2:c.bottom-a.bottom>(a.bottom-c.top)*2))return!1}}return!0})}var KN=/[\u0590-\u08ac]/;function GN(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,o=!i,a=i==n.parent.content.size,s=t.domSelection();return!KN.test(n.parent.textContent)||!s.modify?r=="left"||r=="backward"?o:a:vk(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:f}=t.domSelectionRange(),d=s.caretBidiLevel;s.modify("move",r,"character");let p=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:g,focusOffset:m}=t.domSelectionRange(),v=g&&!p.contains(g.nodeType==1?g:g.parentNode)||l==g&&u==m;try{s.collapse(c,f),l&&(l!=c||u!=f)&&s.extend&&s.extend(l,u)}catch{}return d!=null&&(s.caretBidiLevel=d),v})}var _k=null,bk=null,wk=!1;function QN(t,e,r){return _k==e&&bk==r?wk:(_k=e,bk=r,wk=r=="up"||r=="down"?WN(t,e,r):GN(t,e,r))}var Sn=0,xk=1,$s=2,Gn=3,Bs=class{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=Sn,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let o,a;if(e==this.contentDOM)o=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>Wr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!r||o.node))if(n&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))n=!1;else return o}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==e&&o!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-n-i.border);n=o}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let o=0;n<this.children.length;n++){let a=this.children[n],s=o+a.size;if(s>e||a instanceof sy){i=e-o;break}o=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof ay&&o.side>=0;n--);if(r<=0){let o,a=!0;for(;o=n?this.children[n-1]:null,!(!o||o.dom.parentNode==this.contentDOM);n--,a=!1);return o&&r&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,r):{node:this.contentDOM,offset:o?Wr(o.dom)+1:0}}else{let o,a=!0;for(;o=n<this.children.length?this.children[n]:null,!(!o||o.dom.parentNode==this.contentDOM);n++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,r):{node:this.contentDOM,offset:o?Wr(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=n,s=0;;s++){let l=this.children[s],u=a+l.size;if(i==-1&&e<=u){let c=a+l.border;if(e>=c&&r<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,c);e=a;for(let f=s;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=Wr(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>r||s==this.children.length-1)){r=u;for(let c=s+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=Wr(f.dom);break}r+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let o=Math.min(e,r),a=Math.max(e,r);for(let d=0,p=0;d<this.children.length;d++){let g=this.children[d],m=p+g.size;if(o>p&&a<m)return g.setSelection(e-p-g.border,r-p-g.border,n,i);p=m}let s=this.domFromPos(e,e?-1:1),l=r==e?s:this.domFromPos(r,r?-1:1),u=n.getSelection(),c=!1;if((xn||Dr)&&e==r){let{node:d,offset:p}=s;if(d.nodeType==3){if(c=!!(p&&d.nodeValue[p-1]==`
`),c&&p==d.nodeValue.length)for(let g=d,m;g;g=g.parentNode){if(m=g.nextSibling){m.nodeName=="BR"&&(s=l={node:m.parentNode,offset:Wr(m)+1});break}let v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let g=d.childNodes[p-1];c=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(xn&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&Dr)&&ya(s.node,s.offset,u.anchorNode,u.anchorOffset)&&ya(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==r)&&!c){u.collapse(s.node,s.offset);try{e!=r&&u.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>r){let p=s;s=l,l=p}let d=document.createRange();d.setEnd(l.node,l.offset),d.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let o=this.children[i],a=n+o.size;if(n==a?e<=a&&r>=n:e<a&&r>n){let s=n+o.border,l=a-o.border;if(e>=s&&r<=l){this.dirty=e==n||r==a?$s:xk,e==s&&r==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Gn:o.markDirty(e-s,r-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?$s:Gn}n=a}this.dirty=$s}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?$s:xk;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}},ay=class extends Bs{constructor(e,r,n,i){let o,a=r.type.toDOM;if(typeof a=="function"&&(a=a(n,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!r.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null);this.widget=r,this.widget=r,o=this}matchesWidget(e){return this.dirty==Sn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}},Sk=class extends Bs{constructor(e,r,n,i){super(e,[],r,null);this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}},xo=class extends Bs{constructor(e,r,n,i){super(e,[],n,i);this.mark=r}static create(e,r,n,i){let o=i.nodeViews[r.type.name],a=o&&o(r,i,n);return(!a||!a.dom)&&(a=zr.renderSpec(document,r.type.spec.toDOM(r,n))),new xo(e,r,a.dom,a.contentDOM||a.dom)}parseRule(){return this.dirty&Gn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=Gn&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Sn){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Sn}}slice(e,r,n){let i=xo.create(this.parent,this.mark,!0,n),o=this.children,a=this.size;r<a&&(o=cy(o,r,a,n)),e>0&&(o=cy(o,0,e,n));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}},So=class extends Bs{constructor(e,r,n,i,o,a,s,l,u){super(e,[],o,a);this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=s,a&&this.updateChildren(l,u)}static create(e,r,n,i,o,a){let s=o.nodeViews[r.type.name],l,u=s&&s(r,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},n,i),c=u&&u.dom,f=u&&u.contentDOM;if(r.isText){if(!c)c=document.createTextNode(r.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=zr.renderSpec(document,r.type.spec.toDOM(r)));!f&&!r.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),r.type.spec.draggable&&(c.draggable=!0));let d=c;return c=Tk(c,n,r),u?l=new kk(e,r,n,i,c,f||null,d,u,o,a+1):r.isText?new $u(e,r,n,i,c,d,o):new So(e,r,n,i,c,f||null,d,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>H.empty)}return e}matchesNode(e,r,n){return this.dirty==Sn&&e.eq(this.node)&&uy(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,o=e.composing?this.localCompositionInfo(e,r):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new Ak(this,a&&a.node,e);ZN(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?l.syncToMarks(u.spec.marks,n,e):u.type.side>=0&&!f&&l.syncToMarks(c==this.node.childCount?Ne.none:this.node.child(c).marks,n,e),l.placeWidget(u,e,i)},(u,c,f,d)=>{l.syncToMarks(u.marks,n,e);let p;l.findNodeMatch(u,c,f,d)||s&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,c,f,p,e)||l.updateNextNode(u,c,f,e,d)||l.addNode(u,c,f,e,i),i+=u.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==$s)&&(a&&this.protectLocalComposition(e,a),Ck(this.contentDOM,this.children,e),Ns&&eL(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof xe)||n<r||i>r+this.node.content.size)return null;let o=e.domSelectionRange(),a=tL(o.focusNode,o.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let s=a.nodeValue,l=rL(this.node.content,s,n-r,i-r);return l<0?null:{node:a,pos:l,text:s}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let o=r;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new Sk(this,o,r,i);e.input.compositionNodes.push(a),this.children=cy(this.children,n,n+i.length,e,a)}update(e,r,n,i){return this.dirty==Gn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Sn}updateOuterDeco(e){if(uy(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=Dk(this.dom,this.nodeDOM,ly(this.outerDeco,this.node,r),ly(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}};function Ek(t,e,r,n,i){return Tk(n,e,t),new So(void 0,t,e,r,n,n,n,i,0)}var $u=class extends So{constructor(e,r,n,i,o,a,s){super(e,r,n,i,o,null,a,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==Gn||this.dirty!=Sn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Sn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Sn,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),o=document.createTextNode(i.text);return new $u(this.parent,i,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Gn)}get domAtom(){return!1}},sy=class extends Bs{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Sn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},kk=class extends So{constructor(e,r,n,i,o,a,s,l,u,c){super(e,r,n,i,o,a,s,u,c);this.spec=l}update(e,r,n,i){if(this.dirty==Gn)return!1;if(this.spec.update){let o=this.spec.update(e,r,n);return o&&this.updateInner(e,r,n,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}};function Ck(t,e,r){let n=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let a=e[o],s=a.dom;if(s.parentNode==t){for(;s!=n;)n=Ok(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(s,n);if(a instanceof xo){let l=n?n.previousSibling:t.lastChild;Ck(a.contentDOM,a.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=Ok(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}var Bu=function(t){t&&(this.nodeName=t)};Bu.prototype=Object.create(null);var va=[new Bu];function ly(t,e,r){if(t.length==0)return va;let n=r?va[0]:new Bu,i=[n];for(let o=0;o<t.length;o++){let a=t[o].type.attrs;if(!!a){a.nodeName&&i.push(n=new Bu(a.nodeName));for(let s in a){let l=a[s];l!=null&&(r&&i.length==1&&i.push(n=new Bu(e.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return i}function Dk(t,e,r,n){if(r==va&&n==va)return e;let i=e;for(let o=0;o<n.length;o++){let a=n[o],s=r[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=va[0]),i=l}YN(i,s||va[0],a)}return i}function YN(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)i.indexOf(n[o])==-1&&t.classList.remove(n[o]);for(let o=0;o<i.length;o++)n.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}function Tk(t,e,r){return Dk(t,t,va,ly(e,r,t.nodeType!=1))}function uy(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function Ok(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}var Ak=class{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=JN(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let i=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Sn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(e[o])){s=l;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=xo.create(this.top,e[o],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,r,n,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,r,n))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let u=this.top.children[s];if(u.matchesNode(e,r,n)&&!this.preMatch.matched.has(u)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,r,n,i,o){let a=this.top.children[i];return a.dirty==Gn&&a.dom==a.contentDOM&&(a.dirty=$s),a.update(e,r,n,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,o){for(let a=this.index;a<this.top.children.length;a++){let s=this.top.children[a];if(s instanceof So){let l=this.preMatch.matched.get(s);if(l!=null&&l!=o)return!1;let u=s.dom;if(!(this.lock&&(u==this.lock||u.nodeType==1&&u.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=Gn&&uy(r,s.outerDeco)))&&s.update(e,r,n,i))return this.destroyBetween(this.index,a),s.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,r,n,i,o){this.top.children.splice(this.index++,0,So.create(this.top,e,r,n,i,o)),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new ay(this.top,e,r,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof xo;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof $u)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Dr||jr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new sy(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}};function JN(t,e){let r=e,n=r.children.length,i=t.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(n){let u=r.children[n-1];if(u instanceof xo)r=u,n=u.children.length;else{s=u,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=s.node;if(!!l){if(l!=t.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function XN(t,e){return t.type.side-e.type.side}function ZN(t,e,r,n){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);n(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let a=0,s=[],l=null;for(let u=0;;){if(a<i.length&&i[a].to==o){let g=i[a++],m;for(;a<i.length&&i[a].to==o;)(m||(m=[g])).push(i[a++]);if(m){m.sort(XN);for(let v=0;v<m.length;v++)r(m[v],u,!!l)}else r(g,u,!!l)}let c,f;if(l)f=-1,c=l,l=null;else if(u<t.childCount)f=u,c=t.child(u++);else break;for(let g=0;g<s.length;g++)s[g].to<=o&&s.splice(g--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let d=o+c.nodeSize;if(c.isText){let g=d;a<i.length&&i[a].from<g&&(g=i[a].from);for(let m=0;m<s.length;m++)s[m].to<g&&(g=s[m].to);g<d&&(l=c.cut(g-o),c=c.cut(0,g-o),d=g,f=-1)}let p=c.isInline&&!c.isLeaf?s.filter(g=>!g.inline):s.slice();n(c,p,e.forChild(o,c),f),o=d}}function eL(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function tL(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=Wn(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function rL(t,e,r,n){for(let i=0,o=0;i<t.childCount&&o<=n;){let a=t.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=r){let u=s<n?l.lastIndexOf(e,n-s-1):-1;if(u>=0&&u+e.length+s>=r)return s+u;if(r==n&&l.length>=n+e.length-s&&l.slice(n-s,n-s+e.length)==e)return n}}return-1}function cy(t,e,r,n,i){let o=[];for(let a=0,s=0;a<t.length;a++){let l=t[a],u=s,c=s+=l.size;u>=r||c<=e?o.push(l):(u<e&&o.push(l.slice(0,e-u,n)),i&&(o.push(i),i=void 0),c>r&&o.push(l.slice(r-u,l.size,n)))}return o}function fy(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),o=i&&i.size==0,a=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(a<0)return null;let s=n.resolve(a),l,u;if(Dd(r)){for(l=s;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&de.isSelectable(c)&&i.parent&&!(c.isInline&&AN(r.focusNode,r.focusOffset,i.dom))){let f=i.posBefore;u=new de(a==f?s:n.resolve(f))}}else{let c=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null;l=n.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<s.pos&&!o?1:-1;u=py(t,l,s,c)}return u}function Ik(t){return t.editable?t.hasFocus():Lk(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Oi(t,e=!1){let r=t.state.selection;if(jk(t,r),!!Ik(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&jr){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&ya(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)iL(t);else{let{anchor:n,head:i}=r,o,a;Pk&&!(r instanceof xe)&&(r.$from.parent.inlineContent||(o=Mk(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(a=Mk(t,r.to))),t.docView.setSelection(n,i,t.root,e),Pk&&(o&&Fk(o),a&&Fk(a)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&nL(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}var Pk=Dr||jr&&MN<63;function Mk(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,o=n?r.childNodes[n-1]:null;if(Dr&&i&&i.contentEditable=="false")return dy(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return dy(i);if(o)return dy(o)}}function dy(t){return t.contentEditable="true",Dr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Fk(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function nL(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Ik(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function iL(t){let e=t.domSelection(),r=document.createRange(),n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?r.setEnd(n.parentNode,Wr(n)+1):r.setEnd(n,0),r.collapse(!1),e.removeAllRanges(),e.addRange(r),!i&&!t.state.selection.visible&&Fr&&_o<=11&&(n.disabled=!0,n.disabled=!1)}function jk(t,e){if(e instanceof de){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(Rk(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else Rk(t)}function Rk(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function py(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||xe.between(e,r,n)}function Nk(t){return t.editable&&!t.hasFocus()?!1:Lk(t)}function Lk(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function oL(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return ya(e.node,e.offset,r.anchorNode,r.anchorOffset)}function hy(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&ke.findFrom(o,e)}function ba(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function $k(t,e,r){let n=t.state.selection;if(n instanceof xe){if(!n.empty||r.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=hy(t.state,e);return i&&i instanceof de?ba(t,i):!1}else if(!(tn&&r.indexOf("m")>-1)){let i=n.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=t.docView.descAt(s))&&!a.contentDOM?de.isSelectable(o)?ba(t,new de(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Td?ba(t,new xe(t.state.doc.resolve(e<0?s:s+o.nodeSize))):!1:!1}}else{if(n instanceof de&&n.node.isInline)return ba(t,new xe(e>0?n.$to:n.$from));{let i=hy(t.state,e);return i?ba(t,i):!1}}}function Od(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function qu(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function my(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,o,a=!1;for(xn&&r.nodeType==1&&n<Od(r)&&qu(r.childNodes[n])&&(a=!0);;)if(n>0){if(r.nodeType!=1)break;{let s=r.childNodes[n-1];if(qu(s))i=r,o=--n;else if(s.nodeType==3)r=s,n=r.nodeValue.length;else break}}else{if(Bk(r))break;{let s=r.previousSibling;for(;s&&qu(s);)i=r.parentNode,o=Wr(s),s=s.previousSibling;if(s)r=s,n=Od(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}a?yy(t,r,n):i&&yy(t,i,o)}function gy(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=Od(r),o,a;for(;;)if(n<i){if(r.nodeType!=1)break;let s=r.childNodes[n];if(qu(s))o=r,a=++n;else break}else{if(Bk(r))break;{let s=r.nextSibling;for(;s&&qu(s);)o=s.parentNode,a=Wr(s)+1,s=s.nextSibling;if(s)r=s,n=0,i=Od(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}o&&yy(t,o,a)}function Bk(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function yy(t,e,r){let n=t.domSelection();if(Dd(n)){let o=document.createRange();o.setEnd(e,r),o.setStart(e,r),n.removeAllRanges(),n.addRange(o)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Oi(t)},50)}function qk(t,e,r){let n=t.state.selection;if(n instanceof xe&&!n.empty||r.indexOf("s")>-1||tn&&r.indexOf("m")>-1)return!1;let{$from:i,$to:o}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=hy(t.state,e);if(a&&a instanceof de)return ba(t,a)}if(!i.parent.inlineContent){let a=e<0?i:o,s=n instanceof mr?ke.near(a,e):ke.findFrom(a,e);return s?ba(t,s):!1}return!1}function Vk(t,e){if(!(t.state.selection instanceof xe))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(o&&!o.isText){let a=t.state.tr;return e<0?a.delete(r.pos-o.nodeSize,r.pos):a.delete(r.pos,r.pos+o.nodeSize),t.dispatch(a),!0}return!1}function Uk(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function aL(t){if(!Dr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;Uk(t,n,"true"),setTimeout(()=>Uk(t,n,"false"),20)}return!1}function sL(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function lL(t,e){let r=e.keyCode,n=sL(e);return r==8||tn&&r==72&&n=="c"?Vk(t,-1)||my(t):r==46||tn&&r==68&&n=="c"?Vk(t,1)||gy(t):r==13||r==27?!0:r==37||tn&&r==66&&n=="c"?$k(t,-1,n)||my(t):r==39||tn&&r==70&&n=="c"?$k(t,1,n)||gy(t):r==38||tn&&r==80&&n=="c"?qk(t,-1,n)||my(t):r==40||tn&&r==78&&n=="c"?aL(t)||qk(t,1,n)||gy(t):n==(tn?"m":"c")&&(r==66||r==73||r==89||r==90)}function zk(t,e){t.someProp("transformCopied",p=>{e=p(e)});let r=[],{content:n,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,o--;let p=n.firstChild;r.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),n=p.content}let a=t.someProp("clipboardSerializer")||zr.fromSchema(t.state.schema),s=Xk(),l=s.createElement("div");l.appendChild(a.serializeFragment(n,{document:s}));let u=l.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=Yk[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let g=s.createElement(c[p]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(r)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d}}function Hk(t,e,r,n,i){let o=i.parent.type.spec.code,a,s;if(!r&&!e)return null;let l=e&&(n||o||!r);if(l){if(t.someProp("transformPastedText",d=>{e=d(e,o||n)}),o)return e?new J(H.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):J.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,n));if(f)s=f;else{let d=i.marks(),{schema:p}=t.state,g=zr.fromSchema(p);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let v=a.appendChild(document.createElement("p"));m&&v.appendChild(g.serializeNode(p.text(m,d)))})}}else t.someProp("transformPastedHTML",f=>{r=f(r)}),a=fL(r),Td&&dL(a);let u=a&&a.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0&&a.firstChild;f--)a=a.firstChild;if(s||(s=(t.someProp("clipboardParser")||t.someProp("domParser")||Si.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!uL.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)s=pL(Qk(s,+c[1],+c[2]),c[4]);else if(s=J.maxOpen(cL(s.content,i),!0),s.openStart||s.openEnd){let f=0,d=0;for(let p=s.content.firstChild;f<s.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=s.content.lastChild;d<s.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);s=Qk(s,f,d)}return t.someProp("transformPasted",f=>{s=f(s)}),s}var uL=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function cL(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),o,a=[];if(t.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),u;if(!l)return a=null;if(u=a.length&&o.length&&Kk(l,o,s,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=Gk(a[a.length-1],o.length));let c=Wk(s,l);a.push(c),i=i.matchType(c.type),o=l}}),a)return H.from(a)}return t}function Wk(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,H.from(t));return t}function Kk(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=Kk(t,e,r,n.lastChild,i+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(H.from(Wk(r,t,i+1))))}}function Gk(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,Gk(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(H.empty,!0);return t.copy(r.append(n))}function vy(t,e,r,n,i,o){let a=e<0?t.firstChild:t.lastChild,s=a.content;return i<n-1&&(s=vy(s,e,r,n,i+1,o)),i>=r&&(s=e<0?a.contentMatchAt(0).fillBefore(s,t.childCount>1||o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(H.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(s))}function Qk(t,e,r){return e<t.openStart&&(t=new J(vy(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new J(vy(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}var Yk={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Jk=null;function Xk(){return Jk||(Jk=document.implementation.createHTMLDocument("title"))}function fL(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=Xk().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&Yk[n[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),r.innerHTML=t,i)for(let o=0;o<i.length;o++)r=r.querySelector(i[o])||r;return r}function dL(t){let e=t.querySelectorAll(jr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function pL(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:a}=t;for(let s=n.length-2;s>=0;s-=2){let l=r.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=H.from(l.create(n[s+1],i)),o++,a++}return new J(i,o,a)}var Tr={},Or={},hL={touchstart:!0,touchmove:!0},Zk=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function mL(t){for(let e in Tr){let r=Tr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{yL(t,n)&&!by(t,n)&&(t.editable||!(n.type in Or))&&r(t,n)},hL[e]?{passive:!0}:void 0)}Dr&&t.dom.addEventListener("input",()=>null),_y(t)}function Eo(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function gL(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function _y(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>by(t,n))})}function by(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function yL(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function vL(t,e){!by(t,e)&&Tr[e.type]&&(t.editable||!(e.type in Or))&&Tr[e.type](t,e)}Or.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!rC(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Kn&&jr&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),Ns&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,Rs(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||lL(t,r)?r.preventDefault():Eo(t,"key")};Or.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Or.keypress=(t,e)=>{let r=e;if(rC(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||tn&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof xe)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode);t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),r.preventDefault()}};function Ad(t){return{left:t.clientX,top:t.clientY}}function _L(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function wy(t,e,r,n,i){if(n==-1)return!1;let o=t.state.doc.resolve(n);for(let a=o.depth+1;a>0;a--)if(t.someProp(e,s=>a>o.depth?s(t,r,o.nodeAfter,o.before(a),i,!0):s(t,r,o.node(a),o.before(a),i,!1)))return!0;return!1}function qs(t,e,r){t.focused||t.focus();let n=t.state.tr.setSelection(e);r=="pointer"&&n.setMeta("pointer",!0),t.dispatch(n)}function bL(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&de.isSelectable(n)?(qs(t,new de(r),"pointer"),!0):!1}function wL(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof de&&(n=r.node);let o=t.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(de.isSelectable(s)){n&&r.$from.depth>0&&a>=r.$from.depth&&o.before(r.$from.depth+1)==r.$from.pos?i=o.before(r.$from.depth):i=o.before(a);break}}return i!=null?(qs(t,de.create(t.state.doc,i),"pointer"),!0):!1}function xL(t,e,r,n,i){return wy(t,"handleClickOn",e,r,n)||t.someProp("handleClick",o=>o(t,e,n))||(i?wL(t,r):bL(t,r))}function SL(t,e,r,n){return wy(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}function EL(t,e,r,n){return wy(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||kL(t,r,n)}function kL(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(qs(t,xe.create(n,0,n.content.size),"pointer"),!0):!1;let i=n.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)qs(t,xe.create(n,s+1,s+1+a.content.size),"pointer");else if(de.isSelectable(a))qs(t,de.create(n,s),"pointer");else continue;return!0}}function xy(t){return Id(t)}var eC=tn?"metaKey":"ctrlKey";Tr.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=xy(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&_L(r,t.input.lastClick)&&!r[eC]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:o};let a=t.posAtCoords(Ad(r));!a||(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new tC(t,a,r,!!n)):(o=="doubleClick"?SL:EL)(t,a.pos,a.inside,r)?r.preventDefault():Eo(t,"pointer"))};var tC=class{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[eC],this.allowDefault=n.shiftKey;let o,a;if(r.inside>-1)o=e.state.doc.nodeAt(r.inside),a=r.inside;else{let c=e.state.doc.resolve(r.pos);o=c.parent,a=c.depth?c.before():0}let s=i?null:n.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l?l.dom:null;let{selection:u}=e.state;(n.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof de&&u.from<=a&&u.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&xn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Eo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Oi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Ad(e))),this.updateAllowDefault(e),this.allowDefault||!r?Eo(this.view,"pointer"):xL(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Dr&&this.mightDrag&&!this.mightDrag.node.isAtom||jr&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(qs(this.view,ke.near(this.view.state.doc.resolve(r.pos)),"pointer"),e.preventDefault()):Eo(this.view,"pointer")}move(e){this.updateAllowDefault(e),Eo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}};Tr.touchstart=t=>{t.input.lastTouch=Date.now(),xy(t),Eo(t,"pointer")};Tr.touchmove=t=>{t.input.lastTouch=Date.now(),Eo(t,"pointer")};Tr.contextmenu=t=>xy(t);function rC(t,e){return t.composing?!0:Dr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}var CL=Kn?5e3:-1;Or.compositionstart=Or.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),Id(t,!0),t.markCursor=null;else if(Id(t),xn&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,o=n.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){t.domSelection().collapse(a,a.nodeValue.length);break}else i=a,o=-1}}t.input.composing=!0}nC(t,CL)};Or.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,nC(t,20))};function nC(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Id(t),e))}function iC(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=DL());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function DL(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Id(t,e=!1){if(!(Kn&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),iC(t),e||t.docView&&t.docView.dirty){let r=fy(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):t.updateState(t.state),!0}return!1}}function TL(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}var Vs=Fr&&_o<15||Ns&&FN<604;Tr.copy=Or.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let o=Vs?null:r.clipboardData,a=n.content(),{dom:s,text:l}=zk(t,a);o?(r.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):TL(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function OL(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function AL(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Sy(t,n.value,null,e):Sy(t,n.textContent,n.innerHTML,e)},50)}function Sy(t,e,r,n){let i=Hk(t,e,r,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",s=>s(t,n,i||J.empty)))return!0;if(!i)return!1;let o=OL(i),a=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Or.paste=(t,e)=>{let r=e;if(t.composing&&!Kn)return;let n=Vs?null:r.clipboardData;n&&Sy(t,n.getData("text/plain"),n.getData("text/html"),r)?r.preventDefault():AL(t,r)};var oC=class{constructor(e,r){this.slice=e,this.move=r}},aC=tn?"altKey":"ctrlKey";Tr.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Ad(r));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof de?i.to-1:i.to))){if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(de.create(t.state.doc,n.mightDrag.pos)));else if(r.target&&r.target.nodeType==1){let u=t.docView.nearestDesc(r.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(de.create(t.state.doc,u.posBefore)))}}let a=t.state.selection.content(),{dom:s,text:l}=zk(t,a);r.dataTransfer.clearData(),r.dataTransfer.setData(Vs?"Text":"text/html",s.innerHTML),r.dataTransfer.effectAllowed="copyMove",Vs||r.dataTransfer.setData("text/plain",l),t.dragging=new oC(a,!r[aC])};Tr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Or.dragover=Or.dragenter=(t,e)=>e.preventDefault();Or.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let i=t.posAtCoords(Ad(r));if(!i)return;let o=t.state.doc.resolve(i.pos),a=n&&n.slice;a?t.someProp("transformPasted",g=>{a=g(a)}):a=Hk(t,r.dataTransfer.getData(Vs?"Text":"text/plain"),Vs?null:r.dataTransfer.getData("text/html"),!1,o);let s=!!(n&&!r[aC]);if(t.someProp("handleDrop",g=>g(t,r,a||J.empty,s))){r.preventDefault();return}if(!a)return;r.preventDefault();let l=a?WE(t.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let u=t.state.tr;s&&u.deleteSelection();let c=u.mapping.map(l),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,a.content.firstChild):u.replaceRange(c,c,a),u.doc.eq(d))return;let p=u.doc.resolve(c);if(f&&de.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new de(p));else{let g=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((m,v,b,E)=>g=E),u.setSelection(py(t,p,u.doc.resolve(g)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Tr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Oi(t)},20))};Tr.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Tr.beforeinput=(t,e)=>{if(jr&&Kn&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Rs(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Or)Tr[t]=Or[t];function Vu(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}var Pd=class{constructor(e,r){this.toDOM=e,this.spec=r||wa,this.side=this.spec.side||0}map(e,r,n,i){let{pos:o,deleted:a}=e.mapResult(r.from+i,this.side<0?-1:1);return a?null:new Rr(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Pd&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Vu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}},Ai=class{constructor(e,r){this.attrs=e,this.spec=r||wa}map(e,r,n,i){let o=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,a=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=a?null:new Rr(o,a,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Ai&&Vu(this.attrs,e.attrs)&&Vu(this.spec,e.spec)}static is(e){return e.type instanceof Ai}destroy(){}},Md=class{constructor(e,r){this.attrs=e,this.spec=r||wa}map(e,r,n,i){let o=e.mapResult(r.from+i,1);if(o.deleted)return null;let a=e.mapResult(r.to+i,-1);return a.deleted||a.pos<=o.pos?null:new Rr(o.pos-n,a.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),o;return i==r.from&&!(o=e.child(n)).isText&&i+o.nodeSize==r.to}eq(e){return this==e||e instanceof Md&&Vu(this.attrs,e.attrs)&&Vu(this.spec,e.spec)}destroy(){}},Rr=class{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new Rr(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new Rr(e,e,new Pd(r,n))}static inline(e,r,n,i){return new Rr(e,r,new Ai(n,i))}static node(e,r,n,i){return new Rr(e,r,new Md(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ai}},Us=[],wa={},Ht=class{constructor(e,r){this.local=e.length?e:Us,this.children=r.length?r:Us}static create(e,r){return r.length?Fd(r,e,0,wa):gr}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=r&&s.to>=e&&(!o||o(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<r&&this.children[a+1]>e){let s=this.children[a]+1;this.children[a+2].findInner(e-s,r-s,n,i+s,o)}}map(e,r,n){return this==gr||e.maps.length==0?this:this.mapInner(e,r,0,0,n||wa)}mapInner(e,r,n,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,n,i);l&&l.type.valid(r,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?IL(this.children,a||[],e,r,n,i,o):a?new Ht(a.sort(xa),Us):gr}add(e,r){return r.length?this==gr?Ht.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,o=0;e.forEach((s,l)=>{let u=l+n,c;if(!!(c=lC(r,s,u))){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,c,u+1):i.splice(o,0,l,l+s.nodeSize,Fd(c,s,u+1,wa)),o+=3}});let a=sC(o?uC(r):r,-n);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||a.splice(s--,1);return new Ht(a.length?this.local.concat(a).sort(xa):this.local,i||this.children)}remove(e){return e.length==0||this==gr?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let o=0;o<n.length;o+=3){let a,s=n[o]+r,l=n[o+1]+r;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>s&&f.to<l&&(e[c]=null,(a||(a=[])).push(f));if(!a)continue;n==this.children&&(n=this.children.slice());let u=n[o+2].removeInner(a,s+1);u!=gr?n[o+2]=u:(n.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let s=0;s<i.length;s++)i[s].eq(a,r)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new Ht(i,n):gr}forChild(e,r){if(this==gr)return this;if(r.isLeaf)return Ht.empty;let n,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let o=e+1,a=o+r.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof Ai){let u=Math.max(o,l.from)-o,c=Math.min(a,l.to)-o;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let s=new Ht(i.sort(xa),Us);return n?new Ii([s,n]):s}return n||gr}eq(e){if(this==e)return!0;if(!(e instanceof Ht)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return Ey(this.localsInner(e))}localsInner(e){if(this==gr)return Us;if(e.inlineContent||!this.local.some(Ai.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Ai||r.push(this.local[n]);return r}};Ht.empty=new Ht([],[]);Ht.removeOverlap=Ey;var gr=Ht.empty,Ii=class{constructor(e){this.members=e}map(e,r){let n=this.members.map(i=>i.map(e,r,wa));return Ii.from(n)}forChild(e,r){if(r.isLeaf)return Ht.empty;let n=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,r);o!=gr&&(o instanceof Ii?n=n.concat(o.members):n.push(o))}return Ii.from(n)}eq(e){if(!(e instanceof Ii)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(!!o.length)if(!r)r=o;else{n&&(r=r.slice(),n=!1);for(let a=0;a<o.length;a++)r.push(o[a])}}return r?Ey(n?r:r.sort(xa)):Us}static from(e){switch(e.length){case 0:return gr;case 1:return e[0];default:return new Ii(e)}}};function IL(t,e,r,n,i,o,a){let s=t.slice();for(let u=0,c=o;u<r.maps.length;u++){let f=0;r.maps[u].forEach((d,p,g,m)=>{let v=m-g-(p-d);for(let b=0;b<s.length;b+=3){let E=s[b+1];if(E<0||d>E+c-f)continue;let w=s[b]+c-f;p>=w?s[b+1]=d<=w?-2:-1:g>=i&&v&&(s[b]+=v,s[b+1]+=v)}f+=v}),c=r.maps[u].map(c,-1)}let l=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){l=!0,s[u+1]=-1;continue}let c=r.map(t[u]+o),f=c-i;if(f<0||f>=n.content.size){l=!0;continue}let d=r.map(t[u+1]+o,-1),p=d-i,{index:g,offset:m}=n.content.findIndex(f),v=n.maybeChild(g);if(v&&m==f&&m+v.nodeSize==p){let b=s[u+2].mapInner(r,v,c+1,t[u]+o+1,a);b!=gr?(s[u]=f,s[u+1]=p,s[u+2]=b):(s[u+1]=-2,l=!0)}else l=!0}if(l){let u=PL(s,t,e,r,i,o,a),c=Fd(u,n,0,a);e=c.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let p=c.children[f];for(;d<s.length&&s[d]<p;)d+=3;s.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new Ht(e.sort(xa),s)}function sC(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new Rr(i.from+e,i.to+e,i.type))}return r}function PL(t,e,r,n,i,o,a){function s(l,u){for(let c=0;c<l.local.length;c++){let f=l.local[c].map(n,i,u);f?r.push(f):a.onRemove&&a.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)s(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&s(t[l+2],e[l]+o+1);return r}function lC(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let o=0,a;o<t.length;o++)(a=t[o])&&a.from>r&&a.to<n&&((i||(i=[])).push(a),t[o]=null);return i}function uC(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Fd(t,e,r,n){let i=[],o=!1;e.forEach((s,l)=>{let u=lC(t,s,l+r);if(u){o=!0;let c=Fd(u,s,r+l+1,n);c!=gr&&i.push(l,l+s.nodeSize,c)}});let a=sC(o?uC(t):t,-r).sort(xa);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||(n.onRemove&&n.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new Ht(a,i):gr}function xa(t,e){return t.from-e.from||t.to-e.to}function Ey(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let o=e[i];if(o.from==n.from){o.to!=n.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,n.to),cC(e,i+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,o.from),cC(e,i,n.copy(o.from,n.to)));break}}}return e}function cC(t,e,r){for(;e<t.length&&xa(r,t[e])>0;)e++;t.splice(e,0,r)}function ky(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=gr&&e.push(n)}),t.cursorWrapper&&e.push(Ht.create(t.state.doc,[t.cursorWrapper.deco])),Ii.from(e)}var ML={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},FL=Fr&&_o<=11,fC=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}},dC=class{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new fC,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Fr&&_o<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),FL&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ML)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!Nk(this.view)){if(this.suppressingSelectionUpdates)return Oi(this.view);if(Fr&&_o<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ya(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let o=e.focusNode;o;o=Nu(o))r.add(o);for(let o=e.anchorNode;o;o=Nu(o))if(r.has(o)){n=o;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.observer?this.observer.takeRecords():[];this.queue.length&&(r=this.queue.concat(r),this.queue.length=0);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Nk(e)&&!this.ignoreSelectionChange(n),o=-1,a=-1,s=!1,l=[];if(e.editable)for(let c=0;c<r.length;c++){let f=this.registerMutation(r[c],l);f&&(o=o<0?f.from:Math.min(f.from,o),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(s=!0))}if(xn&&l.length>1){let c=l.filter(f=>f.nodeName=="BR");if(c.length==2){let f=c[0],d=c[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&Dd(n)&&(u=fy(e))&&u.eq(ke.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Oi(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,a),jL(e)),this.handleDOMChange(o,a,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Oi(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)r.push(e.addedNodes[c]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Fr&&_o<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let a=i&&i.parentNode==e.target?Wr(i)+1:0,s=n.localPosFromDOM(e.target,a,-1),l=o&&o.parentNode==e.target?Wr(o):e.target.childNodes.length,u=n.localPosFromDOM(e.target,l,1);return{from:s,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}},pC=new WeakMap,hC=!1;function jL(t){if(!pC.has(t)&&(pC.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=xn,hC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),hC=!0}}function RL(t){let e;function r(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0);let n=e.startContainer,i=e.startOffset,o=e.endContainer,a=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return ya(s.node,s.offset,o,a)&&([n,i,o,a]=[o,a,n,i]),{anchorNode:n,anchorOffset:i,focusNode:o,focusOffset:a}}function NL(t,e,r){let{node:n,fromOffset:i,toOffset:o,from:a,to:s}=t.docView.parseRange(e,r),l=t.domSelectionRange(),u,c=l.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],Dd(l)||u.push({node:l.focusNode,offset:l.focusOffset})),jr&&t.input.lastKeyCode===8)for(let v=o;v>i;v--){let b=n.childNodes[v-1],E=b.pmViewDesc;if(b.nodeName=="BR"&&!E){o=v;break}if(!E||E.size)break}let f=t.state.doc,d=t.someProp("domParser")||Si.fromSchema(t.state.schema),p=f.resolve(a),g=null,m=d.parse(n,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:LL,context:p});if(u&&u[0].pos!=null){let v=u[0].pos,b=u[1]&&u[1].pos;b==null&&(b=v),g={anchor:v+a,head:b+a}}return{doc:m,sel:g,from:a,to:s}}function LL(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Dr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||Dr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function $L(t,e,r,n,i){if(e<0){let C=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,D=fy(t,C);if(D&&!t.state.selection.eq(D)){let T=t.state.tr.setSelection(D);C=="pointer"?T.setMeta("pointer",!0):C=="key"&&T.scrollIntoView(),t.dispatch(T)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(r);e=o.before(a+1),r=t.state.doc.resolve(r).after(a+1);let s=t.state.selection,l=NL(t,e,r),u=t.state.doc,c=u.slice(l.from,l.to),f,d;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,d="end"):(f=t.state.selection.from,d="start"),t.input.lastKeyCode=null;let p=VL(c.content,l.doc.content,l.from,f,d);if((Ns&&t.input.lastIOSEnter>Date.now()-225||Kn)&&i.some(C=>C.nodeName=="DIV"||C.nodeName=="P")&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",C=>C(t,Rs(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(n&&s instanceof xe&&!s.empty&&s.$head.sameParent(s.$anchor)&&!t.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))p={start:s.from,endA:s.to,endB:s.to};else{if(l.sel){let C=mC(t,t.state.doc,l.sel);C&&!C.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(C))}return}if(jr&&t.cursorWrapper&&l.sel&&l.sel.anchor==t.cursorWrapper.deco.from&&l.sel.head==l.sel.anchor){let C=p.endB-p.start;l.sel={anchor:l.sel.anchor+C,head:l.sel.anchor+C}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof xe&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=l.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=l.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),Fr&&_o<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>l.from&&l.doc.textBetween(p.start-l.from-1,p.start-l.from+1)==" \xA0"&&(p.start--,p.endA--,p.endB--);let g=l.doc.resolveNoCache(p.start-l.from),m=l.doc.resolveNoCache(p.endB-l.from),v=u.resolve(p.start),b=g.sameParent(m)&&g.parent.inlineContent&&v.end()>=p.endA,E;if((Ns&&t.input.lastIOSEnter>Date.now()-225&&(!b||i.some(C=>C.nodeName=="DIV"||C.nodeName=="P"))||!b&&g.pos<l.doc.content.size&&(E=ke.findFrom(l.doc.resolve(g.pos+1),1,!0))&&E.head==m.pos)&&t.someProp("handleKeyDown",C=>C(t,Rs(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&qL(u,p.start,p.endA,g,m)&&t.someProp("handleKeyDown",C=>C(t,Rs(8,"Backspace")))){Kn&&jr&&t.domObserver.suppressSelectionUpdates();return}jr&&Kn&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),Kn&&!b&&g.start()!=m.start()&&m.parentOffset==0&&g.depth==m.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==p.endA&&(p.endB-=2,m=l.doc.resolveNoCache(p.endB-l.from),setTimeout(()=>{t.someProp("handleKeyDown",function(C){return C(t,Rs(13,"Enter"))})},20));let w=p.start,_=p.endA,S,x,k;if(b){if(g.pos==m.pos)Fr&&_o<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Oi(t),20)),S=t.state.tr.delete(w,_),x=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(k=BL(g.parent.content.cut(g.parentOffset,m.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start()))))S=t.state.tr,k.type=="add"?S.addMark(w,_,k.mark):S.removeMark(w,_,k.mark);else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let C=g.parent.textBetween(g.parentOffset,m.parentOffset);if(t.someProp("handleTextInput",D=>D(t,w,_,C)))return;S=t.state.tr.insertText(C,w,_)}}if(S||(S=t.state.tr.replace(w,_,l.doc.slice(p.start-l.from,p.endB-l.from))),l.sel){let C=mC(t,S.doc,l.sel);C&&!(jr&&Kn&&t.composing&&C.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(C.head==w||C.head==S.mapping.map(_)-1)||Fr&&C.empty&&C.head==w)&&S.setSelection(C)}x&&S.ensureMarks(x),t.dispatch(S.scrollIntoView())}function mC(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:py(t,e.resolve(r.anchor),e.resolve(r.head))}function BL(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,o=n,a,s,l;for(let c=0;c<n.length;c++)i=n[c].removeFromSet(i);for(let c=0;c<r.length;c++)o=r[c].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=c=>c.mark(s.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(H.from(u).eq(t))return{mark:s,type:a}}function qL(t,e,r,n,i){if(!n.parent.isTextblock||r-e<=i.pos-n.pos||Cy(n,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=t.resolve(Cy(o,!0,!0));return!a.parent.isTextblock||a.pos>r||Cy(a,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function Cy(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let o=t.node(n).maybeChild(t.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function VL(t,e,r,n,i){let o=t.findDiffStart(e,r);if(o==null)return null;let{a,b:s}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));n-=a+l-o}return a<o&&t.size<e.size?(o-=n<=o&&n>=a?o-n:0,s=o+(s-a),a=o):s<o&&(o-=n<=o&&n>=s?o-n:0,a=o+(a-s),s=o),{start:o,endA:a,endB:s}}var Dy=class{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Zk,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(bC),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=vC(this),yC(this),this.nodeViews=_C(this),this.docView=Ek(this.state.doc,gC(this),ky(this),this.dom,this),this.domObserver=new dC(this,(n,i,o,a)=>$L(this,n,i,o,a)),this.domObserver.start(),mL(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&_y(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(bC),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){let n=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(iC(this),o=!0),this.state=e;let a=n.plugins!=e.plugins||this._props.plugins!=r.plugins;if(a||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let d=_C(this);zL(d,this.nodeViews)&&(this.nodeViews=d,i=!0)}(a||r.handleDOMEvents!=this._props.handleDOMEvents)&&_y(this),this.editable=vC(this),yC(this);let s=ky(this),l=gC(this),u=n.plugins!=e.plugins&&!n.doc.eq(e.doc)?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,l,s);(c||!e.selection.eq(n.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&NN(this);if(o){this.domObserver.stop();let d=c&&(Fr||jr)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&UL(n.selection,e.selection);if(c){let p=jr?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,l,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Ek(e.doc,l,s,this.dom,this)),p&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&oL(this))?Oi(this,d):(jk(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&LN(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof de){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&dk(this,r.getBoundingClientRect(),e)}else dk(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[e];if(s!=null&&(i=r?r(s):s))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[e];if(s!=null&&(i=r?r(s):s))return i}}hasFocus(){if(Fr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&$N(this.dom),Oi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}posAtCoords(e){return zN(this,e)}coordsAtPos(e,r=1){return yk(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return QN(this,r||this.state,e)}destroy(){!this.docView||(gL(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ky(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return vL(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Dr&&this.root.nodeType===11&&PN(this.dom.ownerDocument)==this.dom?RL(this):this.domSelection()}domSelection(){return this.root.getSelection()}};function gC(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"&&(e.class+=" "+r[n]),n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),[Rr.node(0,t.state.doc.content.size,e)]}function yC(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Rr.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function vC(t){return!t.someProp("editable",e=>e(t.state)===!1)}function UL(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function _C(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function zL(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function bC(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}y();y();var Pi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},jd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},wC=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),Zee=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),HL=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),WL=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),KL=HL||wC&&+wC[1]<57;for(Bt=0;Bt<10;Bt++)Pi[48+Bt]=Pi[96+Bt]=String(Bt);var Bt;for(Bt=1;Bt<=24;Bt++)Pi[Bt+111]="F"+Bt;var Bt;for(Bt=65;Bt<=90;Bt++)Pi[Bt]=String.fromCharCode(Bt+32),jd[Bt]=String.fromCharCode(Bt);var Bt;for(Rd in Pi)jd.hasOwnProperty(Rd)||(jd[Rd]=Pi[Rd]);var Rd;function xC(t){var e=KL&&(t.ctrlKey||t.altKey||t.metaKey)||WL&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?jd:Pi)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}var GL=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function QL(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,o,a;for(let s=0;s<e.length-1;s++){let l=e[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))GL?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function YL(t){let e=Object.create(null);for(let r in t)e[QL(r)]=t[r];return e}function Ty(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r!==!1&&e.shiftKey&&(t="Shift-"+t),t}function SC(t){return new Ct({props:{handleKeyDown:JL(t)}})}function JL(t){let e=YL(t);return function(r,n){let i=xC(n),o=i.length==1&&i!=" ",a,s=e[Ty(i,n,!o)];if(s&&s(r.state,r.dispatch,r))return!0;if(o&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(a=Pi[n.keyCode])&&a!=i){let l=e[Ty(a,n,!0)];if(l&&l(r.state,r.dispatch,r))return!0}else if(o&&n.shiftKey){let l=e[Ty(i,n,!0)];if(l&&l(r.state,r.dispatch,r))return!0}return!1}}y();var Nd=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),Oy=(t,e,r)=>{let{$cursor:n}=t.selection;if(!n||(r?!r.endOfTextblock("backward",t):n.parentOffset>0))return!1;let i=EC(n);if(!i){let a=n.blockRange(),s=a&&Ci(a);return s==null?!1:(e&&e(t.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&TC(t,i,e))return!0;if(n.parent.content.size==0&&(zs(o,"end")||de.isSelectable(o))){let a=Sd(t.doc,n.before(),n.after(),J.empty);if(a&&a.slice.size<a.to-a.from){if(e){let s=t.tr.step(a);s.setSelection(zs(o,"end")?ke.findFrom(s.doc.resolve(s.mapping.map(i.pos,-1)),-1):de.create(s.doc,i.pos-o.nodeSize)),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function zs(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}var Ay=(t,e,r)=>{let{$head:n,empty:i}=t.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;o=EC(n)}let a=o&&o.nodeBefore;return!a||!de.isSelectable(a)?!1:(e&&e(t.tr.setSelection(de.create(t.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function EC(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}var Iy=(t,e,r)=>{let{$cursor:n}=t.selection;if(!n||(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size))return!1;let i=kC(n);if(!i)return!1;let o=i.nodeAfter;if(TC(t,i,e))return!0;if(n.parent.content.size==0&&(zs(o,"start")||de.isSelectable(o))){let a=Sd(t.doc,n.before(),n.after(),J.empty);if(a&&a.slice.size<a.to-a.from){if(e){let s=t.tr.step(a);s.setSelection(zs(o,"start")?ke.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):de.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},Py=(t,e,r)=>{let{$head:n,empty:i}=t.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;o=kC(n)}let a=o&&o.nodeAfter;return!a||!de.isSelectable(a)?!1:(e&&e(t.tr.setSelection(de.create(t.doc,o.pos)).scrollIntoView()),!0)};function kC(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}var CC=(t,e)=>{let{$from:r,$to:n}=t.selection,i=r.blockRange(n),o=i&&Ci(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},My=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Fy(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}var jy=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),o=r.indexAfter(-1),a=Fy(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(e){let s=r.after(),l=t.tr.replaceWith(s,s,a.createAndFill());l.setSelection(ke.near(l.doc.resolve(s),1)),e(l.scrollIntoView())}return!0},Ry=(t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof mr||n.parent.inlineContent||i.parent.inlineContent)return!1;let o=Fy(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=t.tr.insert(a,o.createAndFill());s.setSelection(xe.create(s.doc,a+1)),e(s.scrollIntoView())}return!0},Ny=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let o=r.before();if(en(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let n=r.blockRange(),i=n&&Ci(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)},XL=(t,e)=>{let{$from:r,$to:n}=t.selection;if(t.selection instanceof de&&t.selection.node.isBlock)return!r.parentOffset||!en(t.doc,r.pos)?!1:(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(e){let i=n.parentOffset==n.parent.content.size,o=t.tr;(t.selection instanceof xe||t.selection instanceof mr)&&o.deleteSelection();let a=r.depth==0?null:Fy(r.node(-1).contentMatchAt(r.indexAfter(-1))),s=i&&a?[{type:a}]:void 0,l=en(o.doc,o.mapping.map(r.pos),1,s);if(!s&&!l&&en(o.doc,o.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(s=[{type:a}]),l=!0),l&&(o.split(o.mapping.map(r.pos),1,s),!i&&!r.parentOffset&&r.parent.type!=a)){let u=o.mapping.map(r.before()),c=o.doc.resolve(u);a&&r.node(-1).canReplaceWith(c.index(),c.index()+1,a)&&o.setNodeMarkup(o.mapping.map(r.before()),a)}e(o.scrollIntoView())}return!0};var DC=(t,e)=>{let{$from:r,to:n}=t.selection,i,o=r.sharedDepth(n);return o==0?!1:(i=r.before(o),e&&e(t.tr.setSelection(de.create(t.doc,i))),!0)},ZL=(t,e)=>(e&&e(t.tr.setSelection(new mr(t.doc))),!0);function e$(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,o=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(o-1,o)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Di(t.doc,e.pos))?!1:(r&&r(t.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),!0)}function TC(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,o,a;if(n.type.spec.isolating||i.type.spec.isolating)return!1;if(e$(t,e,r))return!0;let s=e.parent.canReplace(e.index(),e.index()+1);if(s&&(o=(a=n.contentMatchAt(n.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(r){let f=e.pos+i.nodeSize,d=H.empty;for(let m=o.length-1;m>=0;m--)d=H.from(o[m].create(null,d));d=H.from(n.copy(d));let p=t.tr.step(new kt(e.pos-1,f,e.pos,f,new J(d,1,0),o.length,!0)),g=f+2*o.length;Di(p.doc,g)&&p.join(g),r(p.scrollIntoView())}return!0}let l=ke.findFrom(e,1),u=l&&l.$from.blockRange(l.$to),c=u&&Ci(u);if(c!=null&&c>=e.depth)return r&&r(t.tr.lift(u,c).scrollIntoView()),!0;if(s&&zs(i,"start",!0)&&zs(n,"end")){let f=n,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let p=i,g=1;for(;!p.isTextblock;p=p.firstChild)g++;if(f.canReplace(f.childCount,f.childCount,p.content)){if(r){let m=H.empty;for(let b=d.length-1;b>=0;b--)m=H.from(d[b].copy(m));let v=t.tr.step(new kt(e.pos-d.length,e.pos+i.nodeSize,e.pos+g,e.pos+i.nodeSize-g,new J(m,d.length,0),0,!0));r(v.scrollIntoView())}return!0}}return!1}function OC(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(r&&r(e.tr.setSelection(xe.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}var Ly=OC(-1),$y=OC(1);function AC(t,e=null){return function(r,n){let{$from:i,$to:o}=r.selection,a=i.blockRange(o),s=a&&Ps(a,t,e);return s?(n&&n(r.tr.wrap(a,s).scrollIntoView()),!0):!1}}function By(t,e=null){return function(r,n){let{from:i,to:o}=r.selection,a=!1;return r.doc.nodesBetween(i,o,(s,l)=>{if(a)return!1;if(!(!s.isTextblock||s.hasMarkup(t,e)))if(s.type==t)a=!0;else{let u=r.doc.resolve(l),c=u.index();a=u.parent.canReplaceWith(c,c+1,t)}}),a?(n&&n(r.tr.setBlockType(i,o,t,e).scrollIntoView()),!0):!1}}function qy(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}var Vy=qy(Nd,Oy,Ay),IC=qy(Nd,Iy,Py),ko={Enter:qy(My,Ry,Ny,XL),"Mod-Enter":jy,Backspace:Vy,"Mod-Backspace":Vy,"Shift-Backspace":Vy,Delete:IC,"Mod-Delete":IC,"Mod-a":ZL},t$={"Ctrl-h":ko.Backspace,"Alt-Backspace":ko["Mod-Backspace"],"Ctrl-d":ko.Delete,"Ctrl-Alt-Backspace":ko["Mod-Delete"],"Alt-Delete":ko["Mod-Delete"],"Alt-d":ko["Mod-Delete"],"Ctrl-a":Ly,"Ctrl-e":$y};for(let t in ko)t$[t]=ko[t];var lte=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform?os.platform()=="darwin":!1;y();function PC(t,e=null){return function(r,n){let{$from:i,$to:o}=r.selection,a=i.blockRange(o),s=!1,l=a;if(!a)return!1;if(a.depth>=2&&i.node(a.depth-1).type.compatibleContent(t)&&a.startIndex==0){if(i.index(a.depth-1)==0)return!1;let c=r.doc.resolve(a.start-2);l=new As(c,c,a.depth),a.endIndex<a.parent.childCount&&(a=new As(i,r.doc.resolve(o.end(a.depth)),a.depth)),s=!0}let u=Ps(l,t,e,a);return u?(n&&n(r$(r.tr,a,u,s,t).scrollIntoView()),!0):!1}}function r$(t,e,r,n,i){let o=H.empty;for(let c=r.length-1;c>=0;c--)o=H.from(r[c].type.create(r[c].attrs,o));t.step(new kt(e.start-(n?2:0),e.end,e.start,e.end,new J(o,0,0),r.length,!0));let a=0;for(let c=0;c<r.length;c++)r[c].type==i&&(a=c+1);let s=r.length-a,l=e.start+r.length-(n?2:0),u=e.parent;for(let c=e.startIndex,f=e.endIndex,d=!0;c<f;c++,d=!1)!d&&en(t.doc,l,s)&&(t.split(l,s),l+=2*s),l+=u.child(c).nodeSize;return t}function MC(t){return function(e,r){let{$from:n,$to:i}=e.selection,o=n.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return o?r?n.node(o.depth-1).type==t?n$(e,r,t,o):i$(e,r,o):!0:!1}}function n$(t,e,r,n){let i=t.tr,o=n.end,a=n.$to.end(n.depth);o<a&&(i.step(new kt(o-1,a,o,a,new J(H.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new As(i.doc.resolve(n.$from.pos),i.doc.resolve(a),n.depth));let s=Ci(n);if(s==null)return!1;i.lift(n,s);let l=i.mapping.map(o,-1)-1;return Di(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function i$(t,e,r){let n=t.tr,i=r.parent;for(let p=r.end,g=r.endIndex-1,m=r.startIndex;g>m;g--)p-=i.child(g).nodeSize,n.delete(p-1,p+1);let o=n.doc.resolve(r.start),a=o.nodeAfter;if(n.mapping.map(r.end)!=r.start+o.nodeAfter.nodeSize)return!1;let s=r.startIndex==0,l=r.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(s?0:1),c+1,a.content.append(l?H.empty:H.from(i))))return!1;let f=o.pos,d=f+a.nodeSize;return n.step(new kt(f-(s?1:0),d+(l?1:0),f+1,d-1,new J((s?H.empty:H.from(i.copy(H.empty))).append(l?H.empty:H.from(i.copy(H.empty))),s?0:1,l?0:1),s?0:1)),e(n.scrollIntoView()),!0}function FC(t){return function(e,r){let{$from:n,$to:i}=e.selection,o=n.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=t)return!1;if(r){let u=l.lastChild&&l.lastChild.type==s.type,c=H.from(u?t.create():null),f=new J(H.from(t.create(null,H.from(s.type.create(null,c)))),u?3:1,0),d=o.start,p=o.end;r(e.tr.step(new kt(d-(u?3:1),p,d,p,f,1,!0)).scrollIntoView())}return!0}}function Ld(t){let{state:e,transaction:r}=t,{selection:n}=r,{doc:i}=r,{storedMarks:o}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,o=r.storedMarks,r}}}var Uu=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:e,editor:r,state:n}=this,{view:i}=r,{tr:o}=n,a=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([s,l])=>[s,(...c)=>{let f=l(...c)(a);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,r=!0){let{rawCommands:n,editor:i,state:o}=this,{view:a}=i,s=[],l=!!e,u=e||o.tr,c=()=>(!l&&r&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(u),s.every(d=>d===!0)),f={...Object.fromEntries(Object.entries(n).map(([d,p])=>[d,(...m)=>{let v=this.buildProps(u,r),b=p(...m)(v);return s.push(b),f}])),run:c};return f}createCan(e){let{rawCommands:r,state:n}=this,i=!1,o=e||n.tr,a=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...c)=>u(...c)({...a,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,r=!0){let{rawCommands:n,editor:i,state:o}=this,{view:a}=i;o.storedMarks&&e.setStoredMarks(o.storedMarks);let s={tr:e,editor:i,view:a,state:Ld({state:o,transaction:e}),dispatch:r?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...c)=>u(...c)(s)]))}};return s}},jC=class{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){let n=this.callbacks[e];return n&&n.forEach(i=>i.apply(this,r)),this}off(e,r){let n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(i=>i!==r):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}};function ne(t,e,r){return t.config[e]===void 0&&t.parent?ne(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?ne(t.parent,e,r):null}):t.config[e]}function $d(t){let e=t.filter(i=>i.type==="extension"),r=t.filter(i=>i.type==="node"),n=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function RC(t){let e=[],{nodeExtensions:r,markExtensions:n}=$d(t),i=[...r,...n],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{let s={name:a.name,options:a.options,storage:a.storage},l=ne(a,"addGlobalAttributes",s);if(!l)return;l().forEach(c=>{c.types.forEach(f=>{Object.entries(c.attributes).forEach(([d,p])=>{e.push({type:f,name:d,attribute:{...o,...p}})})})})}),i.forEach(a=>{let s={name:a.name,options:a.options,storage:a.storage},l=ne(a,"addAttributes",s);if(!l)return;let u=l();Object.entries(u).forEach(([c,f])=>{let d={...o,...f};(f==null?void 0:f.isRequired)&&(f==null?void 0:f.default)===void 0&&delete d.default,e.push({type:a.name,name:c,attribute:d})})}),e}function Mt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function nt(...t){return t.filter(e=>!!e).reduce((e,r)=>{let n={...e};return Object.entries(r).forEach(([i,o])=>{if(!n[i]){n[i]=o;return}i==="class"?n[i]=[n[i],o].join(" "):i==="style"?n[i]=[n[i],o].join("; "):n[i]=o}),n},{})}function Uy(t,e){return e.filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>nt(r,n),{})}function NC(t){return typeof t=="function"}function De(t,e=void 0,...r){return NC(t)?e?t.bind(e)(...r):t(...r):t}function o$(t={}){return Object.keys(t).length===0&&t.constructor===Object}function a$(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function LC(t,e){return t.style?t:{...t,getAttrs:r=>{let n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;let i=e.reduce((o,a)=>{let s=a.attribute.parseHTML?a.attribute.parseHTML(r):a$(r.getAttribute(a.name));return s==null?o:{...o,[a.name]:s}},{});return{...n,...i}}}}function $C(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&o$(r)?!1:r!=null))}function s$(t){var e;let r=RC(t),{nodeExtensions:n,markExtensions:i}=$d(t),o=(e=n.find(l=>ne(l,"topNode")))===null||e===void 0?void 0:e.name,a=Object.fromEntries(n.map(l=>{let u=r.filter(v=>v.type===l.name),c={name:l.name,options:l.options,storage:l.storage},f=t.reduce((v,b)=>{let E=ne(b,"extendNodeSchema",c);return{...v,...E?E(l):{}}},{}),d=$C({...f,content:De(ne(l,"content",c)),marks:De(ne(l,"marks",c)),group:De(ne(l,"group",c)),inline:De(ne(l,"inline",c)),atom:De(ne(l,"atom",c)),selectable:De(ne(l,"selectable",c)),draggable:De(ne(l,"draggable",c)),code:De(ne(l,"code",c)),defining:De(ne(l,"defining",c)),isolating:De(ne(l,"isolating",c)),attrs:Object.fromEntries(u.map(v=>{var b;return[v.name,{default:(b=v==null?void 0:v.attribute)===null||b===void 0?void 0:b.default}]}))}),p=De(ne(l,"parseHTML",c));p&&(d.parseDOM=p.map(v=>LC(v,u)));let g=ne(l,"renderHTML",c);g&&(d.toDOM=v=>g({node:v,HTMLAttributes:Uy(v,u)}));let m=ne(l,"renderText",c);return m&&(d.toText=m),[l.name,d]})),s=Object.fromEntries(i.map(l=>{let u=r.filter(m=>m.type===l.name),c={name:l.name,options:l.options,storage:l.storage},f=t.reduce((m,v)=>{let b=ne(v,"extendMarkSchema",c);return{...m,...b?b(l):{}}},{}),d=$C({...f,inclusive:De(ne(l,"inclusive",c)),excludes:De(ne(l,"excludes",c)),group:De(ne(l,"group",c)),spanning:De(ne(l,"spanning",c)),code:De(ne(l,"code",c)),attrs:Object.fromEntries(u.map(m=>{var v;return[m.name,{default:(v=m==null?void 0:m.attribute)===null||v===void 0?void 0:v.default}]}))}),p=De(ne(l,"parseHTML",c));p&&(d.parseDOM=p.map(m=>LC(m,u)));let g=ne(l,"renderHTML",c);return g&&(d.toDOM=m=>g({mark:m,HTMLAttributes:Uy(m,u)})),[l.name,d]}));return new Hg({topNode:o,nodes:a,marks:s})}function zy(t,e){return e.nodes[t]||e.marks[t]||null}function BC(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}var l$=(t,e=500)=>{let r="",n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(i,o,a,s)=>{var l,u;r+=(((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:o,parent:a,index:s}))||i.textContent||"%leaf%").slice(0,Math.max(0,n-o))}),r};function Hy(t){return Object.prototype.toString.call(t)==="[object RegExp]"}var Bd=class{constructor(e){this.find=e.find,this.handler=e.handler}},u$=(t,e)=>{if(Hy(e))return e.exec(t);let r=e(t);if(!r)return null;let n=[];return n.push(r.text),n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function Wy(t){var e;let{editor:r,from:n,to:i,text:o,rules:a,plugin:s}=t,{view:l}=r;if(l.composing)return!1;let u=l.state.doc.resolve(n);if(u.parent.type.spec.code||!!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0?void 0:e.marks.find(d=>d.type.spec.code)))return!1;let c=!1,f=l$(u)+o;return a.forEach(d=>{if(c)return;let p=u$(f,d.find);if(!p)return;let g=l.state.tr,m=Ld({state:l.state,transaction:g}),v={from:n-(p[0].length-o.length),to:i},{commands:b,chain:E,can:w}=new Uu({editor:r,state:m});d.handler({state:m,range:v,match:p,commands:b,chain:E,can:w})===null||!g.steps.length||(g.setMeta(s,{transform:g,from:n,to:i,text:o}),l.dispatch(g),c=!0)}),c}function c$(t){let{editor:e,rules:r}=t,n=new Ct({state:{init(){return null},apply(i,o){let a=i.getMeta(n);return a||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,a,s){return Wy({editor:e,from:o,to:a,text:s,rules:r,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{let{$cursor:o}=i.state.selection;o&&Wy({editor:e,from:o.pos,to:o.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;let{$cursor:a}=i.state.selection;return a?Wy({editor:e,from:a.pos,to:a.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function f$(t){return typeof t=="number"}var qC=class{constructor(e){this.find=e.find,this.handler=e.handler}},d$=(t,e)=>{if(Hy(e))return[...t.matchAll(e)];let r=e(t);return r?r.map(n=>{let i=[];return i.push(n.text),i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(n.replaceWith)),i}):[]};function p$(t){let{editor:e,state:r,from:n,to:i,rule:o}=t,{commands:a,chain:s,can:l}=new Uu({editor:e,state:r}),u=[];return r.doc.nodesBetween(n,i,(f,d)=>{if(!f.isTextblock||f.type.spec.code)return;let p=Math.max(n,d),g=Math.min(i,d+f.content.size),m=f.textBetween(p-d,g-d,void 0,"\uFFFC");d$(m,o.find).forEach(b=>{if(b.index===void 0)return;let E=p+b.index+1,w=E+b[0].length,_={from:r.tr.mapping.map(E),to:r.tr.mapping.map(w)},S=o.handler({state:r,range:_,match:b,commands:a,chain:s,can:l});u.push(S)})}),u.every(f=>f!==null)}function h$(t){let{editor:e,rules:r}=t,n=null,i=!1,o=!1;return r.map(s=>new Ct({view(l){let u=c=>{var f;n=((f=l.dom.parentElement)===null||f===void 0?void 0:f.contains(c.target))?l.dom.parentElement:null};return window.addEventListener("dragstart",u),{destroy(){window.removeEventListener("dragstart",u)}}},props:{handleDOMEvents:{drop:l=>(o=n===l.dom.parentElement,!1),paste:(l,u)=>{var c;let f=(c=u.clipboardData)===null||c===void 0?void 0:c.getData("text/html");return i=!!(f==null?void 0:f.includes("data-pm-slice")),!1}}},appendTransaction:(l,u,c)=>{let f=l[0],d=f.getMeta("uiEvent")==="paste"&&!i,p=f.getMeta("uiEvent")==="drop"&&!o;if(!d&&!p)return;let g=u.doc.content.findDiffStart(c.doc.content),m=u.doc.content.findDiffEnd(c.doc.content);if(!f$(g)||!m||g===m.b)return;let v=c.tr,b=Ld({state:c,transaction:v});if(!(!p$({editor:e,state:b,from:Math.max(g-1,0),to:m.b-1,rule:s})||!v.steps.length))return v}}))}function m$(t){let e=t.filter((r,n)=>t.indexOf(r)!==n);return[...new Set(e)]}var Sa=class{constructor(e,r){this.splittableMarks=[],this.editor=r,this.extensions=Sa.resolve(e),this.schema=s$(this.extensions),this.extensions.forEach(n=>{var i;this.editor.extensionStorage[n.name]=n.storage;let o={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:zy(n.name,this.schema)};n.type==="mark"&&((i=De(ne(n,"keepOnSplit",o)))!==null&&i!==void 0?i:!0)&&this.splittableMarks.push(n.name);let a=ne(n,"onBeforeCreate",o);a&&this.editor.on("beforeCreate",a);let s=ne(n,"onCreate",o);s&&this.editor.on("create",s);let l=ne(n,"onUpdate",o);l&&this.editor.on("update",l);let u=ne(n,"onSelectionUpdate",o);u&&this.editor.on("selectionUpdate",u);let c=ne(n,"onTransaction",o);c&&this.editor.on("transaction",c);let f=ne(n,"onFocus",o);f&&this.editor.on("focus",f);let d=ne(n,"onBlur",o);d&&this.editor.on("blur",d);let p=ne(n,"onDestroy",o);p&&this.editor.on("destroy",p)})}static resolve(e){let r=Sa.sort(Sa.flatten(e)),n=m$(r.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),r}static flatten(e){return e.map(r=>{let n={name:r.name,options:r.options,storage:r.storage},i=ne(r,"addExtensions",n);return i?[r,...this.flatten(i())]:r}).flat(10)}static sort(e){let r=100;return e.sort((n,i)=>{let o=ne(n,"priority")||r,a=ne(i,"priority")||r;return o>a?-1:o<a?1:0})}get commands(){return this.extensions.reduce((e,r)=>{let n={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:zy(r.name,this.schema)},i=ne(r,"addCommands",n);return i?{...e,...i()}:e},{})}get plugins(){let{editor:e}=this,r=Sa.sort([...this.extensions].reverse()),n=[],i=[],o=r.map(a=>{let s={name:a.name,options:a.options,storage:a.storage,editor:e,type:zy(a.name,this.schema)},l=[],u=ne(a,"addKeyboardShortcuts",s),c={};if(a.type==="mark"&&a.config.exitable&&(c.ArrowRight=()=>Ar.handleExit({editor:e,mark:a})),u){let m=Object.fromEntries(Object.entries(u()).map(([v,b])=>[v,()=>b({editor:e})]));c={...c,...m}}let f=SC(c);l.push(f);let d=ne(a,"addInputRules",s);BC(a,e.options.enableInputRules)&&d&&n.push(...d());let p=ne(a,"addPasteRules",s);BC(a,e.options.enablePasteRules)&&p&&i.push(...p());let g=ne(a,"addProseMirrorPlugins",s);if(g){let m=g();l.push(...m)}return l}).flat();return[c$({editor:e,rules:n}),...h$({editor:e,rules:i}),...o]}get attributes(){return RC(this.extensions)}get nodeViews(){let{editor:e}=this,{nodeExtensions:r}=$d(this.extensions);return Object.fromEntries(r.filter(n=>!!ne(n,"addNodeView")).map(n=>{let i=this.attributes.filter(l=>l.type===n.name),o={name:n.name,options:n.options,storage:n.storage,editor:e,type:Mt(n.name,this.schema)},a=ne(n,"addNodeView",o);if(!a)return[];let s=(l,u,c,f)=>{let d=Uy(l,i);return a()({editor:e,node:l,getPos:c,decorations:f,HTMLAttributes:d,extension:n})};return[n.name,s]}))}};function g$(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ky(t){return g$(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function qd(t,e){let r={...t};return Ky(t)&&Ky(e)&&Object.keys(e).forEach(n=>{Ky(e[n])?n in t?r[n]=qd(t[n],e[n]):Object.assign(r,{[n]:e[n]}):Object.assign(r,{[n]:e[n]})}),r}var rn=class{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=De(ne(this,"addOptions",{name:this.name}))),this.storage=De(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new rn(e)}configure(e={}){let r=this.extend();return r.options=qd(this.options,e),r.storage=De(ne(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){let r=new rn(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=De(ne(r,"addOptions",{name:r.name})),r.storage=De(ne(r,"addStorage",{name:r.name,options:r.options})),r}};function VC(t,e,r){let{from:n,to:i}=e,{blockSeparator:o=`

`,textSerializers:a={}}=r||{},s="",l=!0;return t.nodesBetween(n,i,(u,c,f,d)=>{var p;let g=a==null?void 0:a[u.type.name];g?(u.isBlock&&!l&&(s+=o,l=!0),f&&(s+=g({node:u,pos:c,parent:f,index:d,range:e}))):u.isText?(s+=(p=u==null?void 0:u.text)===null||p===void 0?void 0:p.slice(Math.max(n,c)-c,i-c),l=!1):u.isBlock&&!l&&(s+=o,l=!0)}),s}function UC(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}var y$=rn.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Ct({key:new Pt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:i}=e,{ranges:o}=i,a=Math.min(...o.map(c=>c.$from.pos)),s=Math.max(...o.map(c=>c.$to.pos)),l=UC(r);return VC(n,{from:a,to:s},{textSerializers:l})}}})]}}),v$=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())===null||r===void 0||r.removeAllRanges())}),!0),_$=(t=!1)=>({commands:e})=>e.setContent("",t),b$=()=>({state:t,tr:e,dispatch:r})=>{let{selection:n}=e,{ranges:i}=n;return r&&i.forEach(({$from:o,$to:a})=>{t.doc.nodesBetween(o.pos,a.pos,(s,l)=>{if(s.type.isText)return;let{doc:u,mapping:c}=e,f=u.resolve(c.map(l)),d=u.resolve(c.map(l+s.nodeSize)),p=f.blockRange(d);if(!p)return;let g=Ci(p);if(s.type.isTextblock){let{defaultType:m}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(p.start,m)}(g||g===0)&&e.lift(p,g)})}),!0},w$=t=>e=>t(e),x$=()=>({state:t,dispatch:e})=>Ry(t,e),S$=t=>({tr:e,state:r,dispatch:n})=>{let i=Mt(t,r.schema),o=e.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(n){let l=o.before(a),u=o.after(a);e.delete(l,u).scrollIntoView()}return!0}return!1},E$=t=>({tr:e,dispatch:r})=>{let{from:n,to:i}=t;return r&&e.delete(n,i),!0},k$=()=>({state:t,dispatch:e})=>Nd(t,e),C$=()=>({commands:t})=>t.keyboardShortcut("Enter"),D$=()=>({state:t,dispatch:e})=>jy(t,e);function Vd(t,e,r={strict:!0}){let n=Object.keys(e);return n.length?n.every(i=>r.strict?e[i]===t[i]:Hy(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Gy(t,e,r={}){return t.find(n=>n.type===e&&Vd(n.attrs,r))}function T$(t,e,r={}){return!!Gy(t,e,r)}function Qy(t,e,r={}){if(!t||!e)return;let n=t.parent.childAfter(t.parentOffset);if(t.parentOffset===n.offset&&n.offset!==0&&(n=t.parent.childBefore(t.parentOffset)),!n.node)return;let i=Gy([...n.node.marks],e,r);if(!i)return;let o=n.index,a=t.start()+n.offset,s=o+1,l=a+n.node.nodeSize;for(Gy([...n.node.marks],e,r);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,a-=t.parent.child(o).nodeSize;for(;s<t.parent.childCount&&T$([...t.parent.child(s).marks],e,r);)l+=t.parent.child(s).nodeSize,s+=1;return{from:a,to:l}}function Co(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var O$=(t,e={})=>({tr:r,state:n,dispatch:i})=>{let o=Co(t,n.schema),{doc:a,selection:s}=r,{$from:l,from:u,to:c}=s;if(i){let f=Qy(l,o,e);if(f&&f.from<=u&&f.to>=c){let d=xe.create(a,f.from,f.to);r.setSelection(d)}}return!0},A$=t=>e=>{let r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function zC(t){return t instanceof xe}function Ea(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function HC(t,e=null){if(!e)return null;let r=ke.atStart(t),n=ke.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;let i=r.from,o=n.to;return e==="all"?xe.create(t,Ea(0,i,o),Ea(t.content.size,i,o)):xe.create(t,Ea(e,i,o),Ea(e,i,o))}function Yy(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var I$=(t=null,e={})=>({editor:r,view:n,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};let a=()=>{Yy()&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),(e==null?void 0:e.scrollIntoView)&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!zC(r.state.selection))return a(),!0;let s=HC(i.doc,t)||r.state.selection,l=r.state.selection.eq(s);return o&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},P$=(t,e)=>r=>t.every((n,i)=>e(n,{...r,index:i})),M$=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e);function WC(t){let e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function Ud(t,e,r){if(r={slice:!0,parseOptions:{},...r},typeof t=="object"&&t!==null)try{return Array.isArray(t)?H.fromArray(t.map(n=>e.nodeFromJSON(n))):e.nodeFromJSON(t)}catch(n){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",n),Ud("",e,r)}if(typeof t=="string"){let n=Si.fromSchema(e);return r.slice?n.parseSlice(WC(t),r.parseOptions).content:n.parse(WC(t),r.parseOptions)}return Ud("",e,r)}function F$(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof zt||i instanceof kt))return;let o=t.mapping.maps[n],a=0;o.forEach((s,l,u,c)=>{a===0&&(a=c)}),t.setSelection(ke.near(t.doc.resolve(a),r))}var j$=t=>t.toString().startsWith("<"),R$=(t,e,r)=>({tr:n,dispatch:i,editor:o})=>{if(i){r={parseOptions:{},updateSelection:!0,...r};let a=Ud(e,o.schema,{parseOptions:{preserveWhitespace:"full",...r.parseOptions}});if(a.toString()==="<>")return!0;let{from:s,to:l}=typeof t=="number"?{from:t,to:t}:t,u=!0,c=!0;if((j$(a)?a:[a]).forEach(d=>{d.check(),u=u?d.isText&&d.marks.length===0:!1,c=c?d.isBlock:!1}),s===l&&c){let{parent:d}=n.doc.resolve(s);d.isTextblock&&!d.type.spec.code&&!d.childCount&&(s-=1,l+=1)}u?n.insertText(e,s,l):n.replaceWith(s,l,a),r.updateSelection&&F$(n,n.steps.length-1,-1)}return!0},N$=()=>({state:t,dispatch:e})=>Oy(t,e),L$=()=>({state:t,dispatch:e})=>Iy(t,e);function KC(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function $$(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r==="Space"&&(r=" ");let n,i,o,a;for(let s=0;s<e.length-1;s+=1){let l=e[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Yy()||KC()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),a&&(r=`Meta-${r}`),o&&(r=`Shift-${r}`),r}var B$=t=>({editor:e,view:r,tr:n,dispatch:i})=>{let o=$$(t).split(/-(?!$)/),a=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{r.someProp("handleKeyDown",u=>u(r,s))});return l==null||l.steps.forEach(u=>{let c=u.map(n.mapping);c&&i&&n.maybeStep(c)}),!0};function zu(t,e,r={}){let{from:n,to:i,empty:o}=t.selection,a=e?Mt(e,t.schema):null,s=[];t.doc.nodesBetween(n,i,(f,d)=>{if(f.isText)return;let p=Math.max(n,d),g=Math.min(i,d+f.nodeSize);s.push({node:f,from:p,to:g})});let l=i-n,u=s.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>Vd(f.node.attrs,r,{strict:!1}));return o?!!u.length:u.reduce((f,d)=>f+d.to-d.from,0)>=l}var q$=(t,e={})=>({state:r,dispatch:n})=>{let i=Mt(t,r.schema);return zu(r,i,e)?CC(r,n):!1},V$=()=>({state:t,dispatch:e})=>Ny(t,e),U$=t=>({state:e,dispatch:r})=>{let n=Mt(t,e.schema);return MC(n)(e,r)},z$=()=>({state:t,dispatch:e})=>My(t,e);function zd(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function GC(t,e){let r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,i)=>(r.includes(i)||(n[i]=t[i]),n),{})}var H$=(t,e)=>({tr:r,state:n,dispatch:i})=>{let o=null,a=null,s=zd(typeof t=="string"?t:t.name,n.schema);return s?(s==="node"&&(o=Mt(t,n.schema)),s==="mark"&&(a=Co(t,n.schema)),i&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{o&&o===u.type&&r.setNodeMarkup(c,void 0,GC(u.attrs,e)),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&r.addMark(c,c+u.nodeSize,a.create(GC(f.attrs,e)))})})}),!0):!1},W$=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),K$=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),G$=()=>({state:t,dispatch:e})=>Ay(t,e),Q$=()=>({state:t,dispatch:e})=>Py(t,e),Y$=()=>({state:t,dispatch:e})=>DC(t,e),J$=()=>({state:t,dispatch:e})=>$y(t,e),X$=()=>({state:t,dispatch:e})=>Ly(t,e);function QC(t,e,r={}){return Ud(t,e,{slice:!1,parseOptions:r})}var Z$=(t,e=!1,r={})=>({tr:n,editor:i,dispatch:o})=>{let{doc:a}=n,s=QC(t,i.schema,r);return o&&n.replaceWith(0,a.content.size,s).setMeta("preventUpdate",!e),!0};function Hd(t,e){let r=new ju(t);return e.forEach(n=>{n.steps.forEach(i=>{r.step(i)})}),r}function eB(t){for(let e=0;e<t.edgeCount;e+=1){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function Wd(t,e,r){let n=[];return t.nodesBetween(e.from,e.to,(i,o)=>{r(i)&&n.push({node:i,pos:o})}),n}function tB(t,e){for(let r=t.depth;r>0;r-=1){let n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function ka(t){return e=>tB(e.$from,t)}function rB(t,e){let r=zr.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}function nB(t,e){let r={from:0,to:t.content.size};return VC(t,r,e)}function YC(t,e){let r=Co(e,t.schema),{from:n,to:i,empty:o}=t.selection,a=[];o?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,i,l=>{a.push(...l.marks)});let s=a.find(l=>l.type.name===r.name);return s?{...s.attrs}:{}}function iB(t,e){let r=Mt(e,t.schema),{from:n,to:i}=t.selection,o=[];t.doc.nodesBetween(n,i,s=>{o.push(s)});let a=o.reverse().find(s=>s.type.name===r.name);return a?{...a.attrs}:{}}function Jy(t,e){let r=zd(typeof e=="string"?e:e.name,t.schema);return r==="node"?iB(t,e):r==="mark"?YC(t,e):{}}function oB(t,e=JSON.stringify){let r={};return t.filter(n=>{let i=e(n);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}function aB(t){let e=oB(t);return e.length===1?e:e.filter((r,n)=>!e.filter((o,a)=>a!==n).some(o=>r.oldRange.from>=o.oldRange.from&&r.oldRange.to<=o.oldRange.to&&r.newRange.from>=o.newRange.from&&r.newRange.to<=o.newRange.to))}function Kd(t){let{mapping:e,steps:r}=t,n=[];return e.maps.forEach((i,o)=>{let a=[];if(i.ranges.length)i.forEach((s,l)=>{a.push({from:s,to:l})});else{let{from:s,to:l}=r[o];if(s===void 0||l===void 0)return;a.push({from:s,to:l})}a.forEach(({from:s,to:l})=>{let u=e.slice(o).map(s,-1),c=e.slice(o).map(l),f=e.invert().map(u,-1),d=e.invert().map(c);n.push({oldRange:{from:f,to:d},newRange:{from:u,to:c}})})}),aB(n)}function Do(t,e,r){let n=[];return t===e?r.resolve(t).marks().forEach(i=>{let o=r.resolve(t-1),a=Qy(o,i.type);!a||n.push({mark:i,...a})}):r.nodesBetween(t,e,(i,o)=>{n.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),n}function Xy(t,e,r={}){let{empty:n,ranges:i}=t.selection,o=e?Co(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>o?o.name===f.type.name:!0).find(f=>Vd(f.attrs,r,{strict:!1}));let a=0,s=[];if(i.forEach(({$from:f,$to:d})=>{let p=f.pos,g=d.pos;t.doc.nodesBetween(p,g,(m,v)=>{if(!m.isText&&!m.marks.length)return;let b=Math.max(p,v),E=Math.min(g,v+m.nodeSize);a+=E-b,s.push(...m.marks.map(_=>({mark:_,from:b,to:E})))})}),a===0)return!1;let l=s.filter(f=>o?o.name===f.mark.type.name:!0).filter(f=>Vd(f.mark.attrs,r,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),u=s.filter(f=>o?f.mark.type!==o&&f.mark.type.excludes(o):!0).reduce((f,d)=>f+d.to-d.from,0);return(l>0?l+u:l)>=a}function sB(t,e,r={}){if(!e)return zu(t,null,r)||Xy(t,null,r);let n=zd(e,t.schema);return n==="node"?zu(t,e,r):n==="mark"?Xy(t,e,r):!1}function Hs(t,e){let{nodeExtensions:r}=$d(e),n=r.find(a=>a.name===t);if(!n)return!1;let i={name:n.name,options:n.options,storage:n.storage},o=De(ne(n,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function lB(t){var e;let r=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),n=t.toJSON();return JSON.stringify(r)===JSON.stringify(n)}function uB(t,e,r){var n;let{selection:i}=e,o=null;if(zC(i)&&(o=i.$cursor),o){let s=(n=t.storedMarks)!==null&&n!==void 0?n:o.marks();return!!r.isInSet(s)||!s.some(l=>l.type.excludes(r))}let{ranges:a}=i;return a.some(({$from:s,$to:l})=>{let u=s.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(s.pos,l.pos,(c,f,d)=>{if(u)return!1;if(c.isInline){let p=!d||d.type.allowsMarkType(r),g=!!r.isInSet(c.marks)||!c.marks.some(m=>m.type.excludes(r));u=p&&g}return!u}),u})}var cB=(t,e={})=>({tr:r,state:n,dispatch:i})=>{let{selection:o}=r,{empty:a,ranges:s}=o,l=Co(t,n.schema);if(i)if(a){let u=YC(n,l);r.addStoredMark(l.create({...u,...e}))}else s.forEach(u=>{let c=u.$from.pos,f=u.$to.pos;n.doc.nodesBetween(c,f,(d,p)=>{let g=Math.max(p,c),m=Math.min(p+d.nodeSize,f);d.marks.find(b=>b.type===l)?d.marks.forEach(b=>{l===b.type&&r.addMark(g,m,l.create({...b.attrs,...e}))}):r.addMark(g,m,l.create(e))})});return uB(n,r,l)},fB=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),dB=(t,e={})=>({state:r,dispatch:n,chain:i})=>{let o=Mt(t,r.schema);return o.isTextblock?i().command(({commands:a})=>By(o,e)(r)?!0:a.clearNodes()).command(({state:a})=>By(o,e)(a,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},pB=t=>({tr:e,dispatch:r})=>{if(r){let{doc:n}=e,i=Ea(t,0,n.content.size),o=de.create(n,i);e.setSelection(o)}return!0},hB=t=>({tr:e,dispatch:r})=>{if(r){let{doc:n}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,a=xe.atStart(n).from,s=xe.atEnd(n).to,l=Ea(i,a,s),u=Ea(o,a,s),c=xe.create(n,l,u);e.setSelection(c)}return!0},mB=t=>({state:e,dispatch:r})=>{let n=Mt(t,e.schema);return FC(n)(e,r)};function Gd(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{let i=t.find(o=>o.type===e&&o.name===n);return i?i.attribute.keepOnSplit:!1}))}function JC(t,e){let r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){let n=r.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(n)}}var gB=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:i})=>{let{selection:o,doc:a}=e,{$from:s,$to:l}=o,u=i.extensionManager.attributes,c=Gd(u,s.node().type.name,s.node().attrs);if(o instanceof de&&o.node.isBlock)return!s.parentOffset||!en(a,s.pos)?!1:(n&&(t&&JC(r,i.extensionManager.splittableMarks),e.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;if(n){let f=l.parentOffset===l.parent.content.size;o instanceof xe&&e.deleteSelection();let d=s.depth===0?void 0:eB(s.node(-1).contentMatchAt(s.indexAfter(-1))),p=f&&d?[{type:d,attrs:c}]:void 0,g=en(e.doc,e.mapping.map(s.pos),1,p);if(!p&&!g&&en(e.doc,e.mapping.map(s.pos),1,d?[{type:d}]:void 0)&&(g=!0,p=d?[{type:d,attrs:c}]:void 0),g&&(e.split(e.mapping.map(s.pos),1,p),d&&!f&&!s.parentOffset&&s.parent.type!==d)){let m=e.mapping.map(s.before()),v=e.doc.resolve(m);s.node(-1).canReplaceWith(v.index(),v.index()+1,d)&&e.setNodeMarkup(e.mapping.map(s.before()),d)}t&&JC(r,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},yB=t=>({tr:e,state:r,dispatch:n,editor:i})=>{var o;let a=Mt(t,r.schema),{$from:s,$to:l}=r.selection,u=r.selection.node;if(u&&u.isBlock||s.depth<2||!s.sameParent(l))return!1;let c=s.node(-1);if(c.type!==a)return!1;let f=i.extensionManager.attributes;if(s.parent.content.size===0&&s.node(-1).childCount===s.indexAfter(-1)){if(s.depth===2||s.node(-3).type!==a||s.index(-2)!==s.node(-2).childCount-1)return!1;if(n){let v=H.empty,b=s.index(-1)?1:s.index(-2)?2:3;for(let k=s.depth-b;k>=s.depth-3;k-=1)v=H.from(s.node(k).copy(v));let E=s.indexAfter(-1)<s.node(-2).childCount?1:s.indexAfter(-2)<s.node(-3).childCount?2:3,w=Gd(f,s.node().type.name,s.node().attrs),_=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(w))||void 0;v=v.append(H.from(a.createAndFill(null,_)||void 0));let S=s.before(s.depth-(b-1));e.replace(S,s.after(-E),new J(v,4-b,0));let x=-1;e.doc.nodesBetween(S,e.doc.content.size,(k,C)=>{if(x>-1)return!1;k.isTextblock&&k.content.size===0&&(x=C+1)}),x>-1&&e.setSelection(xe.near(e.doc.resolve(x))),e.scrollIntoView()}return!0}let d=l.pos===s.end()?c.contentMatchAt(0).defaultType:null,p=Gd(f,c.type.name,c.attrs),g=Gd(f,s.node().type.name,s.node().attrs);e.delete(s.pos,l.pos);let m=d?[{type:a,attrs:p},{type:d,attrs:g}]:[{type:a,attrs:p}];return en(e.doc,s.pos,2)?(n&&e.split(s.pos,2,m).scrollIntoView(),!0):!1},XC=(t,e)=>{let r=ka(a=>a.type===e)(t.selection);if(!r)return!0;let n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;let i=t.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&Di(t.doc,r.pos)&&t.join(r.pos),!0},ZC=(t,e)=>{let r=ka(a=>a.type===e)(t.selection);if(!r)return!0;let n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;let i=t.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&Di(t.doc,n)&&t.join(n),!0},vB=(t,e)=>({editor:r,tr:n,state:i,dispatch:o,chain:a,commands:s,can:l})=>{let{extensions:u}=r.extensionManager,c=Mt(t,i.schema),f=Mt(e,i.schema),{selection:d}=i,{$from:p,$to:g}=d,m=p.blockRange(g);if(!m)return!1;let v=ka(b=>Hs(b.type.name,u))(d);if(m.depth>=1&&v&&m.depth-v.depth<=1){if(v.node.type===c)return s.liftListItem(f);if(Hs(v.node.type.name,u)&&c.validContent(v.node.content)&&o)return a().command(()=>(n.setNodeMarkup(v.pos,c),!0)).command(()=>XC(n,c)).command(()=>ZC(n,c)).run()}return a().command(()=>l().wrapInList(c)?!0:s.clearNodes()).wrapInList(c).command(()=>XC(n,c)).command(()=>ZC(n,c)).run()},_B=(t,e={},r={})=>({state:n,commands:i})=>{let{extendEmptyMarkRange:o=!1}=r,a=Co(t,n.schema);return Xy(n,a,e)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,e)},bB=(t,e,r={})=>({state:n,commands:i})=>{let o=Mt(t,n.schema),a=Mt(e,n.schema);return zu(n,o,r)?i.setNode(a):i.setNode(o,r)},wB=(t,e={})=>({state:r,commands:n})=>{let i=Mt(t,r.schema);return zu(r,i,e)?n.lift(i):n.wrapIn(i,e)},xB=()=>({state:t,dispatch:e})=>{let r=t.plugins;for(let n=0;n<r.length;n+=1){let i=r[n],o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){let a=t.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l-=1)a.step(s.steps[l].invert(s.docs[l]));if(o.text){let l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else a.delete(o.from,o.to)}return!0}}return!1},SB=()=>({tr:t,dispatch:e})=>{let{selection:r}=t,{empty:n,ranges:i}=r;return n||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},EB=(t,e={})=>({tr:r,state:n,dispatch:i})=>{var o;let{extendEmptyMarkRange:a=!1}=e,{selection:s}=r,l=Co(t,n.schema),{$from:u,empty:c,ranges:f}=s;if(!i)return!0;if(c&&a){let{from:d,to:p}=s,g=(o=u.marks().find(v=>v.type===l))===null||o===void 0?void 0:o.attrs,m=Qy(u,l,g);m&&(d=m.from,p=m.to),r.removeMark(d,p,l)}else f.forEach(d=>{r.removeMark(d.$from.pos,d.$to.pos,l)});return r.removeStoredMark(l),!0},kB=(t,e={})=>({tr:r,state:n,dispatch:i})=>{let o=null,a=null,s=zd(typeof t=="string"?t:t.name,n.schema);return s?(s==="node"&&(o=Mt(t,n.schema)),s==="mark"&&(a=Co(t,n.schema)),i&&r.selection.ranges.forEach(l=>{let u=l.$from.pos,c=l.$to.pos;n.doc.nodesBetween(u,c,(f,d)=>{o&&o===f.type&&r.setNodeMarkup(d,void 0,{...f.attrs,...e}),a&&f.marks.length&&f.marks.forEach(p=>{if(a===p.type){let g=Math.max(d,u),m=Math.min(d+f.nodeSize,c);r.addMark(g,m,a.create({...p.attrs,...e}))}})})}),!0):!1},CB=(t,e={})=>({state:r,dispatch:n})=>{let i=Mt(t,r.schema);return AC(i,e)(r,n)},DB=(t,e={})=>({state:r,dispatch:n})=>{let i=Mt(t,r.schema);return PC(i,e)(r,n)},TB=Object.freeze({__proto__:null,blur:v$,clearContent:_$,clearNodes:b$,command:w$,createParagraphNear:x$,deleteNode:S$,deleteRange:E$,deleteSelection:k$,enter:C$,exitCode:D$,extendMarkRange:O$,first:A$,focus:I$,forEach:P$,insertContent:M$,insertContentAt:R$,joinBackward:N$,joinForward:L$,keyboardShortcut:B$,lift:q$,liftEmptyBlock:V$,liftListItem:U$,newlineInCode:z$,resetAttributes:H$,scrollIntoView:W$,selectAll:K$,selectNodeBackward:G$,selectNodeForward:Q$,selectParentNode:Y$,selectTextblockEnd:J$,selectTextblockStart:X$,setContent:Z$,setMark:cB,setMeta:fB,setNode:dB,setNodeSelection:pB,setTextSelection:hB,sinkListItem:mB,splitBlock:gB,splitListItem:yB,toggleList:vB,toggleMark:_B,toggleNode:bB,toggleWrap:wB,undoInputRule:xB,unsetAllMarks:SB,unsetMark:EB,updateAttributes:kB,wrapIn:CB,wrapInList:DB}),OB=rn.create({name:"commands",addCommands(){return{...TB}}}),AB=rn.create({name:"editable",addProseMirrorPlugins(){return[new Ct({key:new Pt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),IB=rn.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:t}=this;return[new Ct({key:new Pt("focusEvents"),props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;let n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;let n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),PB=rn.create({name:"keymap",addKeyboardShortcuts(){let t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{let{selection:l,doc:u}=s,{empty:c,$anchor:f}=l,{pos:d,parent:p}=f,g=ke.atStart(u).from===d;return!c||!g||!p.type.isTextblock||p.textContent.length?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.joinForward(),()=>a.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},o={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Yy()||KC()?o:i},addProseMirrorPlugins(){return[new Ct({key:new Pt("clearDocument"),appendTransaction:(t,e,r)=>{if(!(t.some(g=>g.docChanged)&&!e.doc.eq(r.doc)))return;let{empty:i,from:o,to:a}=e.selection,s=ke.atStart(e.doc).from,l=ke.atEnd(e.doc).to,u=o===s&&a===l,c=r.doc.textBetween(0,r.doc.content.size," "," ").length===0;if(i||!u||!c)return;let f=r.tr,d=Ld({state:r,transaction:f}),{commands:p}=new Uu({editor:this.editor,state:d});if(p.clearNodes(),!!f.steps.length)return f}})]}}),MB=rn.create({name:"tabindex",addProseMirrorPlugins(){return[new Ct({key:new Pt("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}}),FB=Object.freeze({__proto__:null,ClipboardTextSerializer:y$,Commands:OB,Editable:AB,FocusEvents:IB,Keymap:PB,Tabindex:MB}),jB=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function RB(t,e){let r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;let n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.setAttribute("data-tiptap-style",""),n.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(n),n}var Zy=class extends jC{constructor(e={}){super();this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=RB(jB,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e}),this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,r){let n=NC(r)?r(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:n});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;let r=typeof e=="string"?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(r))});this.view.updateState(n)}createExtensionManager(){let r=[...this.options.enableCoreExtensions?Object.values(FB):[],...this.options.extensions].filter(n=>["extension","node","mark"].includes(n==null?void 0:n.type));this.extensionManager=new Sa(r,this)}createCommandManager(){this.commandManager=new Uu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e=QC(this.options.content,this.schema,this.options.parseOptions),r=HC(e,this.options.autofocus);this.view=new Dy(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:go.create({doc:e,selection:r||void 0})});let n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews();let i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;let r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var s;return(s=this.capturedTransaction)===null||s===void 0?void 0:s.step(a)});return}let r=this.state.apply(e),n=!this.state.selection.eq(r.selection);this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});let i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Jy(this.state,e)}isActive(e,r){let n=typeof e=="string"?e:null,i=typeof e=="string"?r:e;return sB(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return rB(this.state.doc.content,this.schema)}getText(e){let{blockSeparator:r=`

`,textSerializers:n={}}=e||{};return nB(this.state.doc,{blockSeparator:r,textSerializers:{...n,...UC(this.schema)}})}get isEmpty(){return lB(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!((e=this.view)===null||e===void 0?void 0:e.docView)}};function To(t){return new Bd({find:t.find,handler:({state:e,range:r,match:n})=>{let i=De(t.getAttributes,void 0,n);if(i===!1||i===null)return null;let{tr:o}=e,a=n[n.length-1],s=n[0],l=r.to;if(a){let u=s.search(/\S/),c=r.from+s.indexOf(a),f=c+a.length;if(Do(r.from,r.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===t.type&&m!==p.mark.type)).filter(p=>p.to>c).length)return null;f<r.to&&o.delete(f,r.to),c>r.from&&o.delete(r.from+u,c),l=r.from+u+a.length,o.addMark(r.from+u,l,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function ev(t){return new Bd({find:t.find,handler:({state:e,range:r,match:n})=>{let i=e.doc.resolve(r.from),o=De(t.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,o)}})}function Qd(t){return new Bd({find:t.find,handler:({state:e,range:r,match:n})=>{let i=De(t.getAttributes,void 0,n)||{},o=e.tr.delete(r.from,r.to),s=o.doc.resolve(r.from).blockRange(),l=s&&Ps(s,t.type,i);if(!l)return null;o.wrap(s,l);let u=o.doc.resolve(r.from-1).nodeBefore;u&&u.type===t.type&&Di(o.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,u))&&o.join(r.from-1)}})}var Ar=class{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=De(ne(this,"addOptions",{name:this.name}))),this.storage=De(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ar(e)}configure(e={}){let r=this.extend();return r.options=qd(this.options,e),r.storage=De(ne(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){let r=new Ar(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=De(ne(r,"addOptions",{name:r.name})),r.storage=De(ne(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:e,mark:r}){let{tr:n}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){let a=i.marks();if(!!!a.find(u=>(u==null?void 0:u.type.name)===r.name))return!1;let l=a.find(u=>(u==null?void 0:u.type.name)===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",i.pos),e.view.dispatch(n),!0}return!1}},vt=class{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=De(ne(this,"addOptions",{name:this.name}))),this.storage=De(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new vt(e)}configure(e={}){let r=this.extend();return r.options=qd(this.options,e),r.storage=De(ne(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){let r=new vt(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=De(ne(r,"addOptions",{name:r.name})),r.storage=De(ne(r,"addStorage",{name:r.name,options:r.options})),r}};function nn(t){return new qC({find:t.find,handler:({state:e,range:r,match:n})=>{let i=De(t.getAttributes,void 0,n);if(i===!1||i===null)return null;let{tr:o}=e,a=n[n.length-1],s=n[0],l=r.to;if(a){let u=s.search(/\S/),c=r.from+s.indexOf(a),f=c+a.length;if(Do(r.from,r.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===t.type&&m!==p.mark.type)).filter(p=>p.to>c).length)return null;f<r.to&&o.delete(f,r.to),c>r.from&&o.delete(r.from+u,c),l=r.from+u+a.length,o.addMark(r.from+u,l,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function eD(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}y();y();y();var Ft="top",Wt="bottom",qt="right",Nt="left",Yd="auto",Oo=[Ft,Wt,qt,Nt],Mi="start",Ca="end",tD="clippingParents",Jd="viewport",Ws="popper",rD="reference",tv=Oo.reduce(function(t,e){return t.concat([e+"-"+Mi,e+"-"+Ca])},[]),Xd=[].concat(Oo,[Yd]).reduce(function(t,e){return t.concat([e,e+"-"+Mi,e+"-"+Ca])},[]),NB="beforeRead",LB="read",$B="afterRead",BB="beforeMain",qB="main",VB="afterMain",UB="beforeWrite",zB="write",HB="afterWrite",nD=[NB,LB,$B,BB,qB,VB,UB,zB,HB];y();y();y();function Xt(t){return t?(t.nodeName||"").toLowerCase():null}y();y();function Dt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function on(t){var e=Dt(t).Element;return t instanceof e||t instanceof Element}function Kt(t){var e=Dt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ks(t){if(typeof ShadowRoot=="undefined")return!1;var e=Dt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function WB(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},o=e.elements[r];!Kt(o)||!Xt(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function KB(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),s=a.reduce(function(l,u){return l[u]="",l},{});!Kt(i)||!Xt(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var Hu={name:"applyStyles",enabled:!0,phase:"write",fn:WB,effect:KB,requires:["computeStyles"]};y();y();function Zt(t){return t.split("-")[0]}y();y();y();var En=Math.max,Da=Math.min,Fi=Math.round;y();y();function Gs(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Wu(){return!/^((?!chrome|android).)*safari/i.test(Gs())}function an(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,o=1;e&&Kt(t)&&(i=t.offsetWidth>0&&Fi(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Fi(n.height)/t.offsetHeight||1);var a=on(t)?Dt(t):window,s=a.visualViewport,l=!Wu()&&r,u=(n.left+(l&&s?s.offsetLeft:0))/i,c=(n.top+(l&&s?s.offsetTop:0))/o,f=n.width/i,d=n.height/o;return{width:f,height:d,top:c,right:u+f,bottom:c+d,left:u,x:u,y:c}}function Ta(t){var e=an(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}y();function Ku(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Ks(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}y();y();function Ir(t){return Dt(t).getComputedStyle(t)}y();function rv(t){return["table","td","th"].indexOf(Xt(t))>=0}y();y();function ar(t){return((on(t)?t.ownerDocument:t.document)||window.document).documentElement}function ji(t){return Xt(t)==="html"?t:t.assignedSlot||t.parentNode||(Ks(t)?t.host:null)||ar(t)}function iD(t){return!Kt(t)||Ir(t).position==="fixed"?null:t.offsetParent}function GB(t){var e=/firefox/i.test(Gs()),r=/Trident/i.test(Gs());if(r&&Kt(t)){var n=Ir(t);if(n.position==="fixed")return null}var i=ji(t);for(Ks(i)&&(i=i.host);Kt(i)&&["html","body"].indexOf(Xt(i))<0;){var o=Ir(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function kn(t){for(var e=Dt(t),r=iD(t);r&&rv(r)&&Ir(r).position==="static";)r=iD(r);return r&&(Xt(r)==="html"||Xt(r)==="body"&&Ir(r).position==="static")?e:r||GB(t)||e}y();function Oa(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}y();function Aa(t,e,r){return En(t,Da(e,r))}function oD(t,e,r){var n=Aa(t,e,r);return n>r?r:n}y();y();function Gu(){return{top:0,right:0,bottom:0,left:0}}function Qu(t){return Object.assign({},Gu(),t)}y();function Yu(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var QB=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,Qu(typeof e!="number"?e:Yu(e,Oo))};function YB(t){var e,r=t.state,n=t.name,i=t.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=Zt(r.placement),l=Oa(s),u=[Nt,qt].indexOf(s)>=0,c=u?"height":"width";if(!(!o||!a)){var f=QB(i.padding,r),d=Ta(o),p=l==="y"?Ft:Nt,g=l==="y"?Wt:qt,m=r.rects.reference[c]+r.rects.reference[l]-a[l]-r.rects.popper[c],v=a[l]-r.rects.reference[l],b=kn(o),E=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,w=m/2-v/2,_=f[p],S=E-d[c]-f[g],x=E/2-d[c]/2+w,k=Aa(_,x,S),C=l;r.modifiersData[n]=(e={},e[C]=k,e.centerOffset=k-x,e)}}function JB(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!Ku(e.elements.popper,i)||(e.elements.arrow=i))}var aD={name:"arrow",enabled:!0,phase:"main",fn:YB,effect:JB,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};y();y();function sn(t){return t.split("-")[1]}var XB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ZB(t){var e=t.x,r=t.y,n=window,i=n.devicePixelRatio||1;return{x:Fi(e*i)/i||0,y:Fi(r*i)/i||0}}function sD(t){var e,r=t.popper,n=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,f=t.isFixed,d=a.x,p=d===void 0?0:d,g=a.y,m=g===void 0?0:g,v=typeof c=="function"?c({x:p,y:m}):{x:p,y:m};p=v.x,m=v.y;var b=a.hasOwnProperty("x"),E=a.hasOwnProperty("y"),w=Nt,_=Ft,S=window;if(u){var x=kn(r),k="clientHeight",C="clientWidth";if(x===Dt(r)&&(x=ar(r),Ir(x).position!=="static"&&s==="absolute"&&(k="scrollHeight",C="scrollWidth")),x=x,i===Ft||(i===Nt||i===qt)&&o===Ca){_=Wt;var D=f&&x===S&&S.visualViewport?S.visualViewport.height:x[k];m-=D-n.height,m*=l?1:-1}if(i===Nt||(i===Ft||i===Wt)&&o===Ca){w=qt;var T=f&&x===S&&S.visualViewport?S.visualViewport.width:x[C];p-=T-n.width,p*=l?1:-1}}var A=Object.assign({position:s},u&&XB),R=c===!0?ZB({x:p,y:m}):{x:p,y:m};if(p=R.x,m=R.y,l){var M;return Object.assign({},A,(M={},M[_]=E?"0":"",M[w]=b?"0":"",M.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",M))}return Object.assign({},A,(e={},e[_]=E?m+"px":"",e[w]=b?p+"px":"",e.transform="",e))}function eq(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,a=o===void 0?!0:o,s=r.roundOffsets,l=s===void 0?!0:s;if(!1)var u;var c={placement:Zt(e.placement),variation:sn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,sD(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,sD(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var lD={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:eq,data:{}};y();var Zd={passive:!0};function tq(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=i===void 0?!0:i,a=n.resize,s=a===void 0?!0:a,l=Dt(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",r.update,Zd)}),s&&l.addEventListener("resize",r.update,Zd),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",r.update,Zd)}),s&&l.removeEventListener("resize",r.update,Zd)}}var uD={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tq,data:{}};y();y();var rq={left:"right",right:"left",bottom:"top",top:"bottom"};function Qs(t){return t.replace(/left|right|bottom|top/g,function(e){return rq[e]})}y();var nq={start:"end",end:"start"};function ep(t){return t.replace(/start|end/g,function(e){return nq[e]})}y();y();y();y();y();function Ia(t){var e=Dt(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Pa(t){return an(ar(t)).left+Ia(t).scrollLeft}function nv(t,e){var r=Dt(t),n=ar(t),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var u=Wu();(u||!u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+Pa(t),y:l}}y();function iv(t){var e,r=ar(t),n=Ia(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=En(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=En(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+Pa(t),l=-n.scrollTop;return Ir(i||r).direction==="rtl"&&(s+=En(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}y();y();y();function Ma(t){var e=Ir(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function tp(t){return["html","body","#document"].indexOf(Xt(t))>=0?t.ownerDocument.body:Kt(t)&&Ma(t)?t:tp(ji(t))}function Ao(t,e){var r;e===void 0&&(e=[]);var n=tp(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),o=Dt(n),a=i?[o].concat(o.visualViewport||[],Ma(n)?n:[]):n,s=e.concat(a);return i?s:s.concat(Ao(ji(a)))}y();function Ys(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function iq(t,e){var r=an(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function cD(t,e,r){return e===Jd?Ys(nv(t,r)):on(e)?iq(e,r):Ys(iv(ar(t)))}function oq(t){var e=Ao(ji(t)),r=["absolute","fixed"].indexOf(Ir(t).position)>=0,n=r&&Kt(t)?kn(t):t;return on(n)?e.filter(function(i){return on(i)&&Ku(i,n)&&Xt(i)!=="body"}):[]}function ov(t,e,r,n){var i=e==="clippingParents"?oq(t):[].concat(e),o=[].concat(i,[r]),a=o[0],s=o.reduce(function(l,u){var c=cD(t,u,n);return l.top=En(c.top,l.top),l.right=Da(c.right,l.right),l.bottom=Da(c.bottom,l.bottom),l.left=En(c.left,l.left),l},cD(t,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}y();function Ju(t){var e=t.reference,r=t.element,n=t.placement,i=n?Zt(n):null,o=n?sn(n):null,a=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2,l;switch(i){case Ft:l={x:a,y:e.y-r.height};break;case Wt:l={x:a,y:e.y+e.height};break;case qt:l={x:e.x+e.width,y:s};break;case Nt:l={x:e.x-r.width,y:s};break;default:l={x:e.x,y:e.y}}var u=i?Oa(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Mi:l[u]=l[u]-(e[c]/2-r[c]/2);break;case Ca:l[u]=l[u]+(e[c]/2-r[c]/2);break;default:}}return l}function Cn(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,o=r.strategy,a=o===void 0?t.strategy:o,s=r.boundary,l=s===void 0?tD:s,u=r.rootBoundary,c=u===void 0?Jd:u,f=r.elementContext,d=f===void 0?Ws:f,p=r.altBoundary,g=p===void 0?!1:p,m=r.padding,v=m===void 0?0:m,b=Qu(typeof v!="number"?v:Yu(v,Oo)),E=d===Ws?rD:Ws,w=t.rects.popper,_=t.elements[g?E:d],S=ov(on(_)?_:_.contextElement||ar(t.elements.popper),l,c,a),x=an(t.elements.reference),k=Ju({reference:x,element:w,strategy:"absolute",placement:i}),C=Ys(Object.assign({},w,k)),D=d===Ws?C:x,T={top:S.top-D.top+b.top,bottom:D.bottom-S.bottom+b.bottom,left:S.left-D.left+b.left,right:D.right-S.right+b.right},A=t.modifiersData.offset;if(d===Ws&&A){var R=A[i];Object.keys(T).forEach(function(M){var j=[qt,Wt].indexOf(M)>=0?1:-1,I=[Ft,Wt].indexOf(M)>=0?"y":"x";T[M]+=R[I]*j})}return T}y();function av(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?Xd:l,c=sn(n),f=c?s?tv:tv.filter(function(g){return sn(g)===c}):Oo,d=f.filter(function(g){return u.indexOf(g)>=0});d.length===0&&(d=f);var p=d.reduce(function(g,m){return g[m]=Cn(t,{placement:m,boundary:i,rootBoundary:o,padding:a})[Zt(m)],g},{});return Object.keys(p).sort(function(g,m){return p[g]-p[m]})}function aq(t){if(Zt(t)===Yd)return[];var e=Qs(t);return[ep(t),e,ep(e)]}function sq(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!0:a,l=r.fallbackPlacements,u=r.padding,c=r.boundary,f=r.rootBoundary,d=r.altBoundary,p=r.flipVariations,g=p===void 0?!0:p,m=r.allowedAutoPlacements,v=e.options.placement,b=Zt(v),E=b===v,w=l||(E||!g?[Qs(v)]:aq(v)),_=[v].concat(w).reduce(function(ve,se){return ve.concat(Zt(se)===Yd?av(e,{placement:se,boundary:c,rootBoundary:f,padding:u,flipVariations:g,allowedAutoPlacements:m}):se)},[]),S=e.rects.reference,x=e.rects.popper,k=new Map,C=!0,D=_[0],T=0;T<_.length;T++){var A=_[T],R=Zt(A),M=sn(A)===Mi,j=[Ft,Wt].indexOf(R)>=0,I=j?"width":"height",L=Cn(e,{placement:A,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),O=j?M?qt:Nt:M?Wt:Ft;S[I]>x[I]&&(O=Qs(O));var $=Qs(O),q=[];if(o&&q.push(L[R]<=0),s&&q.push(L[O]<=0,L[$]<=0),q.every(function(ve){return ve})){D=A,C=!1;break}k.set(A,q)}if(C)for(var V=g?3:1,U=function(se){var ye=_.find(function(Xe){var Le=k.get(Xe);if(Le)return Le.slice(0,se).every(function(bt){return bt})});if(ye)return D=ye,"break"},K=V;K>0;K--){var fe=U(K);if(fe==="break")break}e.placement!==D&&(e.modifiersData[n]._skip=!0,e.placement=D,e.reset=!0)}}var fD={name:"flip",enabled:!0,phase:"main",fn:sq,requiresIfExists:["offset"],data:{_skip:!1}};y();function dD(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function pD(t){return[Ft,qt,Wt,Nt].some(function(e){return t[e]>=0})}function lq(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=Cn(e,{elementContext:"reference"}),s=Cn(e,{altBoundary:!0}),l=dD(a,n),u=dD(s,i,o),c=pD(l),f=pD(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var hD={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:lq};y();function uq(t,e,r){var n=Zt(t),i=[Nt,Ft].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Nt,qt].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function cq(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=i===void 0?[0,0]:i,a=Xd.reduce(function(c,f){return c[f]=uq(f,e.rects,o),c},{}),s=a[e.placement],l=s.x,u=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=a}var mD={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:cq};y();function fq(t){var e=t.state,r=t.name;e.modifiersData[r]=Ju({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var gD={name:"popperOffsets",enabled:!0,phase:"read",fn:fq,data:{}};y();y();function sv(t){return t==="x"?"y":"x"}function dq(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!1:a,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,f=r.padding,d=r.tether,p=d===void 0?!0:d,g=r.tetherOffset,m=g===void 0?0:g,v=Cn(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),b=Zt(e.placement),E=sn(e.placement),w=!E,_=Oa(b),S=sv(_),x=e.modifiersData.popperOffsets,k=e.rects.reference,C=e.rects.popper,D=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,T=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if(!!x){if(o){var M,j=_==="y"?Ft:Nt,I=_==="y"?Wt:qt,L=_==="y"?"height":"width",O=x[_],$=O+v[j],q=O-v[I],V=p?-C[L]/2:0,U=E===Mi?k[L]:C[L],K=E===Mi?-C[L]:-k[L],fe=e.elements.arrow,ve=p&&fe?Ta(fe):{width:0,height:0},se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Gu(),ye=se[j],Xe=se[I],Le=Aa(0,k[L],ve[L]),bt=w?k[L]/2-V-Le-ye-T.mainAxis:U-Le-ye-T.mainAxis,je=w?-k[L]/2+V+Le+Xe+T.mainAxis:K+Le+Xe+T.mainAxis,Se=e.elements.arrow&&kn(e.elements.arrow),wt=Se?_==="y"?Se.clientTop||0:Se.clientLeft||0:0,br=(M=A==null?void 0:A[_])!=null?M:0,Ze=O+bt-br-wt,et=O+je-br,We=Aa(p?Da($,Ze):$,O,p?En(q,et):q);x[_]=We,R[_]=We-O}if(s){var Ke,Tt=_==="x"?Ft:Nt,xt=_==="x"?Wt:qt,tt=x[S],lt=S==="y"?"height":"width",Qt=tt+v[Tt],Pr=tt-v[xt],tr=[Ft,Nt].indexOf(b)!==-1,ri=(Ke=A==null?void 0:A[S])!=null?Ke:0,pn=tr?Qt:tt-k[lt]-C[lt]-ri+T.altAxis,ni=tr?tt+k[lt]+C[lt]-ri-T.altAxis:Pr,z=p&&tr?oD(pn,tt,ni):Aa(p?pn:Qt,tt,p?ni:Pr);x[S]=z,R[S]=z-tt}e.modifiersData[n]=R}}var yD={name:"preventOverflow",enabled:!0,phase:"main",fn:dq,requiresIfExists:["offset"]};y();y();y();y();function lv(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function uv(t){return t===Dt(t)||!Kt(t)?Ia(t):lv(t)}function pq(t){var e=t.getBoundingClientRect(),r=Fi(e.width)/t.offsetWidth||1,n=Fi(e.height)/t.offsetHeight||1;return r!==1||n!==1}function cv(t,e,r){r===void 0&&(r=!1);var n=Kt(e),i=Kt(e)&&pq(e),o=ar(e),a=an(t,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Xt(e)!=="body"||Ma(o))&&(s=uv(e)),Kt(e)?(l=an(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Pa(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}y();function hq(t){var e=new Map,r=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function i(o){r.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!r.has(s)){var l=e.get(s);l&&i(l)}}),n.push(o)}return t.forEach(function(o){r.has(o.name)||i(o)}),n}function fv(t){var e=hq(t);return nD.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}y();function dv(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}y();function pv(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var vD={placement:"bottom",modifiers:[],strategy:"absolute"};function _D(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function bD(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,o=i===void 0?vD:i;return function(s,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},vD,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],d=!1,p={state:c,setOptions:function(b){var E=typeof b=="function"?b(c.options):b;m(),c.options=Object.assign({},o,c.options,E),c.scrollParents={reference:on(s)?Ao(s):s.contextElement?Ao(s.contextElement):[],popper:Ao(l)};var w=fv(pv([].concat(n,c.options.modifiers)));if(c.orderedModifiers=w.filter(function(A){return A.enabled}),!1){var _;if(getBasePlacement(c.options.placement)===auto)var S;var x,k,C,D,T}return g(),p.update()},forceUpdate:function(){if(!d){var b=c.elements,E=b.reference,w=b.popper;if(!!_D(E,w)){c.rects={reference:cv(E,kn(w),c.options.strategy==="fixed"),popper:Ta(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(A){return c.modifiersData[A.name]=Object.assign({},A.data)});for(var _=0,S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var x=c.orderedModifiers[S],k=x.fn,C=x.options,D=C===void 0?{}:C,T=x.name;typeof k=="function"&&(c=k({state:c,options:D,name:T,instance:p})||c)}}}},update:dv(function(){return new Promise(function(v){p.forceUpdate(),v(c)})}),destroy:function(){m(),d=!0}};if(!_D(s,l))return p;p.setOptions(u).then(function(v){!d&&u.onFirstUpdate&&u.onFirstUpdate(v)});function g(){c.orderedModifiers.forEach(function(v){var b=v.name,E=v.options,w=E===void 0?{}:E,_=v.effect;if(typeof _=="function"){var S=_({state:c,name:b,instance:p,options:w}),x=function(){};f.push(S||x)}})}function m(){f.forEach(function(v){return v()}),f=[]}return p}}y();var mq=[uD,gD,lD,Hu,mD,fD,yD,aD,hD],hv=bD({defaultModifiers:mq});var gq="tippy-box",wD="tippy-content",yq="tippy-backdrop",xD="tippy-arrow",SD="tippy-svg-arrow",Fa={passive:!0,capture:!0},ED=function(){return document.body};function mv(t,e,r){if(Array.isArray(t)){var n=t[e];return n??(Array.isArray(r)?r[e]:r)}return t}function gv(t,e){var r={}.toString.call(t);return r.indexOf("[object")===0&&r.indexOf(e+"]")>-1}function kD(t,e){return typeof t=="function"?t.apply(void 0,e):t}function CD(t,e){if(e===0)return t;var r;return function(n){clearTimeout(r),r=setTimeout(function(){t(n)},e)}}function vq(t){return t.split(/\s+/).filter(Boolean)}function Js(t){return[].concat(t)}function DD(t,e){t.indexOf(e)===-1&&t.push(e)}function _q(t){return t.filter(function(e,r){return t.indexOf(e)===r})}function bq(t){return t.split("-")[0]}function rp(t){return[].slice.call(t)}function TD(t){return Object.keys(t).reduce(function(e,r){return t[r]!==void 0&&(e[r]=t[r]),e},{})}function Xu(){return document.createElement("div")}function np(t){return["Element","Fragment"].some(function(e){return gv(t,e)})}function wq(t){return gv(t,"NodeList")}function xq(t){return gv(t,"MouseEvent")}function Sq(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Eq(t){return np(t)?[t]:wq(t)?rp(t):Array.isArray(t)?t:rp(document.querySelectorAll(t))}function yv(t,e){t.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function OD(t,e){t.forEach(function(r){r&&r.setAttribute("data-state",e)})}function kq(t){var e,r=Js(t),n=r[0];return n!=null&&(e=n.ownerDocument)!=null&&e.body?n.ownerDocument:document}function Cq(t,e){var r=e.clientX,n=e.clientY;return t.every(function(i){var o=i.popperRect,a=i.popperState,s=i.props,l=s.interactiveBorder,u=bq(a.placement),c=a.modifiersData.offset;if(!c)return!0;var f=u==="bottom"?c.top.y:0,d=u==="top"?c.bottom.y:0,p=u==="right"?c.left.x:0,g=u==="left"?c.right.x:0,m=o.top-n+f>l,v=n-o.bottom-d>l,b=o.left-r+p>l,E=r-o.right-g>l;return m||v||b||E})}function vv(t,e,r){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[n](i,r)})}function AD(t,e){for(var r=e;r;){var n;if(t.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var Qn={isTouch:!1},ID=0;function Dq(){Qn.isTouch||(Qn.isTouch=!0,window.performance&&document.addEventListener("mousemove",PD))}function PD(){var t=performance.now();t-ID<20&&(Qn.isTouch=!1,document.removeEventListener("mousemove",PD)),ID=t}function Tq(){var t=document.activeElement;if(Sq(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Oq(){document.addEventListener("touchstart",Dq,Fa),window.addEventListener("blur",Tq)}var Aq=typeof window!="undefined"&&typeof document!="undefined",Iq=Aq?!!window.msCrypto:!1;var Pq={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Mq={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Dn=Object.assign({appendTo:ED,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Pq,Mq),Fq=Object.keys(Dn),jq=function(e){var r=Object.keys(e);r.forEach(function(n){Dn[n]=e[n]})};function MD(t){var e=t.plugins||[],r=e.reduce(function(n,i){var o=i.name,a=i.defaultValue;if(o){var s;n[o]=t[o]!==void 0?t[o]:(s=Dn[o])!=null?s:a}return n},{});return Object.assign({},t,r)}function Rq(t,e){var r=e?Object.keys(MD(Object.assign({},Dn,{plugins:e}))):Fq,n=r.reduce(function(i,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return n}function FD(t,e){var r=Object.assign({},e,{content:kD(e.content,[t])},e.ignoreAttributes?{}:Rq(t,e.plugins));return r.aria=Object.assign({},Dn.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?e.interactive:r.aria.expanded,content:r.aria.content==="auto"?e.interactive?null:"describedby":r.aria.content},r}var Nq=function(){return"innerHTML"};function _v(t,e){t[Nq()]=e}function jD(t){var e=Xu();return t===!0?e.className=xD:(e.className=SD,np(t)?e.appendChild(t):_v(e,t)),e}function RD(t,e){np(e.content)?(_v(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?_v(t,e.content):t.textContent=e.content)}function bv(t){var e=t.firstElementChild,r=rp(e.children);return{box:e,content:r.find(function(n){return n.classList.contains(wD)}),arrow:r.find(function(n){return n.classList.contains(xD)||n.classList.contains(SD)}),backdrop:r.find(function(n){return n.classList.contains(yq)})}}function ND(t){var e=Xu(),r=Xu();r.className=gq,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=Xu();n.className=wD,n.setAttribute("data-state","hidden"),RD(n,t.props),e.appendChild(r),r.appendChild(n),i(t.props,t.props);function i(o,a){var s=bv(e),l=s.box,u=s.content,c=s.arrow;a.theme?l.setAttribute("data-theme",a.theme):l.removeAttribute("data-theme"),typeof a.animation=="string"?l.setAttribute("data-animation",a.animation):l.removeAttribute("data-animation"),a.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?l.setAttribute("role",a.role):l.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&RD(u,t.props),a.arrow?c?o.arrow!==a.arrow&&(l.removeChild(c),l.appendChild(jD(a.arrow))):l.appendChild(jD(a.arrow)):c&&l.removeChild(c)}return{popper:e,onUpdate:i}}ND.$$tippy=!0;var Lq=1,ip=[],wv=[];function $q(t,e){var r=FD(t,Object.assign({},Dn,MD(TD(e)))),n,i,o,a=!1,s=!1,l=!1,u=!1,c,f,d,p=[],g=CD(Ze,r.interactiveDebounce),m,v=Lq++,b=null,E=_q(r.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:v,reference:t,popper:Xu(),popperInstance:b,props:r,state:w,plugins:E,clearDelayTimeouts:pn,setProps:ni,setContent:z,show:Y,hide:N,hideWithInteractivity:Z,enable:tr,disable:ri,unmount:Ee,destroy:ct};if(!r.render)return _;var S=r.render(_),x=S.popper,k=S.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+_.id,_.popper=x,t._tippy=_,x._tippy=_;var C=E.map(function(B){return B.fn(_)}),D=t.hasAttribute("aria-expanded");return Se(),V(),O(),$("onCreate",[_]),r.showOnCreate&&Qt(),x.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),x.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&j().addEventListener("mousemove",g)}),_;function T(){var B=_.props.touch;return Array.isArray(B)?B:[B,0]}function A(){return T()[0]==="hold"}function R(){var B;return!!((B=_.props.render)!=null&&B.$$tippy)}function M(){return m||t}function j(){var B=M().parentNode;return B?kq(B):document}function I(){return bv(x)}function L(B){return _.state.isMounted&&!_.state.isVisible||Qn.isTouch||c&&c.type==="focus"?0:mv(_.props.delay,B?0:1,Dn.delay)}function O(B){B===void 0&&(B=!1),x.style.pointerEvents=_.props.interactive&&!B?"":"none",x.style.zIndex=""+_.props.zIndex}function $(B,ie,he){if(he===void 0&&(he=!0),C.forEach(function($e){$e[B]&&$e[B].apply($e,ie)}),he){var Ge;(Ge=_.props)[B].apply(Ge,ie)}}function q(){var B=_.props.aria;if(!!B.content){var ie="aria-"+B.content,he=x.id,Ge=Js(_.props.triggerTarget||t);Ge.forEach(function($e){var wr=$e.getAttribute(ie);if(_.state.isVisible)$e.setAttribute(ie,wr?wr+" "+he:he);else{var Gr=wr&&wr.replace(he,"").trim();Gr?$e.setAttribute(ie,Gr):$e.removeAttribute(ie)}})}}function V(){if(!(D||!_.props.aria.expanded)){var B=Js(_.props.triggerTarget||t);B.forEach(function(ie){_.props.interactive?ie.setAttribute("aria-expanded",_.state.isVisible&&ie===M()?"true":"false"):ie.removeAttribute("aria-expanded")})}}function U(){j().removeEventListener("mousemove",g),ip=ip.filter(function(B){return B!==g})}function K(B){if(!(Qn.isTouch&&(l||B.type==="mousedown"))){var ie=B.composedPath&&B.composedPath()[0]||B.target;if(!(_.props.interactive&&AD(x,ie))){if(Js(_.props.triggerTarget||t).some(function(he){return AD(he,ie)})){if(Qn.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[_,B]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),s=!0,setTimeout(function(){s=!1}),_.state.isMounted||ye())}}}function fe(){l=!0}function ve(){l=!1}function se(){var B=j();B.addEventListener("mousedown",K,!0),B.addEventListener("touchend",K,Fa),B.addEventListener("touchstart",ve,Fa),B.addEventListener("touchmove",fe,Fa)}function ye(){var B=j();B.removeEventListener("mousedown",K,!0),B.removeEventListener("touchend",K,Fa),B.removeEventListener("touchstart",ve,Fa),B.removeEventListener("touchmove",fe,Fa)}function Xe(B,ie){bt(B,function(){!_.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&ie()})}function Le(B,ie){bt(B,ie)}function bt(B,ie){var he=I().box;function Ge($e){$e.target===he&&(vv(he,"remove",Ge),ie())}if(B===0)return ie();vv(he,"remove",f),vv(he,"add",Ge),f=Ge}function je(B,ie,he){he===void 0&&(he=!1);var Ge=Js(_.props.triggerTarget||t);Ge.forEach(function($e){$e.addEventListener(B,ie,he),p.push({node:$e,eventType:B,handler:ie,options:he})})}function Se(){A()&&(je("touchstart",br,{passive:!0}),je("touchend",et,{passive:!0})),vq(_.props.trigger).forEach(function(B){if(B!=="manual")switch(je(B,br),B){case"mouseenter":je("mouseleave",et);break;case"focus":je(Iq?"focusout":"blur",We);break;case"focusin":je("focusout",We);break}})}function wt(){p.forEach(function(B){var ie=B.node,he=B.eventType,Ge=B.handler,$e=B.options;ie.removeEventListener(he,Ge,$e)}),p=[]}function br(B){var ie,he=!1;if(!(!_.state.isEnabled||Ke(B)||s)){var Ge=((ie=c)==null?void 0:ie.type)==="focus";c=B,m=B.currentTarget,V(),!_.state.isVisible&&xq(B)&&ip.forEach(function($e){return $e(B)}),B.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||a)&&_.props.hideOnClick!==!1&&_.state.isVisible?he=!0:Qt(B),B.type==="click"&&(a=!he),he&&!Ge&&Pr(B)}}function Ze(B){var ie=B.target,he=M().contains(ie)||x.contains(ie);if(!(B.type==="mousemove"&&he)){var Ge=lt().concat(x).map(function($e){var wr,Gr=$e._tippy,Wa=(wr=Gr.popperInstance)==null?void 0:wr.state;return Wa?{popperRect:$e.getBoundingClientRect(),popperState:Wa,props:r}:null}).filter(Boolean);Cq(Ge,B)&&(U(),Pr(B))}}function et(B){var ie=Ke(B)||_.props.trigger.indexOf("click")>=0&&a;if(!ie){if(_.props.interactive){_.hideWithInteractivity(B);return}Pr(B)}}function We(B){_.props.trigger.indexOf("focusin")<0&&B.target!==M()||_.props.interactive&&B.relatedTarget&&x.contains(B.relatedTarget)||Pr(B)}function Ke(B){return Qn.isTouch?A()!==B.type.indexOf("touch")>=0:!1}function Tt(){xt();var B=_.props,ie=B.popperOptions,he=B.placement,Ge=B.offset,$e=B.getReferenceClientRect,wr=B.moveTransition,Gr=R()?bv(x).arrow:null,Wa=$e?{getBoundingClientRect:$e,contextElement:$e.contextElement||M()}:t,ib={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Rc){var Ka=Rc.state;if(R()){var SI=I(),nh=SI.box;["placement","reference-hidden","escaped"].forEach(function(Nc){Nc==="placement"?nh.setAttribute("data-placement",Ka.placement):Ka.attributes.popper["data-popper-"+Nc]?nh.setAttribute("data-"+Nc,""):nh.removeAttribute("data-"+Nc)}),Ka.attributes.popper={}}}},qo=[{name:"offset",options:{offset:Ge}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!wr}},ib];R()&&Gr&&qo.push({name:"arrow",options:{element:Gr,padding:3}}),qo.push.apply(qo,(ie==null?void 0:ie.modifiers)||[]),_.popperInstance=hv(Wa,x,Object.assign({},ie,{placement:he,onFirstUpdate:d,modifiers:qo}))}function xt(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function tt(){var B=_.props.appendTo,ie,he=M();_.props.interactive&&B===ED||B==="parent"?ie=he.parentNode:ie=kD(B,[he]),ie.contains(x)||ie.appendChild(x),_.state.isMounted=!0,Tt()}function lt(){return rp(x.querySelectorAll("[data-tippy-root]"))}function Qt(B){_.clearDelayTimeouts(),B&&$("onTrigger",[_,B]),se();var ie=L(!0),he=T(),Ge=he[0],$e=he[1];Qn.isTouch&&Ge==="hold"&&$e&&(ie=$e),ie?n=setTimeout(function(){_.show()},ie):_.show()}function Pr(B){if(_.clearDelayTimeouts(),$("onUntrigger",[_,B]),!_.state.isVisible){ye();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(B.type)>=0&&a)){var ie=L(!1);ie?i=setTimeout(function(){_.state.isVisible&&_.hide()},ie):o=requestAnimationFrame(function(){_.hide()})}}function tr(){_.state.isEnabled=!0}function ri(){_.hide(),_.state.isEnabled=!1}function pn(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(o)}function ni(B){if(!_.state.isDestroyed){$("onBeforeUpdate",[_,B]),wt();var ie=_.props,he=FD(t,Object.assign({},ie,TD(B),{ignoreAttributes:!0}));_.props=he,Se(),ie.interactiveDebounce!==he.interactiveDebounce&&(U(),g=CD(Ze,he.interactiveDebounce)),ie.triggerTarget&&!he.triggerTarget?Js(ie.triggerTarget).forEach(function(Ge){Ge.removeAttribute("aria-expanded")}):he.triggerTarget&&t.removeAttribute("aria-expanded"),V(),O(),k&&k(ie,he),_.popperInstance&&(Tt(),lt().forEach(function(Ge){requestAnimationFrame(Ge._tippy.popperInstance.forceUpdate)})),$("onAfterUpdate",[_,B])}}function z(B){_.setProps({content:B})}function Y(){var B=_.state.isVisible,ie=_.state.isDestroyed,he=!_.state.isEnabled,Ge=Qn.isTouch&&!_.props.touch,$e=mv(_.props.duration,0,Dn.duration);if(!(B||ie||he||Ge)&&!M().hasAttribute("disabled")&&($("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,R()&&(x.style.visibility="visible"),O(),se(),_.state.isMounted||(x.style.transition="none"),R()){var wr=I(),Gr=wr.box,Wa=wr.content;yv([Gr,Wa],0)}d=function(){var qo;if(!(!_.state.isVisible||u)){if(u=!0,x.offsetHeight,x.style.transition=_.props.moveTransition,R()&&_.props.animation){var rh=I(),Rc=rh.box,Ka=rh.content;yv([Rc,Ka],$e),OD([Rc,Ka],"visible")}q(),V(),DD(wv,_),(qo=_.popperInstance)==null||qo.forceUpdate(),$("onMount",[_]),_.props.animation&&R()&&Le($e,function(){_.state.isShown=!0,$("onShown",[_])})}},tt()}}function N(){var B=!_.state.isVisible,ie=_.state.isDestroyed,he=!_.state.isEnabled,Ge=mv(_.props.duration,1,Dn.duration);if(!(B||ie||he)&&($("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,u=!1,a=!1,R()&&(x.style.visibility="hidden"),U(),ye(),O(!0),R()){var $e=I(),wr=$e.box,Gr=$e.content;_.props.animation&&(yv([wr,Gr],Ge),OD([wr,Gr],"hidden"))}q(),V(),_.props.animation?R()&&Xe(Ge,_.unmount):_.unmount()}}function Z(B){j().addEventListener("mousemove",g),DD(ip,g),g(B)}function Ee(){_.state.isVisible&&_.hide(),!!_.state.isMounted&&(xt(),lt().forEach(function(B){B._tippy.unmount()}),x.parentNode&&x.parentNode.removeChild(x),wv=wv.filter(function(B){return B!==_}),_.state.isMounted=!1,$("onHidden",[_]))}function ct(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),wt(),delete t._tippy,_.state.isDestroyed=!0,$("onDestroy",[_]))}}function Zu(t,e){e===void 0&&(e={});var r=Dn.plugins.concat(e.plugins||[]);Oq();var n=Object.assign({},e,{plugins:r}),i=Eq(t);if(!1)var o,a;var s=i.reduce(function(l,u){var c=u&&$q(u,n);return c&&l.push(c),l},[]);return np(t)?s[0]:s}Zu.defaultProps=Dn;Zu.setDefaultProps=jq;Zu.currentInput=Qn;var yoe=Object.assign({},Hu,{effect:function(e){var r=e.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});Zu.setDefaultProps({render:ND});var op=Zu;var LD=class extends Zy{constructor(){super(...arguments);this.contentComponent=null}},Bq=({renderers:t})=>Rt.createElement(Rt.Fragment,null,Array.from(t).map(([e,r])=>Rt.createPortal(r.reactElement,r.element,e))),$D=class extends Rt.Component{constructor(e){super(e);this.editorContentRef=Rt.createRef(),this.state={renderers:new Map}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;let r=this.editorContentRef.current;r.append(...e.options.element.childNodes),e.setOptions({element:r}),e.contentComponent=this,e.createNodeViews()}}componentWillUnmount(){let{editor:e}=this.props;if(!e||(e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;let r=document.createElement("div");r.append(...e.options.element.childNodes),e.setOptions({element:r})}render(){let{editor:e,...r}=this.props;return Rt.createElement(Rt.Fragment,null,Rt.createElement("div",{ref:this.editorContentRef,...r}),Rt.createElement(Bq,{renderers:this.state.renderers}))}},BD=Rt.memo($D);var qq=rr({onDragStart:void 0}),Vq=()=>rt(qq);var Soe=Rt.forwardRef((t,e)=>{let{onDragStart:r}=Vq(),n=t.as||"div";return Rt.createElement(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});function Uq(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function zq(t){var e;return typeof t=="object"&&((e=t.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}var xv=class{constructor(e,{editor:r,props:n={},as:i="div",className:o=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=r,this.props=n,this.element=document.createElement(i),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),this.render()}render(){let e=this.component,r=this.props;(Uq(e)||zq(e))&&(r.ref=n=>{this.ref=n}),this.reactElement=Rt.createElement(e,{...r}),queueMicrotask(()=>{Ya(()=>{var n;((n=this.editor)===null||n===void 0?void 0:n.contentComponent)&&this.editor.contentComponent.setState({renderers:this.editor.contentComponent.state.renderers.set(this.id,this)})})})}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){queueMicrotask(()=>{Ya(()=>{var e;if((e=this.editor)===null||e===void 0?void 0:e.contentComponent){let{renderers:r}=this.editor.contentComponent.state;r.delete(this.id),this.editor.contentComponent.setState({renderers:r})}})})}};function Hq(){let[,t]=Oe(0);return()=>t(e=>e+1)}var qD=(t={},e=[])=>{let[r,n]=Oe(null),i=Hq();return me(()=>{let o=!0,a=new LD(t);return n(a),a.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{o&&i()})})}),()=>{a.destroy(),o=!1}},e),r};y();var Wq=/^\s*([-+*])\s$/,VD=vt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",nt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[Qd({find:Wq,type:this.type})]}});y();var UD=vt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",nt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});y();var zD=vt.create({name:"text",group:"inline"});y();var Kq=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,Gq=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,Qq=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,Yq=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,HD=Ar.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",nt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[To({find:Kq,type:this.type}),To({find:Qq,type:this.type})]},addPasteRules(){return[nn({find:Gq,type:this.type}),nn({find:Yq,type:this.type})]}});y();var Jq=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,Xq=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,Zq=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,eV=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,WD=Ar.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",nt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[To({find:Jq,type:this.type}),To({find:Zq,type:this.type})]},addPasteRules(){return[nn({find:Xq,type:this.type}),nn({find:eV,type:this.type})]}});y();var tV=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,rV=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,KD=Ar.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",nt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[To({find:tV,type:this.type})]},addPasteRules(){return[nn({find:rV,type:this.type})]}});y();var GD=vt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",nt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}});y();var QD=vt.create({name:"doc",topNode:!0,content:"block+"});y();var nV=/^```([a-z]+)?[\s\n]$/,iV=/^~~~([a-z]+)?[\s\n]$/,YD=vt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;let{languageClassPrefix:r}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(r)).map(a=>a.replace(r,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",nt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:e}=t,{selection:r}=e,{$from:n,empty:i}=r;if(!i||n.parent.type!==this.type)return!1;let o=n.parentOffset===n.parent.nodeSize-2,a=n.parent.textContent.endsWith(`

`);return!o||!a?!1:t.chain().command(({tr:s})=>(s.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;let{state:e}=t,{selection:r,doc:n}=e,{$from:i,empty:o}=r;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;let s=i.after();return s===void 0||n.nodeAt(s)?!1:t.commands.exitCode()}}},addInputRules(){return[ev({find:nV,type:this.type,getAttributes:t=>({language:t[1]})}),ev({find:iV,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ct({key:new Pt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;let r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,o=i==null?void 0:i.mode;if(!r||!o)return!1;let{tr:a}=t.state;return a.replaceSelectionWith(this.type.create({language:o})),a.setSelection(xe.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.insertText(r.replace(/\r\n?/g,`
`)),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}});y();y();y();var ap=200,sr=function(){};sr.prototype.append=function(e){return e.length?(e=sr.from(e),!this.length&&e||e.length<ap&&this.leafAppend(e)||this.length<ap&&e.leafPrepend(this)||this.appendInner(e)):this};sr.prototype.prepend=function(e){return e.length?sr.from(e).append(this):this};sr.prototype.appendInner=function(e){return new oV(this,e)};sr.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?sr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};sr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};sr.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};sr.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(o,a){return i.push(e(o,a))},r,n),i};sr.from=function(e){return e instanceof sr?e:e&&e.length?new JD(e):sr.empty};var JD=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=ap)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=ap)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(sr);sr.empty=new JD([]);var oV=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(n,Math.min(i,s),o,a)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(n,i):n>=o?this.right.slice(n-o,i-o):this.left.slice(n,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(sr),aV=sr,Sv=aV;var sV=500,ln=class{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,o;r&&(i=this.remapping(n,this.items.length),o=i.maps.length);let a=e.tr,s,l,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(n,d+1),o=i.maps.length),o--,c.push(f);return}if(i){c.push(new Tn(f.map));let p=f.step.map(i.slice(o)),g;p&&a.maybeStep(p).doc&&(g=a.mapping.maps[a.mapping.maps.length-1],u.push(new Tn(g,void 0,void 0,u.length+c.length))),o--,g&&i.appendMap(g,o)}else a.maybeStep(f.step);if(f.selection)return s=i?f.selection.map(i.slice(o)):f.selection,l=new ln(this.items.slice(0,n).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(e,r,n,i){let o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new Tn(e.mapping.maps[c],f,r),p;(p=l&&l.merge(d))&&(d=p,c?o.pop():s=s.slice(0,s.length-1)),o.push(d),r&&(a++,r=void 0),i||(l=d)}let u=a-n.depth;return u>uV&&(s=lV(s,u),a-=u),new ln(s.append(o),a)}remapping(e,r){let n=new mo;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,a)},e,r),n}addMaps(e){return this.eventCount==0?this:new ln(this.items.append(e.map(r=>new Tn(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),o=e.mapping,a=e.steps.length,s=this.eventCount;this.items.forEach(d=>{d.selection&&s--},i);let l=r;this.items.forEach(d=>{let p=o.getMirror(--l);if(p==null)return;a=Math.min(a,p);let g=o.maps[p];if(d.step){let m=e.steps[p].invert(e.docs[p]),v=d.selection&&d.selection.map(o.slice(l+1,p));v&&s++,n.push(new Tn(g,m,v))}else n.push(new Tn(g))},i);let u=[];for(let d=r;d<a;d++)u.push(new Tn(o.maps[d]));let c=this.items.slice(0,i).append(u).append(n),f=new ln(c,s);return f.emptyItemCount()>sV&&(f=f.compress(this.items.length-n.length)),f}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],o=0;return this.items.forEach((a,s)=>{if(s>=e)i.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(r.slice(n)),u=l&&l.getMap();if(n--,u&&r.appendMap(u,n),l){let c=a.selection&&a.selection.map(r.slice(n));c&&o++;let f=new Tn(u.invert(),l,c),d,p=i.length-1;(d=i.length&&i[p].merge(f))?i[p]=d:i.push(f)}}else a.map&&n--},this.items.length,0),new ln(Sv.from(i.reverse()),o)}};ln.empty=new ln(Sv.empty,0);function lV(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}var Tn=class{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Tn(r.getMap().invert(),r,this.selection)}}},Ri=class{constructor(e,r,n,i){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i}},uV=20;function cV(t,e,r,n){let i=r.getMeta(Io),o;if(i)return i.historyState;r.getMeta(dV)&&(t=new Ri(t.done,t.undone,null,0));let a=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(a&&a.getMeta(Io))return a.getMeta(Io).redo?new Ri(t.done.addTransform(r,void 0,n,sp(e)),t.undone,XD(r.mapping.maps[r.steps.length-1]),t.prevTime):new Ri(t.done,t.undone.addTransform(r,void 0,n,sp(e)),null,t.prevTime);if(r.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=t.prevTime==0||!a&&(t.prevTime<(r.time||0)-n.newGroupDelay||!fV(r,t.prevRanges)),l=a?Ev(t.prevRanges,r.mapping):XD(r.mapping.maps[r.steps.length-1]);return new Ri(t.done.addTransform(r,s?e.selection.getBookmark():void 0,n,sp(e)),ln.empty,l,r.time)}else return(o=r.getMeta("rebased"))?new Ri(t.done.rebased(r,o),t.undone.rebased(r,o),Ev(t.prevRanges,r.mapping),t.prevTime):new Ri(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),Ev(t.prevRanges,r.mapping),t.prevTime)}function fV(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let o=0;o<e.length;o+=2)n<=e[o+1]&&i>=e[o]&&(r=!0)}),r}function XD(t){let e=[];return t.forEach((r,n,i,o)=>e.push(i,o)),e}function Ev(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),o=e.map(t[n+1],-1);i<=o&&r.push(i,o)}return r}function ZD(t,e,r,n){let i=sp(e),o=Io.get(e).spec.config,a=(n?t.undone:t.done).popEvent(e,i);if(!a)return;let s=a.selection.resolve(a.transform.doc),l=(n?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),o,i),u=new Ri(n?l:a.remaining,n?a.remaining:l,null,0);r(a.transform.setSelection(s).setMeta(Io,{redo:n,historyState:u}).scrollIntoView())}var kv=!1,eT=null;function sp(t){let e=t.plugins;if(eT!=e){kv=!1,eT=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){kv=!0;break}}return kv}var Io=new Pt("history"),dV=new Pt("closeHistory");function tT(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ct({key:Io,state:{init(){return new Ri(ln.empty,ln.empty,null,0)},apply(e,r,n){return cV(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?Cv:n=="historyRedo"?Dv:null;return i?(r.preventDefault(),i(e.state,e.dispatch)):!1}}}})}var Cv=(t,e)=>{let r=Io.getState(t);return!r||r.done.eventCount==0?!1:(e&&ZD(r,t,e,!1),!0)},Dv=(t,e)=>{let r=Io.getState(t);return!r||r.undone.eventCount==0?!1:(e&&ZD(r,t,e,!0),!0)};var rT=rn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Cv(t,e),redo:()=>({state:t,dispatch:e})=>Dv(t,e)}},addProseMirrorPlugins(){return[tT(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}});y();y();function Tv(t){this.j={},this.jr=[],this.jd=null,this.t=t}Tv.prototype={accepts:function(){return!!this.t},tt:function(e,r){if(r&&r.j)return this.j[e]=r,r;var n=r,i=this.j[e];if(i)return n&&(i.t=n),i;i=it();var o=lp(this,e);return o?(Object.assign(i.j,o.j),i.jr.append(o.jr),i.jr=o.jd,i.t=n||o.t):i.t=n,this.j[e]=i,i}};var it=function(){return new Tv},ue=function(e){return new Tv(e)},Q=function(e,r,n){e.j[r]||(e.j[r]=n)},er=function(e,r,n){e.jr.push([r,n])},lp=function(e,r){var n=e.j[r];if(n)return n;for(var i=0;i<e.jr.length;i++){var o=e.jr[i][0],a=e.jr[i][1];if(o.test(r))return a}return e.jd},Ie=function(e,r,n){for(var i=0;i<r.length;i++)Q(e,r[i],n)},pV=function(e,r){for(var n=0;n<r.length;n++){var i=r[n][0],o=r[n][1];Q(e,i,o)}},ja=function(e,r,n,i){for(var o=0,a=r.length,s;o<a&&(s=e.j[r[o]]);)e=s,o++;if(o>=a)return[];for(;o<a-1;)s=i(),Q(e,r[o],s),e=s,o++;Q(e,r[a-1],n)},On="DOMAIN",Ni="LOCALHOST",Yn="TLD",un="NUM",Xs="PROTOCOL",Ov="MAILTO",nT="WS",Av="NL",Zs="OPENBRACE",ec="OPENBRACKET",tc="OPENANGLEBRACKET",rc="OPENPAREN",Ra="CLOSEBRACE",el="CLOSEBRACKET",tl="CLOSEANGLEBRACKET",rl="CLOSEPAREN",up="AMPERSAND",cp="APOSTROPHE",fp="ASTERISK",nl="AT",dp="BACKSLASH",pp="BACKTICK",hp="CARET",nc="COLON",Iv="COMMA",mp="DOLLAR",Po="DOT",gp="EQUALS",Pv="EXCLAMATION",yp="HYPHEN",vp="PERCENT",_p="PIPE",bp="PLUS",wp="POUND",xp="QUERY",Mv="QUOTE",Fv="SEMI",Li="SLASH",Sp="TILDE",Ep="UNDERSCORE",kp="SYM",hV=Object.freeze({__proto__:null,DOMAIN:On,LOCALHOST:Ni,TLD:Yn,NUM:un,PROTOCOL:Xs,MAILTO:Ov,WS:nT,NL:Av,OPENBRACE:Zs,OPENBRACKET:ec,OPENANGLEBRACKET:tc,OPENPAREN:rc,CLOSEBRACE:Ra,CLOSEBRACKET:el,CLOSEANGLEBRACKET:tl,CLOSEPAREN:rl,AMPERSAND:up,APOSTROPHE:cp,ASTERISK:fp,AT:nl,BACKSLASH:dp,BACKTICK:pp,CARET:hp,COLON:nc,COMMA:Iv,DOLLAR:mp,DOT:Po,EQUALS:gp,EXCLAMATION:Pv,HYPHEN:yp,PERCENT:vp,PIPE:_p,PLUS:bp,POUND:wp,QUERY:xp,QUOTE:Mv,SEMI:Fv,SLASH:Li,TILDE:Sp,UNDERSCORE:Ep,SYM:kp}),iT="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xF6gensberater-ctb verm\xF6gensberatung-pwb \u03B5\u03BB \u03B5\u03C5 \u0431\u0433 \u0431\u0435\u043B \u0434\u0435\u0442\u0438 \u0435\u044E \u043A\u0430\u0442\u043E\u043B\u0438\u043A \u043A\u043E\u043C \u049B\u0430\u0437 \u043C\u043A\u0434 \u043C\u043E\u043D \u043C\u043E\u0441\u043A\u0432\u0430 \u043E\u043D\u043B\u0430\u0439\u043D \u043E\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043A\u0440 \u10D2\u10D4 \u0570\u0561\u0575 \u05D9\u05E9\u05E8\u05D0\u05DC \u05E7\u05D5\u05DD \u0627\u0628\u0648\u0638\u0628\u064A \u0627\u062A\u0635\u0627\u0644\u0627\u062A \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062F\u0646 \u0627\u0644\u0628\u062D\u0631\u064A\u0646 \u0627\u0644\u062C\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629 \u0627\u0644\u0639\u0644\u064A\u0627\u0646 \u0627\u0644\u0645\u063A\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062A \u0627\u06CC\u0631\u0627\u0646 \u0628\u0627\u0631\u062A \u0628\u0627\u0632\u0627\u0631 \u0628\u06BE\u0627\u0631\u062A \u0628\u064A\u062A\u0643 \u067E\u0627\u06A9\u0633\u062A\u0627\u0646 \u0680\u0627\u0631\u062A \u062A\u0648\u0646\u0633 \u0633\u0648\u062F\u0627\u0646 \u0633\u0648\u0631\u064A\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064A\u0646 \u0642\u0637\u0631 \u0643\u0627\u062B\u0648\u0644\u064A\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064A\u0633\u064A\u0627 \u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092E \u0928\u0947\u091F \u092D\u093E\u0930\u0924 \u092D\u093E\u0930\u0924\u092E\u094D \u092D\u093E\u0930\u094B\u0924 \u0938\u0902\u0917\u0920\u0928 \u09AC\u09BE\u0982\u09B2\u09BE \u09AD\u09BE\u09B0\u09A4 \u09AD\u09BE\u09F0\u09A4 \u0A2D\u0A3E\u0A30\u0A24 \u0AAD\u0ABE\u0AB0\u0AA4 \u0B2D\u0B3E\u0B30\u0B24 \u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE \u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8 \u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD \u0C2D\u0C3E\u0C30\u0C24\u0C4D \u0CAD\u0CBE\u0CB0\u0CA4 \u0D2D\u0D3E\u0D30\u0D24\u0D02 \u0DBD\u0D82\u0D9A\u0DCF \u0E04\u0E2D\u0E21 \u0E44\u0E17\u0E22 \u0EA5\u0EB2\u0EA7 \uB2F7\uB137 \uB2F7\uCEF4 \uC0BC\uC131 \uD55C\uAD6D \u30A2\u30DE\u30BE\u30F3 \u30B0\u30FC\u30B0\u30EB \u30AF\u30E9\u30A6\u30C9 \u30B3\u30E0 \u30B9\u30C8\u30A2 \u30BB\u30FC\u30EB \u30D5\u30A1\u30C3\u30B7\u30E7\u30F3 \u30DD\u30A4\u30F3\u30C8 \u307F\u3093\u306A \u4E16\u754C \u4E2D\u4FE1 \u4E2D\u56FD \u4E2D\u570B \u4E2D\u6587\u7F51 \u4E9A\u9A6C\u900A \u4F01\u4E1A \u4F5B\u5C71 \u4FE1\u606F \u5065\u5EB7 \u516B\u5366 \u516C\u53F8 \u516C\u76CA \u53F0\u6E7E \u53F0\u7063 \u5546\u57CE \u5546\u5E97 \u5546\u6807 \u5609\u91CC \u5609\u91CC\u5927\u9152\u5E97 \u5728\u7EBF \u5927\u4F17\u6C7D\u8F66 \u5927\u62FF \u5929\u4E3B\u6559 \u5A31\u4E50 \u5BB6\u96FB \u5E7F\u4E1C \u5FAE\u535A \u6148\u5584 \u6211\u7231\u4F60 \u624B\u673A \u62DB\u8058 \u653F\u52A1 \u653F\u5E9C \u65B0\u52A0\u5761 \u65B0\u95FB \u65F6\u5C1A \u66F8\u7C4D \u673A\u6784 \u6DE1\u9A6C\u9521 \u6E38\u620F \u6FB3\u9580 \u70B9\u770B \u79FB\u52A8 \u7EC4\u7EC7\u673A\u6784 \u7F51\u5740 \u7F51\u5E97 \u7F51\u7AD9 \u7F51\u7EDC \u8054\u901A \u8BFA\u57FA\u4E9A \u8C37\u6B4C \u8D2D\u7269 \u901A\u8CA9 \u96C6\u56E2 \u96FB\u8A0A\u76C8\u79D1 \u98DE\u5229\u6D66 \u98DF\u54C1 \u9910\u5385 \u9999\u683C\u91CC\u62C9 \u9999\u6E2F".split(" "),ic=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,oc=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,ac=/\uFE0F/,sc=/\d/,oT=/\s/;function mV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=it(),r=ue(un),n=ue(On),i=it(),o=ue(nT),a=[[sc,n],[ic,n],[oc,n],[ac,n]],s=function(){var _=ue(On);return _.j={"-":i},_.jr=[].concat(a),_},l=function(_){var S=s();return S.t=_,S};pV(e,[["'",ue(cp)],["{",ue(Zs)],["[",ue(ec)],["<",ue(tc)],["(",ue(rc)],["}",ue(Ra)],["]",ue(el)],[">",ue(tl)],[")",ue(rl)],["&",ue(up)],["*",ue(fp)],["@",ue(nl)],["`",ue(pp)],["^",ue(hp)],[":",ue(nc)],[",",ue(Iv)],["$",ue(mp)],[".",ue(Po)],["=",ue(gp)],["!",ue(Pv)],["-",ue(yp)],["%",ue(vp)],["|",ue(_p)],["+",ue(bp)],["#",ue(wp)],["?",ue(xp)],['"',ue(Mv)],["/",ue(Li)],[";",ue(Fv)],["~",ue(Sp)],["_",ue(Ep)],["\\",ue(dp)]]),Q(e,`
`,ue(Av)),er(e,oT,o),Q(o,`
`,it()),er(o,oT,o);for(var u=0;u<iT.length;u++)ja(e,iT[u],l(Yn),s);var c=s(),f=s(),d=s(),p=s();ja(e,"file",c,s),ja(e,"ftp",f,s),ja(e,"http",d,s),ja(e,"mailto",p,s);var g=s(),m=ue(Xs),v=ue(Ov);Q(f,"s",g),Q(f,":",m),Q(d,"s",g),Q(d,":",m),Q(c,":",m),Q(g,":",m),Q(p,":",v);for(var b=s(),E=0;E<t.length;E++)ja(e,t[E],b,s);return Q(b,":",m),ja(e,"localhost",l(Ni),s),er(e,sc,r),er(e,ic,n),er(e,oc,n),er(e,ac,n),er(r,sc,r),er(r,ic,n),er(r,oc,n),er(r,ac,n),Q(r,"-",i),Q(n,"-",i),Q(i,"-",i),er(n,sc,n),er(n,ic,n),er(n,oc,n),er(n,ac,n),er(i,sc,n),er(i,ic,n),er(i,oc,n),er(i,ac,n),e.jd=ue(kp),e}function gV(t,e){for(var r=yV(e.replace(/[A-Z]/g,function(p){return p.toLowerCase()})),n=r.length,i=[],o=0,a=0;a<n;){for(var s=t,l=null,u=0,c=null,f=-1,d=-1;a<n&&(l=lp(s,r[a]));)s=l,s.accepts()?(f=0,d=0,c=s):f>=0&&(f+=r[a].length,d++),u+=r[a].length,o+=r[a].length,a++;o-=f,a-=d,u-=f,i.push({t:c.t,v:e.substr(o-u,u),s:o-u,e:o})}return i}function yV(t){for(var e=[],r=t.length,n=0;n<r;){var i=t.charCodeAt(n),o=void 0,a=i<55296||i>56319||n+1===r||(o=t.charCodeAt(n+1))<56320||o>57343?t[n]:t.slice(n,n+2);e.push(a),n+=a.length}return e}function Cp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cp=function(e){return typeof e}:Cp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}var yr={defaultProtocol:"http",events:null,format:aT,formatHref:aT,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function vV(t){t=t||{},this.defaultProtocol="defaultProtocol"in t?t.defaultProtocol:yr.defaultProtocol,this.events="events"in t?t.events:yr.events,this.format="format"in t?t.format:yr.format,this.formatHref="formatHref"in t?t.formatHref:yr.formatHref,this.nl2br="nl2br"in t?t.nl2br:yr.nl2br,this.tagName="tagName"in t?t.tagName:yr.tagName,this.target="target"in t?t.target:yr.target,this.rel="rel"in t?t.rel:yr.rel,this.validate="validate"in t?t.validate:yr.validate,this.truncate="truncate"in t?t.truncate:yr.truncate,this.className="className"in t?t.className:yr.className,this.attributes=t.attributes||yr.attributes,this.ignoreTags=[];for(var e=("ignoreTags"in t)?t.ignoreTags:yr.ignoreTags,r=0;r<e.length;r++)this.ignoreTags.push(e[r].toUpperCase())}vV.prototype={resolve:function(e){var r=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",r,e),tagName:this.get("tagName",r,e),className:this.get("className",r,e),target:this.get("target",r,e),rel:this.get("rel",r,e),events:this.getObject("events",r,e),attributes:this.getObject("attributes",r,e),truncate:this.get("truncate",r,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,r,n){var i=this[e];if(!i)return i;var o;switch(Cp(i)){case"function":return i(r,n.t);case"object":return o=n.t in i?i[n.t]:yr[e],typeof o=="function"?o(r,n.t):o}return i},getObject:function(e,r,n){var i=this[e];return typeof i=="function"?i(r,n.t):i}};function aT(t){return t}function _V(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Object.create(t.prototype);for(var i in r)n[i]=r[i];return n.constructor=e,e.prototype=n,e}function Dp(){}Dp.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yr.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};function Na(t,e){function r(n,i){this.t=t,this.v=n,this.tk=i}return _V(Dp,r,e),r}var sT=Na("email",{isLink:!0}),jv=Na("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),Rv=Na("text"),lT=Na("nl"),Mo=Na("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yr.defaultProtocol,r=this.tk,n=!1,i=!1,o=[],a=0;r[a].t===Xs;)n=!0,o.push(r[a].v),a++;for(;r[a].t===Li;)i=!0,o.push(r[a].v),a++;for(;a<r.length;a++)o.push(r[a].v);return o=o.join(""),n||i||(o="".concat(e,"://").concat(o)),o},hasProtocol:function(){return this.tk[0].t===Xs}}),bV=Object.freeze({__proto__:null,MultiToken:Dp,Base:Dp,createTokenClass:Na,MailtoEmail:sT,Email:jv,Text:Rv,Nl:lT,Url:Mo});function wV(){var t=it(),e=it(),r=it(),n=it(),i=it(),o=it(),a=it(),s=ue(Mo),l=it(),u=ue(Mo),c=ue(Mo),f=it(),d=it(),p=it(),g=it(),m=it(),v=ue(Mo),b=ue(Mo),E=ue(Mo),w=ue(Mo),_=it(),S=it(),x=it(),k=it(),C=it(),D=it(),T=ue(jv),A=it(),R=ue(jv),M=ue(sT),j=it(),I=it(),L=it(),O=it(),$=ue(lT);Q(t,Av,$),Q(t,Xs,e),Q(t,Ov,r),Q(e,Li,n),Q(n,Li,i),Q(t,Yn,o),Q(t,On,o),Q(t,Ni,s),Q(t,un,o),Q(i,Yn,c),Q(i,On,c),Q(i,un,c),Q(i,Ni,c),Q(o,Po,a),Q(C,Po,D),Q(a,Yn,s),Q(a,On,o),Q(a,un,o),Q(a,Ni,o),Q(D,Yn,T),Q(D,On,C),Q(D,un,C),Q(D,Ni,C),Q(s,Po,a),Q(T,Po,D),Q(s,nc,l),Q(s,Li,c),Q(l,un,u),Q(u,Li,c),Q(T,nc,A),Q(A,un,R);var q=[up,fp,nl,dp,pp,hp,mp,On,gp,yp,Ni,un,vp,_p,bp,wp,Xs,Li,kp,Sp,Yn,Ep],V=[cp,tl,Ra,el,rl,nc,Iv,Po,Pv,tc,Zs,ec,rc,xp,Mv,Fv];Q(c,Zs,d),Q(c,ec,p),Q(c,tc,g),Q(c,rc,m),Q(f,Zs,d),Q(f,ec,p),Q(f,tc,g),Q(f,rc,m),Q(d,Ra,c),Q(p,el,c),Q(g,tl,c),Q(m,rl,c),Q(v,Ra,c),Q(b,el,c),Q(E,tl,c),Q(w,rl,c),Q(_,Ra,c),Q(S,el,c),Q(x,tl,c),Q(k,rl,c),Ie(d,q,v),Ie(p,q,b),Ie(g,q,E),Ie(m,q,w),Ie(d,V,_),Ie(p,V,S),Ie(g,V,x),Ie(m,V,k),Ie(v,q,v),Ie(b,q,b),Ie(E,q,E),Ie(w,q,w),Ie(v,V,v),Ie(b,V,b),Ie(E,V,E),Ie(w,V,w),Ie(_,q,v),Ie(S,q,b),Ie(x,q,E),Ie(k,q,w),Ie(_,V,_),Ie(S,V,S),Ie(x,V,x),Ie(k,V,k),Ie(c,q,c),Ie(f,q,c),Ie(c,V,f),Ie(f,V,f),Q(r,Yn,M),Q(r,On,M),Q(r,un,M),Q(r,Ni,M),Ie(M,q,M),Ie(M,V,j),Ie(j,q,M),Ie(j,V,j);var U=[up,cp,fp,dp,pp,hp,Ra,mp,On,gp,yp,un,Zs,vp,_p,bp,wp,xp,Li,kp,Sp,Yn,Ep];return Ie(o,U,I),Q(o,nl,L),Ie(s,U,I),Q(s,nl,L),Ie(a,U,I),Ie(I,U,I),Q(I,nl,L),Q(I,Po,O),Ie(O,U,I),Q(L,Yn,C),Q(L,On,C),Q(L,un,C),Q(L,Ni,T),t}function xV(t,e,r){for(var n=r.length,i=0,o=[],a=[];i<n;){for(var s=t,l=null,u=null,c=0,f=null,d=-1;i<n&&!(l=lp(s,r[i].t));)a.push(r[i++]);for(;i<n&&(u=l||lp(s,r[i].t));)l=null,s=u,s.accepts()?(d=0,f=s):d>=0&&d++,i++,c++;if(d<0)for(var p=i-c;p<i;p++)a.push(r[p]);else{a.length>0&&(o.push(Nv(Rv,e,a)),a=[]),i-=d,c-=d;var g=f.t,m=r.slice(i-c,i);o.push(Nv(g,e,m))}}return a.length>0&&o.push(Nv(Rv,e,a)),o}function Nv(t,e,r){var n=r[0].s,i=r[r.length-1].e,o=e.substr(n,i-n);return new t(o,r)}var SV=typeof console!="undefined"&&console&&console.warn||function(){},Kr={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function uT(t){if(Kr.initialized&&SV('linkifyjs: already initialized - will not register custom protocol "'.concat(t,'" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.')),!/^[a-z-]+$/.test(t))throw Error("linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported");Kr.customProtocols.push(t)}function EV(){Kr.scanner={start:mV(Kr.customProtocols),tokens:hV},Kr.parser={start:wV(),tokens:bV};for(var t={createTokenClass:Na},e=0;e<Kr.pluginQueue.length;e++)Kr.pluginQueue[e][1]({scanner:Kr.scanner,parser:Kr.parser,utils:t});Kr.initialized=!0}function cT(t){return Kr.initialized||EV(),xV(Kr.parser.start,t,gV(Kr.scanner.start,t))}function il(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=cT(t),n=[],i=0;i<r.length;i++){var o=r[i];o.isLink&&(!e||o.t===e)&&n.push(o.toObject())}return n}function Lv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=cT(t);return r.length===1&&r[0].isLink&&(!e||r[0].t===e)}function kV(t){return new Ct({key:new Pt("autolink"),appendTransaction:(e,r,n)=>{let i=e.some(c=>c.docChanged)&&!r.doc.eq(n.doc),o=e.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;let{tr:a}=n,s=Hd(r.doc,[...e]),{mapping:l}=s;if(Kd(s).forEach(({oldRange:c,newRange:f})=>{Do(c.from,c.to,r.doc).filter(m=>m.mark.type===t.type).forEach(m=>{let v=l.map(m.from),b=l.map(m.to),E=Do(v,b,n.doc).filter(C=>C.mark.type===t.type);if(!E.length)return;let w=E[0],_=r.doc.textBetween(m.from,m.to,void 0," "),S=n.doc.textBetween(w.from,w.to,void 0," "),x=Lv(_),k=Lv(S);x&&!k&&a.removeMark(w.from,w.to,t.type)});let d=Wd(n.doc,f,m=>m.isTextblock),p,g;if(d.length>1?(p=d[0],g=n.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ")):d.length&&n.doc.textBetween(f.from,f.to," "," ").endsWith(" ")&&(p=d[0],g=n.doc.textBetween(p.pos,f.to,void 0," ")),p&&g){let m=g.split(" ").filter(E=>E!=="");if(m.length<=0)return!1;let v=m[m.length-1],b=p.pos+g.lastIndexOf(v);if(!v)return!1;il(v).filter(E=>E.isLink).filter(E=>t.validate?t.validate(E.value):!0).map(E=>({...E,from:b+E.start+1,to:b+E.end+1})).forEach(E=>{a.addMark(E.from,E.to,t.type.create({href:E.href}))})}}),!!a.steps.length)return a}})}function CV(t){return new Ct({key:new Pt("handleClickLink"),props:{handleClick:(e,r,n)=>{var i;let o=Jy(e.state,t.type.name);return((i=n.target)===null||i===void 0?void 0:i.closest("a"))&&o.href?(window.open(o.href,o.target),!0):!1}}})}function DV(t){return new Ct({key:new Pt("handlePasteLink"),props:{handlePaste:(e,r,n)=>{let{state:i}=e,{selection:o}=i,{empty:a}=o;if(a)return!1;let s="";n.content.forEach(u=>{s+=u.textContent});let l=il(s).find(u=>u.isLink&&u.value===s);return!s||!l?!1:(t.editor.commands.setMark(t.type,{href:l.href}),!0)}}})}var fT=Ar.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(uT)},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){return["a",nt(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[nn({find:t=>il(t).filter(e=>this.options.validate?this.options.validate(e.value):!0).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){let t=[];return this.options.autolink&&t.push(kV({type:this.type,validate:this.options.validate})),this.options.openOnClick&&t.push(CV({type:this.type})),this.options.linkOnPaste&&t.push(DV({editor:this.editor,type:this.type})),t}});y();var TV=/^(\d+)\.\s$/,dT=vt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){let{start:e,...r}=t;return e===1?["ol",nt(this.options.HTMLAttributes,r),0]:["ol",nt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[Qd({find:TV,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]})]}});y();y();function OV(t){var e;let{char:r,allowSpaces:n,allowedPrefixes:i,startOfLine:o,$position:a}=t,s=eD(r),l=new RegExp(`\\s${s}$`),u=o?"^":"",c=n?new RegExp(`${u}${s}.*?(?=\\s${s}|$)`,"gm"):new RegExp(`${u}(?:^)?${s}[^\\s${s}]*`,"gm"),f=((e=a.nodeBefore)===null||e===void 0?void 0:e.isText)&&a.nodeBefore.text;if(!f)return null;let d=a.pos-f.length,p=Array.from(f.matchAll(c)).pop();if(!p||p.input===void 0||p.index===void 0)return null;let g=p.input.slice(Math.max(0,p.index-1),p.index),m=new RegExp(`^[${i==null?void 0:i.join("")}\0]?$`).test(g);if(i!==null&&!m)return null;let v=d+p.index,b=v+p[0].length;return n&&l.test(f.slice(b-1,b+1))&&(p[0]+=" ",b+=1),v<a.pos&&b>=a.pos?{range:{from:v,to:b},query:p[0].slice(r.length),text:p[0]}:null}var AV=new Pt("suggestion");function pT({pluginKey:t=AV,editor:e,char:r="@",allowSpaces:n=!1,allowedPrefixes:i=null,startOfLine:o=!1,decorationTag:a="span",decorationClass:s="suggestion",command:l=()=>null,items:u=()=>[],render:c=()=>({}),allow:f=()=>!0}){let d,p=c==null?void 0:c(),g=new Ct({key:t,view(){return{update:async(m,v)=>{var b,E,w,_,S,x,k;let C=(b=this.key)===null||b===void 0?void 0:b.getState(v),D=(E=this.key)===null||E===void 0?void 0:E.getState(m.state),T=C.active&&D.active&&C.range.from!==D.range.from,A=!C.active&&D.active,R=C.active&&!D.active,M=!A&&!R&&C.query!==D.query,j=A||T,I=M&&!T,L=R||T;if(!j&&!I&&!L)return;let O=L&&!j?C:D,$=m.dom.querySelector(`[data-decoration-id="${O.decorationId}"]`);d={editor:e,range:O.range,query:O.query,text:O.text,items:[],command:q=>{l({editor:e,range:O.range,props:q})},decorationNode:$,clientRect:$?()=>{var q;let{decorationId:V}=(q=this.key)===null||q===void 0?void 0:q.getState(e.state),U=m.dom.querySelector(`[data-decoration-id="${V}"]`);return(U==null?void 0:U.getBoundingClientRect())||null}:null},j&&((w=p==null?void 0:p.onBeforeStart)===null||w===void 0||w.call(p,d)),I&&((_=p==null?void 0:p.onBeforeUpdate)===null||_===void 0||_.call(p,d)),(I||j)&&(d.items=await u({editor:e,query:O.query})),L&&((S=p==null?void 0:p.onExit)===null||S===void 0||S.call(p,d)),I&&((x=p==null?void 0:p.onUpdate)===null||x===void 0||x.call(p,d)),j&&((k=p==null?void 0:p.onStart)===null||k===void 0||k.call(p,d))},destroy:()=>{var m;!d||(m=p==null?void 0:p.onExit)===null||m===void 0||m.call(p,d)}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(m,v,b,E){let{isEditable:w}=e,{composing:_}=e.view,{selection:S}=m,{empty:x,from:k}=S,C={...v};if(C.composing=_,w&&(x||e.view.composing)){(k<v.range.from||k>v.range.to)&&!_&&!v.composing&&(C.active=!1);let D=OV({char:r,allowSpaces:n,allowedPrefixes:i,startOfLine:o,$position:S.$from}),T=`id_${Math.floor(Math.random()*4294967295)}`;D&&f({editor:e,state:E,range:D.range})?(C.active=!0,C.decorationId=v.decorationId?v.decorationId:T,C.range=D.range,C.query=D.query,C.text=D.text):C.active=!1}else C.active=!1;return C.active||(C.decorationId=null,C.range={from:0,to:0},C.query=null,C.text=null),C}},props:{handleKeyDown(m,v){var b;let{active:E,range:w}=g.getState(m.state);return E&&((b=p==null?void 0:p.onKeyDown)===null||b===void 0?void 0:b.call(p,{view:m,event:v,range:w}))||!1},decorations(m){let{active:v,range:b,decorationId:E}=g.getState(m);return v?Ht.create(m.doc,[Rr.inline(b.from,b.to,{nodeName:a,class:s,"data-decoration-id":E})]):null}}});return g}var Tp=t=>vt.create({name:t,addOptions:()=>({name:t,HTMLAttributes:{},renderLabel({options:e,node:r}){return`${e.suggestion.char}${r.attrs.label??r.attrs.id}`},suggestion:{char:"@",pluginKey:new Pt(t),command:({editor:e,range:r,props:n})=>{e.view.state.selection.$to.nodeAfter?.text?.startsWith(" ")&&(r.to+=1),e.chain().focus().insertContentAt(r,[{type:t,attrs:n},{type:"text",text:" "}]).run()},allow:({editor:e,range:r})=>e.can().insertContentAt(r,{type:t})}}),group:"inline",inline:!0,selectable:!0,atom:!0,addAttributes(){return{id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}}}},parseHTML(){return[{tag:`span[data-mention="${t}"]`}]},renderHTML({node:e,HTMLAttributes:r}){return["span",nt({"data-mention":t},this.options.HTMLAttributes,r),this.options.renderLabel({options:this.options,node:e})]},renderText({node:e}){return this.options.renderLabel({options:this.options,node:e})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:e,state:r})=>{let n=!1,{selection:i}=r,{empty:o,anchor:a}=i;return o?(r.doc.nodesBetween(a-1,a,(s,l)=>{if(s.type.name===this.name)return n=!0,e.insertText(this.options.suggestion.char||"",l,l+s.nodeSize),!1}),n):!1})}},addProseMirrorPlugins(){return[pT({editor:this.editor,...this.options.suggestion})]}});y();var hT=vt.create({name:"hardBreak",addOptions:()=>({HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",nt(this.options.HTMLAttributes,t)]},addCommands(){return{setHardBreak:()=>t=>{let{state:e,editor:r}=t,n=Mt("listItem",e.schema);return t.commands.first([()=>t.commands.exitCode(),()=>{if(e.selection.$anchor.node().textContent.length<=0){let o=ka(a=>Hs(a.type.name,r.extensionManager.extensions))(e.selection);if(o)return t.commands.toggleList(o.node.type,n),t.commands.createParagraphNear()}return t.commands.splitListItem(n)},()=>t.commands.insertContent({type:this.name})])}}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak()}}});y();y();oi();var Op=class extends cr{constructor(){super();this.state={selectedIndex:0},this.selectItem=this.selectItem.bind(this)}onKeyDown({event:e}){return e.key==="ArrowUp"?(this.upHandler(),!0):e.key==="ArrowDown"?(this.downHandler(),!0):e.key==="Enter"||e.key==="Tab"?(this.enterHandler(),!0):!1}upHandler(){this.setState({selectedIndex:(this.state.selectedIndex+this.props.items.length-1)%this.props.items.length})}downHandler(){this.setState({selectedIndex:(this.state.selectedIndex+1)%this.props.items.length})}enterHandler(){this.selectItem(this.state.selectedIndex)}selectItem(e){let r=this.props.items[e];r&&this.props.command(r)}componentDidUpdate(e,r){e.items.length!==this.props.items.length&&this.setState({selectedIndex:0})}render(){let{items:e}=this.props,{selectedIndex:r}=this.state;return h("div",null,h("j-menu",null,e.map((n,i)=>h("j-menu-item",{active:i===r,key:i,onClick:()=>this.selectItem(i)},n.label))))}};function lc(){let t=null,e=null;return{onStart:r=>{t=new xv(Op,{props:r,editor:r.editor}),e=op("body",{getReferenceClientRect:r.clientRect,appendTo:()=>document.body,content:t.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"})},onUpdate(r){t.updateProps(r),e[0].setProps({getReferenceClientRect:r.clientRect})},onKeyDown(r){return t.ref?.onKeyDown(r)},onExit(){e[0].destroy(),t.destroy()}}}var MO=$r(OO());y();var CH=`._editorWrapper_g2fmt_1 {
  padding-left: var(--j-space-400);
  padding-right: var(--j-space-400);
  padding-top: var(--j-space-300);
  padding-bottom: var(--j-space-300);
  border-radius: var(--j-border-radius);
  border: 1px solid var(--j-border-color);
  display: flex;
  box-sizing: border-box;
}

._editorContent_g2fmt_12 {
  width: 100%;
  padding-top: var(--j-space-200);
}

._editorParagraph_g2fmt_17:first-of-type {
  padding-top: 0;
  margin-top: 0;
}
._editorParagraph_g2fmt_17:last-of-type {
  padding-bottom: 0;
  margin-bottom: 0;
}

._editorMentions_g2fmt_26 {
  cursor: pointer;
  padding: 2px var(--j-space-200);
  border-radius: var(--j-border-radius);
  background: var(--j-color-primary-100);
  color: var(--j-color-primary-700);
}`;document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode(CH));var $a={editorWrapper:"_editorWrapper_g2fmt_1",editorContent:"_editorContent_g2fmt_12",editorParagraph:"_editorParagraph_g2fmt_17",editorMentions:"_editorMentions_g2fmt_26"};y();y();function AO(t){return new Ct({key:new Pt("autolink"),appendTransaction:(e,r,n)=>{if(!(e.some(u=>u.docChanged)&&!r.doc.eq(n.doc)))return;let{tr:o}=n,a=Hd(r.doc,e),{mapping:s}=a;if(Kd(a).forEach(({oldRange:u,newRange:c})=>{Do(u.from,u.to,r.doc).filter(f=>f.mark.type===t.type).forEach(f=>{let d=s.map(f.from),p=s.map(f.to),g=Do(d,p,n.doc).filter(S=>S.mark.type===t.type);if(!g.length)return;let m=g[0],v=r.doc.textBetween(f.from,f.to,void 0," "),b=n.doc.textBetween(m.from,m.to,void 0," "),E=/neighbourhood:\/\/[\w]*$/,w=E.test(v),_=E.test(b);w&&!_&&o.removeMark(m.from,m.to,t.type)}),Wd(n.doc,c,f=>f.isTextblock).forEach(f=>{let d=n.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");DH(d).map(p=>({...p,from:f.pos+p.start+1,to:f.pos+p.end+1})).filter(p=>{let g=c.from>=p.from&&c.from<=p.to,m=c.to>=p.from&&c.to<=p.to;return g||m}).forEach(p=>{console.log("kiki",p,t),o.addMark(p.from,p.to,t.type.create({text:p.text}))})})}),!!o.steps.length)return o}})}function DH(t){let e=/neighbourhood:\/\/[\w]*/gm;var r=t.matchAll(e),n=[];for(let i of r)n.push({text:i[0],start:i.index,end:i.index+i[0].length});return n}var IO=Ar.create({name:"neighbourhood-link",priority:1e3,keepOnSplit:!1,inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,HTMLAttributes:{}}},addAttributes(){return{}},parseHTML(){return[{tag:"span[data-neighbourhood]"}]},renderHTML({mark:t,HTMLAttributes:e}){return console.log("mark",t,e),["span",nt({"data-neighbourhood":""},this.options.HTMLAttributes,e),0]},addCommands(){return{setLink:t=>({commands:e})=>e.setMark(this.name,t),toggleLink:t=>({commands:e})=>e.toggleMark(this.name,t,{extendEmptyMarkRange:!0}),unsetLink:()=>({commands:t})=>t.unsetMark(this.name,{extendEmptyMarkRange:!0})}},renderText({node:t}){return this.options.renderLabel({options:this.options,node:t})},addPasteRules(){return[nn({find:t=>il(t).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:t=>({href:t.data?.href})})]},addProseMirrorPlugins(){let t=[];return this.options.autolink&&t.push(AO({type:this.type})),t}});y();var PO=vt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",nt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{let{selection:i,storedMarks:o}=r;if(i.$from.parent.type.spec.isolating)return!1;let{keepMarks:a}=this.options,{splittableMarks:s}=n.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&a){let f=l.filter(d=>s.includes(d.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}});function n_({value:t,onChange:e,onSend:r,members:n=[],channels:i=[]}){let[o,a]=Oe(!1),s=ft(),{state:{currentReply:l}}=rt(Ts),u=ft(r),c=ft(n),f=ft(i);me(()=>{u.current=r},[r]),me(()=>{c.current=n},[n]),me(()=>{f.current=i},[i]),me(()=>{s.current&&s.current.addEventListener("emoji-click",p)},[s.current]);let d=qD({content:t,enableInputRules:!1,editorProps:{attributes:{style:"outline: 0"}},extensions:[hT,QD.extend({addKeyboardShortcuts:()=>({Enter:g=>{let{state:m,commands:v}=g.editor,b=Mt("listItem",m.schema);if(!v.first([w=>{if(m.selection.$anchor.node().textContent.length<=0){let _=ka(S=>Hs(S.type.name,w.editor.extensionManager.extensions))(m.selection);if(_)return w.commands.toggleList(_.node.type,b)}return w.commands.splitListItem(b)}])){let w=g.editor.getHTML();return u.current(w),!0}return!1}})}),zD,GD.configure({HTMLAttributes:{class:$a.editorParagraph}}),fT,IO,WD,KD,HD,UD,VD,dT,rT,YD,PO.configure({keepMarks:!1}),Tp("emoji").configure({HTMLAttributes:{class:"emoji"},renderLabel({options:g,node:m}){return m.attrs.label??m.attrs.id},suggestion:{char:":",items:({query:g})=>Object.entries(MO.default.emoji).map(([v,b])=>({id:v,label:b})).filter(v=>v.id.startsWith(g)).slice(0,10),render:lc}}),Tp("neighbourhood-mention").configure({HTMLAttributes:{class:$a.editorMentions},renderLabel({options:g,node:m}){return`${g.suggestion.char}${m.attrs.label??m.attrs.id}`},suggestion:{char:"#",items:({query:g})=>f.current.filter(m=>m.label.toLowerCase().startsWith(g.toLowerCase())).slice(0,5),render:lc}}),Tp("agent-mention").configure({HTMLAttributes:{class:$a.editorMentions},renderLabel({options:g,node:m}){return`${g.suggestion.char}${m.attrs.label??m.attrs.id}`},suggestion:{char:"@",items:({query:g})=>c.current.filter(m=>m.label.toLowerCase().startsWith(g.toLowerCase())).slice(0,5),render:lc}})],onUpdate:g=>{let m=g.editor.getJSON();e(m)}},[c,f]);me(()=>{d&&t.length===0&&d.commands.setContent(t)},[t]),me(()=>{l&&d.commands.focus()},[l]);function p(g){if(d){let m=d.view.state.selection;d.chain().focus().insertContentAt(m,[{type:"emoji",attrs:{label:g.detail.unicode,id:g.detail.emoji.shortcodes[0],trigger:":"}},{type:"text",text:" "}]).run()}}return h("div",{class:$a.editor},o&&h("div",null,h("j-button",{variant:"ghost",size:"sm",style:{color:d.isActive("bold")?"var(--j-color-primary-500)":"inherit"},onClick:()=>d?.chain().toggleBold().focus().run()},h("j-icon",{size:"sm",name:"type-bold"})),h("j-button",{variant:"ghost",size:"sm",style:{color:d.isActive("italic")?"var(--j-color-primary-500)":"inherit"},onClick:()=>d?.chain().toggleItalic().focus().run()},h("j-icon",{size:"sm",name:"type-italic"})),h("j-button",{variant:"ghost",size:"sm",style:{color:d.isActive("strike")?"var(--j-color-primary-500)":"inherit"},onClick:()=>d?.chain().toggleStrike().focus().run()},h("j-icon",{size:"sm",name:"type-strikethrough"})),h("j-button",{variant:"ghost",size:"sm",style:{color:d.isActive("bulletList")?"var(--j-color-primary-500)":"inherit"},onClick:()=>d?.chain().focus().toggleBulletList().run()},h("j-icon",{size:"sm",name:"list-ul"})),h("j-button",{variant:"ghost",size:"sm",style:{color:d.isActive("orderedList")?"var(--j-color-primary-500)":"inherit"},onClick:()=>d?.chain().focus().toggleOrderedList().run()},h("j-icon",{size:"sm",name:"list-ol"}))),h("div",{class:$a.editorWrapper},h(BD,{class:$a.editorContent,editor:d}),h("j-flex",null,h("j-popover",{placement:"top"},h("j-button",{slot:"trigger",variant:"ghost",size:"sm"},h("j-icon",{size:"sm",name:"emoji-smile"})),h("div",{slot:"content"},h("emoji-picker",{ref:s,onEmojiClick:p}))),h("j-button",{variant:"ghost",size:"sm",onClick:()=>a(!o)},h("j-icon",{size:"sm",name:"type"})),h("j-button",{onClick:()=>u.current(d.getHTML()),variant:"primary",size:"sm",square:!0,circle:!0},h("j-icon",{size:"sm",name:"send"})))))}y();var TH=`._footer_1d9mk_1 {
  position: relative;
  border-top: 1px solid var(--j-border-color);
  padding: var(--j-space-400) var(--j-space-500) var(--j-space-400) var(--j-space-500);
}

._currentReply_1d9mk_7 {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: var(--j-space-400);
  max-height: 200px;
  overflow-y: auto;
}`;document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode(TH));var i_={footer:"_footer_1d9mk_1",currentReply:"_currentReply_1d9mk_7"};function o_(){let{state:{members:t,channels:e,url:r,sourceUrl:n}}=rt(Cu),[i,o]=Oe(""),{state:{keyedMessages:a},methods:{sendMessage:s,sendReply:l}}=rt(fa),{state:{currentReply:u},methods:{setCurrentReply:c}}=rt(Ts),f=a[u],d=t[f?.author]||{};function p(v){v.replace(/( |<([^>]+)>)/gi,"")&&(f?l(v,f.id):s(v),o(""),c(""))}let g=Vo(()=>Object.values(t).map(v=>({label:v.username,id:v.did,trigger:"@"})),[t]),m=Vo(()=>Object.values(e).map(v=>({label:v.name,id:v.id,trigger:"#"})),[e]);return h("footer",{class:i_.footer},u&&h("div",{class:i_.currentReply},h("j-text",{size:"400",nomargin:!0},"Replying to @",d.username),h("j-button",{onClick:()=>c(""),square:!0,circle:!0,size:"xs",variant:"subtle"},h("j-icon",{size:"sm",name:"x"}))),h(n_,{value:i,onChange:o,onSend:p,members:g,channels:m}))}y();y();y();y();var Ip=$r(hn());function OH(t){let e=/(?<=\<span data-neighbourhood=""\>)(.|\n)*?(?=<\/span\>)/gm,r=/<a[^>]+href=\"(.*?)\"[^>]*>(.*)?<\/a>/gm,n=Array.from(t.matchAll(e)),i=Array.from(t.matchAll(r)),o=[],a=[],s=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/;for(let l of n)s.test(l[0])||o.push(l[0]);for(let l of i)a.push(l[1]);return[o,a]}async function FO({message:t,isHidden:e}){try{let[r]=OH(t),n=[];if(!e)for(let i of r){let o=await Ce.expression.get(i),a=JSON.parse(o.data).meta.links,l=(await Ce.perspective.all()).find(u=>u.sharedUrl===i)?.uuid;n.push({type:"neighbourhood",name:Ip.Literal.fromUrl(a.find(di.name)?.data.target).get().data,description:a.find(di.description)?Ip.Literal.fromUrl(a.find(di.description)?.data.target).get().data:"",url:i||"",perspectiveUuid:l})}return n}catch(r){throw new Error(r)}}y();y();var AH=`._message_1st69_1 {
  padding-top: var(--j-space-300);
  padding-bottom: var(--j-space-300);
  padding-left: var(--j-space-500);
  display: grid;
  position: relative;
  grid-template-columns: 60px 1fr;
  column-gap: var(--j-space-100);
}
._message_1st69_1:hover {
  background: rgba(0, 0, 0, 0.02);
}
._message_1st69_1 ._messageAvatar_1st69_13 {
  cursor: pointer;
}
._message_1st69_1 ._timestamp_1st69_16 {
  font-size: var(--j-font-size-300);
  color: var(--j-color-ui-300);
}
._message_1st69_1 ._timestampLeft_1st69_20 {
  font-size: var(--j-font-size-300);
  color: var(--j-color-ui-300);
  opacity: 0;
}
._message_1st69_1:hover ._timestampLeft_1st69_20 {
  opacity: 1;
}
._message_1st69_1 ._chat-view-toolbar_1st69_28 {
  position: absolute;
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  height: 40px;
  background: none;
  -webkit-app-region: drag;
}
._message_1st69_1:hover ._chat-view-toolbar_1st69_28 {
  opacity: 1;
}
._message_1st69_1 ._messageItemContent_1st69_41 p:first-of-type {
  user-select: text !important;
  margin-top: 0;
}
._message_1st69_1 ._messageItemContent_1st69_41 p:first-of-type > span[data-mention*=agent-mention], ._message_1st69_1 ._messageItemContent_1st69_41 p:first-of-type > span[data-neighbourhood=""] {
  cursor: pointer;
  padding: 2px var(--j-space-200);
  border-radius: var(--j-border-radius);
  background: var(--j-color-primary-100);
  color: var(--j-color-primary-700);
}
._message_1st69_1 ._messageItemContent_1st69_41 span {
  user-select: text !important;
}
._message_1st69_1 ._messageItemContent_1st69_41 a {
  user-select: text !important;
}
._message_1st69_1 ._messageItemContent_1st69_41 p:last-of-type {
  user-select: text !important;
  margin-bottom: 0;
}
._message_1st69_1 ._messageItemContent_1st69_41 p:last-of-type > span[data-mention*=agent-mention], ._message_1st69_1 ._messageItemContent_1st69_41 p:last-of-type > span[data-neighbourhood=""] {
  cursor: pointer;
  padding: 2px var(--j-space-200);
  border-radius: var(--j-border-radius);
  background: var(--j-color-primary-100);
  color: var(--j-color-primary-700);
}
._message_1st69_1 ._messageUsername_1st69_69 {
  cursor: pointer;
  color: var(--j-color-black);
  font-size: var(--j-font-size-500);
  font-weight: 400;
}
._message_1st69_1 ._messageUsername_1st69_69:hover {
  text-decoration: underline;
}
._message_1st69_1 ._messageUsernameNoMargin_1st69_78 {
  color: var(--j-color-ui-600);
  font-size: var(--j-font-size-500);
  font-weight: 400;
}

._messageItemHeader_1st69_84 {
  display: flex;
  align-items: center;
  gap: var(--j-space-200);
  margin-bottom: var(--j-space-200);
}

._replyLineWrapper_1st69_91 {
  position: relative;
}

._replyLine_1st69_91 {
  display: block;
  position: absolute;
  top: 5px;
  right: 0;
  width: 70%;
  height: 15px;
  border-left: 2px solid var(--j-color-ui-200);
  border-top: 2px solid var(--j-color-ui-200);
  border-top-left-radius: var(--j-border-radius);
}

._messageFlex_1st69_107 {
  display: flex;
  gap: var(--j-space-200);
  align-items: center;
  margin-bottom: var(--j-space-200);
}

._replyContent_1st69_114 {
  max-height: 15px;
  line-height: 15px;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 12px;
  color: var(--j-color-ui-400);
}

._replyContent_1st69_114 p:first-of-type {
  margin-top: 0;
}

._messageToolbar_1st69_127 {
  display: flex;
  position: absolute;
  z-index: 100;
  background: var(--j-color-white);
  border-radius: var(--j-border-radius);
  box-shadow: var(--j-depth-100);
  top: -10px;
  right: var(--j-space-500);
}

._emojiButton_1st69_138 {
  background: var(--j-color-white);
  color: var(--j-color-black);
  display: flex;
  gap: var(--j-space-200);
  align-items: center;
  cursor: pointer;
  border-radius: var(--j-border-radius);
  border: 1px solid var(--j-color-ui-200);
}

._emojiButtonActive_1st69_149 {
  background-color: var(--j-color-primary-50);
  border: 1px solid var(--j-color-primary-500);
}

j-tooltip::part(base) {
  display: inline;
}

._neighbourhoodCards_1st69_158 {
  background: var(--app-drawer-bg-color);
  padding: 20px;
  margin: 10px 60px 0 10px;
  border-radius: 10px;
  border-left: solid 6px var(--app-main-sidebar-bg-color);
  position: relative;
}

._neighbourhoodCardsClose_1st69_167 {
  position: absolute;
  top: 0;
  right: 30px;
}`;document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode(AH));var jt={message:"_message_1st69_1",messageAvatar:"_messageAvatar_1st69_13",timestamp:"_timestamp_1st69_16",timestampLeft:"_timestampLeft_1st69_20","chat-view-toolbar":"_chat-view-toolbar_1st69_28",messageItemContent:"_messageItemContent_1st69_41",messageUsername:"_messageUsername_1st69_69",messageUsernameNoMargin:"_messageUsernameNoMargin_1st69_78",messageItemHeader:"_messageItemHeader_1st69_84",replyLineWrapper:"_replyLineWrapper_1st69_91",replyLine:"_replyLine_1st69_91",messageFlex:"_messageFlex_1st69_107",replyContent:"_replyContent_1st69_114",messageToolbar:"_messageToolbar_1st69_127",emojiButton:"_emojiButton_1st69_138",emojiButtonActive:"_emojiButtonActive_1st69_149",neighbourhoodCards:"_neighbourhoodCards_1st69_158",neighbourhoodCardsClose:"_neighbourhoodCardsClose_1st69_167"};function a_({onReplyClick:t,onOpenEmojiPicker:e}){return h("div",{class:jt.messageToolbar},h("j-button",{onClick:e,variant:"ghost",size:"sm"},h("j-icon",{size:"sm",name:"emoji-smile"})),h("j-button",{onClick:t,variant:"ghost",size:"sm"},h("j-icon",{size:"sm",name:"reply"})))}y();function IH(t){let e=t.reduce((r,n)=>{let i=r[n.content]||{authors:[],count:0};return{...r,[n.content]:{authors:[...i.authors,n.author],content:n.content,count:i.count+1}}},{});return Object.values(e)}function s_({onEmojiClick:t,reactions:e=[]}){let r=IH(e),{state:n}=rt(Du);return h("div",{style:{display:"flex",gap:"var(--j-space-200)"}},r.map((i,o)=>{let a=i.authors.find(s=>s===n.did)?jt.emojiButtonActive:"";return h("button",{class:`${jt.emojiButton} ${a}`,onClick:()=>t(i.content),key:o},h("span",null,String.fromCodePoint(parseInt(`0x${i.content}`))),h("span",null,i.count))}))}y();y();var PH=`._skeleton_ohgse_1 {
  border-radius: var(--j-border-radius);
  background: linear-gradient(90deg, var(--j-color-ui-100) 0%, var(--j-color-ui-200) 50%, var(--j-color-ui-100) 100%);
  animation: _placeHolderShimmer_ohgse_1 10s linear infinite;
}

._skeleton_ohgse_1._skeletonCircle_ohgse_7 {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  animation: _placeHolderShimmer_ohgse_1 30s linear infinite;
}

@keyframes _placeHolderShimmer_ohgse_1 {
  0% {
    background-position: -500px 0;
  }
  100% {
    background-position: 500px 0;
  }
}`;document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode(PH));var l_={skeleton:"_skeleton_ohgse_1",placeHolderShimmer:"_placeHolderShimmer_ohgse_1",skeletonCircle:"_skeletonCircle_ohgse_7"};function dl({width:t="100%",height:e=20,variant:r="rectangle"}){return h("div",{class:`${l_.skeleton} ${r==="circle"?l_.skeletonCircle:""}`,style:{width:t,height:e}})}y();var u_=({author:t,onProfileClick:e,size:r="large"})=>{let[n,i]=Oe(null);return me(()=>{t.thumbnailPicture&&iE(t.thumbnailPicture).then(o=>i(o)).catch(o=>console.error(o))},[t]),h("j-avatar",{class:jt.messageAvatar,src:n,hash:t?.did,onClick:()=>e(t?.did),style:`--j-avatar-size: ${r==="large"?42:20}px`})};function c_({index:t,showAvatar:e,onOpenEmojiPicker:r,mainRef:n,perspectiveUuid:i}){let[o,a]=Oe(!1),s=ft(null),{state:{members:l}}=rt(Cu),{state:{messages:u,keyedMessages:c},methods:{addReaction:f,removeReaction:d,hideMessageEmbeds:p}}=rt(fa),[g,m]=Oe([]),{state:{currentReply:v},methods:{setCurrentReply:b}}=rt(Ts),{state:E}=rt(Du),w=u[t]||{id:"unknown",url:"",author:"",reactions:[],timestamp:"'1995-12-17T03:24:00'",content:"",replyUrl:""};function _(){b(w.id)}async function S(R){console.log({utf:R});let M=await Vn(),j=w.reactions.find(I=>(console.log({reaction:I,utf:R}),I.author===M.did&&I.content===R));j?d({author:j.author,data:{predicate:qn,target:`emoji://${j.content}`,source:w.id},proof:{invalid:!1,key:"",signature:"",valid:!0},timestamp:j.timestamp}):f(w.id,R)}me(()=>{let R=s.current.querySelectorAll("[data-mention]"),M=s.current.querySelectorAll(".emoji");for(let I of M){let L=I;if(L.parentNode?.nodeName!=="J-TOOLTIP"){var j=document.createElement("j-tooltip");j.title=`:${L.dataset.id}:`,j.classList.add("emojitoolip"),j.placement="top",L.parentNode?.insertBefore(j,L),j.appendChild(L),L.parentNode?.nextSibling?.textContent?.trim().length===0&&L.parentNode?.nextSibling.remove()}}for(let I of R){let L=I;L.addEventListener("click",()=>{if(L.innerText.startsWith("#")){let O=new CustomEvent("perspective-click",{detail:{channel:L.dataset.id},bubbles:!0});n?.dispatchEvent(O)}else if(L.innerText.startsWith("@")){let O=new CustomEvent("agent-click",{detail:{did:L.dataset.id},bubbles:!0});n?.dispatchEvent(O)}})}},[s]);function x(R){let M=new CustomEvent("agent-click",{detail:{did:R},bubbles:!0});n?.dispatchEvent(M)}function k(R){let M=new CustomEvent("perspective-click",{detail:{uuid:R.perspectiveUuid,channel:"Home",link:R},bubbles:!0});n?.dispatchEvent(M)}me(()=>{C()},[w]),me(()=>{C()},[w.isNeighbourhoodCardHidden]);let C=async()=>{let R=await FO({perspectiveUuid:i,messageUrl:w.id,message:w.content,isHidden:w.isNeighbourhoodCardHidden});m(R)},D=l[w.author]||{},T=l[w?.replies[0]?.author]||{},A=w?.replies[0];return h("div",{onMouseOver:()=>a(!0),onMouseLeave:()=>a(!1),class:jt.message,isReplying:c[v]?.id===w.id},A&&h(Fragment,null,h("div",{class:jt.replyLineWrapper},h("div",{class:jt.replyLine})),h("div",{class:jt.messageFlex},h("div",{class:jt.messageFlex,onClick:()=>x(T?.did)},T?.did?h(u_,{author:T,size:"small"}):h(dl,{variant:"circle",width:20,height:20}),T.username?h("div",{class:jt.messageUsernameNoMargin},T?.username):h("div",{style:{marginBottom:5}},h(dl,{width:60,height:20}))),h("div",{class:jt.replyContent,dangerouslySetInnerHTML:{__html:A.content}}))),h("div",null,A||e?h("j-flex",null,D?.did?h(u_,{author:D,onProfileClick:x}):h(dl,{variant:"circle",width:42,height:42})):h("small",{class:jt.timestampLeft,"data-rh":!0,"data-timestamp":po(new Date(w.timestamp),"EEEE, MMMM d, yyyy, HH:MM")},po(new Date(w.timestamp),"HH:MM "))),h("div",null,(A||e)&&h("header",{class:jt.messageItemHeader},D?.username?h("div",{onClick:()=>x(D?.did),class:jt.messageUsername},D?.username):h("div",{style:{marginBottom:5}},h(dl,{width:60,height:20})),h("small",{class:jt.timestamp,"data-rh":!0,"data-timestamp":po(new Date(w.timestamp),"EEEE, MMMM d, yyyy, hh:mm b")},pd(new Date(w.timestamp),new Date))),h("div",{ref:s,class:jt.messageItemContent,dangerouslySetInnerHTML:{__html:w.content}}),w.reactions.length>0&&h("j-box",{pt:"400"},h(s_,{onEmojiClick:S,reactions:w.reactions})),g.length>0&&h("div",{style:{position:"relative"}},g.map(R=>h("div",{class:jt.neighbourhoodCards,size:"300",onClick:()=>k(R)},h("j-text",{variant:"footnote"},"Neighbourhood"),h("j-text",null,R.name),R.description&&R.description!=="-"&&h("j-text",null,R.description))),E.did===w.author&&h("div",{class:jt.neighbourhoodCardsClose,onClick:()=>p(w.id)},h("j-icon",{name:"x"})))),h("div",null,o&&h(a_,{onReplyClick:_,onOpenEmojiPicker:r})))}y();y();y();var Pp=0,Fo=1,pl=2,jO=4;function hl(t,e){return function(r){return t(e(r))}}function MH(t,e){return e(t)}function f_(t,e){return function(r){return t(e,r)}}function d_(t,e){return function(){return t(e)}}function ml(t,e){return e(t),t}function ht(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e}function FH(t){t()}function p_(t){return function(){return t}}function jH(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(){e.map(FH)}}function jo(){}function Be(t,e){return t(Fo,e)}function Ue(t,e){t(Pp,e)}function Mp(t){t(pl)}function cn(t){return t(jO)}function ce(t,e){return Be(t,f_(e,Pp))}function Ro(t,e){var r=t(Fo,function(n){r(),e(n)});return r}function pe(){var t=[];return function(e,r){switch(e){case pl:t.splice(0,t.length);return;case Fo:return t.push(r),function(){var n=t.indexOf(r);n>-1&&t.splice(n,1)};case Pp:t.slice().forEach(function(n){n(r)});return;default:throw new Error("unrecognized action "+e)}}}function X(t){var e=t,r=pe();return function(n,i){switch(n){case Fo:var o=i;o(e);break;case Pp:e=i;break;case jO:return e}return r(n,i)}}function RO(t){var e,r,n=function(){return e&&e()};return function(i,o){switch(i){case Fo:return o?r===o?void 0:(n(),r=o,e=Be(t,o),e):(n(),jo);case pl:n(),r=null;return;default:throw new Error("unrecognized action "+i)}}}function Nr(t){return ml(pe(),function(e){return ce(t,e)})}function vr(t,e){return ml(X(e),function(r){return ce(t,r)})}function RH(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return e.reduceRight(MH,n)}}function G(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=RH.apply(void 0,r);return function(o,a){switch(o){case Fo:return Be(t,i(a));case pl:Mp(t);return;default:throw new Error("unrecognized action "+o)}}}function NO(t,e){return t===e}function _t(t){t===void 0&&(t=NO);var e;return function(r){return function(n){t(e,n)||(e=n,r(n))}}}function Te(t){return function(e){return function(r){t(r)&&e(r)}}}function re(t){return function(e){return hl(e,t)}}function qi(t){return function(e){return function(){return e(t)}}}function Jn(t,e){return function(r){return function(n){return r(e=t(e,n))}}}function hc(t){return function(e){return function(r){t>0?t--:e(r)}}}function Ba(t){var e,r;return function(n){return function(i){e=i,!r&&(r=setTimeout(function(){r=void 0,n(e)},t))}}}function h_(t){var e,r;return function(n){return function(i){e=i,r&&clearTimeout(r),r=setTimeout(function(){n(e)},t)}}}function Me(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=new Array(e.length),i=0,o=null,a=Math.pow(2,e.length)-1;return e.forEach(function(s,l){var u=Math.pow(2,l);Be(s,function(c){var f=i;i=i|u,n[l]=c,f!==a&&i===a&&o&&(o(),o=null)})}),function(s){return function(l){var u=function(){return s([l].concat(n))};i===a?u():o=u}}}function m_(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n,i){switch(n){case Fo:return jH.apply(void 0,e.map(function(o){return Be(o,i)}));case pl:return;default:throw new Error("unrecognized action "+n)}}}function Fe(t,e){return e===void 0&&(e=NO),G(t,_t(e))}function lr(){for(var t=pe(),e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=new Array(r.length),o=0,a=Math.pow(2,r.length)-1;return r.forEach(function(s,l){var u=Math.pow(2,l);Be(s,function(c){i[l]=c,o=o|u,o===a&&Ue(t,i)})}),function(s,l){switch(s){case Fo:return o===a&&l(i),Be(t,l);case pl:return Mp(t);default:throw new Error("unrecognized action "+s)}}}function ze(t,e,r){e===void 0&&(e=[]);var n=r===void 0?{singleton:!0}:r,i=n.singleton;return{id:NH(),constructor:t,dependencies:e,singleton:i}}var NH=function(){return Symbol()};function LO(t){var e=new Map,r=function n(i){var o=i.id,a=i.constructor,s=i.dependencies,l=i.singleton;if(l&&e.has(o))return e.get(o);var u=a(s.map(function(c){return n(c)}));return l&&e.set(o,u),u};return r(t)}function LH(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function $H(t,e){if(!!t){if(typeof t=="string")return $O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $O(t,e)}}function $O(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g_(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=$H(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var BH=["children"];function qH(t,e){for(var r={},n={},i=0,o=t.length;i<o;)n[t[i]]=1,i+=1;for(var a in e)n.hasOwnProperty(a)||(r[a]=e[a]);return r}var Fp=typeof document!="undefined"?ai:me;function jp(t,e,r){var n=Object.keys(e.required||{}),i=Object.keys(e.optional||{}),o=Object.keys(e.methods||{}),a=Object.keys(e.events||{}),s=rr({});function l(m,v){m.propsReady&&Ue(m.propsReady,!1);for(var b=g_(n),E;!(E=b()).done;){var w=E.value,_=m[e.required[w]];Ue(_,v[w])}for(var S=g_(i),x;!(x=S()).done;){var k=x.value;if(k in v){var C=m[e.optional[k]];Ue(C,v[k])}}m.propsReady&&Ue(m.propsReady,!0)}function u(m){return o.reduce(function(v,b){return v[b]=function(E){var w=m[e.methods[b]];Ue(w,E)},v},{})}function c(m){return a.reduce(function(v,b){return v[b]=RO(m[e.events[b]]),v},{})}var f=dh(function(m,v){var b=m.children,E=LH(m,BH),w=Oe(function(){return ml(LO(t),function(k){return l(k,E)})}),_=w[0],S=Oe(d_(c,_)),x=S[0];return Fp(function(){for(var k=g_(a),C;!(C=k()).done;){var D=C.value;D in E&&Be(x[D],E[D])}return function(){Object.values(x).map(Mp)}},[E,x,_]),Fp(function(){l(_,E)}),zc(v,p_(u(_))),h(s.Provider,{value:_},r?h(r,qH([].concat(n,i,a),E),b):b)}),d=function(v){return Wi(f_(Ue,rt(s)[v]),[v])},p=function(v){var b=rt(s),E=b[v],w=Oe(d_(cn,E)),_=w[0],S=w[1];return Fp(function(){return Be(E,function(x){x!==_&&S(p_(x))})},[E,_]),_},g=function(v,b){var E=rt(s),w=E[v];Fp(function(){return Be(w,b)},[b,w])};return{Component:f,usePublisher:d,useEmitterValue:p,useEmitter:g}}function we(){return we=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},we.apply(this,arguments)}function gl(t,e){if(t==null)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)e.indexOf(r=o[n])>=0||(i[r]=t[r]);return i}function BO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qa(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(i,o){if(i){if(typeof i=="string")return BO(i,o);var a=Object.prototype.toString.call(i).slice(8,-1);return a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set"?Array.from(i):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?BO(i,o):void 0}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mc,Vt,VH=typeof document!="undefined"?ai:me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR"})(Vt||(Vt={}));var UH=((mc={})[Vt.DEBUG]="debug",mc[Vt.INFO]="log",mc[Vt.WARN]="warn",mc[Vt.ERROR]="error",mc),No=ze(function(){var t=X(Vt.ERROR);return{log:X(function(e,r,n){var i;n===void 0&&(n=Vt.INFO),n>=((i=(typeof globalThis=="undefined"?window:globalThis).VIRTUOSO_LOG_LEVEL)!=null?i:cn(t))&&console[UH[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",e,r)}),logLevel:t}},[],{singleton:!0});function y_(t,e){e===void 0&&(e=!0);var r=ft(null),n=function(o){};if(typeof ResizeObserver!="undefined"){var i=new ResizeObserver(function(o){var a=o[0].target;a.offsetParent!==null&&t(a)});n=function(o){o&&e?(i.observe(o),r.current=o):(r.current&&i.unobserve(r.current),r.current=null)}}return{ref:r,callbackRef:n}}function Lo(t,e){return e===void 0&&(e=!0),y_(t,e).callbackRef}function qO(t,e,r,n,i,o,a){return y_(function(s){for(var l=function(g,m,v,b){var E=g.length;if(E===0)return null;for(var w=[],_=0;_<E;_++){var S=g.item(_);if(S&&S.dataset.index!==void 0){var x=parseInt(S.dataset.index),k=parseFloat(S.dataset.knownSize),C=m(S,"offsetHeight");if(C===0&&b("Zero-sized element, this should not happen",{child:S},Vt.ERROR),C!==k){var D=w[w.length-1];w.length===0||D.size!==C||D.endIndex!==x-1?w.push({startIndex:x,endIndex:x,size:C}):w[w.length-1].endIndex++}}}return w}(s.children,e,0,i),u=s.parentElement;!u.dataset.virtuosoScroller;)u=u.parentElement;var c=u.firstElementChild.dataset.viewportType==="window",f=a?a.scrollTop:c?window.pageYOffset||document.documentElement.scrollTop:u.scrollTop,d=a?a.scrollHeight:c?document.documentElement.scrollHeight:u.scrollHeight,p=a?a.offsetHeight:c?window.innerHeight:u.offsetHeight;n({scrollTop:Math.max(f,0),scrollHeight:d,viewportHeight:p}),o==null||o(function(g,m,v){return m==="normal"||m!=null&&m.endsWith("px")||v("row-gap was not resolved to pixel value correctly",m,Vt.WARN),m==="normal"?0:parseInt(m??"0",10)}(0,getComputedStyle(s).rowGap,i)),l!==null&&t(l)},r)}function Vi(t,e){return Math.round(t.getBoundingClientRect()[e])}function VO(t,e){return Math.abs(t-e)<1.01}function UO(t,e,r,n,i){n===void 0&&(n=jo);var o=ft(null),a=ft(null),s=ft(null),l=ft(!1),u=Wi(function(c){var f=c.target,d=f===window||f===document,p=d?window.pageYOffset||document.documentElement.scrollTop:f.scrollTop,g=d?document.documentElement.scrollHeight:f.scrollHeight,m=d?window.innerHeight:f.offsetHeight,v=function(){t({scrollTop:Math.max(p,0),scrollHeight:g,viewportHeight:m})};l.current?Ya(v):v(),l.current=!1,a.current!==null&&(p===a.current||p<=0||p===g-m)&&(a.current=null,e(!0),s.current&&(clearTimeout(s.current),s.current=null))},[t,e]);return me(function(){var c=i||o.current;return n(i||o.current),u({target:c}),c.addEventListener("scroll",u,{passive:!0}),function(){n(null),c.removeEventListener("scroll",u)}},[o,u,r,n,i]),{scrollerRef:o,scrollByCallback:function(c){l.current=!0,o.current.scrollBy(c)},scrollToCallback:function(c){var f=o.current;if(f&&(!("offsetHeight"in f)||f.offsetHeight!==0)){var d,p,g,m=c.behavior==="smooth";if(f===window?(p=Math.max(Vi(document.documentElement,"height"),document.documentElement.scrollHeight),d=window.innerHeight,g=document.documentElement.scrollTop):(p=f.scrollHeight,d=Vi(f,"height"),g=f.scrollTop),c.top=Math.ceil(Math.max(Math.min(p-d,c.top),0)),VO(d,p)||c.top===g)return t({scrollTop:g,scrollHeight:p,viewportHeight:d}),void(m&&e(!0));m?(a.current=c.top,s.current&&clearTimeout(s.current),s.current=setTimeout(function(){s.current=null,a.current=null,e(!0)},1e3)):a.current=null,f.scrollTo(c)}}}}var Lr=ze(function(){var t=pe(),e=pe(),r=X(0),n=pe(),i=X(0),o=pe(),a=pe(),s=X(0),l=X(0),u=X(0),c=X(0),f=pe(),d=pe(),p=X(!1),g=X(!1);return ce(G(t,re(function(m){return m.scrollTop})),e),ce(G(t,re(function(m){return m.scrollHeight})),a),ce(e,i),{scrollContainerState:t,scrollTop:e,viewportHeight:o,headerHeight:s,fixedHeaderHeight:l,fixedFooterHeight:u,footerHeight:c,scrollHeight:a,smoothScrollTargetReached:n,react18ConcurrentRendering:g,scrollTo:f,scrollBy:d,statefulScrollTop:i,deviation:r,scrollingInProgress:p}},[],{singleton:!0}),gc={lvl:0};function zO(t,e,r,n,i){return n===void 0&&(n=gc),i===void 0&&(i=gc),{k:t,v:e,lvl:r,l:n,r:i}}function mt(t){return t===gc}function yc(){return gc}function v_(t,e){if(mt(t))return gc;var r=t.k,n=t.l,i=t.r;if(e===r){if(mt(n))return i;if(mt(i))return n;var o=HO(n);return x_(ur(t,{k:o[0],v:o[1],l:WO(n)}))}return x_(ur(t,e<r?{l:v_(n,e)}:{r:v_(i,e)}))}function Xn(t,e,r){if(r===void 0&&(r="k"),mt(t))return[-1/0,void 0];if(t[r]===e)return[t.k,t.v];if(t[r]<e){var n=Xn(t.r,e,r);return n[0]===-1/0?[t.k,t.v]:n}return Xn(t.l,e,r)}function Zn(t,e,r){return mt(t)?zO(e,r,1):e===t.k?ur(t,{k:e,v:r}):function(n){return S_(GO(n))}(ur(t,e<t.k?{l:Zn(t.l,e,r)}:{r:Zn(t.r,e,r)}))}function b_(t,e,r){if(mt(t))return[];var n=t.k,i=t.v,o=t.r,a=[];return n>e&&(a=a.concat(b_(t.l,e,r))),n>=e&&n<=r&&a.push({k:n,v:i}),n<=r&&(a=a.concat(b_(o,e,r))),a}function Rp(t){return mt(t)?[]:[].concat(Rp(t.l),[{k:t.k,v:t.v}],Rp(t.r))}function HO(t){return mt(t.r)?[t.k,t.v]:HO(t.r)}function WO(t){return mt(t.r)?t.l:x_(ur(t,{r:WO(t.r)}))}function ur(t,e){return zO(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function w_(t){return mt(t)||t.lvl>t.r.lvl}function x_(t){var e=t.l,r=t.r,n=t.lvl;if(r.lvl>=n-1&&e.lvl>=n-1)return t;if(n>r.lvl+1){if(w_(e))return GO(ur(t,{lvl:n-1}));if(mt(e)||mt(e.r))throw new Error("Unexpected empty nodes");return ur(e.r,{l:ur(e,{r:e.r.l}),r:ur(t,{l:e.r.r,lvl:n-1}),lvl:n})}if(w_(t))return S_(ur(t,{lvl:n-1}));if(mt(r)||mt(r.l))throw new Error("Unexpected empty nodes");var i=r.l,o=w_(i)?r.lvl-1:r.lvl;return ur(i,{l:ur(t,{r:i.l,lvl:n-1}),r:S_(ur(r,{l:i.r,lvl:o})),lvl:i.lvl+1})}function Np(t,e,r){return mt(t)?[]:KO(b_(t,Xn(t,e)[0],r),function(n){return{index:n.k,value:n.v}})}function KO(t,e){var r=t.length;if(r===0)return[];for(var n=e(t[0]),i=n.index,o=n.value,a=[],s=1;s<r;s++){var l=e(t[s]),u=l.index,c=l.value;a.push({start:i,end:u-1,value:o}),i=u,o=c}return a.push({start:i,end:1/0,value:o}),a}function S_(t){var e=t.r,r=t.lvl;return mt(e)||mt(e.r)||e.lvl!==r||e.r.lvl!==r?t:ur(e,{l:ur(t,{r:e.l}),lvl:r+1})}function GO(t){var e=t.l;return mt(e)||e.lvl!==t.lvl?t:ur(e,{r:ur(t,{l:e.r})})}function Lp(t,e,r,n){n===void 0&&(n=0);for(var i=t.length-1;n<=i;){var o=Math.floor((n+i)/2),a=r(t[o],e);if(a===0)return o;if(a===-1){if(i-n<2)return o-1;i=o-1}else{if(i===n)return o;n=o+1}}throw new Error("Failed binary finding record in array - "+t.join(",")+", searched for "+e)}function QO(t,e,r){return t[Lp(t,e,r)]}var E_=ze(function(){return{recalcInProgress:X(!1)}},[],{singleton:!0});function zH(t){var e=t.size,r=t.startIndex,n=t.endIndex;return function(i){return i.start===r&&(i.end===n||i.end===1/0)&&i.value===e}}function k_(t,e){var r=t.index;return e===r?0:e<r?-1:1}function HH(t,e){var r=t.offset;return e===r?0:e<r?-1:1}function WH(t){return{index:t.index,value:t}}function YO(t,e,r,n){var i=t,o=0,a=0,s=0,l=0;if(e!==0){s=i[l=Lp(i,e-1,k_)].offset;var u=Xn(r,e-1);o=u[0],a=u[1],i.length&&i[l].size===Xn(r,e)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(var c,f=qa(Np(r,e,1/0));!(c=f()).done;){var d=c.value,p=d.start,g=d.value,m=p-o,v=m*a+s+m*n;i.push({offset:v,size:g,index:p}),o=p,s=v,a=g}return{offsetTree:i,lastIndex:o,lastOffset:s,lastSize:a}}function KH(t,e){var r=e[0],n=e[1],i=e[3];r.length>0&&(0,e[2])("received item sizes",r,Vt.DEBUG);var o=t.sizeTree,a=o,s=0;if(n.length>0&&mt(o)&&r.length===2){var l=r[0].size,u=r[1].size;a=n.reduce(function(p,g){return Zn(Zn(p,g,l),g+1,u)},a)}else{var c=function(p,g){for(var m,v=mt(p)?0:1/0,b=qa(g);!(m=b()).done;){var E=m.value,w=E.size,_=E.startIndex,S=E.endIndex;if(v=Math.min(v,_),mt(p))p=Zn(p,0,w);else{var x=Np(p,_-1,S+1);if(!x.some(zH(E))){for(var k,C=!1,D=!1,T=qa(x);!(k=T()).done;){var A=k.value,R=A.start,M=A.end,j=A.value;C?(S>=R||w===j)&&(p=v_(p,R)):(D=j!==w,C=!0),M>S&&S>=R&&j!==w&&(p=Zn(p,S+1,j))}D&&(p=Zn(p,_,w))}}}return[p,v]}(a,r);a=c[0],s=c[1]}if(a===o)return t;var f=YO(t.offsetTree,s,a,i),d=f.offsetTree;return{sizeTree:a,offsetTree:d,lastIndex:f.lastIndex,lastOffset:f.lastOffset,lastSize:f.lastSize,groupOffsetTree:n.reduce(function(p,g){return Zn(p,g,vc(g,d,i))},yc()),groupIndices:n}}function vc(t,e,r){if(e.length===0)return 0;var n=QO(e,t,k_),i=t-n.index,o=n.size*i+(i-1)*r+n.offset;return o>0?o+r:o}function JO(t,e,r){if(function(i){return i.groupIndex!==void 0}(t))return e.groupIndices[t.groupIndex]+1;var n=XO(t.index==="LAST"?r:t.index,e);return Math.max(0,n,Math.min(r,n))}function XO(t,e){if(!$p(e))return t;for(var r=0;e.groupIndices[r]<=t+r;)r++;return t+r}function $p(t){return!mt(t.groupOffsetTree)}var GH={offsetHeight:"height",offsetWidth:"width"},Ui=ze(function(t){var e=t[0].log,r=t[1].recalcInProgress,n=pe(),i=pe(),o=vr(i,0),a=pe(),s=pe(),l=X(0),u=X([]),c=X(void 0),f=X(void 0),d=X(function(S,x){return Vi(S,GH[x])}),p=X(void 0),g=X(0),m={offsetTree:[],sizeTree:yc(),groupOffsetTree:yc(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},v=vr(G(n,Me(u,e,g),Jn(KH,m),_t()),m);ce(G(u,Te(function(S){return S.length>0}),Me(v,g),re(function(S){var x=S[0],k=S[1],C=S[2],D=x.reduce(function(T,A,R){return Zn(T,A,vc(A,k.offsetTree,C)||R)},yc());return we({},k,{groupIndices:x,groupOffsetTree:D})})),v),ce(G(i,Me(v),Te(function(S){return S[0]<S[1].lastIndex}),re(function(S){var x=S[1];return[{startIndex:S[0],endIndex:x.lastIndex,size:x.lastSize}]})),n),ce(c,f);var b=vr(G(c,re(function(S){return S===void 0})),!0);ce(G(f,Te(function(S){return S!==void 0&&mt(cn(v).sizeTree)}),re(function(S){return[{startIndex:0,endIndex:0,size:S}]})),n);var E=Nr(G(n,Me(v),Jn(function(S,x){var k=x[1];return{changed:k!==S.sizes,sizes:k}},{changed:!1,sizes:m}),re(function(S){return S.changed})));Be(G(l,Jn(function(S,x){return{diff:S.prev-x,prev:x}},{diff:0,prev:0}),re(function(S){return S.diff})),function(S){S>0?(Ue(r,!0),Ue(a,S)):S<0&&Ue(s,S)}),Be(G(l,Me(e)),function(S){S[0]<0&&(0,S[1])("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},Vt.ERROR)});var w=Nr(a);ce(G(a,Me(v),re(function(S){var x=S[0],k=S[1];if(k.groupIndices.length>0)throw new Error("Virtuoso: prepending items does not work with groups");return Rp(k.sizeTree).reduce(function(C,D){var T=D.k,A=D.v;return{ranges:[].concat(C.ranges,[{startIndex:C.prevIndex,endIndex:T+x-1,size:C.prevSize}]),prevIndex:T+x,prevSize:A}},{ranges:[],prevIndex:0,prevSize:k.lastSize}).ranges})),n);var _=Nr(G(s,Me(v,g),re(function(S){return vc(-S[0],S[1].offsetTree,S[2])})));return ce(G(s,Me(v,g),re(function(S){var x=S[0],k=S[1],C=S[2];if(k.groupIndices.length>0)throw new Error("Virtuoso: shifting items does not work with groups");var D=Rp(k.sizeTree).reduce(function(T,A){var R=A.v;return Zn(T,Math.max(0,A.k+x),R)},yc());return we({},k,{sizeTree:D},YO(k.offsetTree,0,D,C))})),v),{data:p,totalCount:i,sizeRanges:n,groupIndices:u,defaultItemSize:f,fixedItemSize:c,unshiftWith:a,shiftWith:s,shiftWithOffset:_,beforeUnshiftWith:w,firstItemIndex:l,gap:g,sizes:v,listRefresh:E,statefulTotalCount:o,trackItemSizes:b,itemSize:d}},ht(No,E_),{singleton:!0}),QH=typeof document!="undefined"&&"scrollBehavior"in document.documentElement.style;function ZO(t){var e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),e.behavior&&QH||(e.behavior="auto"),e.offset||(e.offset=0),e}var _c=ze(function(t){var e=t[0],r=e.sizes,n=e.totalCount,i=e.listRefresh,o=e.gap,a=t[1],s=a.scrollingInProgress,l=a.viewportHeight,u=a.scrollTo,c=a.smoothScrollTargetReached,f=a.headerHeight,d=a.footerHeight,p=a.fixedHeaderHeight,g=a.fixedFooterHeight,m=t[2].log,v=pe(),b=X(0),E=null,w=null,_=null;function S(){E&&(E(),E=null),_&&(_(),_=null),w&&(clearTimeout(w),w=null),Ue(s,!1)}return ce(G(v,Me(r,l,n,b,f,d,m),Me(o,p,g),re(function(x){var k=x[0],C=k[0],D=k[1],T=k[2],A=k[3],R=k[4],M=k[5],j=k[6],I=k[7],L=x[1],O=x[2],$=x[3],q=ZO(C),V=q.align,U=q.behavior,K=q.offset,fe=A-1,ve=JO(q,D,fe),se=vc(ve,D.offsetTree,L)+M;V==="end"?(se+=O+Xn(D.sizeTree,ve)[1]-T+$,ve===fe&&(se+=j)):V==="center"?se+=(O+Xn(D.sizeTree,ve)[1]-T+$)/2:se-=R,K&&(se+=K);var ye=function(Le){S(),Le?(I("retrying to scroll to",{location:C},Vt.DEBUG),Ue(v,C)):I("list did not change, scroll successful",{},Vt.DEBUG)};if(S(),U==="smooth"){var Xe=!1;_=Be(i,function(Le){Xe=Xe||Le}),E=Ro(c,function(){ye(Xe)})}else E=Ro(G(i,function(Le){var bt=setTimeout(function(){Le(!1)},150);return function(je){je&&(Le(!0),clearTimeout(bt))}}),ye);return w=setTimeout(function(){S()},1200),Ue(s,!0),I("scrolling from index to",{index:ve,top:se,behavior:U},Vt.DEBUG),{top:se,behavior:U}})),u),{scrollToIndex:v,topListHeight:b}},ht(Ui,Lr,No),{singleton:!0}),bc="up",YH={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},wc=ze(function(t){var e=t[0],r=e.scrollContainerState,n=e.scrollTop,i=e.viewportHeight,o=e.headerHeight,a=e.footerHeight,s=e.scrollBy,l=X(!1),u=X(!0),c=pe(),f=pe(),d=X(4),p=X(0),g=vr(G(m_(G(Fe(n),hc(1),qi(!0)),G(Fe(n),hc(1),qi(!1),h_(100))),_t()),!1),m=vr(G(m_(G(s,qi(!0)),G(s,qi(!1),h_(200))),_t()),!1);ce(G(lr(Fe(n),Fe(p)),re(function(_){return _[0]<=_[1]}),_t()),u),ce(G(u,Ba(50)),f);var v=Nr(G(lr(r,Fe(i),Fe(o),Fe(a),Fe(d)),Jn(function(_,S){var x,k,C=S[0],D=C.scrollTop,T=C.scrollHeight,A=S[1],R={viewportHeight:A,scrollTop:D,scrollHeight:T};return D+A-T>-S[4]?(D>_.state.scrollTop?(x="SCROLLED_DOWN",k=_.state.scrollTop-D):(x="SIZE_DECREASED",k=_.state.scrollTop-D||_.scrollTopDelta),{atBottom:!0,state:R,atBottomBecause:x,scrollTopDelta:k}):{atBottom:!1,notAtBottomBecause:R.scrollHeight>_.state.scrollHeight?"SIZE_INCREASED":A<_.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":D<_.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:R}},YH),_t(function(_,S){return _&&_.atBottom===S.atBottom}))),b=vr(G(r,Jn(function(_,S){var x=S.scrollTop,k=S.scrollHeight,C=S.viewportHeight;return VO(_.scrollHeight,k)?{scrollTop:x,scrollHeight:k,jump:0,changed:!1}:_.scrollTop!==x&&k-(x+C)<1?{scrollHeight:k,scrollTop:x,jump:_.scrollTop-x,changed:!0}:{scrollHeight:k,scrollTop:x,jump:0,changed:!0}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),Te(function(_){return _.changed}),re(function(_){return _.jump})),0);ce(G(v,re(function(_){return _.atBottom})),l),ce(G(l,Ba(50)),c);var E=X("down");ce(G(r,re(function(_){return _.scrollTop}),_t(),Jn(function(_,S){return cn(m)?{direction:_.direction,prevScrollTop:S}:{direction:S<_.prevScrollTop?bc:"down",prevScrollTop:S}},{direction:"down",prevScrollTop:0}),re(function(_){return _.direction})),E),ce(G(r,Ba(50),qi("none")),E);var w=X(0);return ce(G(g,Te(function(_){return!_}),qi(0)),w),ce(G(n,Ba(100),Me(g),Te(function(_){return!!_[1]}),Jn(function(_,S){return[_[1],S[0]]},[0,0]),re(function(_){return _[1]-_[0]})),w),{isScrolling:g,isAtTop:u,isAtBottom:l,atBottomState:v,atTopStateChange:f,atBottomStateChange:c,scrollDirection:E,atBottomThreshold:d,atTopThreshold:p,scrollVelocity:w,lastJumpDueToItemResize:b}},ht(Lr)),Va=ze(function(t){var e=t[0].log,r=X(!1),n=Nr(G(r,Te(function(i){return i}),_t()));return Be(r,function(i){i&&cn(e)("props updated",{},Vt.DEBUG)}),{propsReady:r,didMount:n}},ht(No),{singleton:!0}),C_=ze(function(t){var e=t[0],r=e.sizes,n=e.listRefresh,i=e.defaultItemSize,o=t[1].scrollTop,a=t[2].scrollToIndex,s=t[3].didMount,l=X(!0),u=X(0);return ce(G(s,Me(u),Te(function(c){return!!c[1]}),qi(!1)),l),Be(G(lr(n,s),Me(l,r,i),Te(function(c){var f=c[1],d=c[3];return c[0][1]&&(!mt(c[2].sizeTree)||d!==void 0)&&!f}),Me(u)),function(c){var f=c[1];setTimeout(function(){Ro(o,function(){Ue(l,!0)}),Ue(a,f)})}),{scrolledToInitialItem:l,initialTopMostItemIndex:u}},ht(Ui,Lr,_c,Va),{singleton:!0});function eA(t){return!!t&&(t==="smooth"?"smooth":"auto")}var JH=ze(function(t){var e=t[0],r=e.totalCount,n=e.listRefresh,i=t[1],o=i.isAtBottom,a=i.atBottomState,s=t[2].scrollToIndex,l=t[3].scrolledToInitialItem,u=t[4],c=u.propsReady,f=u.didMount,d=t[5].log,p=t[6].scrollingInProgress,g=X(!1),m=pe(),v=null;function b(w){Ue(s,{index:"LAST",align:"end",behavior:w})}function E(w){var _=Ro(a,function(S){!w||S.atBottom||S.notAtBottomBecause!=="SIZE_INCREASED"||v||(cn(d)("scrolling to bottom due to increased size",{},Vt.DEBUG),b("auto"))});setTimeout(_,100)}return Be(G(lr(G(Fe(r),hc(1)),f),Me(Fe(g),o,l,p),re(function(w){var _=w[0],S=_[0],x=_[1]&&w[3],k="auto";return x&&(k=function(C,D){return typeof C=="function"?eA(C(D)):D&&eA(C)}(w[1],w[2]||w[4]),x=x&&!!k),{totalCount:S,shouldFollow:x,followOutputBehavior:k}}),Te(function(w){return w.shouldFollow})),function(w){var _=w.totalCount,S=w.followOutputBehavior;v&&(v(),v=null),v=Ro(n,function(){cn(d)("following output to ",{totalCount:_},Vt.DEBUG),b(S),v=null})}),Be(G(lr(Fe(g),r,c),Te(function(w){return w[0]&&w[2]}),Jn(function(w,_){var S=_[1];return{refreshed:w.value===S,value:S}},{refreshed:!1,value:0}),Te(function(w){return w.refreshed}),Me(g,r)),function(w){E(w[1]!==!1)}),Be(m,function(){E(cn(g)!==!1)}),Be(lr(Fe(g),a),function(w){var _=w[1];w[0]&&!_.atBottom&&_.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&b("auto")}),{followOutput:g,autoscrollToBottom:m}},ht(Ui,wc,_c,C_,Va,No,Lr));function XH(t){return t.reduce(function(e,r){return e.groupIndices.push(e.totalCount),e.totalCount+=r+1,e},{totalCount:0,groupIndices:[]})}var tA=ze(function(t){var e=t[0],r=e.totalCount,n=e.groupIndices,i=e.sizes,o=t[1],a=o.scrollTop,s=o.headerHeight,l=pe(),u=pe(),c=Nr(G(l,re(XH)));return ce(G(c,re(function(f){return f.totalCount})),r),ce(G(c,re(function(f){return f.groupIndices})),n),ce(G(lr(a,i,s),Te(function(f){return $p(f[1])}),re(function(f){return Xn(f[1].groupOffsetTree,Math.max(f[0]-f[2],0),"v")[0]}),_t(),re(function(f){return[f]})),u),{groupCounts:l,topItemsIndexes:u}},ht(Ui,Lr));function xc(t,e){return!(!t||t[0]!==e[0]||t[1]!==e[1])}function rA(t,e){return!(!t||t.startIndex!==e.startIndex||t.endIndex!==e.endIndex)}function nA(t,e,r){return typeof t=="number"?r===bc&&e==="top"||r==="down"&&e==="bottom"?t:0:r===bc?e==="top"?t.main:t.reverse:e==="bottom"?t.main:t.reverse}function iA(t,e){return typeof t=="number"?t:t[e]||0}var D_=ze(function(t){var e=t[0],r=e.scrollTop,n=e.viewportHeight,i=e.deviation,o=e.headerHeight,a=e.fixedHeaderHeight,s=pe(),l=X(0),u=X(0),c=X(0),f=vr(G(lr(Fe(r),Fe(n),Fe(o),Fe(s,xc),Fe(c),Fe(l),Fe(a),Fe(i),Fe(u)),re(function(d){var p=d[0],g=d[1],m=d[2],v=d[3],b=v[0],E=v[1],w=d[4],_=d[6],S=d[7],x=d[8],k=p-S,C=d[5]+_,D=Math.max(m-k,0),T="none",A=iA(x,"top"),R=iA(x,"bottom");return b-=S,E+=m+_,(b+=m+_)>p+C-A&&(T=bc),(E-=S)<p-D+g+R&&(T="down"),T!=="none"?[Math.max(k-m-nA(w,"top",T)-A,0),k-D-_+g+nA(w,"bottom",T)+R]:null}),Te(function(d){return d!=null}),_t(xc)),[0,0]);return{listBoundary:s,overscan:c,topListHeight:l,increaseViewportBy:u,visibleRange:f}},ht(Lr),{singleton:!0}),oA={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function aA(t,e,r){if(t.length===0)return[];if(!$p(e))return t.map(function(c){return we({},c,{index:c.index+r,originalIndex:c.index})});for(var n,i=[],o=Np(e.groupOffsetTree,t[0].index,t[t.length-1].index),a=void 0,s=0,l=qa(t);!(n=l()).done;){var u=n.value;(!a||a.end<u.index)&&(a=o.shift(),s=e.groupIndices.indexOf(a.start)),i.push(we({},u.index===a.start?{type:"group",index:s}:{index:u.index-(s+1)+r,groupIndex:s},{size:u.size,offset:u.offset,originalIndex:u.index,data:u.data}))}return i}function Bp(t,e,r,n,i,o){var a=0,s=0;if(t.length>0){a=t[0].offset;var l=t[t.length-1];s=l.offset+l.size}var u=r-i.lastIndex,c=a,f=i.lastOffset+u*i.lastSize+(u-1)*n-s;return{items:aA(t,i,o),topItems:aA(e,i,o),topListHeight:e.reduce(function(d,p){return p.size+d},0),offsetTop:a,offsetBottom:f,top:c,bottom:s,totalCount:r,firstItemIndex:o}}var yl=ze(function(t){var e=t[0],r=e.sizes,n=e.totalCount,i=e.data,o=e.firstItemIndex,a=e.gap,s=t[1],l=t[2],u=l.visibleRange,c=l.listBoundary,f=l.topListHeight,d=t[3],p=d.scrolledToInitialItem,g=d.initialTopMostItemIndex,m=t[4].topListHeight,v=t[5],b=t[6].didMount,E=t[7].recalcInProgress,w=X([]),_=pe();ce(s.topItemsIndexes,w);var S=vr(G(lr(b,E,Fe(u,xc),Fe(n),Fe(r),Fe(g),p,Fe(w),Fe(o),Fe(a),i),Te(function(x){return x[0]&&!x[1]}),re(function(x){var k=x[2],C=k[0],D=k[1],T=x[3],A=x[5],R=x[6],M=x[7],j=x[8],I=x[9],L=x[10],O=x[4],$=O.sizeTree,q=O.offsetTree;if(T===0||C===0&&D===0)return we({},oA,{totalCount:T});if(mt($))return Bp(function(Ze,et,We){if($p(et)){var Ke=XO(Ze,et);return[{index:Xn(et.groupOffsetTree,Ke)[0],size:0,offset:0},{index:Ke,size:0,offset:0,data:We&&We[0]}]}return[{index:Ze,size:0,offset:0,data:We&&We[0]}]}(function(Ze,et){return typeof Ze=="number"?Ze:Ze.index==="LAST"?et-1:Ze.index}(A,T),O,L),[],T,I,O,j);var V=[];if(M.length>0)for(var U,K=M[0],fe=M[M.length-1],ve=0,se=qa(Np($,K,fe));!(U=se()).done;)for(var ye=U.value,Xe=ye.value,Le=Math.max(ye.start,K),bt=Math.min(ye.end,fe),je=Le;je<=bt;je++)V.push({index:je,size:Xe,offset:ve,data:L&&L[je]}),ve+=Xe;if(!R)return Bp([],V,T,I,O,j);var Se=M.length>0?M[M.length-1]+1:0,wt=function(Ze,et,We,Ke){return Ke===void 0&&(Ke=0),Ke>0&&(et=Math.max(et,QO(Ze,Ke,k_).offset)),KO((xt=We,lt=Lp(Tt=Ze,et,tt=HH),Qt=Lp(Tt,xt,tt,lt),Tt.slice(lt,Qt+1)),WH);var Tt,xt,tt,lt,Qt}(q,C,D,Se);if(wt.length===0)return null;var br=T-1;return Bp(ml([],function(Ze){for(var et,We=qa(wt);!(et=We()).done;){var Ke=et.value,Tt=Ke.value,xt=Tt.offset,tt=Ke.start,lt=Tt.size;if(Tt.offset<C){var Qt=(tt+=Math.floor((C-Tt.offset+I)/(lt+I)))-Ke.start;xt+=Qt*lt+Qt*I}tt<Se&&(xt+=(Se-tt)*lt,tt=Se);for(var Pr=Math.min(Ke.end,br),tr=tt;tr<=Pr&&!(xt>=D);tr++)Ze.push({index:tr,size:lt,offset:xt,data:L&&L[tr]}),xt+=lt+I}}),V,T,I,O,j)}),Te(function(x){return x!==null}),_t()),oA);return ce(G(i,Te(function(x){return x!==void 0}),re(function(x){return x.length})),n),ce(G(S,re(function(x){return x.topListHeight})),m),ce(m,f),ce(G(S,re(function(x){return[x.top,x.bottom]})),c),ce(G(S,re(function(x){return x.items})),_),we({listState:S,topItemsIndexes:w,endReached:Nr(G(S,Te(function(x){return x.items.length>0}),Me(n,i),Te(function(x){var k=x[0].items;return k[k.length-1].originalIndex===x[1]-1}),re(function(x){return[x[1]-1,x[2]]}),_t(xc),re(function(x){return x[0]}))),startReached:Nr(G(S,Ba(200),Te(function(x){var k=x.items;return k.length>0&&k[0].originalIndex===x.topItems.length}),re(function(x){return x.items[0].index}),_t())),rangeChanged:Nr(G(S,Te(function(x){return x.items.length>0}),re(function(x){for(var k=x.items,C=0,D=k.length-1;k[C].type==="group"&&C<D;)C++;for(;k[D].type==="group"&&D>C;)D--;return{startIndex:k[C].index,endIndex:k[D].index}}),_t(rA))),itemsRendered:_},v)},ht(Ui,tA,D_,C_,_c,wc,Va,E_),{singleton:!0}),ZH=ze(function(t){var e=t[0],r=e.sizes,n=e.firstItemIndex,i=e.data,o=e.gap,a=t[1].listState,s=t[2].didMount,l=X(0);return ce(G(s,Me(l),Te(function(u){return u[1]!==0}),Me(r,n,o,i),re(function(u){var c=u[0][1],f=u[1],d=u[2],p=u[3],g=u[4],m=g===void 0?[]:g,v=0;if(f.groupIndices.length>0)for(var b,E=qa(f.groupIndices);!((b=E()).done||b.value-v>=c);)v++;var w=c+v;return Bp(Array.from({length:w}).map(function(_,S){return{index:S,size:0,offset:0,data:m[S]}}),[],w,p,f,d)})),a),{initialItemCount:l}},ht(Ui,yl,Va),{singleton:!0}),sA=ze(function(t){var e=t[0].scrollVelocity,r=X(!1),n=pe(),i=X(!1);return ce(G(e,Me(i,r,n),Te(function(o){return!!o[1]}),re(function(o){var a=o[0],s=o[1],l=o[2],u=o[3],c=s.enter;if(l){if((0,s.exit)(a,u))return!1}else if(c(a,u))return!0;return l}),_t()),r),Be(G(lr(r,e,n),Me(i)),function(o){var a=o[0],s=o[1];return a[0]&&s&&s.change&&s.change(a[1],a[2])}),{isSeeking:r,scrollSeekConfiguration:i,scrollVelocity:e,scrollSeekRangeChanged:n}},ht(wc),{singleton:!0}),e3=ze(function(t){var e=t[0].topItemsIndexes,r=X(0);return ce(G(r,Te(function(n){return n>0}),re(function(n){return Array.from({length:n}).map(function(i,o){return o})})),e),{topItemCount:r}},ht(yl)),T_=ze(function(t){var e=t[0],r=e.footerHeight,n=e.headerHeight,i=e.fixedHeaderHeight,o=e.fixedFooterHeight,a=t[1].listState,s=pe(),l=vr(G(lr(r,o,n,i,a),re(function(u){var c=u[4];return u[0]+u[1]+u[2]+u[3]+c.offsetBottom+c.bottom})),0);return ce(Fe(l),s),{totalListHeight:l,totalListHeightChanged:s}},ht(Lr,yl),{singleton:!0});function lA(t){var e,r=!1;return function(){return r||(r=!0,e=t()),e}}var t3=lA(function(){return/iP(ad|hone|od).+Version\/[\d.]+.*Safari/i.test(navigator.userAgent)}),r3=ze(function(t){var e=t[0],r=e.scrollBy,n=e.scrollTop,i=e.deviation,o=e.scrollingInProgress,a=t[1],s=a.isScrolling,l=a.isAtBottom,u=a.scrollDirection,c=t[3],f=c.beforeUnshiftWith,d=c.shiftWithOffset,p=c.sizes,g=c.gap,m=t[4].log,v=t[5].recalcInProgress,b=Nr(G(t[2].listState,Me(a.lastJumpDueToItemResize),Jn(function(w,_){var S=w[1],x=_[0],k=x.items,C=x.totalCount,D=x.bottom+x.offsetBottom,T=0;return w[2]===C&&S.length>0&&k.length>0&&(k[0].originalIndex===0&&S[0].originalIndex===0||(T=D-w[3])!=0&&(T+=_[1])),[T,k,C,D]},[0,[],0,0]),Te(function(w){return w[0]!==0}),Me(n,u,o,l,m),Te(function(w){return!w[3]&&w[1]!==0&&w[2]===bc}),re(function(w){var _=w[0][0];return(0,w[5])("Upward scrolling compensation",{amount:_},Vt.DEBUG),_})));function E(w){w>0?(Ue(r,{top:-w,behavior:"auto"}),Ue(i,0)):(Ue(i,0),Ue(r,{top:-w,behavior:"auto"}))}return Be(G(b,Me(i,s)),function(w){var _=w[0],S=w[1];w[2]&&t3()?Ue(i,S-_):E(-_)}),Be(G(lr(vr(s,!1),i,v),Te(function(w){return!w[0]&&!w[2]&&w[1]!==0}),re(function(w){return w[1]}),Ba(1)),E),ce(G(d,re(function(w){return{top:-w}})),r),Be(G(f,Me(p,g),re(function(w){var _=w[0];return _*w[1].lastSize+_*w[2]})),function(w){Ue(i,w),requestAnimationFrame(function(){Ue(r,{top:w}),requestAnimationFrame(function(){Ue(i,0),Ue(v,!1)})})}),{deviation:i}},ht(Lr,wc,yl,Ui,No,E_)),n3=ze(function(t){var e=t[0].totalListHeight,r=t[1].didMount,n=t[2].scrollTo,i=X(0);return Be(G(r,Me(i),Te(function(o){return o[1]!==0}),re(function(o){return{top:o[1]}})),function(o){Ro(G(e,Te(function(a){return a!==0})),function(){setTimeout(function(){Ue(n,o)})})}),{initialScrollTop:i}},ht(T_,Va,Lr),{singleton:!0}),i3=ze(function(t){var e=t[0].viewportHeight,r=t[1].totalListHeight,n=X(!1);return{alignToBottom:n,paddingTopAddition:vr(G(lr(n,e,r),Te(function(i){return i[0]}),re(function(i){return Math.max(0,i[1]-i[2])}),_t()),0)}},ht(Lr,T_),{singleton:!0}),uA=ze(function(t){var e=t[0],r=e.scrollTo,n=e.scrollContainerState,i=pe(),o=pe(),a=pe(),s=X(!1),l=X(void 0);return ce(G(lr(i,o),re(function(u){var c=u[0],f=c.viewportHeight,d=c.scrollHeight;return{scrollTop:Math.max(0,c.scrollTop-u[1].offsetTop),scrollHeight:d,viewportHeight:f}})),n),ce(G(r,Me(o),re(function(u){var c=u[0];return we({},c,{top:c.top+u[1].offsetTop})})),a),{useWindowScroll:s,customScrollParent:l,windowScrollContainerState:i,windowViewportRect:o,windowScrollTo:a}},ht(Lr)),o3=["done","behavior","align"],a3=ze(function(t){var e=t[0],r=e.sizes,n=e.totalCount,i=e.gap,o=t[1],a=o.scrollTop,s=o.viewportHeight,l=o.headerHeight,u=o.fixedHeaderHeight,c=o.fixedFooterHeight,f=o.scrollingInProgress,d=t[2].scrollToIndex,p=pe();return ce(G(p,Me(r,s,n,l,u,c,a),Me(i),re(function(g){var m=g[0],v=m[0],b=m[1],E=m[2],w=m[3],_=m[4],S=m[5],x=m[6],k=m[7],C=g[1],D=v.done,T=v.behavior,A=v.align,R=gl(v,o3),M=null,j=JO(v,b,w-1),I=vc(j,b.offsetTree,C)+_+S;return I<k+S?M=we({},R,{behavior:T,align:A??"start"}):I+Xn(b.sizeTree,j)[1]>k+E-x&&(M=we({},R,{behavior:T,align:A??"end"})),M?D&&Ro(G(f,hc(1),Te(function(L){return L===!1})),D):D&&D(),M}),Te(function(g){return g!==null})),d),{scrollIntoView:p}},ht(Ui,Lr,_c,yl,No),{singleton:!0}),s3=["listState","topItemsIndexes"],l3=ze(function(t){return we({},t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ht(D_,ZH,Va,sA,T_,n3,i3,uA,a3)),cA=ze(function(t){var e=t[0],r=e.totalCount,n=e.sizeRanges,i=e.fixedItemSize,o=e.defaultItemSize,a=e.trackItemSizes,s=e.itemSize,l=e.data,u=e.firstItemIndex,c=e.groupIndices,f=e.statefulTotalCount,d=e.gap,p=t[1],g=p.initialTopMostItemIndex,m=p.scrolledToInitialItem,v=t[2],b=t[3],E=t[4],w=E.listState,_=E.topItemsIndexes,S=gl(E,s3),x=t[5].scrollToIndex,k=t[7].topItemCount,C=t[8].groupCounts,D=t[9],T=t[10];return ce(S.rangeChanged,D.scrollSeekRangeChanged),ce(G(D.windowViewportRect,re(function(A){return A.visibleHeight})),v.viewportHeight),we({totalCount:r,data:l,firstItemIndex:u,sizeRanges:n,initialTopMostItemIndex:g,scrolledToInitialItem:m,topItemsIndexes:_,topItemCount:k,groupCounts:C,fixedItemHeight:i,defaultItemHeight:o,gap:d},b,{statefulTotalCount:f,listState:w,scrollToIndex:x,trackItemSizes:a,itemSize:s,groupIndices:c},S,D,v,T)},ht(Ui,C_,Lr,JH,yl,_c,r3,e3,tA,l3,No)),fA=lA(function(){if(typeof document=="undefined")return"sticky";var t=document.createElement("div");return t.style.position="-webkit-sticky",t.style.position==="-webkit-sticky"?"-webkit-sticky":"sticky"});function O_(t,e){var r=ft(null),n=Wi(function(l){if(l!==null&&l.offsetParent){var u,c,f=l.getBoundingClientRect(),d=f.width;if(e){var p=e.getBoundingClientRect(),g=f.top-p.top;u=p.height-Math.max(0,g),c=g+e.scrollTop}else u=window.innerHeight-Math.max(0,f.top),c=f.top+window.pageYOffset;r.current={offsetTop:c,visibleHeight:u,visibleWidth:d},t(r.current)}},[t,e]),i=y_(n),o=i.callbackRef,a=i.ref,s=Wi(function(){n(a.current)},[n,a]);return me(function(){if(e){e.addEventListener("scroll",s);var l=new ResizeObserver(s);return l.observe(e),function(){e.removeEventListener("scroll",s),l.unobserve(e)}}return window.addEventListener("scroll",s),window.addEventListener("resize",s),function(){window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[s,e]),o}var qp=rr(void 0),u3=["placeholder"],c3=["style","children"],f3=["style","children"];function A_(t){return t}var d3=ze(function(){var t=X(function(l){return"Item "+l}),e=X(null),r=X(function(l){return"Group "+l}),n=X({}),i=X(A_),o=X("div"),a=X(jo),s=function(l,u){return u===void 0&&(u=null),vr(G(n,re(function(c){return c[l]}),_t()),u)};return{context:e,itemContent:t,groupContent:r,components:n,computeItemKey:i,headerFooterTag:o,scrollerRef:a,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}});function vl(t,e){var r=pe();return Be(r,function(){return console.warn("react-virtuoso: You are using a deprecated property. "+e,"color: red;","color: inherit;","color: blue;")}),ce(r,t),r}var p3=ze(function(t){var e=t[0],r=t[1],n={item:vl(r.itemContent,"Rename the %citem%c prop to %citemContent."),group:vl(r.groupContent,"Rename the %cgroup%c prop to %cgroupContent."),topItems:vl(e.topItemCount,"Rename the %ctopItems%c prop to %ctopItemCount."),itemHeight:vl(e.fixedItemHeight,"Rename the %citemHeight%c prop to %cfixedItemHeight."),scrollingStateChange:vl(e.isScrolling,"Rename the %cscrollingStateChange%c prop to %cisScrolling."),adjustForPrependedItems:pe(),maxHeightCacheSize:pe(),footer:pe(),header:pe(),HeaderContainer:pe(),FooterContainer:pe(),ItemContainer:pe(),ScrollContainer:pe(),GroupContainer:pe(),ListContainer:pe(),emptyComponent:pe(),scrollSeek:pe()};function i(o,a,s){ce(G(o,Me(r.components),re(function(l){var u,c=l[0],f=l[1];return console.warn("react-virtuoso: "+s+" property is deprecated. Pass components."+a+" instead."),we({},f,((u={})[a]=c,u))})),r.components)}return Be(n.adjustForPrependedItems,function(){console.warn("react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https://virtuoso.dev/prepend-items.","color: red;","color: inherit;","color: blue;")}),Be(n.maxHeightCacheSize,function(){console.warn("react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.")}),Be(n.HeaderContainer,function(){console.warn("react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.")}),Be(n.FooterContainer,function(){console.warn("react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.")}),Be(n.scrollSeek,function(o){var a=o.placeholder,s=gl(o,u3);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),Ue(r.components,we({},cn(r.components),{ScrollSeekPlaceholder:a})),Ue(e.scrollSeekConfiguration,s)}),i(n.footer,"Footer","footer"),i(n.header,"Header","header"),i(n.ItemContainer,"Item","ItemContainer"),i(n.ListContainer,"List","ListContainer"),i(n.ScrollContainer,"Scroller","ScrollContainer"),i(n.emptyComponent,"EmptyPlaceholder","emptyComponent"),i(n.GroupContainer,"Group","GroupContainer"),we({},e,r,n)},ht(cA,d3)),h3=function(t){return h("div",{style:{height:t.height}})},m3={position:fA(),zIndex:1,overflowAnchor:"none"},g3={overflowAnchor:"none"},dA=Qr(function(t){var e=t.showTopList,r=e!==void 0&&e,n=qe("listState"),i=fn("sizeRanges"),o=qe("useWindowScroll"),a=qe("customScrollParent"),s=fn("windowScrollContainerState"),l=fn("scrollContainerState"),u=a||o?s:l,c=qe("itemContent"),f=qe("context"),d=qe("groupContent"),p=qe("trackItemSizes"),g=qe("itemSize"),m=qe("log"),v=fn("gap"),b=qO(i,g,p,r?jo:u,m,v,a).callbackRef,E=Oe(0),w=E[0],_=E[1];M_("deviation",function(I){w!==I&&_(I)});var S=qe("EmptyPlaceholder"),x=qe("ScrollSeekPlaceholder")||h3,k=qe("ListComponent"),C=qe("ItemComponent"),D=qe("GroupComponent"),T=qe("computeItemKey"),A=qe("isSeeking"),R=qe("groupIndices").length>0,M=qe("paddingTopAddition"),j=r?{}:{boxSizing:"border-box",paddingTop:n.offsetTop+M,paddingBottom:n.offsetBottom,marginTop:w};return!r&&n.totalCount===0&&S?h(S,Gt(S,f)):h(k,we({},Gt(k,f),{ref:b,style:j,"data-test-id":r?"virtuoso-top-item-list":"virtuoso-item-list"}),(r?n.topItems:n.items).map(function(I){var L=I.originalIndex,O=T(L+n.firstItemIndex,I.data,f);return A?h(x,we({},Gt(x,f),{key:O,index:I.index,height:I.size,type:I.type||"item"},I.type==="group"?{}:{groupIndex:I.groupIndex})):I.type==="group"?h(D,we({},Gt(D,f),{key:O,"data-index":L,"data-known-size":I.size,"data-item-index":I.index,style:m3}),d(I.index)):h(C,we({},Gt(C,f),{key:O,"data-index":L,"data-known-size":I.size,"data-item-index":I.index,"data-item-group-index":I.groupIndex,style:g3}),R?c(I.index,I.groupIndex,I.data,f):c(I.index,I.data,f))}))}),y3={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},_l={width:"100%",height:"100%",position:"absolute",top:0},v3={width:"100%",position:fA(),top:0};function Gt(t,e){if(typeof t!="string")return{context:e}}var _3=Qr(function(){var t=qe("HeaderComponent"),e=fn("headerHeight"),r=qe("headerFooterTag"),n=Lo(function(o){return e(Vi(o,"height"))}),i=qe("context");return t?h(r,{ref:n},h(t,Gt(t,i))):null}),b3=Qr(function(){var t=qe("FooterComponent"),e=fn("footerHeight"),r=qe("headerFooterTag"),n=Lo(function(o){return e(Vi(o,"height"))}),i=qe("context");return t?h(r,{ref:n},h(t,Gt(t,i))):null});function I_(t){var e=t.usePublisher,r=t.useEmitter,n=t.useEmitterValue;return Qr(function(i){var o=i.style,a=i.children,s=gl(i,c3),l=e("scrollContainerState"),u=n("ScrollerComponent"),c=e("smoothScrollTargetReached"),f=n("scrollerRef"),d=n("context"),p=UO(l,c,u,f),g=p.scrollerRef,m=p.scrollByCallback;return r("scrollTo",p.scrollToCallback),r("scrollBy",m),h(u,we({ref:g,style:we({},y3,o),"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},s,Gt(u,d)),a)})}function P_(t){var e=t.usePublisher,r=t.useEmitter,n=t.useEmitterValue;return Qr(function(i){var o=i.style,a=i.children,s=gl(i,f3),l=e("windowScrollContainerState"),u=n("ScrollerComponent"),c=e("smoothScrollTargetReached"),f=n("totalListHeight"),d=n("deviation"),p=n("customScrollParent"),g=n("context"),m=UO(l,c,u,jo,p),v=m.scrollerRef,b=m.scrollByCallback,E=m.scrollToCallback;return VH(function(){return v.current=p||window,function(){v.current=null}},[v,p]),r("windowScrollTo",E),r("scrollBy",b),h(u,we({style:we({position:"relative"},o,f!==0?{height:f+d}:{}),"data-virtuoso-scroller":!0},s,Gt(u,g)),a)})}var w3=function(t){var e=t.children,r=rt(qp),n=fn("viewportHeight"),i=fn("fixedItemHeight"),o=Lo(hl(n,function(a){return Vi(a,"height")}));return me(function(){r&&(n(r.viewportHeight),i(r.itemHeight))},[r,n,i]),h("div",{style:_l,ref:o,"data-viewport-type":"element"},e)},x3=function(t){var e=t.children,r=rt(qp),n=fn("windowViewportRect"),i=fn("fixedItemHeight"),o=qe("customScrollParent"),a=O_(n,o);return me(function(){r&&(i(r.itemHeight),n({offsetTop:0,visibleHeight:r.viewportHeight,visibleWidth:100}))},[r,n,i]),h("div",{ref:a,style:_l,"data-viewport-type":"window"},e)},S3=function(t){var e=t.children,r=qe("TopItemListComponent"),n=qe("headerHeight"),i=we({},v3,{marginTop:n+"px"}),o=qe("context");return h(r||"div",{style:i,context:o},e)},Vp=jp(p3,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering",item:"item",group:"group",topItems:"topItems",itemHeight:"itemHeight",scrollingStateChange:"scrollingStateChange",maxHeightCacheSize:"maxHeightCacheSize",footer:"footer",header:"header",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",GroupContainer:"GroupContainer",emptyComponent:"emptyComponent",HeaderContainer:"HeaderContainer",FooterContainer:"FooterContainer",scrollSeek:"scrollSeek"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",adjustForPrependedItems:"adjustForPrependedItems",autoscrollToBottom:"autoscrollToBottom"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Qr(function(t){var e=qe("useWindowScroll"),r=qe("topItemsIndexes").length>0,n=qe("customScrollParent"),i=n||e?x3:w3;return h(n||e?C3:k3,we({},t),h(i,null,h(_3,null),h(dA,null),h(b3,null)),r&&h(S3,null,h(dA,{showTopList:!0})))})),E3=Vp.Component,fn=Vp.usePublisher,qe=Vp.useEmitterValue,M_=Vp.useEmitter,k3=I_({usePublisher:fn,useEmitterValue:qe,useEmitter:M_}),C3=P_({usePublisher:fn,useEmitterValue:qe,useEmitter:M_}),pA={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},D3={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},hA=Math.round,mA=Math.ceil,F_=Math.floor,j_=Math.min,Sc=Math.max;function gA(t,e){return Array.from({length:e-t+1}).map(function(r,n){return{index:n+t}})}function T3(t,e){return t&&t.column===e.column&&t.row===e.row}var O3=ze(function(t){var e=t[0],r=e.overscan,n=e.visibleRange,i=e.listBoundary,o=t[1],a=o.scrollTop,s=o.viewportHeight,l=o.scrollBy,u=o.scrollTo,c=o.smoothScrollTargetReached,f=o.scrollContainerState,d=t[2],p=t[3],g=t[4],m=g.propsReady,v=g.didMount,b=t[5],E=b.windowViewportRect,w=b.windowScrollTo,_=b.useWindowScroll,S=b.customScrollParent,x=b.windowScrollContainerState,k=t[6],C=X(0),D=X(0),T=X(pA),A=X({height:0,width:0}),R=X({height:0,width:0}),M=pe(),j=pe(),I=X(0),L=X({row:0,column:0});ce(G(v,Me(D),Te(function(U){return U[1]!==0}),re(function(U){return{items:gA(0,U[1]-1),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}})),T),ce(G(lr(Fe(C),n,Fe(L,T3),Fe(R,function(U,K){return U&&U.width===K.width&&U.height===K.height})),Me(A),re(function(U){var K=U[0],fe=K[0],ve=K[1],se=ve[0],ye=ve[1],Xe=K[2],Le=K[3],bt=U[1],je=Xe.row,Se=Le.height,wt=Le.width,br=bt.width;if(fe===0||br===0)return pA;if(wt===0)return D3;var Ze=vA(br,wt,Xe.column),et=Ze*F_((se+je)/(Se+je)),We=Ze*mA((ye+je)/(Se+je))-1;We=Sc(0,j_(fe-1,We));var Ke=gA(et=j_(We,Sc(0,et)),We),Tt=yA(bt,Xe,Le,Ke),xt=Tt.top,tt=Tt.bottom,lt=mA(fe/Ze);return{items:Ke,offsetTop:xt,offsetBottom:lt*Se+(lt-1)*je-tt,top:xt,bottom:tt,itemHeight:Se,itemWidth:wt}})),T),ce(G(A,re(function(U){return U.height})),s),ce(G(lr(A,R,T,L),re(function(U){var K=yA(U[0],U[3],U[1],U[2].items);return[K.top,K.bottom]}),_t(xc)),i);var O=Nr(G(Fe(T),Te(function(U){return U.items.length>0}),Me(C),Te(function(U){var K=U[0].items;return K[K.length-1].index===U[1]-1}),re(function(U){return U[1]-1}),_t())),$=Nr(G(Fe(T),Te(function(U){var K=U.items;return K.length>0&&K[0].index===0}),qi(0),_t())),q=Nr(G(Fe(T),Te(function(U){return U.items.length>0}),re(function(U){var K=U.items;return{startIndex:K[0].index,endIndex:K[K.length-1].index}}),_t(rA)));ce(q,p.scrollSeekRangeChanged),ce(G(M,Me(A,R,C,L),re(function(U){var K=U[1],fe=U[2],ve=U[3],se=U[4],ye=ZO(U[0]),Xe=ye.align,Le=ye.behavior,bt=ye.offset,je=ye.index;je==="LAST"&&(je=ve-1);var Se=R_(K,se,fe,je=Sc(0,je,j_(ve-1,je)));return Xe==="end"?Se=hA(Se-K.height+fe.height):Xe==="center"&&(Se=hA(Se-K.height/2+fe.height/2)),bt&&(Se+=bt),{top:Se,behavior:Le}})),u);var V=vr(G(T,re(function(U){return U.offsetBottom+U.bottom})),0);return ce(G(E,re(function(U){return{width:U.visibleWidth,height:U.visibleHeight}})),A),we({totalCount:C,viewportDimensions:A,itemDimensions:R,scrollTop:a,scrollHeight:j,overscan:r,scrollBy:l,scrollTo:u,scrollToIndex:M,smoothScrollTargetReached:c,windowViewportRect:E,windowScrollTo:w,useWindowScroll:_,customScrollParent:S,windowScrollContainerState:x,deviation:I,scrollContainerState:f,initialItemCount:D,gap:L},p,{gridState:T,totalListHeight:V},d,{startReached:$,endReached:O,rangeChanged:q,propsReady:m},k)},ht(D_,Lr,wc,sA,Va,uA,No));function yA(t,e,r,n){var i=r.height;return i===void 0||n.length===0?{top:0,bottom:0}:{top:R_(t,e,r,n[0].index),bottom:R_(t,e,r,n[n.length-1].index)+i}}function R_(t,e,r,n){var i=vA(t.width,r.width,e.column),o=F_(n/i),a=o*r.height+Sc(0,o-1)*e.row;return a>0?a+e.row:a}function vA(t,e,r){return Sc(1,F_((t+r)/(e+r)))}var A3=["placeholder"],I3=ze(function(){var t=X(function(l){return"Item "+l}),e=X({}),r=X(null),n=X("virtuoso-grid-item"),i=X("virtuoso-grid-list"),o=X(A_),a=X(jo),s=function(l,u){return u===void 0&&(u=null),vr(G(e,re(function(c){return c[l]}),_t()),u)};return{context:r,itemContent:t,components:e,computeItemKey:o,itemClassName:n,listClassName:i,scrollerRef:a,ListComponent:s("List","div"),ItemComponent:s("Item","div"),ScrollerComponent:s("Scroller","div"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder","div")}}),P3=ze(function(t){var e=t[0],r=t[1],n={item:vl(r.itemContent,"Rename the %citem%c prop to %citemContent."),ItemContainer:pe(),ScrollContainer:pe(),ListContainer:pe(),emptyComponent:pe(),scrollSeek:pe()};function i(o,a,s){ce(G(o,Me(r.components),re(function(l){var u,c=l[0],f=l[1];return console.warn("react-virtuoso: "+s+" property is deprecated. Pass components."+a+" instead."),we({},f,((u={})[a]=c,u))})),r.components)}return Be(n.scrollSeek,function(o){var a=o.placeholder,s=gl(o,A3);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),Ue(r.components,we({},cn(r.components),{ScrollSeekPlaceholder:a})),Ue(e.scrollSeekConfiguration,s)}),i(n.ItemContainer,"Item","ItemContainer"),i(n.ListContainer,"List","ListContainer"),i(n.ScrollContainer,"Scroller","ScrollContainer"),we({},e,r,n)},ht(O3,I3)),M3=Qr(function(){var t=_r("gridState"),e=_r("listClassName"),r=_r("itemClassName"),n=_r("itemContent"),i=_r("computeItemKey"),o=_r("isSeeking"),a=Ua("scrollHeight"),s=_r("ItemComponent"),l=_r("ListComponent"),u=_r("ScrollSeekPlaceholder"),c=_r("context"),f=Ua("itemDimensions"),d=Ua("gap"),p=_r("log"),g=Lo(function(m){a(m.parentElement.parentElement.scrollHeight);var v=m.firstChild;v&&f(v.getBoundingClientRect()),d({row:bA("row-gap",getComputedStyle(m).rowGap,p),column:bA("column-gap",getComputedStyle(m).columnGap,p)})});return h(l,we({ref:g,className:e},Gt(l,c),{style:{paddingTop:t.offsetTop,paddingBottom:t.offsetBottom}}),t.items.map(function(m){var v=i(m.index);return o?h(u,we({key:v},Gt(u,c),{index:m.index,height:t.itemHeight,width:t.itemWidth})):h(s,we({},Gt(s,c),{className:r,"data-index":m.index,key:v}),n(m.index,c))}))}),F3=function(t){var e=t.children,r=Ua("viewportDimensions"),n=Lo(function(i){r(i.getBoundingClientRect())});return h("div",{style:_l,ref:n},e)},j3=function(t){var e=t.children,r=O_(Ua("windowViewportRect"),_r("customScrollParent"));return h("div",{ref:r,style:_l},e)},Up=jp(P3,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",item:"item",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",scrollSeek:"scrollSeek"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},Qr(function(t){var e=we({},t),r=_r("useWindowScroll"),n=_r("customScrollParent"),i=n||r?j3:F3;return h(n||r?N3:R3,we({},e),h(i,null,h(M3,null)))})),Xle=Up.Component,Ua=Up.usePublisher,_r=Up.useEmitterValue,_A=Up.useEmitter,R3=I_({usePublisher:Ua,useEmitterValue:_r,useEmitter:_A}),N3=P_({usePublisher:Ua,useEmitterValue:_r,useEmitter:_A});function bA(t,e,r){return e==="normal"||e!=null&&e.endsWith("px")||r(t+" was not resolved to pixel value correctly",e,Vt.WARN),e==="normal"?0:parseInt(e??"0",10)}var L3=ze(function(){var t=X(function(l){return h("td",null,"Item $",l)}),e=X(null),r=X(null),n=X(null),i=X({}),o=X(A_),a=X(jo),s=function(l,u){return u===void 0&&(u=null),vr(G(i,re(function(c){return c[l]}),_t()),u)};return{context:e,itemContent:t,fixedHeaderContent:r,fixedFooterContent:n,components:i,computeItemKey:o,scrollerRef:a,TableComponent:s("Table","table"),TableHeadComponent:s("TableHead","thead"),TableFooterComponent:s("TableFoot","tfoot"),TableBodyComponent:s("TableBody","tbody"),TableRowComponent:s("TableRow","tr"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder"),FillerRow:s("FillerRow")}}),$3=ze(function(t){return we({},t[0],t[1])},ht(cA,L3)),B3=function(t){return h("tr",null,h("td",{style:{height:t.height}}))},q3=function(t){return h("tr",null,h("td",{style:{height:t.height,padding:0,border:0}}))},V3=Qr(function(){var t=Je("listState"),e=An("sizeRanges"),r=Je("useWindowScroll"),n=Je("customScrollParent"),i=An("windowScrollContainerState"),o=An("scrollContainerState"),a=n||r?i:o,s=Je("itemContent"),l=Je("trackItemSizes"),u=qO(e,Je("itemSize"),l,a,Je("log"),void 0,n),c=u.callbackRef,f=u.ref,d=Oe(0),p=d[0],g=d[1];N_("deviation",function(I){p!==I&&(f.current.style.marginTop=I+"px",g(I))});var m=Je("EmptyPlaceholder"),v=Je("ScrollSeekPlaceholder")||B3,b=Je("FillerRow")||q3,E=Je("TableBodyComponent"),w=Je("TableRowComponent"),_=Je("computeItemKey"),S=Je("isSeeking"),x=Je("paddingTopAddition"),k=Je("firstItemIndex"),C=Je("statefulTotalCount"),D=Je("context");if(C===0&&m)return h(m,Gt(m,D));var T=t.offsetTop+x+p,A=t.offsetBottom,R=T>0?h(b,{height:T,key:"padding-top"}):null,M=A>0?h(b,{height:A,key:"padding-bottom"}):null,j=t.items.map(function(I){var L=I.originalIndex,O=_(L+k,I.data,D);return S?h(v,we({},Gt(v,D),{key:O,index:I.index,height:I.size,type:I.type||"item"})):h(w,we({},Gt(w,D),{key:O,"data-index":L,"data-known-size":I.size,"data-item-index":I.index,style:{overflowAnchor:"none"}}),s(I.index,I.data,D))});return h(E,we({ref:c,"data-test-id":"virtuoso-item-list"},Gt(E,D)),[R].concat(j,[M]))}),U3=function(t){var e=t.children,r=rt(qp),n=An("viewportHeight"),i=An("fixedItemHeight"),o=Lo(hl(n,function(a){return Vi(a,"height")}));return me(function(){r&&(n(r.viewportHeight),i(r.itemHeight))},[r,n,i]),h("div",{style:_l,ref:o,"data-viewport-type":"element"},e)},z3=function(t){var e=t.children,r=rt(qp),n=An("windowViewportRect"),i=An("fixedItemHeight"),o=Je("customScrollParent"),a=O_(n,o);return me(function(){r&&(i(r.itemHeight),n({offsetTop:0,visibleHeight:r.viewportHeight,visibleWidth:100}))},[r,n,i]),h("div",{ref:a,style:_l,"data-viewport-type":"window"},e)},zp=jp($3,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Qr(function(t){var e=Je("useWindowScroll"),r=Je("customScrollParent"),n=An("fixedHeaderHeight"),i=An("fixedFooterHeight"),o=Je("fixedHeaderContent"),a=Je("fixedFooterContent"),s=Je("context"),l=Lo(hl(n,function(b){return Vi(b,"height")})),u=Lo(hl(i,function(b){return Vi(b,"height")})),c=r||e?W3:H3,f=r||e?z3:U3,d=Je("TableComponent"),p=Je("TableHeadComponent"),g=Je("TableFooterComponent"),m=o?h(p,we({key:"TableHead",style:{zIndex:1,position:"sticky",top:0},ref:l},Gt(p,s)),o()):null,v=a?h(g,we({key:"TableFoot",style:{zIndex:1,position:"sticky",bottom:0},ref:u},Gt(g,s)),a()):null;return h(c,we({},t),h(f,null,h(d,we({style:{borderSpacing:0}},Gt(d,s)),[m,h(V3,{key:"TableBody"}),v])))})),Zle=zp.Component,An=zp.usePublisher,Je=zp.useEmitterValue,N_=zp.useEmitter,H3=I_({usePublisher:An,useEmitterValue:Je,useEmitter:N_}),W3=P_({usePublisher:An,useEmitterValue:Je,useEmitter:N_}),wA=E3;oi();var EA=$r(SA());y();var Q3=`._react-hint_1qhe8_1 {
	padding: 5px;
	position: absolute;
	z-index: 9999;
	cursor: default;
	animation: .5s _fadeIn_1qhe8_1;
}

._react-hint__content_1qhe8_9 {
	padding: 10px;
	border-radius: 5px;
	background: #000;
	color: #fff;
}

._react-hint_1qhe8_1:after {
	content: '';
	width: 0;
	height: 0;
	margin: auto;
	display: block;
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	border: 5px solid transparent;
}

._react-hint--top_1qhe8_30:after {
	top: auto;
	border-bottom: none;
	border-top-color: #000;
}

._react-hint--left_1qhe8_36:after {
	left: auto;
	border-right: none;
	border-left-color: #000;
}

._react-hint--right_1qhe8_42:after {
	right: auto;
	border-left: none;
	border-right-color: #000;
}

._react-hint--bottom_1qhe8_48:after {
	bottom: auto;
	border-top: none;
	border-bottom-color: #000;
}

@keyframes _fadeIn_1qhe8_1 {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}
`;document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode(Q3));y();var Y3=`._main_jqq6l_1 {
  flex: 1;
  position: relative;
}

._newMessagesButton_jqq6l_6 {
  position: absolute;
  top: var(--j-space-500);
  left: 50%;
  z-index: 10;
  transform: translateX(-50%);
}

._reactHint_jqq6l_14 {
  position: absolute;
  z-index: 99;
  font-size: var(--j-font-size-400);
  font-weight: 500;
  padding: var(--j-space-300) var(--j-space-300);
  background: var(--j-color-ui-800);
  color: var(--j-color-ui-200);
  border-radius: var(--j-border-radius);
  white-space: nowrap;
  z-index: 999;
  margin-left: 10px;
}

._arrow_jqq6l_28,
._arrow_jqq6l_28::before {
  position: absolute;
  width: 8px;
  height: 8px;
  background: var(--j-color-ui-800);
}

._arrow_jqq6l_28 {
  visibility: hidden;
}

._arrow_jqq6l_28::before {
  visibility: visible;
  content: "";
  transform: rotate(45deg);
  left: -12px;
  top: -14px;
}`;document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode(Y3));var kc={main:"_main_jqq6l_1",newMessagesButton:"_newMessagesButton_jqq6l_6",reactHint:"_reactHint_jqq6l_14",arrow:"_arrow_jqq6l_28"};var J3=(0,EA.default)({createElement:h,Component:cr,createRef:Tl});function $_({perspectiveUuid:t,mainRef:e,channelId:r}){let n=ft(document.createElement("emoji-picker")),[i,o]=Oe(!0),[a,s]=Oe(!1),l=ft(),{state:{messages:u,isFetchingMessages:c,scrollPosition:f,hasNewMessage:d,isMessageFromSelf:p,showLoadMore:g},methods:{loadMore:m,removeReaction:v,addReaction:b,saveScrollPos:E,setHasNewMessage:w,setIsMessageFromSelf:_}}=rt(fa);me(()=>{l.current&&u.length>0&&!a&&(f?l.current.scrollToIndex({index:f}):l.current.scrollToIndex({index:u.length}),s(!0))},[u,a,f]),me(()=>{if(i&&d){S();let T=new CustomEvent("hide-notification-indicator",{detail:{uuid:r},bubbles:!0});e?.dispatchEvent(T)}},[d,i]),me(()=>{if(p){S();let T=new CustomEvent("hide-notification-indicator",{detail:{uuid:r},bubbles:!0});e?.dispatchEvent(T)}},[p]),me(()=>{if(i){let T=new CustomEvent("hide-notification-indicator",{detail:{uuid:r},bubbles:!0});e?.dispatchEvent(T)}},[i]);function S(){l.current&&(l.current.scrollToIndex({index:u.length-1}),w(!1))}function x(T){let A=u[T-1],R=u[T];return!A||!R||A.author!==R.author?!0:A.author===R.author&&uo(Su(R.timestamp),Su(A.timestamp))>=2}function k(T,A){n.current.setAttribute("message-index",A.toString()),op(T.target,{content:n.current,trigger:"click",appendTo:document.body,interactive:!0,onShow:()=>{n.current.addEventListener("emoji-click",C)},onHide:()=>{n.current.removeEventListener("emoji-click",C)}}).show()}async function C(T){let R=T.detail.unicode.codePointAt(0).toString(16),M=T.target.getAttribute("message-index"),j=u[parseInt(M)],I=await Vn(),L=j.reactions.find(O=>O.author===I.did&&O.content===R);L?v({author:L.author,data:{predicate:qn,target:`emoji://${L.content}`,source:j.id},proof:{invalid:!1,key:"",signature:"",valid:!0},timestamp:L.timestamp}):b(j.id,R)}let D=({startIndex:T,endIndex:A})=>{typeof T=="number"&&a&&(E(T),_(!1))};return me(()=>{if(e&&t&&r){let T={root:document.querySelector(".sidebar-layout__main"),rootMargin:"0px",threshold:1},A=new IntersectionObserver(()=>{if(i){let R=new CustomEvent("hide-notification-indicator",{detail:{uuid:r},bubbles:!0});e?.dispatchEvent(R)}},T);e&&A.observe(e)}},[i,e,r,t]),h("main",{class:kc.main},d&&!i&&h("j-button",{class:kc.newMessagesButton,variant:"primary",onClick:S},"New messages"),h(wA,{components:{Header:()=>g?h("j-box",{py:"500"},h("j-flex",{a:"center",j:"center"},c?h("j-flex",{a:"center",gap:"300"},h("span",null,"Loading"),h("j-spinner",{size:"xxs"})):h("j-button",{size:"sm",onClick:m,variant:"subtle"},"Load more"))):h("j-box",{py:"500"},h("j-flex",{a:"center",j:"center"},h("j-text",null,"You have reached the end...")))},ref:l,alignToBottom:!0,startReached:()=>console.log("start reached"),atBottomStateChange:T=>{i!==T&&(T&&w(!1),o(T))},style:{height:"100%"},overscan:20,totalCount:u.length,rangeChanged:D,initialTopMostItemIndex:f||0,itemContent:T=>h(c_,{onOpenEmojiPicker:A=>k(A,T),showAvatar:x(T),index:T,mainRef:e,perspectiveUuid:t})}),h(J3,{position:"right",className:kc.reactHint,events:{hover:!0},onRenderContent:T=>h("div",null,h("span",null,T.dataset.timestamp),h("div",{class:kc.arrow}))}))}y();var X3=`._container_s87do_1 {
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}`;document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode(X3));var kA={container:"_container_s87do_1"};var Z3=({perspectiveUuid:t,channel:e})=>{let[r,n]=Oe(null);return h("div",{class:kA.container,ref:n},h($_,{perspectiveUuid:t,channelId:e,mainRef:r}),h(o_,null))},CA=({perspectiveUuid:t="",port:e="",channel:r=""})=>h(mE,null,h($g,null,h(Lg,{perspectiveUuid:t},h(Ng,{perspectiveUuid:t,channelId:r},h(Z3,{perspectiveUuid:t,channel:r})))));window.ResizeObserver||(window.ResizeObserver=ResizeObserver);customElements.get("emoji-picker")===void 0&&Promise.resolve().then(()=>(xI(),wI)).then(t=>{console.log("imported?")});var DK=Vc.toCustomElement(CA,["perspective-uuid","port","channel"],{shadow:!1}),Aue=DK;export{Aue as default};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=main.js.map
