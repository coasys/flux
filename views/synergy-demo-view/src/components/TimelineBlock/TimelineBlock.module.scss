.block {
  position: relative;
  display: flex;
  align-items: stretch;

  &.conversation {
    h1 {
      font-size: 26px;
      font-weight: 500;
      margin: 0;
    }

    .timestamp {
      left: -64px;
    }

    .position {
      .line,
      .node {
        z-index: 3;
        background-color: var(--j-color-primary-200);
      }
    }

    .content {
      margin-bottom: 60px;
      .children {
        .curveTop,
        .curveBottom {
          z-index: 2;
          color: var(--j-color-primary-400);
        }

        .expandButtonWrapper {
          .expandButton {
            border-left: 6px dotted var(--j-color-primary-400);
          }
        }

        .expandButtonPadding {
          border-left: 6px solid var(--j-color-primary-400);
        }
      }
    }
  }

  &.subgroup {
    h1 {
      font-size: 18px;
      font-weight: 500;
      margin: 0;
    }

    .timestamp {
      left: -96px;
    }

    .position {
      .line,
      .node {
        z-index: 2;
        background-color: var(--j-color-primary-400);
      }
    }

    .content {
      margin-bottom: 40px;
      .children {
        .curveTop,
        .curveBottom {
          z-index: 1;
          color: var(--j-color-primary-600);
        }

        .expandButtonWrapper {
          .expandButton {
            border-left: 6px dotted var(--j-color-primary-600);
          }
        }

        .expandButtonPadding {
          border-left: 6px solid var(--j-color-primary-600);
        }
      }
    }
  }

  &.item {
    .timestamp {
      left: -130px;
      top: 30px;
    }

    .position {
      .line,
      .node {
        background-color: var(--j-color-primary-600);
        z-index: 3;
      }

      .node {
        top: 30px;

        &.selected {
          top: 25px;
        }
      }
    }

    .content {
      margin-bottom: 20px;
    }
  }

  .button {
    all: unset;
    cursor: pointer;
    position: absolute;
    width: 100%;
    height: 100%;
  }

  .timestamp {
    width: 80px;
    flex-shrink: 0;
    color: var(--j-color-ui-500);
    font-size: 14px;
    position: absolute;
    top: 5px;
    text-align: end;
  }

  .position {
    position: relative;
    width: 30px;
    display: flex;
    justify-content: center;
    margin: 0 20px;
    flex-shrink: 0;
    pointer-events: none;

    .line {
      height: 100%;
      width: 6px;
      position: absolute;
    }

    .node {
      all: unset;
      cursor: pointer;
      position: absolute;
      top: 5px;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      transition: all 0.3s;

      &.selected {
        top: 15px;
        width: 34px;
        height: 34px;
      }
    }
  }

  .tag {
    all: unset;
    cursor: pointer;
    border-radius: 8px;
    height: 32px;
    padding: 0 8px;
    background-color: var(--j-color-ui-50);
    border: 1px solid var(--j-color-primary-500);
    color: var(--j-color-primary-500);
    display: flex;
    align-items: center;
    font-weight: 600;
    font-size: 14px;
    line-height: 14px;
    z-index: 5;
    transition: all 0.3s;

    &:hover {
      border: 1px solid var(--j-color-primary-700);
      color: var(--j-color-primary-700);
    }

    &.focus {
      border: 1px solid white;
      color: white;
    }

    &.vector {
      border: 1px solid var(--j-color-success-500);
      color: var(--j-color-success-500);

      &:hover {
        border: 1px solid var(--j-color-success-700);
        color: var(--j-color-success-700);
      }
    }
  }

  .itemText {
    p {
      margin: 0;
    }
  }

  .content {
    .card {
      word-break: break-word;
      width: 100%;

      .caret {
        all: unset;
        cursor: pointer;
        z-index: 2;
        display: flex;
        color: var(--j-color-ui-300);
        font-weight: 600;

        > svg {
          width: 20px;
          height: 20px;
          margin-right: 10px;
          flex-shrink: 0;
        }
      }

      .summary {
        color: var(--j-color-ui-600);
        font-style: italic;
        margin: 0 0 5px 0;
      }

      &.selected {
        border: 1px solid var(--j-color-ui-300);
        border-radius: var(--j-border-radius);
        padding: var(--j-space-400);
        background-color: var(--j-color-ui-100);
      }
    }

    .children {
      position: relative;
      padding: 20px 0;
      margin-left: -38px;

      .expandButtonWrapper {
        padding: 6px 0;
        margin-left: 6px;
        background-color: var(--app-channel-bg-color);
        z-index: 5;
        display: flex;
        position: relative;

        .expandButton {
          z-index: 5;
          position: relative;
          margin-left: 26px;
          padding-left: 32px;
          height: 50px;
          display: flex;
          align-items: center;
          background-color: var(--app-channel-bg-color);

          > j-button {
            > span {
              color: var(--j-color-ui-300);
              display: flex;

              > svg {
                width: 20px;
                height: 20px;
                margin-right: 7px;
              }
            }
          }
        }
      }

      .expandButtonPadding {
        height: 14px;
        margin-left: 32px;
      }

      .curveTop,
      .curveBottom {
        position: absolute;
      }

      .curveTop {
        top: -34px;
      }

      .curveBottom {
        bottom: -44px;
        transform: scale(-1, 1);
      }
    }
  }

  .itemCard {
    display: flex;
    margin-bottom: 20px;
    width: 100%;

    &.selected {
      border: 1px solid var(--j-color-ui-300);
      border-radius: var(--j-border-radius);
      padding: var(--j-space-400);
      background-color: var(--j-color-ui-100);
    }
  }
}
